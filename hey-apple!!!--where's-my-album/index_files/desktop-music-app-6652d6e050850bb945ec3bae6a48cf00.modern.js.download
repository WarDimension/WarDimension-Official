"use strict"
define("desktop-music-app/app",["exports","desktop-music-app/resolver","ember-load-initializers","desktop-music-app/config/environment","desktop-music-app/ext/link-to"],(function(e,t,i,r,n){function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends Ember.Application{constructor(...e){super(...e),o(this,"modulePrefix",r.default.modulePrefix),o(this,"podModulePrefix",r.default.podModulePrefix),o(this,"Resolver",t.default)}}(0,i.default)(l,r.default.modulePrefix)
var a=l
e.default=a})),define("desktop-music-app/breakpoints",["exports","desktop-music-app/config/environment","desktop-music-app/utils/breakpoints"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,i.createEmberResponsiveQueries)(t.default.APP.BREAKPOINTS)
e.default=r})),define("desktop-music-app/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/-dynamic-element-alt",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend()
e.default=t})),define("desktop-music-app/components/-dynamic-element",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend()
e.default=t})),define("desktop-music-app/components/amp-artwork/music",["exports","@amp/ember-ui-media-artwork/components/amp-artwork/music"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/basic-dropdown-content",["exports","ember-basic-dropdown/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/bidi-text",["exports","@amp/ember-ui-bidi-text/components/bidi-text"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/carrier-offer",["exports","@glimmer/component","desktop-music-app/utils/launch-client","desktop-music-app/config/environment"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"aB9ksywA",block:'[[[11,0],[24,0,"carrier-offer"],[4,[38,0],[[30,0,["launchNative"]]],null],[12],[1,"\\n    "],[8,[39,1],null,[["@model"],[[30,0,["carrierOfferSeoTags"]]]],null],[1,"\\n    "],[10,"img"],[14,"role","presentation"],[14,0,"carrier-offer__am-logo"],[15,"src",[29,[[30,0,["rootURL"]],"assets/logo/onboarding_appicon_fy2020-a73295f8bd8a992de61f052b44e84f49.png"]]],[14,"alt",""],[12],[13],[1,"\\n    "],[10,0],[15,0,[29,["carrier-offer__contents-container ",[52,[28,[37,3],null,null],"carrier-offer__contents-container--in-fastboot-visibility"]]]],[12],[1,"\\n"],[41,[30,0,["isAndroid"]],[[[1,"            "],[10,0],[14,0,"carrier-offer__panel"],[12],[1,"\\n                "],[10,2],[14,0,"typography-body-emphasized-tall"],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.Offer.Carrier.InstallNote"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[11,"button"],[24,0,"carrier-offer__download-app-cta action-button typography-body-semibold-tall"],[16,"aria-label",[28,[37,4],["AMWeb.getOnGooglePlay"],null]],[24,"tabindex","-1"],[16,"data-metrics-click",[28,[37,5],["linkToGooglePlay"],null]],[4,[38,6],["click",[30,0,["openOnGooglePlay"]]],null],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.getOnGooglePlay"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[11,"button"],[24,0,"typography-body carrier-offer__opener-cta"],[16,"data-metrics-click",[28,[37,5],["linkToLaunchApp"],null]],[4,[38,6],["click",[30,0,["launchApp"]]],null],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.Offer.Carrier.Installed"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"carrier-offer__panel carrier-offer__panel--outgoing"],[12],[1,"\\n                "],[10,2],[14,0,"typography-body-tall"],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.Offer.Carrier.Connecting"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"carrier-offer__panel carrier-offer__panel--incoming"],[12],[1,"\\n                "],[10,2],[14,0,"typography-body-tall"],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.Offer.Carrier.GenericSubtitle"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[11,"button"],[24,0,"carrier-offer__download-app-cta action-button typography-body-semibold-tall"],[16,"aria-label",[28,[37,4],["AMWeb.Offer.Carrier.DownloadLink.Text"],null]],[24,"tabindex","-1"],[16,"data-metrics-click",[28,[37,5],["linkToDownloadAppleMusic"],null]],[4,[38,6],["click",[30,0,["onDownloadAppleMusic"]]],null],[12],[1,"\\n                    "],[1,[28,[35,4],["AMWeb.Offer.Carrier.DownloadLink.Text"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n"],[13]],[],false,["did-insert","seo-tags","if","is-fastboot","t","metrics-json-data","on"]]',moduleName:"desktop-music-app/components/carrier-offer.hbs",isStrictMode:!1})
let h=(n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){var t,i,n
super(...e),m(this,"i18n",d,this),m(this,"platform",p,this),t=this,i="rootURL",n=r.default.rootURL,i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}get carrierOfferSeoTags(){return{title:this.i18n.t("AMWeb.Offer.ConnectingPageTitle")}}get isAndroid(){return this.platform.isAndroid}get supportsMusic(){return this.platform.isiOS||this.platform.isAtLeastMojavePlusOne}get downloadLink(){const{i18n:e}=this
return`<a href="${e.t("AMWeb.Offer.Carrier.DownloadLink.URL")}" class="link" target="_blank">${e.t("AMWeb.Offer.Carrier.DownloadLink.Text")}</a>`}launchNative(){!this.isAndroid&&this.supportsMusic&&this.launchApp()}openOnGooglePlay(){const e=(0,i.googlePlayStoreLink)()
window.open(e,"_blank","noopener noreferrer")}onDownloadAppleMusic(){const e=this.i18n.t("AMWeb.Offer.Carrier.DownloadLink.URL")
window.open(e,"_blank")}launchApp(){const e=(0,i.getLaunchUrl)(this.rootURL)
this.platform.launch(e,{},(e=>{!e&&this.platform.isAndroid&&this.openOnGooglePlay()}))}},d=b(c.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(c.prototype,"platform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(c.prototype,"launchNative",[l],Object.getOwnPropertyDescriptor(c.prototype,"launchNative"),c.prototype),b(c.prototype,"openOnGooglePlay",[a],Object.getOwnPropertyDescriptor(c.prototype,"openOnGooglePlay"),c.prototype),b(c.prototype,"onDownloadAppleMusic",[s],Object.getOwnPropertyDescriptor(c.prototype,"onDownloadAppleMusic"),c.prototype),b(c.prototype,"launchApp",[u],Object.getOwnPropertyDescriptor(c.prototype,"launchApp"),c.prototype),c)
e.default=h,Ember._setComponentTemplate(f,h)})),define("desktop-music-app/components/cloud-button-container",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"MSAwgmf2",block:'[[[10,0],[15,0,[29,["cloud-button-container",[52,[30,1]," cloud-button-container--mobile"," cloud-button-container--desktop"]]]],[12],[1,"\\n"],[41,[30,0,["shouldShowAddToLibraryButton"]],[[[1,"            "],[8,[39,1],null,[["@lockup"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"        "],[8,[39,2],null,[["@lockup","@listenTo"],[[30,2],"click"]],[["default"],[[[[1,"\\n            "],[8,[39,3],null,[["@alt","@lockups","@click"],[true,[30,2],[30,0,["click"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"],[13],[1,"\\n"]],["@isForMobile","@product"],false,["if","dt-web-add-to-library","dt-media-contextual-menu","dt-button-menu"]]',moduleName:"desktop-music-app/components/cloud-button-container.hbs",isStrictMode:!1})
let c=(i=Ember.inject.service,r=Ember.inject.service,n=class extends t.default{constructor(...e){super(...e),a(this,"musickit",o,this),a(this,"user",l,this)}get shouldShowAddToLibraryButton(){var e
return this.user.isSubscribed&&!this.args.product.availableForPurchaseOnly&&!(null!==(e=this.musickit.instance)&&void 0!==e&&e.previewOnly)}},o=s(n.prototype,"musickit",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/commerce-full-content",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"Mjq/9Tzm",block:'[[[11,0],[24,0,"commerce-full-content"],[4,[38,0],[[30,0,["handleInsert"]]],null],[12],[1,"\\n    "],[18,1,null],[1,"\\n"],[13],[1,"\\n"]],["&default"],false,["did-insert","yield"]]',moduleName:"desktop-music-app/components/commerce-full-content.hbs",isStrictMode:!1})
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){var t,i,r
super(...e),r="",(i="tagName")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,c(this,"commerceModalManager",a,this),c(this,"storefront",s,this),c(this,"locale",u,this)}handleInsert(e){if(this.commerceModalManager.commerceManagerInstance){const t={queryParams:{isFullscreen:!0,isModal:!1,iso2code:this.storefront.resolvedStorefront||"us",locale:this.locale.locale||"en-us"}},i=this.commerceModalManager.commerceManagerInstance.createIframe(this.args.route,t)
i.onload=function(){this.contentWindow.focus()},e.appendChild(i),e.parentElement.classList.add("commerce-iframe-wrapper")}}},a=d(l.prototype,"commerceModalManager",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"storefront",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"locale",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"handleInsert",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleInsert"),l.prototype),l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/context-menu",["exports","@glimmer/component","desktop-music-app/utils/logger"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"mWC5FLbh",block:'[[[18,1,[[28,[37,1],null,[["panel","open"],[[52,[30,0,["isActive"]],[50,"context-menu/panel",0,null,[["closeMenu","isClosing","posX","posY","applicationRoot"],[[30,0,["close"]],[30,0,["isClosing"]],[30,0,["posX"]],[30,0,["posY"]],[30,0,["applicationRoot"]]]]]],[30,0,["open"]]]]]]],[1,"\\n"],[41,[30,0,["isActive"]],[[[40,[[[1,"        "],[11,"button"],[24,0,"context-menu-outside-click-area"],[16,"aria-label",[28,[37,6],["Close.Menu"],null]],[4,[38,7],["click",[30,0,["close"]]],null],[12],[13],[1,"\\n"]],[]],"%cursor:0%",[28,[37,5],[[30,0,["applicationRoot"]]],null],null]],[]],null]],["&default"],false,["yield","hash","if","component","in-element","-in-el-null","t","on"]]',moduleName:"desktop-music-app/components/context-menu.hbs",isStrictMode:!1})
let p=(r=Ember.inject.service,n=Ember.computed("contextMenu.currentMenu"),o=Ember._action,l=Ember._action,a=class extends t.default{get triggerElement(){return this.contextMenu.triggerElement}set triggerElement(e){this.contextMenu.triggerElement=e}constructor(){var e,t,i,r
super(...arguments),e=this,t="contextMenu",r=this,(i=s)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),u(this,"posX","0px"),u(this,"posY","0px"),u(this,"isClosing",!1),this.guid=Ember.guidFor(this),this.usePositionFromTarget=this.args.usePositionFromTarget||!1}get applicationRoot(){if(this._root)return this._root
const{rootElement:e}=Ember.getOwner(this)
return this._root=document.querySelector(e)}get isActive(){return this.guid&&this.contextMenu.currentMenu===this.guid}get parentElement(){var e
const t=null===(e=this.triggerElement)||void 0===e?void 0:e.closest("[data-context-menu-parent]")
return t||(0,i.warn)("ContextMenu preferable has a parent with a data-context-menu-parent attribute for focus state"),t}open(e){if(e instanceof Event&&(e.stopPropagation(),e.preventDefault()),this.usePositionFromTarget){const t=e.target.getBoundingClientRect()
Ember.set(this,"posX",t.left+(this.args.posXOffset||0)),Ember.set(this,"posY",t.top+(this.args.posYOffset||0))}else Ember.set(this,"posX",e.clientX),Ember.set(this,"posY",e.clientY)
this.triggerElement=e.target,this.contextMenu.open(this.guid),this._setParentFocusClass(),this.args.onOpen&&this.args.onOpen()}close(){this.contextMenu.close(this.guid),this.triggerElement&&(this.triggerElement.focus(),this._removeParentFocusClass(),this.triggerElement=null)}_setParentFocusClass(){this.parentElement&&this.parentElement.classList.add("has-context-menu-open")}_removeParentFocusClass(){this.parentElement&&this.parentElement.classList.remove("has-context-menu-open")}},s=c(a.prototype,"contextMenu",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(a.prototype,"isActive",[n],Object.getOwnPropertyDescriptor(a.prototype,"isActive"),a.prototype),c(a.prototype,"open",[o],Object.getOwnPropertyDescriptor(a.prototype,"open"),a.prototype),c(a.prototype,"close",[l],Object.getOwnPropertyDescriptor(a.prototype,"close"),a.prototype),a)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/context-menu/option",["exports","@glimmer/component","desktop-music-app/utils/key-events"],(function(e,t,i){var r,n,o,l
function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"m3go5s5i",block:'[[[11,"li"],[16,1,[30,1]],[16,0,[30,0,["classes"]]],[17,2],[12],[1,"\\n\\n    "],[11,1],[24,0,"context-menu__option-text"],[24,"tabindex","0"],[24,"role","menuitem"],[16,"aria-haspopup",[52,[30,3],"true",false]],[16,"aria-controls",[52,[30,3],[30,4],false]],[4,[38,1],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n        "],[10,1],[14,0,"context-menu__option-text-clamp"],[12],[1,[30,5]],[13],[1,"\\n\\n"],[41,[30,6],[[[1,"            "],[1,[28,[35,2],[[30,6]],[["class"],["context-menu__option-icon"]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n    "],[18,7,[[28,[37,4],null,[["panel"],[[50,"context-menu/panel",0,null,[["parentOption"],[[30,0]]]]]]]]],[1,"\\n"],[13]],["@id","&attrs","@isShareButton","@panelId","@text","@icon","&default"],false,["if","on","svg-jar","yield","hash","component"]]',moduleName:"desktop-music-app/components/context-menu/option.hbs",isStrictMode:!1})
let c=(r=Ember.computed("args.class","childPanel"),n=Ember._action,o=Ember._action,s((l=class extends t.default{constructor(...e){super(...e),a(this,"childPanel",void 0),a(this,"icon",void 0),a(this,"text",void 0),a(this,"testName",void 0)}get panel(){if(this.args.panel)return this.args.panel.self||this.args.panel}get classes(){const e=(this.args.class||"").split(" ").concat("context-menu__option")
return this.childPanel&&e.push("context-menu__option--parent"),e.join(" ")}onKeyUp(e){const t=new i.KeyEvent(e)
var r,n;(t.isEnter||t.isSpacebar)&&(null!==(r=this.childPanel)&&void 0!==r&&r.isActive?this._setChildPanelActive(!1):(null!==(n=this.panel)&&void 0!==n&&n.activeSubmenu&&this._closeActiveSubmenu(),this._onSelect()))}onClick(){this._onSelect(),this.args.onClickCallback&&this.args.onClickCallback()}_onSelect(){this._onReceiveSelect(...arguments),this._setChildPanelActive(!0)}_setChildPanelActive(e){this.panel&&this.childPanel&&(Ember.set(this,"childPanel.isActive",e),e?(this.panel.activeSubmenu=this.childPanel,this.childPanel.focusMenu()):this._closeActiveSubmenu())}_onReceiveSelect(){this.childPanel||this.args.onSelect&&this.args.onSelect(...arguments)}_closeActiveSubmenu(){this.panel&&this.panel.closeActiveSubmenu()}}).prototype,"classes",[r],Object.getOwnPropertyDescriptor(l.prototype,"classes"),l.prototype),s(l.prototype,"onKeyUp",[n],Object.getOwnPropertyDescriptor(l.prototype,"onKeyUp"),l.prototype),s(l.prototype,"onClick",[o],Object.getOwnPropertyDescriptor(l.prototype,"onClick"),l.prototype),l)
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/context-menu/panel",["exports","@glimmer/component","desktop-music-app/utils/key-events","ember-lifeline"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w
function E(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,S(e,t,"get"))}function O(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,S(e,t,"set"),i),i}function S(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"OtDThCGl",block:'[[[41,[30,1],[[[1,"    "],[11,0],[16,1,[30,2]],[16,0,[29,["context-menu ",[30,0,["panelClasses"]]]]],[24,"role","menu"],[24,"tabindex","-1"],[16,5,[30,0,["panelStyles"]]],[17,3],[4,[38,1],["mouseover",[30,0,["onMouseOver"]]],null],[4,[38,2],[[30,0,["storeMenuElement"]]],null],[4,[38,2],[[30,0,["setChildPanel"]]],null],[4,[38,2],[[30,0,["bindKeyUp"]]],null],[12],[1,"\\n        "],[11,"strong"],[24,0,"context-menu__title"],[4,[38,1],["click",[30,0,["closeSubmenu"]]],null],[12],[1,"\\n            "],[1,[28,[35,3],[[30,4],[30,1,["args","text"]]],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,"ul"],[12],[1,"\\n"],[1,"            "],[18,6,[[28,[37,5],null,[["self","option"],[[30,0],[50,"context-menu/option",0,null,[["panel"],[[30,0]]]]]]]]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[40,[[[1,"        "],[11,0],[16,1,[30,2]],[16,0,[29,["context-menu ",[30,0,["panelClasses"]]]]],[24,"role","menu"],[24,"tabindex","-1"],[16,5,[30,0,["panelStyles"]]],[17,3],[4,[38,1],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,1],["keydown",[30,0,["onKeyDown"]]],null],[4,[38,1],["mouseover",[30,0,["onMouseOver"]]],null],[4,[38,2],[[30,0,["storeMenuElement"]]],null],[4,[38,2],[[30,0,["setChildPanel"]]],null],[4,[38,2],[[30,0,["focusMenu"]]],null],[4,[38,9],null,null],[12],[1,"\\n            "],[10,"ul"],[12],[1,"\\n"],[1,"                "],[18,6,[[28,[37,5],null,[["self","option"],[[30,0],[50,"context-menu/option",0,null,[["panel"],[[30,0]]]]]]]]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],"%cursor:0%",[28,[37,8],[[30,5]],null],null]],[]]]],["@parentOption","@id","&attrs","@title","@applicationRoot","&default"],false,["if","on","did-insert","or","yield","hash","component","in-element","-in-el-null","body-scroll-lock"]]',moduleName:"desktop-music-app/components/context-menu/panel.hbs",isStrictMode:!1})
let T=(n=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,a=Ember.computed("platform.isMobile","isActive","args.{additionalClasses,isClosing,hasPointer,parentOption}","activeSubmenu"),s=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,b=Ember._action,f=Ember._action,k=new WeakMap,w=new WeakMap,h=class extends t.default{constructor(...e){super(...e),E(this,"contextMenu",g,this),E(this,"accessibility",y,this),k.set(this,{writable:!0,value:null}),w.set(this,{writable:!0,value:null}),_(this,"title",void 0),_(this,"applicationRoot",void 0),E(this,"activeSubmenu",v,this),_(this,"isActive",!1)}get panelClasses(){let e=""
return this.args.isClosing&&(e+="context-menu--closing "),this.renderLeft&&(e+="context-menu--left "),this.renderAbove&&(e+="context-menu--above "),this.args.parentOption&&(e+="context-menu--submenu "),this.args.hasPointer&&(e+="context-menu--pointer "),this.isActive&&(e+="active "),this.activeSubmenu&&(e+="has-active-submenu "),this.args.additionalClasses&&(e+=this.args.additionalClasses),e.trim()}get panelStyles(){const e=[],{posXPx:t,posYPx:i}=this
return t&&e.push(`left: ${t}`),i&&e.push(`top: ${i}`),e.join("; ")}get posXPx(){return this.args.posX&&`${this.args.posX}px`}get posYPx(){return this.args.posY&&`${this.args.posY}px`}get renderLeft(){if(!this.args.parentOption)return parseInt(this.args.posX)>window.innerWidth/2}get renderAbove(){if(!this.args.parentOption)return parseInt(this.args.posY)>window.innerHeight/2}storeMenuElement(e){O(this,w,e)}setChildPanel(){this.args.parentOption&&Ember.set(this,"args.parentOption.childPanel",this)}focusMenu(){P(this,w)&&(0,r.runTask)(this,(()=>{const e=P(this,w).querySelector("[role=menuitem]")
e&&e.focus(),O(this,k,e)}),this.accessibility.RENDERING_OFFSET)}onMouseOver(){P(this,k)&&(P(this,k).blur(),O(this,k,null))}closeSubmenu(e){e.stopPropagation(),Ember.set(this,"isActive",!1)}bindKeyUp(e){this.args.parentOption.childPanel||e.addEventListener("keyup",this.onKeyUp.bind(this))}onKeyDown(e){const t=new i.KeyEvent(e)
switch(t.key){case i.TAB:e.preventDefault(),e.stopPropagation(),t.isShiftTab?this.focusNextMenuItem("reverse"):this.focusNextMenuItem()}}onKeyUp(e){switch(new i.KeyEvent(e).key){case i.ESCAPE:if(this.args.closeMenu)this.args.closeMenu()
else{const{currentMenu:e}=this.contextMenu
this.contextMenu.close(e)}break
case i.ARROW_DOWN:this.focusNextMenuItem()
break
case i.ARROW_UP:this.focusNextMenuItem("reverse")}}closeActiveSubmenu(){if(!P(this,w))return
this.activeSubmenu&&(this.activeSubmenu=null)
P(this,w).querySelector(".context-menu--submenu.active").classList.remove("active")}focusNextMenuItem(e){const t=P(this,w).querySelector("ul"),i=P(this,w).querySelector("[role=menu].active ul")
let r=[]
const n=this.getDirectMenuItems(t)
i&&(r=this.getDirectMenuItems(i))
const o=[...n,...r],l="reverse"===e?-1:1,a=o[o.indexOf(document.activeElement)+l]||o["reverse"===e?o.length-1:0]
a.focus(),O(this,k,a)}getDirectMenuItems(e){return Array.from(e.children).map((e=>e.querySelector("[role=menuitem]")))}},g=z(h.prototype,"contextMenu",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(h.prototype,"accessibility",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(h.prototype,"activeSubmenu",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z(h.prototype,"panelClasses",[a],Object.getOwnPropertyDescriptor(h.prototype,"panelClasses"),h.prototype),z(h.prototype,"storeMenuElement",[s],Object.getOwnPropertyDescriptor(h.prototype,"storeMenuElement"),h.prototype),z(h.prototype,"setChildPanel",[u],Object.getOwnPropertyDescriptor(h.prototype,"setChildPanel"),h.prototype),z(h.prototype,"focusMenu",[c],Object.getOwnPropertyDescriptor(h.prototype,"focusMenu"),h.prototype),z(h.prototype,"onMouseOver",[d],Object.getOwnPropertyDescriptor(h.prototype,"onMouseOver"),h.prototype),z(h.prototype,"closeSubmenu",[p],Object.getOwnPropertyDescriptor(h.prototype,"closeSubmenu"),h.prototype),z(h.prototype,"bindKeyUp",[m],Object.getOwnPropertyDescriptor(h.prototype,"bindKeyUp"),h.prototype),z(h.prototype,"onKeyDown",[b],Object.getOwnPropertyDescriptor(h.prototype,"onKeyDown"),h.prototype),z(h.prototype,"onKeyUp",[f],Object.getOwnPropertyDescriptor(h.prototype,"onKeyUp"),h.prototype),h)
e.default=T,Ember._setComponentTemplate(j,T)})),define("desktop-music-app/components/contextual-menu",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._tracked,o=Ember._action,l=Ember._action,a=class extends t.default{constructor(...e){super(...e),d(this,"contextMenu",s,this),d(this,"i18n",u,this),d(this,"axRole",c,this)}get menuItems(){return this.args.menuItems||[]}setAxRole(e,[t]){var i
if(null!==(i=t.fastboot)&&void 0!==i&&i.isFastBoot)return
e.querySelector("button")||e.querySelectorAll("[role=button]").length>=1||"click"!==t.args.listenTo||(t.axRole="button")}get axLabel(){if("button"===this.axRole)return this.i18n.t("More")}_closeMenu(e){this.contextMenu.close(e||this.contextMenu.currentMenu)}maybeStopClickPropagation(e){this.args.stopClickPropagation&&e.stopPropagation()}},s=p(a.prototype,"contextMenu",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"axRole",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"_closeMenu",[o],Object.getOwnPropertyDescriptor(a.prototype,"_closeMenu"),a.prototype),p(a.prototype,"maybeStopClickPropagation",[l],Object.getOwnPropertyDescriptor(a.prototype,"maybeStopClickPropagation"),a.prototype),a)
e.default=m})),define("desktop-music-app/components/disc-list-header",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Hb6LgHEg",block:'[[[10,0],[14,0,"songs-list-row songs-list-row--disc-list-header"],[14,"role","row"],[12],[1,"\\n    "],[10,0],[14,0,"songs-list__col songs-list__col--shim"],[12],[13],[1,"\\n    "],[10,0],[14,"role","columnheader"],[14,0,"songs-list__col songs-list__col--song songs-list__col--disc-header typography-callout-emphasized-tall"],[12],[1,[30,1]],[13],[1,"\\n    "],[10,0],[14,"role","columnheader"],[14,0,"songs-list__col songs-list__col--time"],[12],[13],[1,"\\n"],[13],[1,"\\n"]],["@discHeader"],false,[]]',moduleName:"desktop-music-app/components/disc-list-header.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-action-menu",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"ScHzHZSj",block:'[[[11,"button"],[24,4,"button"],[24,0,"action-menu"],[24,"tabindex","0"],[16,"aria-label",[28,[37,0],["FUSE.VO.ActionMenuLabel"],[["contentName"],[[30,1,["name"]]]]]],[16,"title",[28,[37,0],["FUSE.VO.ActionMenuHelpText"],null]],[17,2],[4,[38,1],["click",[30,0,["handleClick"]]],null],[12],[1,"\\n    "],[1,[28,[35,2],["ellipsis"],[["class"],["action-menu__ellipsis-glyph"]]]],[1,"\\n"],[13]],["@lockup","&attrs"],false,["t","on","svg-jar"]]',moduleName:"desktop-music-app/components/dt-action-menu.hbs",isStrictMode:!1})
let m=(i=Ember.inject.service("itunes-menus"),r=Ember.inject.service("itunes-menu-item-interaction"),n=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),c(this,"menus",a,this),c(this,"menuInteraction",s,this),c(this,"metrics",u,this)}handleClick(e){const t=e.target,i=this.args.lockup
let r
if(e.stopPropagation(),Ember.get(i,"cloudItem")){r={id:Ember.get(i,"id"),contentType:Ember.get(i,"contentType")}}else r=Ember.get(i,"rawJSON")
this._recordMetricsClickEvent(i,t),this.menus.showActionMenu(t,r),this.menuInteraction.setSelectedItemJSON(r)}_recordMetricsClickEvent(e,t){const i={actionType:"actionMenu",id:Ember.get(e,"id"),targetType:"button",actionUrl:null,actionDetails:Ember.get(e,"rawJSON")}
this.metrics.recordEvent("click",i,t)}},a=d(l.prototype,"menus",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"menuInteraction",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"metrics",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"handleClick",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleClick"),l.prototype),l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/dt-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"zLz0G/Jx",block:'[[[10,0],[12],[1,"\\n"],[44,[[28,[37,1],["activity"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/activity"],[["model"],[[30,2,["product"]]]]]],[[[1,"                "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n        "],[8,[39,3],null,[["@artwork","@artworkCrop","@product","@showName"],[[30,2,["artwork"]],"fc",[30,2,["product"]],true]],null],[1,"\\n        "],[8,[39,4],null,[["@featuredContent"],[[30,2,["featuredContent"]]]],null],[1,"\\n"]],[2]]],[13],[1,"\\n"]],["@activity","activityProduct","activityMeta"],false,["let","present","seo-tags","dt-uber","dt-featured-content-root"]]',moduleName:"desktop-music-app/components/dt-activity.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-album",["exports","@glimmer/component","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/number-to-roman","desktop-music-app/presenters/music/track"],(function(e,t,i,r,n){var o,l,a,s
function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"LmjO8D5v",block:'[[[10,0],[14,0,"product-page"],[12],[1,"\\n"],[44,[[28,[37,1],["music/album"],[["model","mixedTracks"],[[30,1,["album"]],[30,2]]]]],[[[41,[28,[37,3],[[30,4]],null],[[[44,[[28,[37,1],["meta/album"],[["model","selectedId"],[[30,3],[30,5]]]]],[[[1,"                    "],[8,[39,4],null,[["@model"],[[30,6]]],null],[1,"\\n"]],[6]]]],[]],null],[1,"\\n        "],[11,0],[24,0,"product-info"],[4,[38,5],[[30,0,["cacheProductLockup"]],[30,0]],null],[12],[1,"\\n\\n            "],[10,0],[14,0,"header-and-songs-list"],[12],[1,"\\n                "],[10,0],[14,0,"product-header"],[12],[1,"\\n                    "],[8,[39,6],null,[["@product","@isForMobile"],[[30,3],true]],null],[1,"\\n\\n                    "],[8,[39,7],null,[["@lockup","@artwork","@numberOfSongs","@tracks","@songsList","@notesTitleKey","@notes"],[[30,3],[30,3,["artwork"]],[30,3,["childrenIds","length"]],[30,3,["children"]],[30,3,["songs"]],"FUSE.iTunesEditorNotes",[30,3,["albumNotes"]]]],null],[1,"\\n\\n                    "],[8,[39,8],null,[["@product","@productName","@productCreator","@productMeta","@productBadges","@notesTitleKey","@songsList","@mixedTracks","@creatorPageUrl","@creatorId","@notes"],[[30,3],[30,3,["name"]],[30,3,["artistName"]],[30,3,["albumMeta"]],[30,3,["albumBadges"]],"FUSE.iTunesEditorNotes",[30,3,["songs"]],[30,3,["mixedTracks"]],[30,3,["creatorPageUrl"]],[30,3,["artistId"]],[30,3,["albumNotes"]]]],null],[1,"\\n                "],[13],[1,"\\n\\n                "],[8,[39,9],null,[["@outerClass","@albumArtist","@albumId","@songs","@songsContainer","@songsListColumns","@selectedTrack","@scrollToSelectedSong","@worksList","@discList","@dragAndDropCover","@onAdd","@onDelete","@inYourNetwork"],["songs-list--album",[30,3,["artistName"]],[30,3,["id"]],[30,3,["songs"]],[30,3],[30,3,["songsListColumns"]],[30,5],[30,7],[30,0,["tracklistToWorkslist"]],[30,0,["tracklistToDisclist"]],[30,0,["productInfoContainer"]],[30,8],[30,9],[28,[37,10],[[30,1,["inYourNetwork"]],[30,1,["album","inYourNetwork"]]],null]]],null],[1,"\\n\\n"],[41,[28,[37,11],[[30,3,["isLibraryAlbum"]],[28,[37,3],[[30,3,["hasCompleteAlbum"]]],null]],null],[[[41,[28,[37,12],[[30,3,["songs","length"]],[30,3,["totalTrackCount"]]],null],[[[1,"                        "],[11,"button"],[24,0,"link typography-body-tall product-info__completed-album"],[16,"data-metrics-click",[28,[37,13],["hideNotInLibrary"],[["id"],[[30,3,["id"]]]]]],[4,[38,14],["click",[30,10]],null],[12],[1,"\\n                            "],[1,[28,[35,15],["AMWeb.Library.States.hideNotInLibrary"],null]],[1,"\\n                        "],[13],[1,"\\n"]],[]],[[[1,"                        "],[11,"button"],[24,0,"link typography-body-tall product-info__completed-album"],[16,"data-metrics-click",[28,[37,13],["showCompleteAlbum"],[["id"],[[30,3,["id"]]]]]],[4,[38,14],["click",[30,11]],null],[12],[1,"\\n                            "],[1,[28,[35,15],["AMWeb.Library.States.showCompleteAlbum"],null]],[1,"\\n                        "],[13],[1,"\\n"]],[]]]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,16],null,[["@messageType"],["album"]],null],[1,"\\n\\n"],[1,"        "],[10,0],[15,0,[52,[30,0,["hasAltSection"]],"alt-section breakout-box"]],[12],[1,"\\n"],[41,[30,1,["otherVersions"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-other-versions","G",[28,[37,15],["FUSE.Album.Headline.OtherVersions"],null],[30,1,["otherVersions"]],[50,"dt-lockup",0,null,[["config"],["other-versions"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["relatedVideos"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-related-videos","B",[28,[37,15],["FUSE.Album.Headline.RelatedVideos"],null],[30,1,["relatedVideos"]],[50,"dt-lockup",0,null,[["config"],["artist-name"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["audioExtras"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-audio-extras","G",[28,[37,15],["FUSE.Album.Headline.AudioExtras"],null],[30,1,["audioExtras"]],[50,"dt-lockup",0,null,[["config"],["audio-extras"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["videoExtras"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-video-extras","B",[28,[37,15],["FUSE.Album.Headline.VideoExtras"],null],[30,1,["videoExtras"]],[50,"dt-lockup",0,null,[["config","artworkProfileV2"],["uploading-brand-name",[30,0,["moreToSeeMovieArtworkConfigV2"]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["topAlbumsByArtist"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-top-albums","G",[28,[37,15],["FUSE.Product.MoreByArtist"],[["artistName"],[[30,3,["artistName"]]]]],[30,1,["topAlbumsByArtist"]],[50,"dt-lockup",0,null,[["config"],["title-year"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["appearsOn"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-appears-on","G",[28,[37,15],["FUSE.Album.Headline.AppearsOn"],null],[30,1,["appearsOn"]],[50,"dt-lockup",0,null,null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["listenersAlsoBoughtAlbums"]],[[[1,"                "],[8,[39,17],null,[["@id","@grid","@title","@items","@itemComponent"],["album-listeners-bought","G",[28,[37,15],["FUSE.albumsYouMayAlsoLike"],null],[30,1,["listenersAlsoBoughtAlbums"]],[50,"dt-lockup",0,null,[["config"],["artist-name"]]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[3]]],[13],[1,"\\n"]],["@model","@albumTracks","album","@disableSEOTags","@selectedTrack","albumMeta","@scrollToSelectedSong","@onAdd","@onDelete","@showOnlyLibraryTracks","@showCompleteAlbum"],false,["let","present","if","not","seo-tags","did-insert","cloud-button-container","dt-product-lockup","dt-product-page-header","dt-songs-list","or","and","eq","metrics-json-data","on","t","dt-social-upsell-banner","dt-shelf","component"]]',moduleName:"desktop-music-app/components/dt-album.hbs",isStrictMode:!1})
let d=(o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){var t,r,n,o,l,a,u
super(...e),t=this,r="router",o=this,(n=s)&&Object.defineProperty(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),l=this,a="moreToSeeMovieArtworkConfigV2",u=i.ARTWORK_V2_PRESETS.standardLockup.moreToSeeMovie,a in l?Object.defineProperty(l,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[a]=u}cacheProductLockup(e){this.productInfoContainer=e.querySelector(".product-lockup")}get hasAltSection(){const e=Ember.get(this,"args.model"),t=Ember.get(e,"inYourNetwork.length"),i=Ember.get(e,"topAlbumsByArtist"),r=Ember.get(e,"listenersAlsoBoughtAlbums"),n=Ember.get(e,"otherVersions"),o=Ember.get(e,"audioExtras"),l=Ember.get(e,"videoExtras"),a=Ember.get(e,"appearsOn"),s=Ember.get(e,"relatedVideos")
return t||i||r||o||l||a||s||n}get tracklist(){return Ember.get(this,"args.model.tracks")||Ember.get(this,"args.model.album.tracks")}get tracklistToDisclist(){const{tracklist:e=[]}=this
if(null!=e&&e.some((e=>!e.discNumber)))return
if(Array.from(new Set(e.map((e=>e.discNumber)))).length>1){const t=[]
return e.forEach((e=>{const i=t.slice(-1)[0]
e.discNumber!==(null==i?void 0:i.discNumber)&&t.push({discNumber:e.discNumber,discTracks:[]}),e.partOfDisclist=!0,t[e.discNumber-1].discTracks.push((0,n.processTrack)(e))})),t}}get tracklistToWorkslist(){const{tracklist:e}=this
if(!e)return
if(Ember.get(this,"args.model.works")){(function(e,t){e.forEach((e=>{const{pieceId:i}=e,r=i&&t[i]
!e.workName&&r&&(e.workName=r.name,e.movementName=e.name,r.count?r.count++:r.count=1)}))})(e,Ember.get(this,"args.model.works"))}if(!e.some((e=>e.workName)))return
const t=[]
return e.forEach((e=>{if(e.workName){var i
e.nameOfPiece=function(e){let t=""
e.movementNumber>0&&(t+=`${(0,r.default)(e.movementNumber)}. `)
e.movementName?t+=e.movementName:e.name?t+=e.name:e.workName&&(t=e.workName)
return t}(e)
const o=t.slice(-1)[0]
let l=(null==o?void 0:o.workNameHeader)&&o
e.workName!==(null===(i=l)||void 0===i?void 0:i.workNameHeader)&&(l={workNameHeader:e.workName,pieces:[]},t.push(l)),e.partOfWorkslist=!0,l.pieces.push((0,n.processTrack)(e))}else t.push((0,n.processTrack)(e))})),t}},s=u(a.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"cacheProductLockup",[l],Object.getOwnPropertyDescriptor(a.prototype,"cacheProductLockup"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/dt-artist-bio",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"/5o+fXsU",block:'[[[11,0],[24,0,"artist-bio"],[17,1],[12],[1,"\\n    "],[8,[39,0],[[24,0,"artist-bio__about"]],[["@title"],[[28,[37,1],["FUSE.About.ArtistName"],[["artistName"],[[30,2,["name"]]]]]]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"artist-bio__notes typography-body-tall"],[12],[1,"\\n            "],[8,[39,2],null,[["@isInAltSection","@headline","@secondary","@content","@lines","@maxLines"],[true,[30,2,["name"]],[52,[30,0,["secondaryArtistCopy"]],[28,[37,4],[[30,0,["secondaryArtistCopy"]]],null]],[28,[37,4],[[30,2,["artistBio"]]],null],8,10]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"ul"],[14,0,"artist-bio__details"],[12],[1,"\\n"],[41,[30,2,["origin"]],[[[1,"                "],[10,"li"],[14,0,"artist-bio__detail-section"],[14,"role","group"],[14,"aria-labelledby","origin-head origin-body"],[12],[1,"\\n                    "],[10,0],[14,0,"artist-bio__detail-title typography-subhead"],[14,1,"origin-head"],[12],[1,"\\n"],[41,[30,2,["isGroup"]],[[[1,"                            "],[1,[28,[35,1],["FUSE.ArtistBio.Origin"],null]],[1,"\\n"]],[]],[[[1,"                            "],[1,[28,[35,1],["FUSE.Artist.Bio.Hometown"],null]],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n                    "],[10,0],[14,0,"detail-description typography-body-tall"],[14,1,"origin-body"],[12],[1,[30,2,["origin"]]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["bornOrFormed"]],[[[1,"                "],[10,"li"],[14,0,"artist-bio__detail-section"],[14,"role","group"],[14,"aria-labelledby","born-or-formed-head born-or-formed-body"],[12],[1,"\\n                    "],[10,0],[14,0,"artist-bio__detail-title typography-subhead"],[14,1,"born-or-formed-head"],[12],[1,"\\n"],[41,[30,2,["isGroup"]],[[[1,"                            "],[1,[28,[35,1],["FUSE.ArtistBio.Debuted"],null]],[1,"\\n"]],[]],[[[1,"                            "],[1,[28,[35,1],["FUSE.ArtistBio.Born"],null]],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n                    "],[10,0],[14,0,"detail-description typography-body-tall"],[14,1,"born-or-formed-body"],[12],[1,[30,2,["bornOrFormed"]]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["genres"]],[[[1,"                "],[10,"li"],[14,0,"artist-bio__detail-section"],[14,"role","group"],[14,"aria-labelledby","genre-head genre-body"],[12],[1,"\\n                    "],[10,0],[14,0,"artist-bio__detail-title typography-subhead"],[14,1,"genre-head"],[12],[1,[28,[35,1],["FUSE.ArtistBio.Genre"],null]],[13],[1,"\\n                    "],[10,0],[14,0,"detail-description typography-body-tall"],[14,1,"genre-body"],[12],[1,[30,2,["genre"]]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"],[13]],["&attrs","@artist"],false,["dt-titled-box","t","dt-truncate","if","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-artist-bio.hbs",isStrictMode:!1})
class r extends t.default{get secondaryArtistCopy(){const{origin:e,bornOrFormed:t,genre:i}=this.args.artist,r=[e,t,i].filter(Boolean)
if(r.length)return r.join("&#8196;&middot;&#8196;")}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/dt-artist-group",["exports","@glimmer/component","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/artwork-config","desktop-music-app/config/environment"],(function(e,t,i,r,n){function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"mWr/0zIn",block:'[[[11,0],[16,0,[29,["artist-group",[52,[28,[37,1],[[30,1,["storeContent"]],[30,2,["data"]]],null]," featured-group"]]]],[17,3],[12],[1,"\\n    "],[10,0],[15,0,[29,["wrapper",[52,[30,4]," with-featured-release"]]]],[12],[1,"\\n"],[41,[30,2],[[[1,"            "],[8,[39,2],null,[["@featuredRelease","@featuredReleaseTitle"],[[30,2,["data"]],[30,2,["title"]]]],null],[1,"\\n"]],[]],null],[41,[30,1,["storeContent"]],[[[1,"            "],[8,[39,3],[[16,0,[52,[30,2,["data"]],"top-songs-list-swoosh"]]],[["@id","@grid","@title","@items","@itemComponent","@groupCount","@seeAllComponent"],[[29,["top-songs-list-",[30,1,["id"]]]],[30,0,["topSongsGridConfig"]],[30,1,["title"]],[30,1,["storeContent"]],[50,"dt-list-lockup",0,null,[["config","artistPageConfig"],[[30,0,["lockupConfig"]],true]]],3,[50,"see-all/url",0,null,[["url","label"],[[30,1,["seeAllUrl"]],[28,[37,5],["SeeAll.AriaLabel"],[["containerName"],[[30,1,["title"]]]]]]]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[42,[28,[37,7],[[28,[37,7],[[30,5]],null]],null],null,[[[1,"        "],[8,[39,3],[[24,0,"divider-before"]],[["@id","@title","@grid","@groupCount","@itemComponent","@items","@seeAllComponent"],[[29,["group-",[30,6,["id"]]]],[30,6,["title"]],[28,[37,8],[[30,6,["sectionName"]]],null],1,[50,"dt-lockup",0,null,null],[30,6,["storeContent"]],[50,"see-all/url",0,null,[["url","label"],[[30,6,["seeAllUrl"]],[28,[37,5],["SeeAll.AriaLabel"],[["containerName"],[[30,6,["seeAllUrl"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,7],[[28,[37,7],[[30,6,["storeContent"]]],null]],null],null,[[[44,[[28,[37,10],[[30,6,["storeContent"]],[30,9]],null]],[[[41,[28,[37,11],[[30,8,["kind"]],"playlist"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n"],[44,[[28,[37,12],["music/playlist"],[["model"],[[30,8]]]]],[[[44,[[28,[37,13],[[30,9],[30,0,["initialRender"]]],null]],[[[1,"                                    "],[8,[39,14],null,[["@id","@index","@renderContent"],[[30,11,["id"]],[30,9],[30,12]]],[["default"],[[[[1,"\\n                                        "],[8,[39,15],null,[["@config","@artworkConfig","@artworkProfileV2","@lockup","@lazyLoad"],["flat-playlist",[30,0,["customPlaylistArtworkConfig"]],[30,0,["customPlaylistArtworkConfigV2"]],[30,11],[30,12]]],null],[1,"\\n                                    "]],[]]]]],[1,"\\n"]],[12]]]],[11]]],[1,"                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"album"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n"],[44,[[28,[37,12],["music/album"],[["model"],[[30,8]]]]],[[[44,[[28,[37,13],[[30,9],[30,0,["initialRender"]]],null]],[[[1,"                                    "],[8,[39,14],null,[["@id","@index","@renderContent"],[[30,13,["id"]],[30,9],[30,14]]],[["default"],[[[[1,"\\n                                        "],[8,[39,15],null,[["@lockup","@config","@line3","@artworkConfig","@artworkProfileV2","@lazyLoad"],[[30,13],[52,[28,[37,16],[[30,6,["sectionName"]],"appearsOnAlbums"],null],"artist-name","title-year"],[52,[28,[37,16],[[30,6,["sectionName"]],"featuredAlbums"],null],[28,[37,1],[[30,8,["itunesNotes","standard"]],[30,8,["editorialNotes","standard"]]],null]],[52,[28,[37,16],[[30,6,["sectionName"]],"featuredAlbums"],null],[30,0,["customPlaylistArtworkConfig"]],[30,0,["albumArtworkConfig"]]],[52,[28,[37,16],[[30,6,["sectionName"]],"featuredAlbums"],null],[30,0,["customPlaylistArtworkConfigV2"]],[30,0,["albumArtworkConfigV2"]]],[30,14]]],null],[1,"\\n                                    "]],[]]]]],[1,"\\n"]],[14]]]],[13]]],[1,"                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"tvEpisode"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@config","@selectedTrackIndex","@playlist"],[[30,8],[52,[28,[37,16],[[30,6,["sectionName"]],"moreToSee"],null],"artist-name"],[30,9],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"radioStation"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@config","@selectedTrackIndex","@playlist"],[[30,8],[52,[28,[37,16],[[30,6,["sectionName"]],"moreToHear"],null],"radio-station-standard-notes"],[30,9],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"uploadedAudio"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@config","@selectedTrackIndex","@playlist"],[[30,8],"uploading-brand-name",[30,9],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"uploadedVideo"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@selectedTrackIndex","@playlist"],[[30,8],[30,9],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"movie"],null],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@config","@sectionName","@selectedTrackIndex","@artworkConfig","@artworkProfileV2","@playlist"],[[30,8],"title-year",[30,6,["sectionName"]],[30,9],[52,[28,[37,16],[[30,6,["sectionName"]],"moreToSee"],null],[30,0,["moreToSeeMovieArtworkConfig"]]],[52,[28,[37,16],[[30,6,["sectionName"]],"moreToSee"],null],[30,0,["moreToSeeMovieArtworkConfigV2"]]],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,8,["kind"]],"musicVideo"],null],[[[44,[[28,[37,12],["music/music-video"],[["model"],[[30,8]]]]],[[[1,"                            "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                                "],[8,[39,15],null,[["@lockup","@config","@selectedTrackIndex","@playlist"],[[30,15],"title-year",[30,9],[30,7,["playlist"]]]],null],[1,"\\n                            "]],[]]]]],[1,"\\n"]],[15]]]],[]],[[[1,"                        "],[8,[30,7,["listItem"]],null,[["@index","@isLastItem"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n                            "],[8,[39,15],null,[["@lockup","@config","@selectedTrackIndex","@playlist"],[[30,8],"title-year",[30,9],[30,7,["playlist"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n                    "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[10]]]],[8,9]],null],[1,"\\n        "]],[7]]]]],[1,"\\n"]],[6]],null],[13],[1,"\\n"]],["@topSongs","@highlightedRelease","&attrs","@hasHighlightedRelease","@groups","group","dts","lockup","index","isLast","playlist","renderContent","album","renderContent","mv"],false,["if","or","featured-release","dt-shelf","component","t","each","-track-array","artist-shelf-grid","let","is-last-array-index","is-equal","present","lte","render-in-viewport","dt-lockup","eq"]]',moduleName:"desktop-music-app/components/dt-artist-group.hbs",isStrictMode:!1})
class a extends t.default{constructor(...e){super(...e),o(this,"customPlaylistArtworkConfigV2",i.ARTWORK_V2_PRESETS.standardLockup.customPlaylist),o(this,"albumArtworkConfigV2",i.ARTWORK_V2_PRESETS.standardLockup.album),o(this,"moreToSeeMovieArtworkConfigV2",i.ARTWORK_V2_PRESETS.standardLockup.moreToSeeMovie),o(this,"customPlaylistArtworkConfig",r.ARTWORK_PRESETS.standardLockup.customPlaylist),o(this,"albumArtworkConfig",r.ARTWORK_PRESETS.standardLockup.album),o(this,"moreToSeeMovieArtworkConfig",r.ARTWORK_PRESETS.standardLockup.moreToSeeMovie)}get initialRender(){return n.default.APP.SHELF_ITEMS_UNTIL_LAZY}get topSongsGridConfig(){return this.args.hasHighlightedRelease?"1-1-2-3":"2-2-3-4"}}e.default=a,Ember._setComponentTemplate(l,a)})),define("desktop-music-app/components/dt-artist-header",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/feature-flags","desktop-music-app/helpers/image-url","desktop-music-app/config","desktop-music-app/utils/trusted-css","desktop-music-app/utils/editorial-video"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L
function A(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function I(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"s98jC1VI",block:'[[[44,[[28,[37,1],[[30,0,["fixedArtwork"]],[30,0,["heroArtwork"]],[30,0,["editorialVideo"]]],null]],[[[1,"    "],[11,0],[16,0,[29,["artist-header ",[30,2,["kind"]],[52,[30,0,["fixedArtwork"]]," artist-header--fixed"],[52,[51,[30,1]]," artist-header--no-artwork"],[52,[30,0,["editorialVideoEnabled"]]," artist-header--video"]]]],[16,5,[30,0,["artistHeaderStyle"]]],[4,[38,4],[[30,0,["setVideoAssetKey"]]],null],[4,[38,4],[[30,0,["addResizeListener"]]],null],[12],[1,"\\n        "],[8,[39,5],null,null,null],[1,"\\n"],[41,[30,0,["editorialVideoEnabled"]],[[[1,"            "],[8,[39,6],[[24,0,"editorial-video__main-artwork editorial-video__main-artwork--artist-header"]],[["@lockup","@editorialVideo","@lockupTypeId","@forceAnimation","@viewportThreshold"],[[30,2],[30,0,["editorialVideo"]],"dt-artist-header",true,0]],null],[1,"\\n"]],[]],[[[41,[30,1],[[[1,"            "],[8,[39,7],null,[["@artwork","@alt"],[[30,0,["heroArtwork"]],[30,2,["name"]]]],null],[1,"\\n        "]],[]],null]],[]]],[1,"\\n        "],[8,[39,8],null,[["@product","@playbackButtonDisabled","@playbackButtonHoverAction","@playbackButtonAction","@displaysIndependently"],[[30,2],[30,0,["noArtistStationAvailable"]],[30,0,["playbackButtonHoverAction"]],[30,0,["fetchRadioLockup"]],true]],null],[1,"\\n    "],[13],[1,"\\n"]],[1]]]],["hasArtwork","@product"],false,["let","or","if","unless","did-insert","fps-measuring-wrapper","dt-editorial-video","dt-artist-header/circular-artwork","dt-artist-header/product-title"]]',moduleName:"desktop-music-app/components/dt-artist-header.hbs",isStrictMode:!1})
let R=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember._tracked,y=Ember._tracked,v=Ember._action,k=Ember._action,w=Ember._action,E=Ember._action,_=class extends t.default{constructor(...e){super(...e),A(this,"commerceModalManager",P,this),A(this,"editorialVideoSwitchToggle",O,this),A(this,"finance",S,this),A(this,"media",z,this),A(this,"musickit",j,this),A(this,"musickitData",T,this),A(this,"playback",M,this),A(this,"storefront",C,this),A(this,"user",x,this),A(this,"videoAssetKey",D,this),A(this,"noArtistStationAvailable",L,this)}get editorialArtwork(){var e
return null===(e=this.args.artist)||void 0===e?void 0:e.editorialArtwork}get fixedArtwork(){var e
return null===(e=this.editorialArtwork)||void 0===e?void 0:e.centeredFullscreenBackground}get heroArtwork(){var e
return null===(e=this.args.artist)||void 0===e?void 0:e.hero}get editorialVideo(){var e
return null===(e=this.args.product)||void 0===e?void 0:e.editorialVideo}get editorialVideoEnabled(){return this.editorialVideo&&this.videoAssetKey&&this.editorialVideoSwitchToggle.isEnabled}get displayHeroGallery(){var e,t
return null===(e=this.heroArtwork)||void 0===e||null===(t=e.recommendedCropCodes)||void 0===t?void 0:t.includes("vf")}get artistHeaderStyle(){const e=this.displayHeroGallery?"vf":"ea",t=this.displayHeroGallery?this.heroArtwork:this.fixedArtwork
if(t){const i={width:2400,height:933,cropCode:e,quality:60},r=(0,n.imageUrl)([t.url],i),o={width:1478,height:646,cropCode:e,quality:60},a=(0,n.imageUrl)([t.url],o)
return(0,l.trustedCss)(`--background-image: url(${r});\n                --background-image-xs: url(${a});\n                --background-color: #${t.bgColor};`)}}async playArtistStation(){this.artistStation||await this._getArtistStation(),this.artistStation&&this.playback.play(this.artistStation)}fetchRadioLockup(){if(this.user.isSubscribed)this.playArtistStation()
else{if(o.default.NON_SOW_COUNTRIES.includes(this.storefront.resolvedStorefront))return this.musickit.signIn()
this.commerceModalManager.open("subscribe")}}async _getArtistStation(){const e=Ember.get(this,"args.product.id"),t=await this.musickitData.getArtistStation(e),{"default-playable-content":i}=t
if(null==i||!i.length)return void(this.user.isSubscribed&&(this.noArtistStationAvailable=!0))
const r=this.playback.getPlaybackConfig(i[0])
return Ember.set(this,"artistStation",r),i}playbackButtonHoverAction(){this.artistStation||this.noArtistStationAvailable||this._getArtistStation()}addResizeListener(){(0,i.addEventListener)(this,window,"resize",this._resizeHandler)}_resizeHandler(){(0,i.debounceTask)(this,"setVideoAssetKey",500)}setVideoAssetKey(){const[e="medium"]=this.media.matches
this.videoAssetKey=(0,a.bestVideoAssetKey)("dt-artist-header",this.editorialVideo,e)}},P=I(_.prototype,"commerceModalManager",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=I(_.prototype,"editorialVideoSwitchToggle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=I(_.prototype,"finance",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(_.prototype,"media",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I(_.prototype,"musickit",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(_.prototype,"musickitData",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=I(_.prototype,"playback",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=I(_.prototype,"storefront",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(_.prototype,"user",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=I(_.prototype,"videoAssetKey",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I(_.prototype,"noArtistStationAvailable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(_.prototype,"fetchRadioLockup",[v],Object.getOwnPropertyDescriptor(_.prototype,"fetchRadioLockup"),_.prototype),I(_.prototype,"playbackButtonHoverAction",[k],Object.getOwnPropertyDescriptor(_.prototype,"playbackButtonHoverAction"),_.prototype),I(_.prototype,"addResizeListener",[w],Object.getOwnPropertyDescriptor(_.prototype,"addResizeListener"),_.prototype),I(_.prototype,"setVideoAssetKey",[E],Object.getOwnPropertyDescriptor(_.prototype,"setVideoAssetKey"),_.prototype),_)
e.default=R,Ember._setComponentTemplate(N,R)})),define("desktop-music-app/components/dt-artist-header/circular-artwork",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"4pgnM60E",block:'[[[10,0],[15,0,[29,["circular-artwork",[52,[30,1],[28,[37,1],[" ",[30,1]],null]]]]],[12],[1,"\\n    "],[8,[39,2],[[24,0,"circular-artwork__artwork-gradient media-artwork-v2--no-border media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,2],"facehole-uber",[30,3],[30,4]]],null],[1,"\\n    "],[8,[39,2],[[24,0,"circular-artwork__artwork media-artwork-v2--no-border media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,2],"facehole-uber",[30,3],[30,4]]],null],[1,"\\n"],[13],[1,"\\n"]],["@class","@artwork","@fallbackProfile","@alt"],false,["if","concat","amp-artwork/music"]]',moduleName:"desktop-music-app/components/dt-artist-header/circular-artwork.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-artist-header/product-title",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"DHXpDTA8",block:'[[[10,0],[15,0,[29,["artist-header__product-title",[52,[30,1]," artist-header__product-title--only"]]]],[12],[1,"\\n    "],[11,"button"],[16,"aria-label",[28,[37,1],["FUSE.Play"],null]],[16,0,[29,["artist-header__product-title-playback-button round-button playback-button alt ",[52,[30,2],"disabled"]]]],[16,"disabled",[30,2]],[4,[38,2],["mouseover",[30,0,["playbackButtonHoverAction"]]],null],[4,[38,2],["click",[30,0,["playbackButtonAction"]]],null],[12],[13],[1,"\\n\\n    "],[10,"h1"],[14,0,"typography-header-emphasized artist-header__product-title-product-name artist-header__product-title-product-name--non-persistent-color"],[12],[1,"\\n        "],[1,[30,3,["name"]]],[1,"\\n    "],[13],[1,"\\n\\n"],[1,"        "],[8,[39,3],null,[["@lockup","@listenTo"],[[30,3],"click"]],[["default"],[[[[1,"\\n            "],[10,0],[14,"role","button"],[15,"aria-label",[28,[37,1],["More"],null]],[14,0,"artist-header__product-title-contextual-button menu-button round-button alt ember-view"],[12],[13],[1,"\\n        "]],[]]]]],[1,"\\n"],[13],[1,"\\n"]],["@displaysIndependently","@playbackButtonDisabled","@product"],false,["if","t","on","dt-entity-contextual-menu"]]',moduleName:"desktop-music-app/components/dt-artist-header/product-title.hbs",isStrictMode:!1}),r=()=>{}
class n extends t.default{constructor(){super(...arguments),this.playbackButtonAction=this.args.playbackButtonAction||r,this.playbackButtonHoverAction=this.args.playbackButtonHoverAction||r}}e.default=n,Ember._setComponentTemplate(i,n)})),define("desktop-music-app/components/dt-artist-list-item-view",["exports","@glimmer/component","desktop-music-app/utils/trusted-css"],(function(e,t,i){var r,n,o
function l(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"P34xqiNV",block:'[[[11,"li"],[16,0,[29,["dt-list-item-view typography-callout text-overflow",[52,[30,1]," selected"]]]],[16,"aria-selected",[52,[30,1],"true","false"]],[16,1,[52,[30,1],"page-container__first-linked-element"]],[24,"role","option"],[16,5,[30,0,["topStyleString"]]],[24,"tabindex","0"],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,2],[[30,0,["focusElement"]],[30,2],[30,1]],null],[4,[38,3],[[30,0,["focusElement"]],[30,2],[30,1]],null],[12],[1,"\\n    "],[18,3,null],[1,"\\n"],[13]],["@isSelected","@itemId","&default"],false,["if","on","did-insert","did-update","yield"]]',moduleName:"desktop-music-app/components/dt-artist-list-item-view.hbs",isStrictMode:!1})
let s=(r=Ember._action,n=Ember._action,l((o=class extends t.default{constructor(){super(...arguments)
this.transitionToHandler=this.args.transitionToHandler||(()=>{})}get topStyleString(){return(0,i.trustedCss)(`transform: ${this.topValue}`)}get topValue(){return`translateY(${this.args.top}px)`}focusElement(e,[t,i]){i&&t!==this.args.currentFocusedItemId&&(setTimeout((()=>{this.args.setFocusedItemId(this.args.itemId)})),e.focus())}onClick(){const{itemId:e,onSelected:t}=this.args
this.transitionToHandler(e),t&&"function"==typeof t&&t(e)}}).prototype,"focusElement",[r],Object.getOwnPropertyDescriptor(o.prototype,"focusElement"),o.prototype),l(o.prototype,"onClick",[n],Object.getOwnPropertyDescriptor(o.prototype,"onClick"),o.prototype),o)
e.default=s,Ember._setComponentTemplate(a,s)})),define("desktop-music-app/components/dt-artist-list-view",["exports","@glimmer/component","desktop-music-app/utils/trusted-css","ember-lifeline","desktop-music-app/utils/virtual-scrolling"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AMOUNT_OF_ITEMS_TO_FETCH=e.NUMBER_OF_RENDERED_ITEMS=e.HEIGHT_OF_EACH_ITEM=void 0
const E=Ember.HTMLBars.template({id:"DWdNvlg5",block:'[[[11,0],[16,0,[29,["dt-virtual-scrolling-artist-list-container ",[52,[30,1]," hidden"]]]],[16,"aria-hidden",[52,[30,1],"true","false"]],[16,"aria-label",[28,[37,1],["AMWeb.Library.Artists.List.Label"],null]],[24,"role","listbox"],[17,2],[4,[38,2],["keydown",[30,0,["onKeydown"]]],null],[4,[38,3],[[30,0,["setupScrollEventListener"]]],null],[4,[38,3],[[30,0,["setupInitialArtistList"]]],null],[12],[1,"\\n    "],[10,"ul"],[14,0,"dt-artist-list-view"],[15,5,[30,0,["scrollerHeightStyleString"]]],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["renderedItems"]]],null]],null],"@index",[[[1,"            "],[8,[39,6],[[16,0,[30,3,["icon"]]]],[["@itemId","@ariaLabel","@setFocusedItemId","@currentFocusedItemId","@isSelected","@transitionToHandler","@top","@onSelected"],[[30,3,["id"]],[30,3,["name"]],[30,0,["setFocusedItemId"]],[30,0,["focusedItemId"]],[52,[28,[37,7],[[30,5],[30,3,["id"]]],null],true],[30,6],[28,[37,8],[[30,0,["topPositions"]],[30,4]],null],[30,7]]],[["default"],[[[[1,"\\n\\n                "],[8,[39,9],null,[["@catalogData"],[[30,3,["catalog"]]]],null],[1,[30,3,["name"]]]],[]]]]],[1,"\\n"]],[3,4]],null],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@isHidden","&attrs","item","index","@selectedItemId","@transitionToHandler","@selectItem"],false,["if","t","on","did-insert","each","-track-array","dt-artist-list-item-view","eq","get","library-artist-icon"]]',moduleName:"desktop-music-app/components/dt-artist-list-view.hbs",isStrictMode:!1})
e.HEIGHT_OF_EACH_ITEM=54
const _=160
e.NUMBER_OF_RENDERED_ITEMS=_
let P,O
e.AMOUNT_OF_ITEMS_TO_FETCH=100
let S=(o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,b=class extends t.default{constructor(...e){super(...e),k(this,"fastboot",f,this),k(this,"musickitData",h,this),k(this,"topPositions",g,this),k(this,"renderedItems",y,this),k(this,"allArtists",v,this)}get scrollerHeightStyleString(){return(0,i.trustedCss)(`height: ${this.containerHeight}`)}get firstVisibleElementIndex(){const e=this.scrollContainer?this.scrollContainer.scrollTop:0
return Math.floor(e/54)}get containerHeight(){return`${54*this._totalItemsInLibrary}px`}get defaultScrollPosition(){return this.args.defaultScrollPosition||0}get _totalItemsInLibrary(){var e,t
return null===(e=this.args.model)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.total}get _itemsFetchedFromController(){var e
return null===(e=this.args.model)||void 0===e?void 0:e.data}_setTopPositions(e=0){const t=(0,n.computeTopPositions)(e,54,_)
this.topPositions=t}_updateRenderedItems(e){const t=e+_,i=this._libraryItems.slice(e,t)
this.renderedItems=i.map((e=>{if(e){const{catalog:t,id:i,name:r}=e
return"function"==typeof this.args.updateIdToName&&this.args.updateIdToName(i,r),{id:i,name:r,icon:"artist",catalog:t}}}))}async refresh(e){if(this.isDestroying||this.isDestroyed)return
if(O)return
const t=(0,n.calculateIndexOfFirstRenderedElement)(this.firstVisibleElementIndex,_),i=54*t
if((this.topPositions[0]!==i||e)&&(this._setTopPositions(i),this._updateRenderedItems(t),!O)){O=!0
if(!this._libraryItems.slice(t,t+_).includes(void 0))return void(O=!1)
const e=await this._fetchArtists(t),i=this._libraryItems.slice()
i.splice(t,100,...e),this._libraryItems=i,O=!1,this._updateRenderedItems(t),this.refresh()}}async _fetchArtists(e,t){try{return(await this.musickitData.getLibraryArtists({limit:100,offset:e})).data}catch(i){if(t>=5)return Array(_).fill()
let r=t||0
return r++,this._fetchArtists(e,r)}}_scrollHandler(){P&&window.cancelAnimationFrame(P),P=window.requestAnimationFrame(this.refresh.bind(this,!1)),"function"==typeof this.args.scrollHandler&&this.args.scrollHandler(this.scrollContainer.scrollTop)}setupScrollEventListener(e){this.fastboot.isFastBoot||(this.scrollContainer=e,(0,r.addEventListener)(this,this.scrollContainer,"scroll",this._scrollHandler,{passive:!0}),this.defaultScrollPosition&&this.scrollContainer.scrollTo({top:this.defaultScrollPosition}))}setFocusedItemId(e){Ember.set(this,"focusedItemId",e)}setupInitialArtistList(){const e=this._totalItemsInLibrary-this._itemsFetchedFromController.length,t=[...this._itemsFetchedFromController,...Array(e).fill()]
this._libraryItems=t,this._setTopPositions(),this.refresh(!0),O=!1}onKeydown(){this.args.onListKeyDownHandler(event,this._libraryItems)}willDestroy(...e){P&&window.cancelAnimationFrame(P),P=null,super.willDestroy(...e)}},f=w(b.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(b.prototype,"musickitData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(b.prototype,"topPositions",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=w(b.prototype,"renderedItems",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w(b.prototype,"allArtists",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w(b.prototype,"setupScrollEventListener",[c],Object.getOwnPropertyDescriptor(b.prototype,"setupScrollEventListener"),b.prototype),w(b.prototype,"setFocusedItemId",[d],Object.getOwnPropertyDescriptor(b.prototype,"setFocusedItemId"),b.prototype),w(b.prototype,"setupInitialArtistList",[p],Object.getOwnPropertyDescriptor(b.prototype,"setupInitialArtistList"),b.prototype),w(b.prototype,"onKeydown",[m],Object.getOwnPropertyDescriptor(b.prototype,"onKeydown"),b.prototype),b)
e.default=S,Ember._setComponentTemplate(E,S)})),define("desktop-music-app/components/dt-artist",["exports","@glimmer/component","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/feature-flags","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"G5PbOlOa",block:'[[[11,0],[24,0,"artist-page"],[4,[38,0],[[30,0,["didInsertArtistPage"]]],null],[12],[1,"\\n"],[44,[[28,[37,2],["artist"],[["model"],[[30,1]]]]],[[[44,[[28,[37,2],["meta/artist"],[["model"],[[30,2]]]]],[[[1,"                "],[8,[39,3],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n        "],[8,[39,4],null,[["@artist","@artistContainerUrl","@product"],[[30,2],[30,2,["artistContainerUrl"]],[30,2]]],null],[1,"\\n\\n"],[44,[[28,[37,5],[[28,[37,6],[[28,[37,7],[[30,0,["highlightedRelease"]],[30,2]],null]],null]],null]],[[[1,"            "],[10,0],[14,0,"artist-groups"],[12],[1,"\\n                "],[8,[39,8],null,[["@topSongs","@hasHighlightedRelease","@highlightedRelease","@groups"],[[30,2,["topSongsShelf"]],[30,2,["hasHighlightedRelease"]],[30,4,["value"]],[30,2,["artistGroups"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[4]]],[1,"\\n"],[41,[28,[37,10],[[30,2,["artistContemporaries"]],[30,2,["artistBio"]]],null],[[[1,"            "],[10,0],[14,0,"alt-section breakout-box"],[12],[1,"\\n"],[41,[30,2,["artistBio"]],[[[1,"                    "],[8,[39,11],[[24,0,"alt-section--line-clamp"]],[["@artist"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["artistContemporaries"]],[[[44,[[30,2,["artistContemporaries"]]],[[[1,"                        "],[8,[39,12],[[24,0,"divider-before"]],[["@id","@title","@grid","@itemComponent","@items","@seeAllComponent"],["artist-similar-artists",[30,5,["title"]],[28,[37,13],[[30,5,["sectionName"]]],null],[50,"dt-lockup",0,null,null],[30,5,["storeContent"]],[50,"see-all/url",0,null,[["url","label"],[[30,5,["seeAllUrl"]],[28,[37,15],["SeeAll.AriaLabel"],[["containerName"],[[30,5,["seeAllUrl"]]]]]]]]]],null],[1,"\\n"]],[5]]]],[]],null],[1,"            "],[13],[1,"\\n"]],[]],null]],[2]]],[13],[1,"\\n"]],["@model","artist","artistMeta","highlightedRelease","group"],false,["did-insert","let","present","seo-tags","dt-artist-header","await","call","fn","dt-artist-group","if","or","dt-artist-bio","dt-shelf","artist-shelf-grid","component","t"]]',moduleName:"desktop-music-app/components/dt-artist.hbs",isStrictMode:!1})
let k=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._action,c=Ember._action,d=(0,i.default)({callSuper:!0}),p=class extends t.default{constructor(...e){super(...e),g(this,"fastboot",m,this),g(this,"musickitData",b,this),g(this,"storefront",f,this),g(this,"user",h,this)}didInsertArtistPage(){const e=Ember.get(this,"args.model.artist")||Ember.get(this,"args.model")
Ember.get(e,"editorialArtwork.centeredFullscreenBackground")&&document.body.classList.add("artist-uber")}async highlightedRelease(e){var t,i,r
if(!e)return
const{featuredRelease:o,latestRelease:l}=e
if(!o&&!l||0===(null==o?void 0:o.length)&&0===(null==l?void 0:l.length))return
const a=!Array.isArray(o)&&(null==o?void 0:o.data)?o:l,s=null===(t=("function"==typeof a.serialize?a.serialize().data:a.data).relationships)||void 0===t||null===(i=t.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r[0]
if(!s)return
const u={id:s.id,type:s.type,kind:n.AMWEB_TYPE_TO_KIND_MAPPING[s.type],...s.attributes}
if(!["albums"].includes(u.type))return{...a,data:u}
const c={"omit[resource]":"autos"}
let d,p
c["omit[resource]"]="attributes",p="albums"===s.type?this.musickitData.getAlbumTracks(u.id,c):this.musickitData.getPlaylistTracks(u.id,c),this.fastboot.deferRendering(p)
try{d=await p}catch(m){d=[]}return u.tracks=d,this.user.isSubscribed&&this.storefront.isMyStorefront&&"albums"===s.type&&await this.musickitData.getAlbumLibraryData(u),"hasChildren"in u||(u.hasChildren=!!d),u.productSongs=d,{...a,data:u}}willDestroy(){super.willDestroy(...arguments),document.body.classList.remove("artist-uber")}},m=y(p.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"musickitData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"didInsertArtistPage",[u],Object.getOwnPropertyDescriptor(p.prototype,"didInsertArtistPage"),p.prototype),y(p.prototype,"highlightedRelease",[c],Object.getOwnPropertyDescriptor(p.prototype,"highlightedRelease"),p.prototype),y(p.prototype,"willDestroy",[d],Object.getOwnPropertyDescriptor(p.prototype,"willDestroy"),p.prototype),p)
e.default=k,Ember._setComponentTemplate(v,k)})),define("desktop-music-app/components/dt-brick",["exports","@glimmer/component","color","desktop-music-app/utils/route","desktop-music-app/utils/is-playable","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"Za57F5iH",block:'[[[11,0],[16,0,[29,["brick ",[52,[30,0,["brickArtwork"]],"has-artwork","no-artwork"]," ",[30,0,["brickKind"]]]]],[16,"aria-label",[30,0,["ariaLabel"]]],[24,"tabindex","0"],[16,"role",[30,0,["role"]]],[17,1],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[41,[30,0,["brickArtwork"]],[[[1,"        "],[8,[39,2],[[16,0,[52,[30,2],"media-artwork-v2--self-contained-brick","media-artwork-v2--fullwidth"]]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad","@alt"],[[30,0,["brickArtwork"]],[28,[37,3],[[30,3],"brick"],null],[28,[37,4],[[30,4]],null],[30,5],[30,0,["altTag"]]]],[["default"],[[[[1,"\\n            "],[8,[39,5],null,[["@lockup"],[[30,4]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[15,0,[29,["brick-description ",[52,[30,2],"typography-title-3-emphasized-tall_headline-emphasized","typography-callout"]]]],[12],[1,"\\n"],[41,[30,4,["designBadge"]],[[[1,"            "],[10,2],[14,0,"badge"],[12],[1,[30,4,["designBadge"]]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["secondaryLine"]],[[[1,"            "],[8,[39,6],null,[["@value"],[[30,0,["secondaryLine"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"line1"],[15,"dir",[30,6]],[12],[1,[28,[35,7],[[30,0,["secondaryLine"]]],null]],[13],[1,"\\n            "]],[6]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13]],["&attrs","@isSearchCategoryBrick","@artworkProfile","@lockup","@lazyLoad","direction"],false,["if","on","amp-artwork/music","or","fallback-artwork","dt-profile-badges","bidi-text","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-brick.hbs",isStrictMode:!1})
let v=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service("itunes-router"),u=Ember.inject.service,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),h(this,"playback",p,this),h(this,"storefront",m,this),h(this,"iTunesRouter",b,this),h(this,"router",f,this)}get brickContentData(){return this.args.lockup.storeContentLink||this.args.lockup.storeContent}get isBeatsOneBrick(){return 383===this.args.lockup.fcKind}get isCustomBrick(){return 394===this.args.lockup.fcKind}get isLinkBrick(){return"link"===this.brickKind}get isNotEmptyGroup(){return this.args.lockup.designBadge||this.secondaryLine}get role(){return this.isNotEmptyGroup?"":"button"}get ariaLabel(){var e
return null!==(e=this.args.lockup.contents)&&void 0!==e&&e.length?this.args.lockup.contents[0].name:this.args.lockup.designTag}get brickBGColor(){const e=Ember.get(this,"brickArtwork.bgColor")
if(e)return new i.default(`#${e}`)}get brickKind(){return(this.isCustomBrick||this.args.isSearchCategoryBrick)&&this.args.lockup.link?"link":this.isBeatsOneBrick?"beatsOne":Ember.get(this,"brickContentData.kind")}get brickArtwork(){if((this.isCustomBrick||this.args.isSearchCategoryBrick)&&this.args.lockup.artwork)return this.args.lockup.artwork
let e=Ember.get(this,"brickContentData.editorialArtwork.subscriptionHero")
return e||(e=Ember.get(this,"brickContentData.editorialArtwork.subscriptionCover")),e}get secondaryLine(){let e
if(this.isCustomBrick||this.args.isSearchCategoryBrick)e=Ember.get(this,"args.lockup.designTag")
else switch(this.brickKind){case"album":case"song":case"musicVideo":case"uploadedAudio":case"uploadedVideo":e=Ember.get(this,"brickContentData.artistName")
break
case"link":e=Ember.get(this,"args.lockup.designTag")
break
case"apple-curator":case"artist":case"playlist":case"radioStation":case"iTunesBrand":case"brand":case"activity":case"tvEpisode":case"showBrand":case"movie":e=Ember.get(this,"brickContentData.name")}return e}get isLinkable(){const e=this.brickKind
return"radioStation"!==e&&"uploadedAudio"!==e&&"uploadedVideo"!==e}get isPlayable(){return(0,n.default)(this.brickKind)}onClick(){const e=Ember.get(this,"brickContentData.url")||Ember.get(this,"args.lockup.link.url")||Ember.get(this,"brickContentData.postUrl")
if(this.isLinkable&&e){if("external"===Ember.get(this,"brick.link.target"))window.open(e,"_blank")
else{const{_routerMicrolib:t}=this.router._router,i=(0,r.normalizeURL)(e,t,this.storefront.resolvedStorefront);(0,r.transitionToRoute)(this.router,i)}}else if(!this.isLinkable&&this.isPlayable){const e=this.playback.getPlaybackConfig(this.brickContentData)
this.playback.play(e)}}},p=g(d.prototype,"playback",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(d.prototype,"iTunesRouter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g(d.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"onClick",[c],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),d)
e.default=v,Ember._setComponentTemplate(y,v)}))
define("desktop-music-app/components/dt-bubbles",["exports","@glimmer/component","desktop-music-app/presenters/bubbles","desktop-music-app/utils/key-events","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"GYBt1GGr",block:'[[[11,0],[24,0,"bubbles"],[4,[38,0],[[30,0,["setPadding"]]],null],[4,[38,0],[[30,0,["setupD3Data"]]],null],[4,[38,0],[[30,0,["addResizeListener"]]],null],[4,[38,1],[[30,0,["removeResizeListener"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"bubbles__body"],[15,"aria-labelledby",[30,1]],[14,"role","list"],[12],[1,"\\n        "],[10,0],[14,0,"bubbles__container"],[12],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"bubbles__footer"],[12],[1,"\\n"],[41,[30,0,["showMoreArtistsButton"]],[[[1,"            "],[11,"button"],[16,"disabled",[30,0,["moreArtistsDisabled"]]],[24,0,"button more-artists typography-title-2"],[4,[38,3],["click",[30,0,["showMoreBubbles"]]],null],[12],[1,"\\n                "],[1,[28,[35,4],["FUSE.Onboarding.SuggestMore"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showResetButton"]],[[[1,"            "],[11,"button"],[24,0,"button reset-bubbles"],[4,[38,3],["click",[30,0,["resetBubbles"]]],null],[12],[1,"\\n                "],[1,[28,[35,4],["Reset"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[18,2,null],[1,"\\n    "],[13],[1,"\\n"],[13]],["@axFormId","&default"],false,["did-insert","will-destroy","if","on","t","yield"]]',moduleName:"desktop-music-app/components/dt-bubbles.hbs",isStrictMode:!1}),M={"-1":0,0:47.5,1:62.5,2:62.5},C=["disliked","neutral","liked"],x={"-1":C[0],0:C[1],1:C[2]}
let D=(o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember.computed.equal("args.type","artist"),u=Ember.computed.equal("args.type","genre"),c=Ember.computed("args.bubbles","bubbleOffset"),d=Ember.computed("bubbleOffset","bubbleBatch","args.bubbles.length"),p=Ember._action,m=Ember._action,b=Ember._action,f=Ember._action,h=Ember._action,g=Ember._action,y=Ember._action,v=Ember.computed("sizeRatio"),k=class extends t.default{constructor(...e){super(...e),S(this,"i18n",w,this),S(this,"media",E,this),z(this,"bubbleBatch",15),z(this,"bubbleOffset",0),z(this,"selectedCount",0),S(this,"sizeRatio",_,this),S(this,"showMoreArtistsButton",P,this),S(this,"showResetButton",O,this)}get _wrapperSizes(){const e=document.querySelector(".bubbles__body")
return{width:null==e?void 0:e.offsetWidth,height:null==e?void 0:e.offsetHeight}}get bubbleData(){let e=Ember.get(this,"args.bubbles").toArray()
return"artist"===Ember.get(this,"args.type")&&(e.forEach((e=>Ember.get(e,"artist.name"))),e=e.splice(this.bubbleOffset,this.bubbleBatch)),e}get moreArtistsDisabled(){return this.bubbleOffset+this.bubbleBatch>=Ember.get(this,"args.bubbles.length")}updateRatio(){var e
let t=1
null!==(e=this.media.matches)&&void 0!==e&&e.includes("xsmall")&&(t=.65),Ember.set(this,"sizeRatio",t)}setPadding(){if(this.media.matches.includes("xsmall")){const e=document.querySelector(".dt-footer"),t=document.querySelector(".page-content.onboarding")
e&&t&&t.style.setProperty("padding-bottom",`${e.offsetHeight}px`)}}setupD3Data(){this.data=this.bubbleData,this.force=this.args.d3.layout.force().gravity(.1).friction(.8).charge(0).nodes(this.data).on("tick",this._handleCollisions()).start(),this.setupBubbles()}addResizeListener(){this.resizeListener=()=>{const{width:e,height:t}=this._wrapperSizes
this.force.size([e,t]).resume(),this.updateRatio(),this.setupBubbles()},this.resizeListener(),window.addEventListener("resize",this.resizeListener)}removeResizeListener(){window.removeEventListener("resize",this.resizeListener)}sizeBubble(e,t){e.transition().style("height",2*t+"px").style("width",2*t+"px")}setupBubbles(){const e=this,{d3:t}=this.args,n=t.select(".bubbles__container").selectAll(".bubble").data(this.data),o=n.enter().append("div").attr("class","bubble").attr("tabindex",0)
this.renderBubble(o),t.selectAll(".bubble").each((function(i){const r=t.select(this)
let n=i.preference
n=n>=2?1:n
const o=x[n]
this.setAttribute("role","listitem"),e.sizeBubble(r,e._bubbleRadius(i)),this.classList.add(o)})),n.exit().remove(),this.force.start(),t.select(".bubbles__body").selectAll(".bubble").on("keydown",(function(){const e=new r.KeyEvent(t.event);(e.isEnter||e.isSpacebar)&&this.querySelector(".bubble-text").click()})),t.select(".bubbles__body").selectAll(".bubble").on("click",(function(r){const n=t.select(this),{target:o}=t.event
let l=r.preference
l=l>=2?1:l
let a=1===l?0:l+1,s=x[a]
o.classList.contains("close")?(a=-1,s="disliked"):(a?o.setAttribute("aria-checked","true"):o.setAttribute("aria-checked","false"),e.sizeBubble(n,M[a]*e.sizeRatio,!0)),(0,i.setUserPreference)(r,a),n.each((function(){e._removeOldPrefs(this),this.classList.add(s)})),e.force.resume()}))}showMoreBubbles(){const e=this.data.filter((e=>e.preference))
this.data=[],this.setupBubbles()
const t=this.bubbleOffset,i=this.bubbleBatch,r=e.length
Ember.set(this,"selectedCount",r)
const n=t+i,o=15-r
Ember.set(this,"bubbleOffset",n),Ember.set(this,"bubbleBatch",o),this.data=e.concat(this.bubbleData),this.force.nodes(this.data),this.setupBubbles()}resetBubbles(){const e=this,{d3:t}=this.args
t.selectAll(".bubble").each((function(r){const n=t.select(this),o=r.preference
1!==o&&-1!==o||(n.each((function(){e._removeOldPrefs(this),(0,i.setUserPreference)(r,0)})),n.select(".bubble-text").attr("aria-checked","false"),e.sizeBubble(n,M[0]*e.sizeRatio,!0))}))}renderBubble(e){const{type:t}=this.args
let i
"genre"===t?i="name":"artist"===t&&(i="artist.name"),e.each((function(){this.classList.add(`${t}-bubble`)})).attr("title",(e=>Ember.get(e,i)||e.name)).append("p").attr("class","bubble-text").attr("role","checkbox").attr("aria-checked",(e=>e.preference?"true":"false")).html((e=>Ember.get(e,i)||e.name)),e.append("div").attr("class","close").attr("tabindex",0).attr("role","button").attr("aria-label",(e=>{const t=Ember.get(e,i)||e.name
return this.i18n.t("FUSE.Onboarding.Dislike.Genre",{label:t})}))}_removeOldPrefs(e){C.forEach((t=>{e.classList.remove(t)}))}_bubbleRadius(e){return M[e.preference]*this.sizeRatio}get _maxRadius(){const e=Object.keys(M).reduce(((e,t)=>M[t]>e?M[t]:e),0)
return this.sizeRatio*e||0}_handleCollisions(){const{d3:e}=this.args
return()=>{const t=e.geom.quadtree(this.data),{width:i,height:r}=this._wrapperSizes,n=this._maxRadius,o=e=>t=>{if(!t.point||t.point===e||e.isDestroyed||e.isDestroying||t.point.isDestroyed||t.point.isDestroying)return
const n=this._bubbleRadius(e)+this._bubbleRadius(t.point)+8,o=e.x-t.point.x,l=e.y-t.point.y,a=Math.sqrt(o*o+l*l)
if(a<n){const s=(a-n)/a,u=10*Math.max(i,r),c=o*s*(i/u),d=l*s*((r-2*n)/u)
Ember.set(e,"x",e.x-c),Ember.set(e,"y",e.y-d),Ember.set(t.point,"x",t.point.x+c),Ember.set(t.point,"y",t.point.y+d)}}
this.data.forEach((e=>t.visit(o(e))))
const l={x:null,y:null},a={x:null,y:null}
e.selectAll(".bubble").each((e=>{(!l.x||e.x<l.x)&&(l.x=e.x),(!a.x||e.x>a.x)&&(a.x=e.x),(!l.y||e.y<l.y)&&(l.y=e.y),(!a.y||e.y>a.y)&&(a.y=e.y)}))
const s=a.x+n>i?l.x-n:0,u=a.y+n>r?l.y-n:0
e.selectAll(".bubble").style("top",(e=>e.y-u-this._bubbleRadius(e)+"px")).style("left",(e=>e.x-s-this._bubbleRadius(e)+"px"))}}},w=j(k.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(k.prototype,"media",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=j(k.prototype,"sizeRatio",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=j(k.prototype,"showMoreArtistsButton",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=j(k.prototype,"showResetButton",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j(k.prototype,"bubbleData",[c],Object.getOwnPropertyDescriptor(k.prototype,"bubbleData"),k.prototype),j(k.prototype,"moreArtistsDisabled",[d],Object.getOwnPropertyDescriptor(k.prototype,"moreArtistsDisabled"),k.prototype),j(k.prototype,"updateRatio",[p],Object.getOwnPropertyDescriptor(k.prototype,"updateRatio"),k.prototype),j(k.prototype,"setPadding",[m],Object.getOwnPropertyDescriptor(k.prototype,"setPadding"),k.prototype),j(k.prototype,"setupD3Data",[b],Object.getOwnPropertyDescriptor(k.prototype,"setupD3Data"),k.prototype),j(k.prototype,"addResizeListener",[f],Object.getOwnPropertyDescriptor(k.prototype,"addResizeListener"),k.prototype),j(k.prototype,"removeResizeListener",[h],Object.getOwnPropertyDescriptor(k.prototype,"removeResizeListener"),k.prototype),j(k.prototype,"showMoreBubbles",[g],Object.getOwnPropertyDescriptor(k.prototype,"showMoreBubbles"),k.prototype),j(k.prototype,"resetBubbles",[y],Object.getOwnPropertyDescriptor(k.prototype,"resetBubbles"),k.prototype),j(k.prototype,"_maxRadius",[v],Object.getOwnPropertyDescriptor(k.prototype,"_maxRadius"),k.prototype),k)
e.default=D,Ember._setComponentTemplate(T,D)})),define("desktop-music-app/components/dt-button-add-to-library",["exports","@glimmer/component","ember-lifeline","desktop-music-app/services/itunes-user","desktop-music-app/utils/ember-lifeline-evented","desktop-music-app/utils/state-machine","desktop-music-app/utils/feature-flags","desktop-music-app/utils/logger","desktop-music-app/services/itunes-library"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P
function O(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SYNCING_TO_LIBRARY=e.QUEUED=void 0
const j=Ember.HTMLBars.template({id:"Cv3Gf9pk",block:'[[[41,[30,0,["shouldShowButton"]],[[[1,"    "],[11,"button"],[16,0,[29,["add-to-library ",[30,0,["additionalClassNames"]]]]],[16,1,[30,0,["buttonId"]]],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"data-metrics-click",[28,[37,1],["addToLibrary"],[["id"],[[30,1,["id"]]]]]],[17,2],[4,[38,2],["click",[30,0,["addProduct"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldShowProgressSpinner"]],[[[41,[30,0,["isContainer"]],[[[1,"                "],[8,[39,3],null,[["@offset"],[[30,0,["progress"]]]],null],[1,"\\n"]],[]],[[[1,"                "],[8,[39,4],null,[["@offset"],[[30,0,["progress"]]]],null],[1,"\\n"]],[]]]],[]],[[[1,"            "],[1,[28,[35,5],[[30,0,["icon","glyph"]]],[["class","aria-hidden"],[[30,0,["icon","class"]],"true"]]]],[1,"\\n"]],[]]],[41,[28,[37,6],[[28,[37,7],[[30,3]],null],[30,0,["statusText"]]],null],[[[1,"            "],[10,1],[14,0,"add-to-library__status-text typography-body-semibold-tall"],[12],[1,[30,0,["statusText"]]],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]],null]],["@product","&attrs","@isListItem"],false,["if","metrics-json-data","on","radial-progress-loader-container","radial-progress-loader-list","svg-jar","and","not"]]',moduleName:"desktop-music-app/components/dt-button-add-to-library.hbs",isStrictMode:!1}),T=98
e.QUEUED=T
const M=99
e.SYNCING_TO_LIBRARY=M
const C={[s.NOT_IN_LIBRARY]:"not-in-library add-to-library--not-in-library",[s.DOWNLOADED]:"downloaded add-to-library--downloaded",[s.IN_LIBRARY]:"in-library add-to-library--in-library",[s.PAUSED]:"in-library add-to-library--in-library",[s.IN_PLAYLIST]:"not-in-library add-to-library--not-in-library",[s.DOWNLOADING]:"downloading add-to-library--downloading",[T]:"downloading add-to-library--queued",[M]:"downloading add-to-library--syncing-to-library"}
let x=(u=Ember.inject.service("itunes-library"),c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember._tracked,h=Ember._action,g=class extends t.default{constructor(){super(...arguments),O(this,"library",y,this),O(this,"user",v,this),O(this,"i18n",k,this),O(this,"metrics",w,this),O(this,"playback",E,this),O(this,"musickitData",_,this),O(this,"progress",P,this),S(this,"downloadStateMachine",new o.default({[s.NOT_IN_LIBRARY]:{transitions:[M,s.DOWNLOADING,s.DOWNLOADED,T,s.IN_LIBRARY,s.IN_PLAYLIST]},[M]:{transitions:[s.DOWNLOADING,s.DOWNLOADED,s.IN_LIBRARY,T,s.NOT_IN_LIBRARY],actions:{onEnter:async()=>{if(this.isContainer)return await this.pollStatus(),!1},onExit:()=>{clearTimeout(this._timeout)}}},[s.IN_LIBRARY]:{transitions:[s.DOWNLOADING,s.DOWNLOADED,s.NOT_IN_LIBRARY,T,s.IN_PLAYLIST]},[s.PAUSED]:{transitions:[s.DOWNLOADING,s.DOWNLOADED,T,s.IN_LIBRARY]},[s.IN_PLAYLIST]:{transitions:[M,s.DOWNLOADING,T,s.NOT_IN_LIBRARY,s.IN_LIBRARY]},[s.DOWNLOADING]:{transitions:[s.DOWNLOADED,s.IN_LIBRARY,s.IN_PLAYLIST,s.NOT_IN_LIBRARY,s.PAUSED],actions:{onEnter:()=>{this.canShowProgress&&(this.isContainer?this.pollContainerProgress():this.canShowProgress&&(0,i.runTask)(this,this.pollDownloadProgress,400))},onExit:()=>{clearTimeout(this._timeout)}}},[s.DOWNLOADED]:{transitions:[s.NOT_IN_LIBRARY,s.IN_LIBRARY,s.IN_PLAYLIST]},[T]:{transitions:[s.DOWNLOADING,s.DOWNLOADED,s.IN_LIBRARY,s.IN_PLAYLIST,s.PAUSED]}},this.initialStatus)),S(this,"_timeout",null),this.buttonId=Ember.guidFor(this),this.loadingStatus=!1}get canShowProgress(){return this.library.canShowProgress}get canCancelDownloads(){return this.library.canCancelDownloads}get canPauseDownloads(){return this.library.canPauseDownloads}get isContainer(){return this.args.product&&Ember.get(this.args.product,"hasChildren")}get initialStatus(){return this.isDownloadingProduct||this.isDownloadingChildren?s.DOWNLOADING:this.library.getProductStatus(this.args.product)||s.NOT_IN_LIBRARY}get icon(){if(this.args.isListItem)switch(this.downloadStateMachine.value){case s.IN_LIBRARY:case s.PAUSED:return{glyph:"list-item-arrow-down",class:"add-to-library__glyph add-to-library__glyph--download"}
case M:case s.DOWNLOADING:return{glyph:"list-item-indeterminate-spinner",class:"add-to-library__glyph add-to-library__glyph--indeterminate-spinner"}
case s.DOWNLOADED:return{glyph:"list-item-arrow-down-circle-fill",class:"add-to-library__glyph add-to-library__glyph--downloaded"}
case s.IN_PLAYLIST:case s.NOT_IN_LIBRARY:default:return{glyph:"list-item-general-add",class:"add-to-library__glyph add-to-library__glyph-add"}}else switch(this.downloadStateMachine.value){case s.IN_LIBRARY:case s.PAUSED:return{glyph:"album-action-button-arrow-down",class:"add-to-library__glyph add-to-library__glyph--download"}
case M:return{glyph:"album-action-button-indeterminate-spinner",class:"add-to-library__glyph--indeterminate-spinner"}
case s.DOWNLOADING:return{glyph:"album-action-button-indeterminate-spinner",class:"add-to-library__glyph add-to-library__glyph--indeterminate-spinner"}
case s.DOWNLOADED:return{glyph:"album-action-button-checkmark",class:"add-to-library__glyph add-to-library__glyph--downloaded"}
case s.IN_PLAYLIST:case s.NOT_IN_LIBRARY:default:return{glyph:"album-action-button-general-add",class:"add-to-library__glyph add-to-library__glyph-add"}}}get additionalClassNames(){const e=[this.statusClassName]
return this.isPill?(e.push("add-to-library--is-pill"),e.push("typography-body-tall")):e.push("add-to-library--no-pill"),this.args.isListItem?e.push("add-to-library--list-item"):e.push("add-to-library--album-action-button"),(this.isDownloading||this.isSyncing)&&e.push("add-to-library--is-loading"),this.isSyncing&&e.push("add-to-library--syncing-to-library"),e.join(" ")}get idsInContainer(){const{product:e}=this.args
if(!e||!this.isContainer)return[]
const t=(e.songs||e.tracks||[]).filter((e=>!!e.playParams)).map((e=>e.id))
return this.canShowProgress?t:[e.id,...t]}get isPill(){return!this.args.isListItem&&!!this.statusText}get notInLibrary(){return this.downloadStateMachine.value===s.NOT_IN_LIBRARY}get isEmptyPlaylist(){return this.downloadStateMachine.value===s.EMPTY_PLAYLIST}get isAddedPlaylist(){return this.isPlaylist&&this.isInLibrary}get isPlaylist(){return"playlist"===Ember.get(this,"args.product.kind")}get shouldShowButton(){return!this.isEmptyPlaylist&&!this.isAddedPlaylist}get isInLibrary(){return this.downloadStateMachine.value===s.IN_LIBRARY}get isDownloaded(){return this.downloadStateMachine.value===s.DOWNLOADED}get isDownloading(){return this.downloadStateMachine.value===s.DOWNLOADING}get isPaused(){return this.downloadStateMachine.value===s.PAUSED}get isQueued(){return this.downloadStateMachine.value===T}get isSyncing(){return this.downloadStateMachine.value===M}get isInCatalog(){return this.downloadStateMachine.value===s.IN_PLAYLIST}get isDownloadingChildren(){const e=(this.library.currentDownloadingItemIds||[]).filter((e=>this.idsInContainer.includes(e)))
return this.isContainer&&!!e.length}get isDownloadingProduct(){const{product:e}=this.args
return(Ember.get(this,"library.currentDownloadingItemIds")||[]).includes(Ember.get(e,"id"))}get shouldShowProgressSpinner(){return this.canShowProgress&&(this.isQueued||this.isDownloading)}get statusClassName(){const e=this.downloadStateMachine.value
if("number"==typeof e)return C[e]}get statusText(){const e=this.i18n
return this.notInLibrary?e.t("FUSE.Add"):!this.isDownloaded&&void 0}get ariaLabel(){return this.isInLibrary||this.isDownloading||this.isQueued||this.isPaused?this.i18n.t("FUSE.VO.DownloadToLibraryLabel"):this.isDownloaded?this.i18n.t("FUSE.VO.Downloaded"):this.i18n.t("FUSE.VO.AddToLibraryLabel")}async addProduct(e){e.stopPropagation()
const{product:t}=this.args,{library:i}=this
this.isDownloading||this.isSyncing||this.isQueued?this.isContainer&&this.canPauseDownloads&&(this.recordMetricsClickEvent("stopDownload"),await i.pauseDownloads(this.idsInContainer),(0,a.log)(`Container download progress paused for ${t.id} - ${t.name}`),this.downloadStateMachine.transition(s.PAUSED)):this.notInLibrary||this.isInCatalog?(this.recordMetricsClickEvent("add"),this.downloadStateMachine.transition(M,!0),i.addProductToLibrary(t)):(this.isInLibrary||this.isPaused)&&(this.recordMetricsClickEvent("download"),(0,a.log)(`Initiating download for ${t.id}: ${t.name}`),this.downloadStateMachine.transition(s.DOWNLOADING,!0),i.downloadProduct(t))}async onDownloadEvent(e){var t
const{product:i}=this.args
if(!((null==i?void 0:i.id)===(e.itemId||(null===(t=e.details)||void 0===t?void 0:t.itemId)))){if(this.canShowProgress){if(this.isQueued||this.isDownloading||this.isDownloaded)return
if(this.library.isInQueue(i.id))[s.DOWNLOADING].includes(this.library.getProductStatus(i))&&this.downloadStateMachine.transition(s.DOWNLOADING)
else if(this.isContainer)[s.DOWNLOADING].includes(this.library.getProductStatus(i))&&!this.isDownloading&&this.downloadStateMachine.transition(s.DOWNLOADING)
else{const e=await this.library.knownDownloads();(null==e?void 0:e.find((e=>e.id===i.id)))&&!this.isDownloading&&this.downloadStateMachine.transition(T)}return}return void(this.isContainer&&this.downloadStateMachine.transition(this.library.getProductStatus(i)))}const r="downloadDidStart"===e.type,n="downloadDidFinish"===e.type,o="downloadDidPause"===e.type,l="downloadDidCancel"===e.type
r?this.downloadStateMachine.transition(s.DOWNLOADING):n?this.downloadStateMachine.transition(this.library.getProductStatus(i)):l||o?(this.downloadStateMachine.transition(this.library.getProductStatus(i)),clearTimeout(this._timeout)):(0,a.log)("Unhandled download event: ",e)}onCloudLibrarySyncEvent(){this.isDownloadingChildren||this.downloadStateMachine.transition(this.library.getProductStatus(this.args.product))}recordMetricsClickEvent(e="add"){const t=this.args.product,i=document.getElementById(this.buttonId),r={actionType:e,targetId:"add"===e?t.id:"LibraryItem",targetType:"button",actionUrl:null,actionDetails:{kind:t.kind}}
"add"===e&&(r.actionDetails.addTo="Library"),this.metrics.recordEvent("click",r,i)}async pollStatus(e=0){const{product:t}=this.args,i=this.library.getProductStatus(t)
if([s.DOWNLOADED,s.IN_LIBRARY,s.IN_PLAYLIST].includes(i))return(0,a.log)(`Product ${t.id} transitioned to a new state:`,i),void this.downloadStateMachine.transition(i)
e<50&&(await new Promise((e=>{this._timeout=setTimeout(e,2e3)})),this.pollStatus(e+1))}async pollContainerProgress(){const{product:e}=this.args,t=this.library.getProductStatus(e),i=this.idsInContainer.length
let r=await this.library.getActiveDownloadsCount(this.idsInContainer)
if(t===s.IN_LIBRARY&&0===r&&(r=i),this.progress=100-r/i*100,(0,a.log)(`Container download progress for ${e.id} - ${e.name}: ${this.progress}`),!r||0===r||[s.DOWNLOADED,s.PAUSED].includes(t)){const i=t===s.PAUSED?"is paused":"finished downloading"
return(0,a.log)(`Container product ${e.id} ${e.name} ${i}!`),void this.downloadStateMachine.transition(t)}await new Promise((e=>{this._timeout=setTimeout(e,600)})),this.pollContainerProgress()}async pollDownloadProgress(){const{product:e}=this.args
this.progress=this.library.getDownloadProgress(e.id),(0,a.log)(`Download progress for ${e.id} - ${e.name}: ${this.progress}`)
const t=this.isPaused||this.library.getProductStatus(e)===s.PAUSED
if(!(null!==this.progress&&this.progress<100)||t){const i=t?"is paused":"finished downloading"
return(0,a.log)(`Product ${e.id} ${e.name} ${i}!`),void this.downloadStateMachine.transition(this.library.getProductStatus(e))}await new Promise((e=>{this._timeout=setTimeout(e,1200)})),this.pollDownloadProgress()}},y=z(g.prototype,"library",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(g.prototype,"user",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(g.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(g.prototype,"metrics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(g.prototype,"playback",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(g.prototype,"musickitData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(g.prototype,"progress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z(g.prototype,"addProduct",[h],Object.getOwnPropertyDescriptor(g.prototype,"addProduct"),g.prototype),g)
e.default=x,Ember._setComponentTemplate(j,x)})),define("desktop-music-app/components/dt-button-menu",["exports","@glimmer/component","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/feature-flags","desktop-music-app/utils/media-type"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,g(e,t,"set"),i),i}function g(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"3CMBQnx+",block:'[[[11,"button"],[16,0,[29,["menu-button round-button menu-button--round",[52,[30,1]," alt menu-button--alt"],[52,[30,0,["hasArtworkInfo"]]," has-frosted-background"]]]],[16,"aria-label",[28,[37,1],["More"],null]],[16,"title",[28,[37,1],["FUSE.VO.ActionMenuHelpText"],null]],[16,"data-metrics-click",[30,0,["data-metrics-click"]]],[17,2],[4,[38,2],[[30,0,["setupButton"]]],null],[4,[38,3],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[41,[30,0,["hasArtworkInfo"]],[[[1,"        "],[1,[28,[35,4],["hover_smallMore"],[["class"],["glyph"]]]],[1,"\\n        "],[10,0],[14,0,"dt-play-button__fallback-bg"],[15,5,[30,0,["frostedBackgroundStyles"]]],[12],[13],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,4],["ellipsis"],[["class"],["menu-button--ellipsis"]]]],[1,"\\n"]],[]]],[13]],["@alt","&attrs"],false,["if","t","did-insert","on","svg-jar"]]',moduleName:"desktop-music-app/components/dt-button-menu.hbs",isStrictMode:!1})
let k=(o=Ember.inject.service("itunes-menu-item-interaction"),l=Ember.inject.service("itunes-menus"),a=Ember.inject.service,s=Ember._action,u=Ember._action,b=new WeakMap,c=class extends t.default{constructor(...e){super(...e),f(this,"menuInteraction",d,this),f(this,"menus",p,this),f(this,"i18n",m,this),b.set(this,{writable:!0,value:void 0})}get hasArtworkInfo(){return!Ember.isEmpty(this.args.artworkInfo)}get"data-metrics-click"(){const e=this.args.lockups
if(!e)return
const t=Ember.get(e,"length")>0?Ember.get(e,"firstObject.id"):Ember.get(e,"id")
return(0,i.default)(["selectMenuItem"],{id:t})}setupButton(e){h(this,b,e)}onClick(e){}},d=y(c.prototype,"menuInteraction",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(c.prototype,"menus",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(c.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(c.prototype,"setupButton",[s],Object.getOwnPropertyDescriptor(c.prototype,"setupButton"),c.prototype),y(c.prototype,"onClick",[u],Object.getOwnPropertyDescriptor(c.prototype,"onClick"),c.prototype),c)
e.default=k,Ember._setComponentTemplate(v,k)})),define("desktop-music-app/components/dt-content-rating",["exports","@glimmer/component","desktop-music-app/config/environment"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"QbQsvb3J",block:'[[[41,[30,1,["name"]],[[[1,"    "],[11,0],[24,0,"content-rating"],[4,[38,1],["click",[30,0,["openiTunesStore"]]],null],[12],[1,"\\n        "],[10,1],[14,0,"rating-title typography-caption-1-bold-short"],[12],[1,[28,[35,2],[[30,1,["name"]]],null]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],["@rating"],false,["if","on","uppercase"]]',moduleName:"desktop-music-app/components/dt-content-rating.hbs",isStrictMode:!1}),{APP:{tvMoviesRatingsUrl:b}}=i.default
let f=(r=Ember.inject.service("itunes-router"),n=Ember.inject.service("itunes-bag"),o=Ember.inject.service("itunes-storefront"),l=Ember._action,a=class extends t.default{constructor(...e){super(...e),d(this,"itunesRouter",s,this),d(this,"bag",u,this),d(this,"storefront",c,this)}openiTunesStore(){const e=this.storefront.getStorefrontCountryCode(),t=this.bag.getFromBag("language"),i=`${b}${e.toLowerCase()}?language=${t}`
this.itunesRouter.openStoreUrl(i)}},s=p(a.prototype,"itunesRouter",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"openiTunesStore",[l],Object.getOwnPropertyDescriptor(a.prototype,"openiTunesStore"),a.prototype),a)
e.default=f,Ember._setComponentTemplate(m,f)})),define("desktop-music-app/components/dt-contextual-add-to-playlist",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"BlHfpQk/",block:'[[[8,[39,0],null,[["@text","@icon","@panel"],[[30,1],"menu-playlist",[30,2]]],[["default"],[[[[1,"\\n    "],[8,[30,3,["panel"]],null,null,[["default"],[[[[1,"\\n        "],[8,[30,4,["option"]],null,[["@text","@icon","@onSelect"],[[28,[37,1],["FUSE.ContextualMenuItem.NewPlaylist"],null],"menu-add",[30,0,["createPlaylist"]]]],null],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[28,[37,4],[[30,0,["canEditPlaylist"]],[30,0,["musickitUser","playlists"]]],null]],null]],null],null,[[[1,"            "],[8,[30,4,["option"]],null,[["@text","@icon","@onSelect"],[[30,5,["name"]],"menu-playlist",[28,[37,5],[[30,0,["addToExistingPlaylist"]],[30,5]],null]]],null],[1,"\\n"]],[5]],null],[1,"    "]],[4]]]]],[1,"\\n"]],[3]]]]],[1,"\\n"]],["@leadText","@panel","option","panel","playlist"],false,["context-menu/option","t","each","-track-array","filter","fn"]]',moduleName:"desktop-music-app/components/dt-contextual-add-to-playlist.hbs",isStrictMode:!1})
let g=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=class extends t.default{constructor(...e){super(...e),b(this,"musickitData",c,this),b(this,"musickitUser",d,this),b(this,"contextMenu",p,this),b(this,"router",m,this)}canEditPlaylist(e){return e.canEdit}async createPlaylist(){const{lockup:e}=this.args,{artistName:t,name:i}=e,r=await this.musickitData.getTracksForItems(e),n=`${t} - ${i}`,o=await this.musickitUser.createUserPlaylist(n,r)
this.contextMenu.close(this.contextMenu.currentMenu),this.router.transitionTo("library.playlist",o.id,{queryParams:{editTitle:!0}})}async addToExistingPlaylist(e){const t=await this.musickitData.getTracksForItems(this.args.lockup)
this.musickitUser.appendTracksToPlaylist(t,e.id),this.contextMenu.close(this.contextMenu.currentMenu)}},c=f(u.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"musickitUser",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"contextMenu",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(u.prototype,"canEditPlaylist",[l],Object.getOwnPropertyDescriptor(u.prototype,"canEditPlaylist"),u.prototype),f(u.prototype,"createPlaylist",[a],Object.getOwnPropertyDescriptor(u.prototype,"createPlaylist"),u.prototype),f(u.prototype,"addToExistingPlaylist",[s],Object.getOwnPropertyDescriptor(u.prototype,"addToExistingPlaylist"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/dt-contextual-copy-option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"7R996iXO",block:'[[[8,[39,0],null,[["@class","@text","@icon","@testName","@onSelect"],[[29,["context-menu__component-option",[52,[30,1]," context-menu__component-option--successful"]]],[30,2],[30,3],[30,4],[30,5]]],[["default"],[[[[1,"\\n    "],[10,1],[14,0,"context-menu__option-text context-menu__component-option-text"],[12],[1,"\\n        "],[10,1],[14,0,"context-menu__option-text-clamp"],[12],[1,[30,6]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]]]],["@isCopySuccessful","@text","@icon","@testName","@onSelect","@successMessage"],false,["context-menu/option","if"]]',moduleName:"desktop-music-app/components/dt-contextual-copy-option.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-contextual-sharing",["exports","@glimmer/component","desktop-music-app/utils/logger","ember-lifeline","@marcom/ac-clipboard/copyString","desktop-music-app/config/environment"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E
function _(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const S=Ember.HTMLBars.template({id:"h9bMU+h6",block:'[[[8,[39,0],[[4,[38,1],[[30,0,["setupDialog"]]],null]],[["@isShareButton","@panelId","@onClickCallback","@text","@icon","@panel","@testName"],[true,[30,0,["panelId"]],[30,0,["focusSubmenu"]],[30,1],"menu-share",[30,2],"sharing-option"]],[["default"],[[[[1,"\\n    "],[8,[30,3,["panel"]],null,[["@id"],[[30,0,["panelId"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["sharingIsEnabled"]],[[[1,"            "],[8,[30,4,["option"]],null,[["@text","@icon","@testName","@onSelect"],[[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.Twitter"],null],"menu-twitter","share-twitter",[28,[37,4],[[30,0,["prepareAndShare"]],[30,0,["shareTwitter"]]],null]]],null],[1,"\\n\\n            "],[8,[30,4,["option"]],null,[["@text","@icon","@testName","@onSelect"],[[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.Facebook"],null],"menu-facebook","share-facebook",[28,[37,4],[[30,0,["prepareAndShare"]],[30,0,["shareFacebook"]]],null]]],null],[1,"\\n\\n"],[41,[28,[37,5],[[28,[37,6],[[30,5]],null],"musicVideo"],null],[[[1,"                "],[8,[39,7],null,[["@successMessage","@text","@icon","@testName","@isCopySuccessful","@onSelect"],[[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.CopyEmbedCode.SuccessMessage"],null],[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.CopyEmbedCode.Label"],null],"menu-copy-embed-code","copy-embed",[30,0,["isEmbedCopySuccessful"]],[28,[37,4],[[30,0,["prepareAndShare"]],[30,0,["onSelectEmbed"]]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n            "],[8,[39,7],null,[["@successMessage","@text","@icon","@testName","@isCopySuccessful","@onSelect"],[[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.CopyLink.SuccessMessage"],null],[28,[37,3],["FUSE.ContextualMenuItem.ContextualSharing.CopyLink.Label"],null],"menu-copy-link","copy-link",[30,0,["isCopySuccessful"]],[28,[37,4],[[30,0,["prepareAndShare"]],[30,0,["onSelectCopy"]]],null]]],null],[1,"\\n"]],[]],null],[1,"    "]],[4]]]]],[1,"\\n"]],[3]]]]],[1,"\\n"]],["@leadText","@panel","option","panel","@lockup"],false,["context-menu/option","did-insert","if","t","fn","not-eq","get-kind","dt-contextual-copy-option"]]',moduleName:"desktop-music-app/components/dt-contextual-sharing.hbs",isStrictMode:!1}),{SHARING_TIMER:z}=o.default.APP
let j,T=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,b=Ember._action,f=Ember._action,h=Ember._action,g=Ember._action,y=class extends t.default{constructor(...e){super(...e),_(this,"contextMenu",v,this),_(this,"musickit",k,this),_(this,"metrics",w,this),_(this,"accessibility",E,this),P(this,"isCopySuccessful",!1),P(this,"isEmbedCopySuccessful",!1),P(this,"copy",n.default)}async setupDialog(){j||(j=(await emberAutoImportDynamic("@marcom/ac-social/Dialog")).default),this.contextMenuElement=document.querySelector(".context-menu")}get panelId(){return Ember.guidFor(this.args.panel)}get sharingIsEnabled(){var e,t
return(null===(e=this.args.lockup)||void 0===e?void 0:e.url)||(null===(t=this.args.lockup)||void 0===t?void 0:t.isLibraryPlaylist)}async prepareAndShare(e){let t=this.args.lockup.url
if(e){if(!t&&this.args.lockup.isLibraryPlaylist){const e=this.args.lockup.id
t=(await this.musickit.instance.api.library.createCatalogPlaylist(e)).url}e(t)}}get embedCodeToCopyToClipboard(){const e=this.args.lockup.url||this.fetchedUrl
if(e)try{return this.musickit.generateMusicKitEmbedCode(e)}catch(t){return void(0,i.log)(`Cannot generate embed code with curator URL - ${t}`)}}shareTwitter(e){const t={actionType:"select",targetType:"button",targetId:Ember.get(this,"args.lockup.id"),actionContext:"contextualAction",actionDetails:{details:"shareToTwitter"}}
this.metrics.recordEvent("click",t,this.contextMenuElement),j.create(j.TWITTER_TWEET,{url:e})}shareFacebook(e){const t={actionType:"select",targetType:"button",targetId:Ember.get(this,"args.lockup.id"),actionContext:"contextualAction",actionDetails:{details:"shareToFacebook"}}
this.metrics.recordEvent("click",t,this.contextMenuElement),j.create(j.FACEBOOK_SHARE,{url:e})}closeMenu(){const{currentMenu:e}=this.contextMenu
this.contextMenu.close(e)}onSelectCopy(e){e&&(this._onSelect(e,"isCopySuccessful"),this._recordMetricsCopyOption("copyLink"))}onSelectEmbed(){this.embedCodeToCopyToClipboard&&(this._onSelect(this.embedCodeToCopyToClipboard,"isEmbedCopySuccessful"),this._recordMetricsCopyOption("copyEmbedCode"))}focusSubmenu(){const e=document.querySelector(`#${this.panelId}`)
e&&(e.setAttribute("tabindex",0),(0,r.runTask)(this,(()=>{const t=e.querySelector("[role=menuitem]")
t&&t.focus()}),this.accessibility.RENDERING_OFFSET))}_recordMetricsCopyOption(e){const t={actionType:"select",targetType:"button",targetId:Ember.get(this,"args.lockup.id"),actionContext:"contextualAction",actionDetails:{details:e}}
this.metrics.recordEvent("click",t,this.contextMenuElement)}_onSelect(e,t){this.copy(e)?(Ember.set(this,t,!0),this.contextMenu.cancelId=(0,r.runTask)(this,(()=>{this.closeMenu(),Ember.set(this,t,!1)}),z)):(Ember.set(this,t,!1),this.closeMenu())}},v=O(y.prototype,"contextMenu",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(y.prototype,"musickit",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(y.prototype,"metrics",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=O(y.prototype,"accessibility",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(y.prototype,"setupDialog",[c],Object.getOwnPropertyDescriptor(y.prototype,"setupDialog"),y.prototype),O(y.prototype,"prepareAndShare",[d],Object.getOwnPropertyDescriptor(y.prototype,"prepareAndShare"),y.prototype),O(y.prototype,"shareTwitter",[p],Object.getOwnPropertyDescriptor(y.prototype,"shareTwitter"),y.prototype),O(y.prototype,"shareFacebook",[m],Object.getOwnPropertyDescriptor(y.prototype,"shareFacebook"),y.prototype),O(y.prototype,"closeMenu",[b],Object.getOwnPropertyDescriptor(y.prototype,"closeMenu"),y.prototype),O(y.prototype,"onSelectCopy",[f],Object.getOwnPropertyDescriptor(y.prototype,"onSelectCopy"),y.prototype),O(y.prototype,"onSelectEmbed",[h],Object.getOwnPropertyDescriptor(y.prototype,"onSelectEmbed"),y.prototype),O(y.prototype,"focusSubmenu",[g],Object.getOwnPropertyDescriptor(y.prototype,"focusSubmenu"),y.prototype),y)
var M=Ember._setComponentTemplate(S,T)
e.default=M})),define("desktop-music-app/components/dt-curator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"rvSipL8U",block:'[[[10,0],[12],[1,"\\n"],[44,[[28,[37,1],["curator"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/curator"],[["model"],[[30,2]]]]],[[[1,"                "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n        "],[8,[39,3],null,[["@artwork","@artworkCrop","@product","@storeContent","@showName"],[[52,[28,[37,5],[[30,2,["isGenrePage"]]],null],[30,2,["editorialArtwork"]]],"fc",[30,2,["product"]],[30,2,["product"]],true]],null],[1,"\\n\\n"],[41,[28,[37,6],[[30,2,["featuredContent"]],[30,2,["isGenrePage"]]],null],[[[1,"            "],[10,0],[14,0,"divider-before"],[12],[1,"\\n                "],[8,[39,7],null,[["@featuredContent"],[[30,2,["featuredContent"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["editorialNotes","standard"]],[[[1,"            "],[10,0],[14,0,"artist-bio artist-bio--spacer-c-top divider-before"],[12],[1,"\\n                "],[8,[39,8],[[24,0,"artist-bio__about"]],[["@title"],[[52,[30,2,["isGenrePage"]],[28,[37,9],["FUSE.Bio.About"],null]]]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"artist-bio__notes typography-body-tall"],[12],[1,"\\n                        "],[8,[39,10],null,[["@content","@lines","@maxLines"],[[30,2,["editorialNotes","standard"]],8,10]],null],[1,"\\n                    "],[13],[1,"\\n                "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,6],[[30,2,["featuredContent"]],[28,[37,5],[[30,2,["isGenrePage"]]],null]],null],[[[1,"            "],[10,0],[14,0,"divider-before"],[12],[1,"\\n                "],[8,[39,7],null,[["@featuredContent"],[[30,2,["featuredContent"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,5],[[30,2,["featuredContent"]]],null],[[[1,"            "],[10,0],[14,0,"page-content"],[12],[1,"\\n"],[41,[30,2,["playlists","length"]],[[[1,"                    "],[8,[39,11],[[16,0,[52,[30,2,["isExpanded"]],"dt-shelf--group-row-gap divider-before","divider-before"]]],[["@id","@grid","@title","@items","@itemComponent","@groupCount","@seeAllComponent"],["curator-playlists","G",[28,[37,9],["IXDisplayableKind.playlist",[28,[37,12],null,[["pluralize","count"],[[30,2,["playlists","length"]],[30,2,["playlists","length"]]]]]],null],[30,2,["playlists"]],[50,"dt-lockup",0,null,null],[52,[30,2,["isExpanded"]],2],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllPlaylistsUrl"]],[28,[37,9],["SeeAll.AriaLabel"],[["containerName"],[[28,[37,9],["IXDisplayableKind.playlist.other"],null]]]]]]]]],null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n"],[41,[30,2,["grouping","length"]],[[[42,[28,[37,15],[[28,[37,15],[[30,2,["grouping"]]],null]],null],null,[[[1,"                    "],[8,[39,11],[[16,0,[52,[30,2,["isExpanded"]],"dt-shelf--group-row-gap divider-before","divider-before"]]],[["@id","@grid","@title","@items","@itemComponent"],["curator-groupings","G",[30,4,["name"]],[30,4,["contents"]],[50,"dt-lockup",0,null,null]]],null],[1,"\\n"]],[4]],null]],[]],null]],[]],null],[1,"\\n"]],[2]]],[13],[1,"\\n"]],["@curator","curator","curatorMeta","grouping"],false,["let","present","seo-tags","dt-uber","if","not","and","dt-featured-content-root","dt-titled-box","t","dt-truncate","dt-shelf","hash","component","each","-track-array"]]',moduleName:"desktop-music-app/components/dt-curator.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-editorial-video",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/editorial-video","desktop-music-app/utils/trusted-css"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z
function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function T(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const M=Ember.HTMLBars.template({id:"HNPCM3yq",block:'[[[11,0],[16,0,[29,["editorial-video__container ",[30,0,["assetKeyForClassName"]]]]],[17,1],[16,5,[52,[30,0,["shouldShowBackgroundColor"]],[30,0,["editorialVideoStyling"]]]],[4,[38,1],[[30,0,["setupObserver"]]],null],[4,[38,1],[[30,0,["setAsset"]]],null],[4,[38,1],[[30,0,["addResizeListener"]]],null],[4,[38,2],[[30,0,["stopWatchingViewport"]]],null],[12],[1,"\\n"],[41,[30,0,["videoSrc"]],[[[1,"        "],[10,"amp-ambient-video"],[14,0,"editorial-video"],[15,"src",[30,0,["videoSrc"]]],[15,"data-playing",[30,0,["shouldBePlaying"]]],[12],[13],[1,"\\n"]],[]],null],[13],[1,"\\n"]],["&attrs"],false,["if","did-insert","will-destroy"]]',moduleName:"desktop-music-app/components/dt-editorial-video.hbs",isStrictMode:!1})
let C=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._action,b=Ember._action,f=Ember._action,h=Ember._action,g=Ember._action,y=Ember._action,v=class extends t.default{constructor(...e){super(...e),j(this,"editorialVideoShelfMonitor",k,this),j(this,"editorialVideoSwitchToggle",w,this),j(this,"inViewport",E,this),j(this,"media",_,this),j(this,"windowVisibility",P,this),j(this,"isInViewport",O,this),j(this,"assetKey",S,this),j(this,"editorialVideoElement",z,this)}get centermostShelf(){return this.editorialVideoShelfMonitor.centermostShelf}get asset(){const{editorialVideo:e}=this.args
return e[this.assetKey]}addResizeListener(){(0,i.addEventListener)(this,window,"resize",this._resizeHandler)}setupObserver(e){this.editorialVideoElement=e
let t=.6
"number"==typeof this.args.viewportThreshold&&(t=this.args.viewportThreshold)
const{onEnter:i,onExit:r}=this.inViewport.watchElement(this.editorialVideoElement,{intersectionThreshold:t})
i(this.didEnterViewport),r(this.didExitViewport)}setAsset(){const[e="medium"]=this.media.matches,{editorialVideo:t,lockupTypeId:i}=this.args
this.assetKey=(0,r.bestVideoAssetKey)(i,t,e)}didEnterViewport(){this.isDestroyed||this.isDestroying||(this.isInViewport=!0)}didExitViewport(){this.isInViewport=!1}_resizeHandler(){(0,i.debounceTask)(this,"setAsset",500)}get assetKeyForClassName(){return this.assetKey?Ember.String.dasherize(this.assetKey):""}get shouldShowBackgroundColor(){return["dt-superhero","dt-artist-header"].includes(this.args.lockupTypeId)}get videoSrc(){var e,t,i,r
return(null===(e=this.asset)||void 0===e||null===(t=e.videoFile)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.assetUrl)||(null===(r=this.asset)||void 0===r?void 0:r.video)}get editorialVideoStyling(){var e
if(null!==(e=this.asset)&&void 0!==e&&e.previewFrame){const{bgColor:e}=this.asset.previewFrame
return(0,n.trustedCss)(`--editorial-video-background-color: #${e};`)}}pauseEditorialVideo(){(0,i.runTask)(this,(()=>{if(this.editorialVideoElement){const e=this.editorialVideoElement.querySelector("amp-ambient-video")
void 0!==(null==e?void 0:e.pause)&&e.pause()}}),250)}playEditorialVideo(){(0,i.runTask)(this,(()=>{if(this.editorialVideoElement){const e=this.editorialVideoElement.querySelector("amp-ambient-video")
void 0!==e.play&&e.play()}}),500)}get shouldBePlaying(){const e=()=>(this.playEditorialVideo(),!0),t=()=>(this.pauseEditorialVideo(),!1)
if(!this.editorialVideoElement||!this.isInViewport||!this.windowVisibility.windowIsFocused)return t()
if(this.args.forceAnimation)return e()
if(!this.centermostShelf)return t()
const{id:i,shelfPlaybackItems:r,shelfElement:n}=this.centermostShelf,o=this.args.lockup.id,l=r.findIndex((e=>e.id===o))
if(l<0)return t()
if(n.contains(this.editorialVideoElement)){const t={...this.centermostShelf}
return t.shelfPlaybackItems[l].didStartPlayback=!0,this.editorialVideoShelfMonitor.updateShelfById(i,t),e()}return t()}stopWatchingViewport(){this.inViewport.stopWatching(this.editorialVideoElement)}},k=T(v.prototype,"editorialVideoShelfMonitor",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(v.prototype,"editorialVideoSwitchToggle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(v.prototype,"inViewport",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T(v.prototype,"media",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(v.prototype,"windowVisibility",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(v.prototype,"isInViewport",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=T(v.prototype,"assetKey",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=T(v.prototype,"editorialVideoElement",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(v.prototype,"addResizeListener",[m],Object.getOwnPropertyDescriptor(v.prototype,"addResizeListener"),v.prototype),T(v.prototype,"setupObserver",[b],Object.getOwnPropertyDescriptor(v.prototype,"setupObserver"),v.prototype),T(v.prototype,"setAsset",[f],Object.getOwnPropertyDescriptor(v.prototype,"setAsset"),v.prototype),T(v.prototype,"didEnterViewport",[h],Object.getOwnPropertyDescriptor(v.prototype,"didEnterViewport"),v.prototype),T(v.prototype,"didExitViewport",[g],Object.getOwnPropertyDescriptor(v.prototype,"didExitViewport"),v.prototype),T(v.prototype,"stopWatchingViewport",[y],Object.getOwnPropertyDescriptor(v.prototype,"stopWatchingViewport"),v.prototype),v)
e.default=C,Ember._setComponentTemplate(M,C)})),define("desktop-music-app/components/dt-empty-library-state",["exports","web/components/dt-empty-library-state"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-entity-contextual-menu",["exports","desktop-music-app/components/contextual-menu","desktop-music-app/utils/media-type"],(function(e,t,i){var r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"B+uRQEiz",block:'[[[11,0],[17,1],[4,[38,0],[[30,0,["setAxRole"]],[30,0]],null],[12],[1,"\\n    "],[8,[39,1],null,[["@onOpen"],[[30,0,["setMenuItems"]]]],[["default"],[[[[1,"\\n        "],[11,0],[16,"aria-label",[28,[37,2],["More"],null]],[24,"role","button"],[24,"tabindex","0"],[4,[38,3],[[30,3],[30,2,["open"]]],null],[12],[1,"\\n            "],[18,7,null],[1,"\\n        "],[13],[1,"\\n        "],[8,[30,2,["panel"]],[[4,[38,3],["click",[30,0,["maybeStopClickPropagation"]]],null]],null,[["default"],[[[[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[28,[37,7],["order",[30,0,["renderedMenuItems"]]],null]],null]],null],null,[[[41,[30,5,["component"]],[[[1,"                    "],[46,[30,5,["component"]],null,[["leadText","panel","item","lockup"],[[28,[37,2],[[30,5,["text"]]],null],[30,4,["self"]],[30,5],[30,6]]],null],[1,"\\n"]],[]],[[[1,"                    "],[8,[30,4,["option"]],null,[["@testName","@text","@icon","@onSelect"],[[30,5,["dataTest"]],[28,[37,2],[[30,5,["text"]]],null],[30,5,["icon"]],[28,[37,10],[[30,0],[30,5,["action"]]],null]]],null],[1,"\\n"]],[]]]],[5]],null],[1,"        "]],[4]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n"],[13],[1,"\\n"]],["&attrs","menu","@listenTo","panel","item","@lockup","&default"],false,["did-insert","context-menu","t","on","yield","each","-track-array","sort-by","if","component","get"]]',moduleName:"desktop-music-app/components/dt-entity-contextual-menu.hbs",isStrictMode:!1}),f={text:"FUSE.ContextualMenuItem.CreateStation",icon:"",action:"createStation",dataTest:"create-station",order:0},h=[{text:"FUSE.ContextualMenuItem.Share",component:"dt-contextual-sharing",dataTest:"sharing-option",order:1}]
let g=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._tracked,l=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),p(this,"musickit",u,this),p(this,"playback",c,this),p(this,"renderedMenuItems",d,this)}get kind(){return(0,i.getKind)(this.args.lockup)}setMenuItems(){const e=[...h]
"artist"===this.kind&&e.push(f),this.renderedMenuItems=e}createStation(){const{nowPlayingItem:e}=this.musickit,{id:t}=this.args.lockup,{radioSeedArtistId:i}=this.playback,r={[this.kind]:t}
i&&i===t?this.playback.isPaused&&this.playback.play(e):this.musickit.createStation(r).then((()=>{this.isDestroyed&&this.isDestroying||(this.playback.play(r),this.playback.radioSeedArtistId=t)})),this._closeMenu()}},u=m(s.prototype,"musickit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"playback",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"renderedMenuItems",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(s.prototype,"setMenuItems",[l],Object.getOwnPropertyDescriptor(s.prototype,"setMenuItems"),s.prototype),m(s.prototype,"createStation",[a],Object.getOwnPropertyDescriptor(s.prototype,"createStation"),s.prototype),s)
e.default=g,Ember._setComponentTemplate(b,g)})),define("desktop-music-app/components/dt-episode",["exports","@glimmer/component"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"L/Gaiyni",block:'[[[44,[[28,[37,1],["episode"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/episode"],[["model"],[[30,2]]]]],[[[1,"            "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n    "],[10,0],[14,0,"episode-page-header"],[12],[1,"\\n        "],[10,0],[14,0,"episode-info"],[12],[1,"\\n            "],[10,0],[14,0,"video-container episode-container"],[12],[1,"\\n                "],[8,[39,3],[[24,0,"lockup lockup--episode-page"],[16,"alt",[30,2,["name"]]]],[["@video","@artwork"],[[30,2,["videoAsset"]],[30,2,["previewArtwork"]]]],null],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"artist-info"],[12],[1,"\\n                "],[10,0],[14,0,"typography-subhead color-label-secondary"],[12],[1,[30,2,["episodeTrackData"]]],[13],[1,"\\n\\n                "],[10,2],[14,0,"episode-name typography-large-title-emphasized"],[12],[1,"\\n                    "],[1,[30,2,["name"]]],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"episode-artist-name typography-large-title"],[12],[1,"\\n"],[41,[30,2,["showUrl"]],[[[1,"                        "],[10,3],[15,6,[30,2,["showUrl"]]],[14,0,"dt-link-to"],[14,"dir","auto"],[15,"data-metrics-click",[28,[37,5],["linkToShow"],[["url","id"],[[30,2,["showUrl"]],[30,2,["showId"]]]]]],[12],[1,"\\n                            "],[1,[30,2,["artistName"]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],[[[1,"                        "],[1,[30,2,["artistName"]]],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n\\n"],[41,[30,2,["description","standard"]],[[[1,"                    "],[10,2],[14,0,"episode-notes typography-body-tall"],[12],[1,"\\n                        "],[10,0],[14,0,"artist-bio"],[12],[1,"\\n                            "],[8,[39,6],null,[["@content","@lines","@maxLines"],[[30,2,["description","standard"]],5,8]],null],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"\\n                "],[10,0],[14,0,"color-label-secondary"],[12],[1,"\\n                    "],[10,0],[14,0,"product-descriptions typography-subhead-emphasized"],[12],[1,"\\n"],[1,"                        "],[1,[28,[35,7],[[28,[37,8],[[28,[37,9],["AMWEB.ContentA.Middot.ContentB"],[["contentA","contentB"],[[30,2,["episodeDate"]],[28,[37,10],[[30,2,["episodeDuration"]]],null]]]]],null]],null]],[1,"\\n\\n                        "],[8,[39,11],null,[["@rating"],[[30,2,["rating"]]]],null],[1,"\\n                        "],[8,[39,12],null,[["@attributes","@hasHD"],[[30,2,["primaryLanguage"]],[30,2,["hasHD"]]]],null],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"cloud-button-container buttons"],[12],[1,"\\n"],[1,"                        "],[8,[39,13],[[24,0,"typography-body-semibold-tall icon-wrapper"]],[["@isPillButton","@locKeyActionText","@url"],[true,[28,[37,9],["AMWeb.openInMusic"],null],[30,2,["webClientLaunchURL"]]]],null],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,2,["otherEpisodes"]],[[[1,"        "],[10,0],[14,0,"section-divider"],[12],[13],[1,"\\n        "],[8,[39,14],[[24,0,"season-title episode-swoosh"]],[["@id","@items","@grid","@title"],["other-episodes",[30,2,["otherEpisodes"]],"C",[30,2,["moreFromShowTitle"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,16],[[28,[37,16],[[30,4,["items"]]],null]],null],null,[[[44,[[28,[37,17],[[30,4,["items"]],[30,6]],null]],[[[1,"                    "],[8,[30,4,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,5],[30,6],[30,7]]],[["default"],[[[[1,"\\n                        "],[8,[39,18],null,[["@episode","@seasonNumber"],[[30,5],[30,5,["episodeSeasonNumber"]]]],null],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[7]]]],[5,6]],null],[1,"        "]],[4]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["songsList"]],[[[1,"        "],[10,0],[14,0,"section-divider"],[12],[13],[1,"\\n        "],[8,[39,14],null,[["@id","@grid","@title","@items","@itemComponent","@groupCount"],["episode-playlists","C",[28,[37,9],["FUSE.OC.Information.SongsOnEpisode"],null],[30,2,["songsList"]],"dt-list-lockup",3]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["featuredContent"]],[[[1,"        "],[8,[39,19],null,[["@featuredContent"],[[30,1,["featuredContent"]]]],null],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,20],null,[["@product","@credits","@artists","@languages"],[[30,2],[30,2,["credits"]],[30,2,["musicArtists"]],[30,2,["languages"]]]],null],[1,"\\n"]],[2]]]],["@model","episode","episodeMeta","dts","individualEpisode","index","isLast"],false,["let","present","seo-tags","dt-music-video-playback","if","metrics-json-data","dt-truncate","untrusted-html","uppercase","t","duration-summary","dt-content-rating","dt-language-attributes","web-to-native-cta/apple-music","dt-shelf","each","-track-array","is-last-array-index","dt-show-episode","dt-featured-content-root","dt-show-credits"]]',moduleName:"desktop-music-app/components/dt-episode.hbs",isStrictMode:!1})
let l=(i=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,r,o
super(...e),t=this,i="user",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}},a=r.prototype,s="user",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n=p,r)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/dt-exclusive",["exports","@glimmer/component","desktop-music-app/utils/alt-tag","color","desktop-music-app/utils/route","desktop-music-app/utils/is-playable"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"+XfJ4ubi",block:'[[[10,0],[15,0,[29,["exclusive lockup",[52,[30,1]," exclusive-with-copy"],[52,[30,0,["exclusiveArtwork"]]," has-artwork"," no-artwork"],[52,[30,0,["exclusiveKind"]]," exclusiveKind"]]]],[12],[1,"\\n    "],[8,[39,1],null,[["@artwork","@height","@width","@crop","@lazyLoad","@alt"],[[30,0,["exclusiveArtwork"]],395,700,"sr",[30,2],[30,0,["altTag"]]]],[["default"],[[[[1,"\\n\\n        "],[8,[39,2],null,[["@lockup"],[[30,0,["exclusive"]]]],null],[1,"\\n\\n"],[41,[28,[37,3],[[30,0,["exclusive","name"]],[30,0,["exclusive","artistName"]]],null],[[[1,"            "],[10,0],[14,0,"text-overlay"],[12],[1,"\\n                "],[10,2],[14,0,"content-title typography-title-2"],[12],[1,[30,0,["exclusive","name"]]],[13],[1,"\\n                "],[10,2],[14,0,"content-artist typography-title-2"],[12],[1,[30,0,["exclusive","artistName"]]],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,4],[[16,0,[30,0,["playButtonSize"]]]],[["@lockup","@recommendationData"],[[30,0,["exclusive"]],[30,3]]],null],[1,"\\n\\n    "]],[]]]]],[1,"\\n\\n"],[41,[28,[37,3],[[30,1],[30,0,["exclusive","itunesNotes","short"]]],null],[[[1,"        "],[10,2],[14,0,"exclusive-copy"],[12],[1,[28,[35,5],[[30,0,["exclusive","itunesNotes","short"]]],null]],[13],[1,"\\n"]],[]],null],[13]],["@showCopy","@lazyLoad","@recommendationData"],false,["if","media-artwork","dt-profile-badges","and","dt-play-button","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-exclusive.hbs",isStrictMode:!1})
let y=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.computed.or("exclusive.screenshots","exclusive.artwork"),u=Ember.computed.equal("exclusiveKind","link"),c=class extends t.default{constructor(...e){super(...e),f(this,"i18n",d,this),f(this,"playback",p,this),f(this,"exclusiveArtwork",m,this),f(this,"isLinkExclusive",b,this)}get exclusive(){return this.args.lockup}get exclusiveKind(){return this.exclusive.link?"link":this.exclusive.kind}get playButtonSize(){return"musicVideo"===this.exclusiveKind?"large":"small"}get altTag(){const{key:e,config:t}=(0,i.default)(this.exclusiveKind,this.exclusive)
return this.i18n.t(e,t)}get exclusiveBGColor(){var e
const t=null===(e=this.exclusiveArtwork)||void 0===e?void 0:e.bgColor
if(t)return new r.default(`#${t}`)}get isLinkable(){const e=this.exclusiveKind
return!["radioStation","uploadedAudio","uploadedVideo"].includes(e)}get isPlayable(){return(0,o.default)(this.exclusiveKind)}click(){var e
const t=this.exclusive.url||(null===(e=this.exclusive.link)||void 0===e?void 0:e.url)||this.exclusive.postUrl,i=this.isLinkable,r=this.isPlayable
if(i){const{id:e,routeName:i}=(0,n.unknownUrlToRoute)(t)
this.router.transitionTo(i,e)}if(!i&&r){const e=this.playback.getPlaybackConfig(this.exclusive)
this.playback.play(e)}}},d=h(c.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(c.prototype,"playback",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(c.prototype,"exclusiveArtwork",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h(c.prototype,"isLinkExclusive",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
e.default=y,Ember._setComponentTemplate(g,y)})),define("desktop-music-app/components/dt-featured-content-root",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"y7wm+rTu",block:'[[[10,0],[14,0,"featured-content-root"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[28,[37,2],[[30,0,["filterShelves"]],[30,1]],null]],null]],null],null,[[[1,"        "],[46,[28,[37,4],["featured-content/",[30,2,["fcKind"]]],null],null,[["divider","lazyLoad","shelfIndex","featuredContent","playlists","referenceId","isRadioRoot"],[[52,[51,[28,[37,6],[[28,[37,7],[[30,3],0],null],[28,[37,7],[[30,3],[30,0,["indexOfWhitetailFCKind"]]],null],[28,[37,7],[[30,3],[30,0,["indexFollowingWhitetailFCKind"]]],null]],null]],true],[52,[28,[37,9],[[30,0,["isTabletOrGreater"]],[28,[37,10],[[30,3],3],null]],null],false,true],[30,3],[30,2],[30,4],[30,5],[28,[37,6],[[30,6],[30,0,["isRadioRoot"]]],null]]],null],[1,"\\n\\n"]],[2,3]],null],[13],[1,"\\n"]],["@featuredContent","fc","index","@playlists","@referenceId","@isRadioRoot"],false,["each","-track-array","filter","component","concat","unless","or","eq","if","and","lt"]]',moduleName:"desktop-music-app/components/dt-featured-content-root.hbs",isStrictMode:!1}),d=[316,326,327,328,332,368,385,387,388,389,390,391,402,407,410,488]
let p=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends t.default{constructor(){super(...arguments),s(this,"media",l,this),s(this,"user",a,this),this.user.isLoggedIn?this.HANDLED_FC_KINDS=d:this.HANDLED_FC_KINDS=d.filter((e=>332!==e))}get isTabletOrGreater(){const[e="medium"]=this.media.matches
return!(["xsmall","small"].indexOf(e)>-1)}get indexOfWhitetailFCKind(){return(Ember.isArray(this.args.featuredContent)?this.args.featuredContent:[]).filter(this.filterShelves).findIndex((e=>391===e.fcKind))}get indexFollowingWhitetailFCKind(){return(Ember.isArray(this.args.featuredContent)?this.args.featuredContent:[]).filter(this.filterShelves).findIndex(((e,t)=>t>this.indexOfWhitetailFCKind&&this.HANDLED_FC_KINDS.includes(e.fcKind)))}get isRadioRoot(){return 382===Ember.get(this,"args.featuredContent.firstObject.fcKind")}filterShelves(e){return this.HANDLED_FC_KINDS.includes(e.fcKind)}},l=u(o.prototype,"media",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"filterShelves",[n],Object.getOwnPropertyDescriptor(o.prototype,"filterShelves"),o.prototype),o)
e.default=p,Ember._setComponentTemplate(c,p)})),define("desktop-music-app/components/dt-featured-lockup",["exports","@glimmer/component","desktop-music-app/utils/media-type","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/is-playable","desktop-music-app/utils/route","desktop-music-app/utils/feature-flags","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"izznTgB5",block:'[[[11,0],[17,1],[12],[1,"\\n    "],[11,0],[16,0,[29,["featured-lockup lockup__featured-lockup",[52,[28,[37,1],[[30,2]],null]," featured-lockup--has-hover-state"],[52,[28,[37,1],[[30,3,["url"]]],null]," featured-lockup--no-url"],[52,[30,3,["isNotStreamable"]]," disabled"],[52,[30,0,["linkable"]]," linkable"],[52,[30,0,["brandType"]],[28,[37,2],[" ",[30,0,["brandType"]]],null]]]]],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,3],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n        "],[8,[39,4],[[24,0,"featured-lockup__artwork"]],[["@lazyLoad","@artwork","@applyVariableAspectRatio","@artworkProfile","@fallbackProfile","@alt"],[false,[30,0,["artwork"]],false,"featured-episode",[28,[37,5],[[30,3]],null],[30,0,["title"]]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,6],null,[["@lockup"],[[30,3]]],null],[1,"\\n\\n"],[41,[30,0,["shouldShowPlayButton"]],[[[1,"                "],[8,[39,7],[[24,0,"featured-lockup__play-button"]],[["@lockup","@ariaLabel"],[[30,3],[28,[37,8],["FUSE.VO.RadioPlayLabel"],[["content"],[[30,0,["title"]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n        "]],[]]]]],[1,"\\n\\n\\n        "],[10,0],[14,0,"featured-lockup__description"],[12],[1,"\\n"],[41,[30,4],[[[1,"                "],[10,2],[14,0,"featured-lockup__badge lockup__featured-lockup-badge typography-subhead-emphasized"],[12],[1,[28,[35,9],[[30,4]],null]],[13],[1,"\\n"]],[]],null],[41,[28,[37,10],[[30,2],[30,0,["releaseDate"]]],null],[[[1,"                "],[8,[39,11],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                    "],[10,2],[14,0,"featured-lockup__release-date"],[15,"dir",[30,5]],[12],[1,"\\n                        "],[1,[28,[35,12],[[30,0,["releaseDate"]]],null]],[1,"\\n                    "],[13],[1,"\\n                "]],[5]]]]],[1,"\\n"]],[]],null],[1,"\\n            "],[10,"h4"],[14,0,"featured-lockup__title typography-title-3-tall"],[12],[1,[28,[35,9],[[30,0,["title"]]],null]],[13],[1,"\\n"],[41,[30,2],[[[1,"                "],[8,[39,11],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                    "],[10,1],[15,"dir",[30,6]],[12],[1,[28,[35,9],[[30,0,["artistName"]]],null]],[13],[1,"\\n                "]],[6]]]]],[1,"\\n"]],[]],[[[41,[28,[37,10],[[30,0,["isRadioStation"]],[30,3,["stationProviderName"]]],null],[[[1,"                "],[10,2],[14,0,"featured-lockup__description-text typography-callout"],[12],[1,[28,[35,8],["FUSE.Radio.From.Provider"],[["provider"],[[30,3,["stationProviderName"]]]]]],[13],[1,"\\n"]],[]],[[[41,[30,0,["description"]],[[[1,"                "],[10,2],[14,0,"featured-lockup__description-text typography-callout"],[12],[1,[28,[35,9],[[30,0,["description"]]],null]],[13],[1,"\\n            "]],[]],null]],[]]]],[]]],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["&attrs","@isForRecordLabel","@lockup","@badge","direction","direction"],false,["if","not","concat","on","amp-artwork/music","fallback-artwork","dt-profile-badges","dt-play-button","t","untrusted-html","and","bidi-text","uppercase"]]',moduleName:"desktop-music-app/components/dt-featured-lockup.hbs",isStrictMode:!1})
let E=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._action,b=class extends t.default{constructor(){super(...arguments),v(this,"metrics",f,this),v(this,"router",h,this),v(this,"storefront",g,this),v(this,"user",y,this),this.title=this.args.title||this._title,this.description=this.args.description||this._description,this.artwork=this.args.artwork||this._artwork,this.playable="boolean"==typeof this.args.playable?this.args.playable:this._playable,this.linkable="boolean"==typeof this.args.linkable?this.args.linkable:this._linkable}get dataMetricsClick(){const e=Ember.get(this,"args.lockup.id"),{pageId:t,pageType:i}=this.metrics.ownerRoute||{}
return(0,r.default)(["linkToInlineMetricsShelfItem"],{id:e,location:this.dataMetricsLocation,pageId:t,pageType:i,page:`${i}_${t}`})}get dataMetricsLocation(){const e=(0,i.getKind)(this.args.lockup),{id:t,name:r}=this.args.lockup
return[{id:t,name:r,kind:e,locationType:"ShelfItem",locationPosition:this.args.index,description:this.description}]}get brandType(){return Ember.get(this,"args.lockup.iTunesBrandType")?Ember.String.dasherize(Ember.get(this,"args.lockup.iTunesBrandType")):null}get isRadioStation(){return"radioStation"===Ember.get(this,"args.lockup.kind")}get _artwork(){return Ember.get(this,"args.lockup.artwork")}get _title(){const e=Ember.get(this,"args.lockup.name")||Ember.get(this,"args.lockup.title")
if(e)return e.replace(/^(Episode|Ep)\.?\s+\d+/,"").trim()}get _description(){return Ember.get(this,"args.lockup.itunesNotes.short")||Ember.get(this,"args.lockup.description")}get _playable(){const e=Ember.get(this,"args.lockup.kind")
return(0,n.default)(e)}get _linkable(){const e=Ember.get(this,"args.lockup")
return!!e&&(!this.isRadioStation&&!!Ember.get(e,"url"))}get releaseDate(){const{releaseDate:e}=this.args.lockup
if(!e)return
const t=new a.default(e)
return(0,a.format)(t,this.i18n,s.RELEASE_DATE_FORMAT)}get artistName(){var e
return null===(e=this.args.lockup)||void 0===e?void 0:e.artistName}get shouldShowPlayButton(){return this.playable&&!this.args.isForRecordLabel}transitionToProductPage(e){const{_routerMicrolib:t}=this.router._router,i=(0,o.normalizeURL)(e,t,this.storefront.resolvedStorefront);(0,o.transitionToRoute)(this.router,i)}onClick(){if(this.args.onClick)this.args.onClick()
else if(this.linkable){const e=Ember.get(this,"args.lockup.url")
e&&this.transitionToProductPage(e)}}},f=k(b.prototype,"metrics",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(b.prototype,"router",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(b.prototype,"storefront",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(b.prototype,"user",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(b.prototype,"onClick",[m],Object.getOwnPropertyDescriptor(b.prototype,"onClick"),b.prototype),b)
e.default=E,Ember._setComponentTemplate(w,E)})),define("desktop-music-app/components/dt-footer",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"2zyOVgm7",block:'[[[10,"footer"],[14,0,"dt-footer"],[12],[1,"\\n    "],[8,[39,0],[[24,0,"dt-footer__locale-switcher"]],[["@storefront","@isLoggedIn","@locale"],[[30,0,["storefront","resolvedStorefront"]],[30,0,["musickit","isAuthenticated"]],[30,0,["i18n","locale"]]]],null],[1,"\\n\\n    "],[10,0],[14,0,"dt-footer-contents-container"],[12],[1,"\\n        "],[10,0],[14,0,"dt-footer__copyright dt-flex-container"],[12],[1,"\\n            "],[10,2],[12],[1,[28,[35,1],["FUSE.Footer.CopyrightYear"],[["year"],[[30,0,["copyrightYear"]]]]]],[1," "],[10,3],[15,6,[28,[37,1],["FUSE.Footer.Apple.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.Apple.Text"],null]],[13],[1," "],[1,[28,[35,1],["MXpageWrapper.AllRightsReserved"],null]],[13],[1,"\\n\\n            "],[10,0],[14,0,"dt-footer__locale"],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"ul"],[14,0,"dt-footer__list dt-flex-container"],[12],[1,"\\n            "],[10,"li"],[14,0,"dt-footer__item"],[12],[10,3],[15,6,[28,[37,1],["FUSE.Footer.TermsUse.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.TermsUse.Text"],null]],[13],[13],[1,"\\n            "],[10,"li"],[14,0,"dt-footer__item"],[12],[10,3],[15,6,[28,[37,1],["FUSE.Footer.PrivacyPolicy.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.PrivacyPolicy.Text"],null]],[13],[13],[1,"\\n            "],[10,"li"],[14,0,"dt-footer__item"],[12],[10,3],[15,6,[28,[37,1],["FUSE.Footer.CookiePolicy.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.CookiePolicy.Text"],null]],[13],[13],[1,"\\n            "],[10,"li"],[14,0,"dt-footer__item"],[12],[10,3],[15,6,[28,[37,1],["FUSE.Footer.GetHelp.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.GetHelp.Text"],null]],[13],[13],[1,"\\n            "],[10,"li"],[14,0,"dt-footer__item"],[12],[10,3],[15,6,[28,[37,1],["FUSE.Footer.Feedback.URL"],null]],[14,0,"dt-footer__link"],[14,"target","_blank"],[14,"rel","noopener"],[14,"data-dt-link-to-exclude",""],[12],[1,[28,[35,1],["FUSE.Footer.Feedback.Text"],null]],[13],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["locale-switcher/footer","t"]]',moduleName:"desktop-music-app/components/dt-footer.hbs",isStrictMode:!1})
let p=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=class extends t.default{constructor(...e){super(...e),u(this,"musickit",l,this),u(this,"storefront",a,this),u(this,"i18n",s,this)}get copyrightYear(){return(new Date).getFullYear()}},l=c(o.prototype,"musickit",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"storefront",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/dt-friends",["exports","@glimmer/component"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"8c+wwtld",block:'[[[11,"ul"],[24,0,"dt-friends"],[16,"data-friends",[30,0,["limitedFriendsCount"]]],[17,1],[12],[42,[28,[37,1],[[28,[37,1],[[30,0,["limitedFriends"]]],null]],null],null,[[[10,"li"],[14,0,"dt-friends__item product-lockup__friends-list-item typography-body"],[15,"data-friend-name",[30,2,["name"]]],[12],[1,"\\n"],[1,"            "],[8,[39,2],null,[["@route","@models","@query"],["profile",[28,[37,3],[[30,0,["storefront","storefrontId"]],[52,true,[30,2,["handle"]],[30,2,["id"]]]],null],[27]]],[["default"],[[[[1,"\\n                "],[8,[39,5],[[24,0,"dt-friends__artwork media-artwork-v2--fullwidth"]],[["@lazyLoad","@alt","@artwork","@fallbackProfile","@artworkProfile"],[false,[30,2,["name"]],[30,2,["avatarArtwork"]],[28,[37,6],[[30,2]],null],"friend"]],null],[1,"\\n            "]],[]]]]],[1,"\\n        "],[13]],[2]],null],[13],[1,"\\n"]],["&attrs","friend"],false,["each","-track-array","link-to","array","if","amp-artwork/music","fallback-artwork"]]',moduleName:"desktop-music-app/components/dt-friends.hbs",isStrictMode:!1})
let l=(i=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,r,o
super(...e),t=this,i="storefront",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}get limitedFriendsCount(){return this.limitedFriends.length}get limitedFriends(){var e
return(null===(e=this.args.friends)||void 0===e?void 0:e.slice(0,8))||[]}},a=r.prototype,s="storefront",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n=p,r)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/dt-grouping-page",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"c9yRU1PU",block:'[[[41,[28,[37,1],[[30,1],[28,[37,2],[[30,2,["product","shortName"]]],null]],null],[[[1,"    "],[8,[39,3],null,[["@title"],[[30,1]]],null],[1,"\\n"]],[]],[[[41,[30,0,["header"]],[[[1,"    "],[8,[39,3],null,[["@title"],[[28,[37,4],[[30,0,["header"]]],null]]],null],[1,"\\n"]],[]],null]],[]]],[1,"\\n"],[41,[30,2],[[[41,[30,2,["product","shortName"]],[[[1,"        "],[8,[39,3],null,[["@title"],[[30,2,["product","shortName"]]]],[["default"],[[[[1,"\\n"],[41,[30,2,["product","isLoaded"]],[[[1,"                "],[8,[39,5],null,[["@lockups","@alt"],[[30,2,["product"]],true]],null],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,6],null,[["@featuredContent"],[[30,2,["featuredContentList"]]]],null],[1,"\\n\\n"],[41,[30,2,["product","itunesNotes","standard"]],[[[1,"        "],[10,0],[14,0,"grouping-page__description breakout-box"],[12],[1,"\\n            "],[10,0],[14,0,"artist-bio artist-bio--spacer-c-top divider-before"],[12],[1,"\\n                "],[8,[39,7],[[24,0,"about artist-bio__about"]],[["@title"],[[28,[37,4],["FUSE.Bio.About"],null]]],[["default"],[[[[1,"\\n\\n                    "],[8,[39,8],null,[["@content","@lines","@maxLines"],[[30,2,["product","itunesNotes","standard"]],8,10]],null],[1,"\\n\\n                "]],[]]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"spacer"],[12],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"]],[]],null]],["@pageTitle","@grouping"],false,["if","and","not","dt-header","t","dt-button-menu","dt-featured-content-root","dt-titled-box","dt-truncate"]]',moduleName:"desktop-music-app/components/dt-grouping-page.hbs",isStrictMode:!1}),r={34:"FUSE.Browse.Pageheader",178464:"FUSE.Browse.Pageheader",171952:"FUSE.Radio.Pageheader",171853:"FUSE.Radio.Pageheader"}
class n extends t.default{get header(){return r[this.args.groupingId]}}e.default=n,Ember._setComponentTemplate(i,n)})),define("desktop-music-app/components/dt-header",["exports","@glimmer/component","desktop-music-app/services/accessibility"],(function(e,t,i){var r,n,o,l
function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"/jcbIVHs",block:'[[[41,[30,0,["shouldRender"]],[[[1,"    "],[11,0],[24,0,"header-nav"],[17,1],[12],[1,"\\n        "],[10,0],[14,0,"header-nav-content"],[12],[1,"\\n            "],[11,"h1"],[24,0,"typography-header-emphasized"],[4,[38,1],[[30,0,["setAriaOwns"]]],null],[12],[1,"\\n                "],[1,[30,2]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[48,[30,3]],[[[1,"            "],[10,0],[14,0,"header-nav-aux"],[12],[1,"\\n                "],[18,3,null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]],null]],["&attrs","@title","&default"],false,["if","did-insert","has-block","yield"]]',moduleName:"desktop-music-app/components/dt-header.hbs",isStrictMode:!1}),u=["browse.top-charts.see-all"]
let c=(r=Ember.inject.service,n=Ember._action,o=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="router",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get shouldRender(){const e=Ember.get(this,"router.currentRouteName")
return!u.includes(e)}setAriaOwns(e){e===document.querySelector(".page-container h1")&&e.setAttribute("id",i.PAGE_FIRST_LINKED_ELEMENT)}},l=a(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(o.prototype,"setAriaOwns",[n],Object.getOwnPropertyDescriptor(o.prototype,"setAriaOwns"),o.prototype),o)
e.default=c,Ember._setComponentTemplate(s,c)})),define("desktop-music-app/components/dt-hero",["exports","@glimmer/component","desktop-music-app/utils/alt-tag","color","desktop-music-app/utils/route","desktop-music-app/utils/is-playable","desktop-music-app/utils/feature-flags","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j
function T(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C=Ember.HTMLBars.template({id:"kvPeNA+C",block:'[[[10,0],[15,0,[29,["hero shelf-grid__list-item",[52,[30,0,["heroArtwork"]]," has-artwork"," no-artwork"],[52,[30,0,["isDark"]]," dark"],[52,[28,[37,1],[[28,[37,2],[[30,0,["hasNotes"]]],null],[30,0,["isCustomHero"]]],null]," no-lockup"]," ",[30,0,["heroKind"]]," ",[52,[30,0,["hasNotes"]]," has-notes"]]]],[12],[1,"\\n    "],[11,0],[24,"tabindex","0"],[16,"aria-label",[30,0,["ariaLabel"]]],[4,[38,3],["click",[30,0,["onClick"]]],null],[4,[38,4],[[30,0,["didInsertNode"]]],null],[12],[1,"\\n        "],[10,0],[14,0,"hero-description"],[12],[1,"\\n"],[41,[30,1,["designBadge"]],[[[1,"                "],[10,2],[14,0,"badge typography-subhead-emphasized"],[12],[1,[30,1,["designBadge"]]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["primaryLine"]],[[[1,"                "],[10,"h2"],[15,0,[29,["line1 typography-title-2 ",[30,0,["primaryLineClamp"]]]]],[12],[1,[28,[35,5],[[30,0,["primaryLine"]]],null]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["secondaryLine"]],[[[1,"                "],[10,0],[14,0,"line2 typography-title-2"],[12],[1,[28,[35,5],[[30,0,["secondaryLine"]]],null]],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["heroArtwork"]],[[[1,"            "],[8,[39,6],[[24,0,"media-artwork-v2--fullwidth hero__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt","@lazyLoad"],[[30,0,["heroArtwork"]],"hero",[28,[37,7],[[30,0,["heroLockup"]]],null],[30,0,["altTag"]],[52,[28,[37,8],[[30,2],3],null],true,false]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,9],[[30,0,["isBeatsOneHero"]],false],null],[[[1,"            "],[10,0],[14,0,"listen-now"],[12],[1,"\\n"],[1,"                "],[11,"button"],[24,0,"callout-button"],[4,[38,3],["click",[30,0,["onListenNow"]]],null],[12],[1,"\\n                    "],[1,[28,[35,10],["FUSE.Radio.ListenNowButton"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["isCustomHero"]]],[[[41,[28,[37,1],[[30,0,["hasNotes"]],[30,0,["shouldShowLockupArtwork"]]],null],[[[1,"                "],[10,0],[14,0,"hero-lockup"],[12],[1,"\\n"],[41,[30,0,["heroLockup","itunesNotes","short"]],[[[1,"                        "],[10,0],[14,0,"hero-lockup-notes typography-callout"],[12],[1,"\\n                            "],[1,[28,[35,5],[[30,0,["heroLockup","itunesNotes","short"]]],null]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowLockupArtwork"]],[[[1,"                        "],[8,[39,6],[[24,0,"media-artwork-v2--hero-lockup"]],[["@artwork","@artworkProfile","@fallbackProfile"],[[30,0,["heroLockup","artwork"]],[30,0,["artworkProfile"]],[28,[37,7],[[30,0,["heroLockup"]]],null]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["showDetailsPlayButton"]],[[[1,"                                "],[8,[39,12],[[24,0,"small"]],[["@lockup"],[[30,0,["heroLockup"]]]],null],[1,"\\n"]],[]],null],[1,"                        "]],[]]]]],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["heroArtwork"]],[[[41,[30,0,["showPlayButton"]],[[[1,"                "],[8,[39,12],[[24,0,"small"]],[["@playlist","@lockup"],[[30,0,["filteredPlaylist"]],[30,0,["heroLockup"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"    "],[13],[1,"\\n"],[13]],["@hero","@index"],false,["if","or","not","on","did-insert","untrusted-html","amp-artwork/music","fallback-artwork","gt","and","t","unless","dt-play-button"]]',moduleName:"desktop-music-app/components/dt-hero.hbs",isStrictMode:!1}),x=["tvEpisode"]
let D=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service("itunes-router"),h=Ember._action,g=Ember._action,y=Ember._action,v=Ember._action,k=class extends t.default{constructor(...e){super(...e),T(this,"i18n",w,this),T(this,"metrics",E,this),T(this,"platform",_,this),T(this,"playback",P,this),T(this,"router",O,this),T(this,"storefront",S,this),T(this,"accessibility",z,this),T(this,"iTunesRouter",j,this)}get hasNotes(){var e,t
return this.shouldShowLockupDetails&&(null===(e=this.heroLockup)||void 0===e||null===(t=e.itunesNotes)||void 0===t?void 0:t.short)}get isBeatsOneHero(){return 383===this.args.hero.fcKind}get isCustomHero(){return 320===this.args.hero.fcKind}get isLinkHero(){return"link"===this.heroKind}get isStandardHero(){return 317===this.args.hero.fcKind}didInsertNode(e){this.lockupHasPlayButton?e.querySelector(".hero-description").setAttribute("role","link"):e.setAttribute("role","link")}get artworkProfile(){const e=(0,a.getKind)(this.heroLockup||this.args.hero)
return["uploadedVideo","musicVideo"].includes(e)?"heroLockupVideo":"heroLockup"}get heroLockup(){const e=Ember.get(this,"args.hero.storeContentLink")||Ember.get(this,"args.hero.storeContent")
return Array.isArray(e)?e[0]:e}get isShowHero(){if(this.isStandardHero)return"Show"===Ember.get(this,"heroLockup.iTunesBrandType")}get ariaLabel(){let e=Ember.get(this,"heroLockup.itunesNotes.short")
e=this.primaryLine!==e&&this.secondaryLine!==e?e:null
return[Ember.get(this,"args.hero.designBadge"),this.primaryLine,this.secondaryLine,e].map((e=>e?`${this.i18n.t("FUSE.Browse.Hero.ARIALabel.Format",{content:e})} `:"")).join("")}get altTag(){if(this.isLinkHero)return Ember.get(this,"args.hero.link.label")
const{i18n:e,heroKind:t,heroLockup:r}=this,{key:n,config:o}=(0,i.default)(t,r)
return n?e.t(n,o):""}get heroBGColor(){const e=Ember.get(this,"heroArtwork.bgColor")
return e?new r.default(`#${e}`):"#ccc"}get isDark(){const e=this.heroBGColor
if(e&&"object"==typeof e)return this.heroBGColor.dark()}get heroKind(){let e=(0,a.getKind)(this.heroLockup||{})
return this.isCustomHero&&Ember.get(this,"args.hero.link")&&(e="link"),this.isBeatsOneHero&&(e="beatsOne"),e}get filteredPlaylist(){const e=this.args.playlist,t=this.heroLockup
return Ember.isPresent(e)?"playlist"===Ember.get(t,"kind")?[Ember.get(t,"rawJSON")]:e.filter((e=>{if(e){return"playlist"!==Ember.get(e,"kind")}return!1})):null}get heroArtwork(){let e=Ember.get(this,"heroLockup.editorialArtwork.subscriptionHero")
return e||(e=Ember.get(this,"heroLockup.editorialArtwork.subscriptionCover")),e}get primaryLine(){return this.isCustomHero?Ember.get(this,"args.hero.designTag"):Ember.get(this,"heroLockup.name")}get primaryLineClamp(){if(this.isCustomHero)return"clamp-2"}get secondaryLine(){let e
if(this.isCustomHero)return!1
switch(this.heroKind){case"album":case"song":case"musicVideo":case"uploadedAudio":case"uploadedVideo":case"tvEpisode":e=Ember.get(this,"heroLockup.artistName")
break
case"artist":e=Ember.get(this,"heroLockup.genre")
break
case"brand":case"iTunesBrand":e=this.isShowHero?Ember.get(this,"heroLockup.itunesNotes.tagline"):Ember.get(this,"heroLockup.itunesNotes.short")
break
case"radioStation":e=Ember.get(this,"heroLockup.itunesNotes.short")
break
case"movie":e=Ember.get(this,"heroLockup.itunesNotes.tagline")||Ember.get(this,"heroLockup.genre")
break
case"showBrand":case"activity":e=Ember.get(this,"heroLockup.itunesNotes.tagline")||Ember.get(this,"heroLockup.itunesNotes.short")
break
case"link":e=Ember.get(this,"args.hero.designTag")
break
case"playlist":e=Ember.get(this,"heroLockup.curatorName")
break
case"apple-curator":e=Ember.get(this,"heroLockup.itunesNotes.tagline")||Ember.get(this,"heroLockup.itunesNotes.short"),e||(e=Ember.get(this,"heroLockup.editorialNotes.short"))}return e}get showPlayButton(){if(this.isCustomHero)return!1
if(!this.isPlayable)return!1
const e=this.heroKind
return!["uploadedVideo","album","song","musicVideo","uploadedAudio","tvEpisode","showBrand","curator"].includes(e)}get showDetailsPlayButton(){return!x.includes(this.heroKind)}get lockupHasPlayButton(){return this.shouldShowLockupArtwork&&this.showDetailsPlayButton||this.heroArtwork&&this.showPlayButton}get shouldShowLockupDetails(){let e=this.shouldShowLockupArtwork
switch(this.heroKind){case"artist":case"playlist":case"song":e=!0
break
case"iTunesBrand":this.isShowHero&&(e=!0)
break
case"apple-curator":e=this.secondaryLine!==Ember.get(this,"heroLockup.itunesNotes.short")&&this.secondaryLine!==Ember.get(this,"heroLockup.editorialNotes.short")}return e}get shouldShowLockupArtwork(){let e=!1
switch(this.heroKind){case"album":case"song":case"musicVideo":case"uploadedAudio":case"uploadedVideo":case"tvEpisode":e=!0}return e}get lockupArtworkConfig(){const e=this.heroKind
let t={height:70,width:70,crop:"cc"}
return"musicVideo"!==e&&"uploadedVideo"!==e||(t={height:59,width:106,crop:"sr"}),t}get isPlayable(){return(0,o.default)(this.heroKind)&&this.heroLockup.playParams}get isLinkable(){return"radioStation"!==this.heroKind}playBeatsOne(){const e=this.playback.getPlaybackConfig(this.heroLockup)
this.playback.play(e)}onListenNow(e){this.metrics.recordClick(e,e.target,{actionDetails:"playBeatsOne",actionType:"play",id:this.heroLockup.id,targetType:"button"}),this.playBeatsOne()}onClick(){const e=Ember.get(this,"heroLockup.url")||Ember.get(this,"args.hero.link.url")||Ember.get(this,"heroLockup.postUrl"),{isPlayable:t}=this
let{isLinkable:i}=this
if(this.isBeatsOneHero&&(i=!1),i&&e){const t=Ember.get(this,"args.hero.link"),i=t?Ember.get(t,"target"):null
if(i&&"external"===i)window.open(e,"_blank")
else{const{_routerMicrolib:t}=this.router._router,i=(0,n.normalizeURL)(e,t,this.storefront.resolvedStorefront);(0,n.transitionToRoute)(this.router,i)}}if(!i&&t){const e=this.playback.getPlaybackConfig(this.heroLockup,null,this.playlist)
e.selectedTrackIndex=this.selectedHeroIndex,this.playback.play(e)}this.accessibility.focusOnPageContainer()}},w=M(k.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(k.prototype,"metrics",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(k.prototype,"platform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(k.prototype,"playback",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(k.prototype,"router",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=M(k.prototype,"storefront",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(k.prototype,"accessibility",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(k.prototype,"iTunesRouter",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(k.prototype,"didInsertNode",[h],Object.getOwnPropertyDescriptor(k.prototype,"didInsertNode"),k.prototype),M(k.prototype,"playBeatsOne",[g],Object.getOwnPropertyDescriptor(k.prototype,"playBeatsOne"),k.prototype),M(k.prototype,"onListenNow",[y],Object.getOwnPropertyDescriptor(k.prototype,"onListenNow"),k.prototype),M(k.prototype,"onClick",[v],Object.getOwnPropertyDescriptor(k.prototype,"onClick"),k.prototype),k)
e.default=D,Ember._setComponentTemplate(C,D)})),define("desktop-music-app/components/dt-language-attributes",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"s1wCIQEr",block:'[[[10,0],[14,0,"language-attributes"],[12],[1,"\\n"],[41,[30,1,["hasClosedCaptioning"]],[[[1,"        "],[10,1],[14,0,"attribute typography-caption-1-bold-short"],[12],[1,[28,[35,1],["FUSE.OC.Languages.hasClosedCaptioning"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hasClosedCaptioning"]],[[[1,"        "],[10,1],[14,0,"attribute typography-caption-1-bold-short"],[12],[1,[28,[35,1],["FUSE.OC.Languages.hasAD"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2],[[[1,"        "],[10,1],[14,0,"attribute typography-caption-1-bold-short"],[12],[1,[28,[35,1],["FUSE.OC.Information.HD"],null]],[13],[1,"\\n"]],[]],null],[13]],["@attributes","@hasHD"],false,["if","t"]]',moduleName:"desktop-music-app/components/dt-language-attributes.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-language-extras",["exports","@glimmer/component"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"o3ndA2WF",block:'[[[10,1],[14,0,"language-extras"],[12],[1,"\\n"],[41,[30,0,["extras"]],[[[1,"        ("],[1,[30,0,["extras"]]],[1,")\\n"]],[]],null],[13],[1,"\\n"]],[],false,["if"]]',moduleName:"desktop-music-app/components/dt-language-extras.hbs",isStrictMode:!1})
let l=(i=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,r,o
super(...e),t=this,i="i18n",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}get extras(){const e=this.args.language,t=this.i18n,i=[]
if(e)return e.hasStereo&&i.push(t.t("FUSE.OC.Languages.hasStereo")),e.hasAudioDescription&&i.push(t.t("FUSE.OC.Languages.hasAudioDescription")),e.hasDolby71&&i.push(t.t("FUSE.OC.Languages.hasDolby71")),e.hasClosedCaptioning&&i.push(t.t("FUSE.OC.Languages.hasClosedCaptioning")),e.hasDolby&&i.push(t.t("FUSE.OC.Languages.hasDolby")),e.hasSDH&&i.push(t.t("FUSE.OC.Languages.hasSDH")),e.hasSubtitles&&i.push(t.t("FUSE.OC.Languages.hasSubtitles")),i.join(", ")}},a=r.prototype,s="i18n",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n=p,r)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/dt-library-artists-detail-view",["exports","web/components/dt-library-artists-detail-view"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library-recently-added",["exports","web/components/dt-library-recently-added"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library-songs",["exports","web/components/dt-library-songs"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/albums/album-skeleton",["exports","web/components/dt-library/albums/album-skeleton"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track-album-only-skeleton",["exports","web/components/dt-library/songs/track-album-only-skeleton"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track-duration",["exports","web/components/dt-library/songs/track-duration"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track-header",["exports","web/components/dt-library/songs/track-header"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track-name-skeleton",["exports","web/components/dt-library/songs/track-name-skeleton"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("desktop-music-app/components/dt-library/songs/track-name",["exports","web/components/dt-library/songs/track-name"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track-skeleton",["exports","web/components/dt-library/songs/track-skeleton"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-library/songs/track",["exports","web/components/dt-library/songs/track"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-link-list",["exports","@glimmer/component","desktop-music-app/utils/route","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"3sdSYOiQ",block:'[[[11,0],[16,0,[29,["link-list link-box-buttons ",[30,0,["buttonDisplayStyle"]],[52,[30,0,["title"]]," has-title"]]]],[17,1],[12],[1,"\\n    "],[8,[39,1],[[24,0,"padded titled-box--link-list"]],[["@title"],[[30,0,["title"]]]],[["default"],[[[[1,"\\n        "],[10,"ul"],[14,0,"link-box-group"],[12],[1,"\\n"],[41,[30,0,["redirectLinks"]],[[[42,[28,[37,3],[[28,[37,3],[[30,0,["redirectLinks"]]],null]],null],null,[[[1,"                    "],[11,"li"],[24,"role","link"],[24,0,"link-box"],[24,"tabindex","0"],[4,[38,4],["click",[28,[37,5],[[30,0,["openLink"]],[30,2]],null]],null],[12],[1,"\\n                        "],[10,0],[14,0,"link-box__content"],[12],[1,"\\n                            "],[41,[30,2,["label"]],[[[10,1],[14,0,"link-box__label typography-body-tall"],[12],[1,[30,2,["label"]]],[13]],[]],null],[1,"\\n                            "],[41,[30,2,["shortName"]],[[[10,1],[14,0,"link-box__short-name typography-body-tall"],[12],[1,[30,2,["shortName"]]],[13]],[]],null],[1,"\\n                            "],[1,[28,[35,6],["chevron-right-regular"],[["class"],["link-box__chevron"]]]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[2]],null]],[]],null],[1,"        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"],[13]],["&attrs","link"],false,["if","dt-titled-box","each","-track-array","on","fn","svg-jar"]]',moduleName:"desktop-music-app/components/dt-link-list.hbs",isStrictMode:!1})
let g=(n=Ember.inject.service("itunes-window"),o=Ember.inject.service("itunes-router"),l=Ember.inject.service,a=Ember.inject.service,s=Ember._action,u=class extends t.default{constructor(...e){super(...e),b(this,"iTunesWindow",c,this),b(this,"iTunesRouter",d,this),b(this,"router",p,this),b(this,"storefront",m,this)}get title(){return this.args.title||""}get redirectLinks(){return this.args.contentLinks||this.args.links}get buttonDisplayStyle(){const e=this.args.displayStyle
if(e)return`${e}-link`}openLink(e){const t=Ember.get(e,"url"),r=this.args.appendURL
let n=t
r&&this.args.contentLinks&&(n=`${t}?${r}`)
const o=Ember.get(e,"target")
if(!o||"external"!==o&&"overlay"!==o){const t={},r=Ember.get(e,"label")
r&&(t.label=r)
const l=Ember.get(e,"shortName")
l?t.pageTitle=l:r&&(t.pageTitle=r),"internal"===o&&this.storefront.storefrontId&&(t.cc=this.storefront.storefrontId),(0,i.transitionToRoute)(this.router,n,t)}else if("external"===o)window.open(t,"_blank")
else if("overlay"===o){const t={id:"external-url",url:e.url,width:800,height:600,modal:!1,resizeable:!1,style:1}
this.iTunesWindow.openURLInWindow(t)}}},c=f(u.prototype,"iTunesWindow",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"iTunesRouter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(u.prototype,"openLink",[s],Object.getOwnPropertyDescriptor(u.prototype,"openLink"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/dt-list-lockup",["exports","@glimmer/component","desktop-music-app/utils/format-duration","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/playlist-curator","desktop-music-app/decorators/lockup-context-menu","desktop-music-app/decorators/lockup-click","desktop-music-app/decorators/lockup-attributes","desktop-music-app/decorators/playback-states","desktop-music-app/utils/musickit-data"],(function(e,t,i,r,n,o,l,a,s,u){var c,d,p,m,b,f,h,g,y,v,k,w,E,_,P
function O(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function S(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const z=Ember.HTMLBars.template({id:"PYcfCMVc",block:'[[[11,0],[16,0,[29,["list-lockup typography-body-tall",[52,[30,0,["isPlaying"]]," playing"],[52,[30,0,["isPaused"]]," paused"],[52,[30,0,["isLoading"]]," loading"],[52,[30,1,["isNotStreamable"]]," disabled"],[52,[30,0,["linkable"]]," linkable"]," ",[30,1,["kind"]]]]],[16,"aria-label",[30,0,["ariaLabel"]]],[24,"data-context-menu-parent",""],[17,2],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,2],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n    "],[10,0],[15,0,[29,["list-lockup-content ",[52,[30,0,["line3"]],"has-third-line"]]]],[12],[1,"\\n        "],[8,[39,3],[[16,0,[29,["list-lockup__artwork media-artwork-v2--list-lockup-content",[52,[30,0,["shouldUseRoundImage"]]," media-artwork-v2--round"]]]]],[["@artwork","@lockup","@lazyLoad","@artworkProfile","@fallbackProfile","@alt"],[[30,0,["artwork"]],[30,1],[30,3],[30,0,["artworkProfileV2"]],[28,[37,4],[[30,1]],null],[30,1,["title"]]]],[["default"],[[[[1,"\\n"],[41,[28,[37,5],[[30,0,["playable"]],[28,[37,6],[[30,1,["kind"]],"tvShow"],null]],null],[[[1,"                "],[10,0],[14,0,"artwork-overlay list-lockup-content__artwork-overlay"],[12],[1,"\\n                    "],[8,[39,7],[[24,0,"track small"]],[["@lockup","@playlist","@isPlaying","@maybeLoadingSpinner","@isListItem","@trackSearchHistory"],[[30,1],[30,4],[30,0,["isPlaying"]],[30,0,["maybeLoadingSpinner"]],true,[30,5]]],null],[1,"\\n\\n                    "],[8,[39,8],null,null,null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n\\n"],[41,[30,6],[[[1,"            "],[10,0],[14,0,"lockup-ranking"],[12],[1,[28,[35,9],[[30,7]],null]],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,"ul"],[14,0,"list-lockup-description"],[12],[1,"\\n            "],[8,[39,10],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                "],[10,"li"],[14,0,"list-lockup-track typography-body-tall"],[15,"dir",[30,8]],[12],[1,"\\n"],[41,[30,1,["contentRating"]],[[[1,"                        "],[10,1],[14,0,"list-lockup__explicit-wrapper"],[12],[1,"\\n                            "],[10,1],[14,0,"list-lockup-track-content list-lockup__primary"],[14,"dir","auto"],[12],[1,"\\n                                "],[1,[30,0,["line1"]]],[1,"\\n                            "],[13],[1,"\\n                            "],[10,1],[14,0,"list-lockup__explicit-text"],[12],[1,"\\n                                "],[1,[28,[35,11],["FUSE.Explicit"],null]],[1,"\\n                            "],[13],[1,"\\n                            "],[8,[39,12],[[24,0,"list-lockup__explicit-badge"]],[["@badge"],[[30,1,["contentRating"]]]],null],[1,"\\n                        "],[13],[1,"\\n"]],[]],[[[1,"                        "],[10,1],[14,0,"list-lockup-track-content"],[12],[1,"\\n                            "],[10,1],[12],[1,"\\n                                "],[1,[30,0,["line1"]]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n            "]],[8]]]]],[1,"\\n            "],[8,[39,10],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                "],[10,"li"],[14,0,"list-lockup__album typography-callout"],[14,"dir","auto"],[12],[1,"\\n"],[41,[30,0,["artistListLine2"]],[[[1,"                        "],[1,[28,[35,13],[[30,0,["artistListLine2"]]],null]],[1,"\\n"]],[]],[[[41,[30,0,["line2"]],[[[41,[30,0,["line2LinkUrl","length"]],[[[44,[[28,[37,15],[[28,[37,16],["name",[30,0,["line2LinkUrl"]]],null]],null]],[[[42,[28,[37,18],[[28,[37,18],[[30,0,["line2LinkUrl"]]],null]],null],null,[[[1,"                                    "],[10,3],[15,6,[29,[[30,10,["url"]]]]],[14,0,"dt-link-to"],[15,"data-metrics-click",[28,[37,19],[[30,10,["metricsType"]]],[["id"],[[30,10,["id"]]]]]],[12],[1,[30,10,["name"]]],[13],[1,[28,[35,20],[[30,11],[30,9]],null]]],[10,11]],null]],[9]]]],[]],[[[1,"                            "],[1,[28,[35,13],[[30,0,["line2"]]],null]],[1,"\\n"]],[]]],[1,"                    "]],[]],null]],[]]],[1,"                "],[13],[1,"\\n            "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["line3"]],[[[1,"                "],[8,[39,10],null,[["@value"],[[30,0,["line3"]]]],[["default"],[[[[1,"\\n                    "],[10,"li"],[14,0,"line3"],[15,"dir",[30,12]],[12],[1,[28,[35,13],[[30,0,["line3"]]],null]],[13],[1,"\\n                "]],[12]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["showControls"]],[[[1,"            "],[10,0],[14,0,"controls list-lockup__controls"],[12],[1,"\\n"],[41,[30,0,["user","cloudLibraryIsLoaded"]],[[[1,"                    "],[10,0],[14,0,"list-lockup__add-to-library"],[12],[1,"\\n                        "],[8,[39,21],null,[["@product","@isListItem"],[[30,1],true]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["shouldShowAddToLibraryButton"]],[[[1,"                        "],[10,0],[14,0,"list-lockup__add-to-library"],[12],[1,"\\n                            "],[8,[39,22],null,[["@lockup","@isListItem"],[[30,1],true]],null],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[41,[30,0,["shouldDisplayEntityContextMenu"]],[[[1,"                        "],[8,[39,23],[[24,0,"list-lockup__context-menu"]],[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n"],[1,"                            "],[10,0],[14,0,"list-lockup__action-menu action-menu action-menu--list-lockup"],[14,"tabindex","0"],[12],[1,"\\n                                "],[1,[28,[35,24],["ellipsis"],[["class"],["action-menu__ellipsis-glyph"]]]],[1,"\\n                            "],[13],[1,"\\n                        "]],[]]]]],[1,"\\n                        "],[8,[39,23],[[24,0,"list-lockup__context-menu-right-click"],[24,"aria-hidden","true"]],[["@lockup","@listenTo"],[[30,1],"contextmenu"]],[["default"],[[[[1,"\\n                            "],[10,0],[14,0,"lockup__contextual-menu-trigger"],[12],[13],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],[[[1,"                        "],[8,[39,25],[[24,0,"list-lockup__context-menu"]],[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n"],[1,"                            "],[10,0],[14,0,"list-lockup__action-menu action-menu action-menu--list-lockup"],[14,"tabindex","0"],[12],[1,"\\n                                "],[1,[28,[35,24],["ellipsis"],[["class"],["action-menu__ellipsis-glyph"]]]],[1,"\\n                            "],[13],[1,"\\n                        "]],[]]]]],[1,"\\n                        "],[8,[39,25],[[24,0,"list-lockup__context-menu-right-click"]],[["@lockup","@listenTo"],[[30,1],"contextmenu"]],[["default"],[[[[1,"\\n                            "],[10,0],[14,0,"lockup__contextual-menu-trigger"],[14,"tabindex","-1"],[12],[13],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","&attrs","@lazyLoadArtwork","@playlist","@trackSearchHistory","@showRanking","@ranking","direction","delimiters","link","index","direction"],false,["if","on","allow-drag","amp-artwork/music","fallback-artwork","and","not-eq","dt-play-button","dt-playback-bars","localize-number","bidi-text","t","explicit-badge","untrusted-html","let","get-list-delimiters","map-by","each","-track-array","metrics-json-data","object-at","dt-button-add-to-library","dt-web-add-to-library","dt-entity-contextual-menu","svg-jar","dt-media-contextual-menu"]]',moduleName:"desktop-music-app/components/dt-list-lockup.hbs",isStrictMode:!1})
let j=(0,o.default)(c=(0,l.default)(c=(0,a.default)(c=(0,s.default)(c=class extends t.default{})||c)||c)||c)||c,T=(d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember._action,g=Ember._action,y=Ember._action,k=S((v=class extends j{constructor(...e){super(...e),O(this,"user",k,this),O(this,"locale",w,this),O(this,"router",E,this),O(this,"storefront",_,this),O(this,"i18n",P,this)}get isArtist(){return"artist"===this.args.lockup.kind}get isSocialProfile(){return"socialProfile"===this.args.lockup.kind}get showControls(){return"boolean"==typeof this.args.showControls?this.args.showControls:!this.isArtist&&!this.isSocialProfile}get artworkInfo(){return{url:Ember.get(this,"args.lockup.artwork.url"),width:50,height:50,crop:"bb"}}get artworkPresetObjectV2(){return this.args.artistPageConfig?r.ARTWORK_V2_PRESETS.artistListLockup:r.ARTWORK_V2_PRESETS.standardListLockup}get line2LinkUrl(){var e
const{lockup:t}=this.args
if("tvEpisode"===t.kind){return[{url:this.router.urlFor("show",{id:t.showBrandId||t.id}),name:this.line2,metricsType:"linkToTvEpisode"}]}if("playlist"===t.kind){return[{url:(0,n.getPlaylistCuratorUrl)(this.router,this.user,t,this.storefront.resolvedStorefront),name:this.line2,metricsType:"linkToAppleCurator"}]}const i=null===(e=t.artists)||void 0===e?void 0:e.filter((e=>e.name&&e.url))
return null!=i&&i.length?i.map((e=>({...e,metricsType:"linkToArtist"}))):t.artistUrl?[{id:t.id,name:this.line2,url:t.artistUrl,metricsType:"linkToArtist"}]:void 0}get meta(){const e=Ember.get(this,"args.lockup.asset")
if(e){const t=Ember.get(e,"duration")
return(0,i.formatDuration)(t,this.locale.locale)}}get artistListLine2(){if(this.args.artistPageConfig){const{releaseYear:e,albumName:t}=this.args.lockup
return e?this.i18n.t("AMWEB.ContentA.Middot.ContentB",{contentA:t,contentB:e}):t}}get shouldShowAddToLibraryButton(){return!(0,u.isLibraryLockupType)(this.args.lockup)&&(this.user.isSubscribed&&!this.args.lockup.inLibrary)}get shouldUseRoundImage(){return this.isSocialProfile}onDragStart(e){this.dragStart(e)}get dragImage(){return this.listLockupElement.querySelector(".media-artwork-v2__image")}didInsertNode(e){this.setupDragElement(e),this.listLockupElement=e}onClick(e){this.click(e)}}).prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S(v.prototype,"locale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=S(v.prototype,"router",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=S(v.prototype,"storefront",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S(v.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S(v.prototype,"onDragStart",[h],Object.getOwnPropertyDescriptor(v.prototype,"onDragStart"),v.prototype),S(v.prototype,"didInsertNode",[g],Object.getOwnPropertyDescriptor(v.prototype,"didInsertNode"),v.prototype),S(v.prototype,"onClick",[y],Object.getOwnPropertyDescriptor(v.prototype,"onClick"),v.prototype),v)
e.default=T,Ember._setComponentTemplate(z,T)})),define("desktop-music-app/components/dt-listen-now",["exports","@glimmer/component","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"Oea68moX",block:'[[[41,[28,[37,1],[[28,[37,2],[[30,0,["fastboot","isFastBoot"]]],null],[30,0,["shouldShowUpsell"]]],null],[[[40,[[[1,"        "],[8,[39,5],null,[["@needsOnboarding"],[[30,0,["needsOnboarding"]]]],null],[1,"\\n"]],[]],"%cursor:0%",[28,[37,4],[[30,0,["rootElement"]]],null],null]],[]],[[[44,[[28,[37,7],["listen-now"],[["model"],[[30,1]]]]],[[[1,"        "],[10,0],[14,0,"personalized-recommendations"],[12],[1,"\\n"],[42,[28,[37,9],[[28,[37,9],[[30,2,["recommendations"]]],null]],null],null,[[[1,"                "],[8,[39,10],null,[["@shelfIndex","@group","@lazyLoad","@divider"],[[30,4],[30,3],[28,[37,11],[[30,4],3],null],[28,[37,12],[[30,4],1],null]]],null],[1,"\\n"]],[3,4]],null],[1,"        "],[13],[1,"\\n"]],[2]]]],[]]]],["@model","recoGroup","recommendation","index"],false,["if","and","not","in-element","-in-el-null","personalization-upsell","let","present","each","-track-array","dt-recommendation-group","gte","gt"]]',moduleName:"desktop-music-app/components/dt-listen-now.hbs",isStrictMode:!1})
let g=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.computed.or("args.model.recommendations","args.model"),s=class extends t.default{constructor(...e){var t,i,r
super(...e),b(this,"fastboot",u,this),b(this,"i18n",c,this),b(this,"user",d,this),b(this,"accessibility",p,this),r=()=>{},(i="findFriends")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,b(this,"recommendations",m,this)}get rootElement(){const e=Ember.getOwner(this)
return document.querySelector(e.rootElement)}get shouldShowUpsell(){const{isSubscribed:e}=this.user
return!e||this.needsOnboarding}get needsOnboarding(){const{isSubscribed:e}=this.user
return e&&(this.args.model&&this.args.model.needsOnboarding||this.user.needsWebOnboarding)}},u=f(s.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(s.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(s.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(s.prototype,"accessibility",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(s.prototype,"recommendations",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/dt-lockup-placeholder",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"rG+XNg0/",block:'[[[41,[28,[37,1],[[30,1],[30,0,["isNotInViewport"]]],null],[[[1,"    "],[11,0],[24,0,"dt-lockup-placholder dt-lockup-placeholder--fullwidth"],[16,1,[30,0,["guid"]]],[16,"data-aspect-ratio",[30,0,["aspectRatio"]]],[16,5,[30,0,["lockupStyles"]]],[4,[38,2],[[30,0,["didInsertNode"]],[30,0]],null],[12],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[18,2,null],[1,"\\n"]],[]]]],["@lazyLoad","&default"],false,["if","and","did-insert","yield"]]',moduleName:"desktop-music-app/components/dt-lockup-placeholder.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-lockup",["exports","@glimmer/component","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/artwork-config","desktop-music-app/utils/playlist-curator","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/lockup-context-menu","desktop-music-app/decorators/lockup-click","desktop-music-app/decorators/lockup-attributes","desktop-music-app/utils/media-type","desktop-music-app/services/accessibility"],(function(e,t,i,r,n,o,l,a,s,u,c){var d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j
function T(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C=Ember.HTMLBars.template({id:"i019tnyZ",block:'[[[11,0],[16,1,[30,0,["idRef"]]],[24,"role","group"],[16,0,[29,["lockup ",[30,0,["lockupClasses"]]," ",[30,0,["lockupKind"]],[52,[30,1]," selectLockup"],[52,[30,2,["isHidden"]]," is-hidden"],[52,[51,[30,0,["creatorUrl"]]]," no-subline-destination"]]]],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"data-dt-link-to-exclude",[30,0,["internalClickDisabled"]]],[24,"data-context-menu-parent",""],[17,3],[4,[38,2],["contextmenu",[30,0,["onContextMenu"]]],null],[4,[38,2],["click",[30,0,["click"]]],null],[4,[38,3],null,[["dragData","dragImage"],[[30,2],".media-artwork-v2 picture"]]],[12],[1,"\\n"],[41,[30,2,["isPlaylist"]],[[[1,"        "],[8,[39,4],null,[["@lockup","@artworkProfile","@lazyLoad","@height","@width","@metricsLocation"],[[30,2],[30,0,["artworkProfileV2"]],[30,0,["lazyLoad"]],[30,0,["artworkHeight"]],[30,0,["artworkWidth"]],[30,0,["dataMetricsLocation"]]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["playable"]],[[[1,"                "],[10,0],[14,0,"lockup__controls"],[12],[1,"\\n                    "],[8,[39,5],[[24,0,"small"]],[["@lockup","@songsContainer","@recommendationData","@metricsLocation"],[[30,2],[30,2],[30,4],[30,0,["dataMetricsLocation"]]]],null],[1,"\\n\\n"],[1,"                        "],[8,[39,6],null,[["@lockup","@listenTo"],[[30,2],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,7],null,[["@lockups","@artworkInfo"],[[30,2],[30,0,["artworkInfo"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1],[[[1,"                "],[8,[39,8],[[24,0,"select-option button-reset"]],[["@type","@checked"],["checkbox",[30,2,["isPublic"]]]],null],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,9],[[24,0,"dt-lockup__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad","@lockup","@alt","@metricsLocation"],[[30,0,["artwork"]],[30,0,["artworkProfileV2"]],[28,[37,10],[[30,2]],null],[30,0,["lazyLoad"]],[30,2],[28,[37,11],[[30,2,["name"]],[30,2,["title"]]],null],[30,0,["dataMetricsLocation"]]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,12],null,[["@lockup"],[[30,2]]],null],[1,"\\n            "],[10,0],[14,0,"lockup__controls"],[12],[1,"\\n"],[41,[30,0,["shouldDisplayEntityContextMenu"]],[[[1,"                        "],[8,[39,13],null,[["@lockup","@listenTo"],[[30,2],"click"]],[["default"],[[[[1,"\\n                            "],[10,0],[14,"tabindex","-1"],[14,0,"lockup__contextual-menu-trigger"],[12],[13],[1,"\\n                        "]],[]]]]],[1,"\\n                        "],[8,[39,13],[[24,"aria-hidden","true"]],[["@lockup","@listenTo"],[[30,2],"contextmenu"]],[["default"],[[[[1,"\\n                            "],[10,0],[14,0,"lockup__contextual-menu-trigger"],[12],[13],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,0,["playable"]],[[[1,"                    "],[10,0],[15,0,[52,[28,[37,14],[[30,0,["linkable"]]],null],"lockup__controls__play-button-wrapper"]],[12],[1,"\\n"],[41,[30,5],[[[1,"                            "],[8,[39,5],[[16,0,[30,0,["playButtonSize"]]]],[["@lockup","@playlist","@songsContainer","@recommendationData","@metricsLocation"],[[30,2],[30,5],[30,2],[30,4],[30,0,["dataMetricsLocation"]]]],null],[1,"\\n"]],[]],[[[1,"                            "],[8,[39,5],[[16,0,[30,0,["playButtonSize"]]]],[["@lockup","@songsContainer","@recommendationData","@metricsLocation"],[[30,2],[30,2],[30,4],[30,0,["dataMetricsLocation"]]]],null],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["shouldDisplayMediaContextMenu"]],[[[1,"                        "],[8,[39,6],null,[["@lockup","@listenTo"],[[30,2],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,7],null,[["@lockups","@artworkInfo"],[[30,2],[30,0,["artworkInfo"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]],[1,"\\n    "],[8,[39,15],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n"],[41,[30,7],[[[1,"            "],[10,0],[14,0,"lockup-ranking"],[12],[1,[28,[35,16],[[30,8]],null]],[13],[1,"\\n"]],[]],null],[1,"        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,6]],[12],[1,"\\n            "],[10,0],[14,0,"lockup__lines"],[12],[1,"\\n"],[41,[30,0,["lockupUrl"]],[[[1,"                    "],[10,3],[15,6,[30,0,["lockupUrl"]]],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]]]],[15,"data-dt-link-to-exclude",[30,0,["internalClickDisabled"]]],[12],[1,"\\n                        "],[1,[30,0,["line1"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,0],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]]]],[12],[1,"\\n                        "],[1,[30,0,["line1"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["creatorLinks","length"]],[[[1,"                    "],[10,0],[14,0,"line2--multiple-links"],[14,"dir","auto"],[12],[1,"\\n"],[44,[[28,[37,18],[[28,[37,19],["name",[30,0,["creatorLinks"]]],null]],null]],[[[42,[28,[37,21],[[28,[37,21],[[30,0,["creatorLinks"]]],null]],null],null,[[[1,"                                "],[10,3],[15,6,[29,[[30,10,["url"]]]]],[14,0,"dt-link-to line2 linkable"],[12],[1,[30,10,["name"]]],[13],[1,[28,[35,22],[[30,11],[30,9]],null]]],[10,11]],null]],[9]]],[1,"                    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["creatorUrl"]],[[[1,"                    "],[10,0],[14,0,"line2"],[15,1,[29,["line2-",[30,0,["guid"]]]]],[14,"dir","auto"],[12],[1,"\\n                        "],[10,3],[15,6,[30,0,["creatorUrl"]]],[14,0,"dt-link-to line2 linkable"],[14,"dir","auto"],[12],[1,"\\n"],[41,[28,[37,23],[[30,0,["aucArtistUrl"]],[30,0,["aucArtistName"]]],null],[[[1,"                                "],[1,[28,[35,24],[[30,0,["aucArtistName"]]],null]],[1,"\\n"]],[]],[[[1,"                                "],[1,[28,[35,24],[[30,0,["curatorName"]]],null]],[1,"\\n"]],[]]],[1,"                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["line2"]],[[[1,"                    "],[10,0],[14,0,"line2"],[15,1,[29,["line2-",[30,0,["guid"]]]]],[14,"dir","auto"],[12],[1,"\\n                        "],[1,[28,[35,24],[[30,0,["line2"]]],null]],[1,"\\n                    "],[13],[1,"\\n                "]],[]],null]],[]]]],[]]],[1,"\\n"],[41,[30,0,["line3"]],[[[1,"                    "],[10,0],[14,0,"line3"],[14,"dir","auto"],[12],[1,"\\n                        "],[1,[28,[35,24],[[30,0,["line3"]]],null]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n"],[41,[30,0,["displayLockupAux"]],[[[1,"                "],[10,1],[14,0,"lockup__aux"],[12],[1,"\\n"],[41,[28,[37,25],[[30,2]],null],[[[1,"                        "],[8,[39,26],null,null,null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "]],[6]]]]],[1,"\\n"],[13],[1,"\\n"]],["@isEditing","@lockup","&attrs","@recommendationData","@playlist","direction","@showRanking","@ranking","delimiters","creator","index"],false,["if","unless","on","allow-drag","lockups/dt-playlist-lockup","dt-play-button","dt-media-contextual-menu","dt-button-menu","input","amp-artwork/music","fallback-artwork","or","dt-profile-badges","dt-entity-contextual-menu","not","bidi-text","localize-number","let","get-list-delimiters","map-by","each","-track-array","object-at","and","untrusted-html","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/dt-lockup.hbs",isStrictMode:!1})
let x=(0,l.default)(d=(0,a.default)(d=(0,s.default)(d=class extends t.default{})||d)||d)||d,D=(p=Ember.inject.service("itunes-bag"),m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,w=M((k=class extends x{constructor(...e){super(...e),T(this,"bag",w,this),T(this,"user",E,this),T(this,"router",_,this),T(this,"storefront",P,this),T(this,"i18n",O,this),T(this,"itunesVersion",S,this),T(this,"playback",z,this),T(this,"metrics",j,this)}get location(){return this.dataMetricsLocation}get lockupKind(){return(0,u.getKind)(this.args.lockup)}get lazyLoad(){return this.args.lazyLoad??!0}init(){super.init(...arguments),this.guid=Ember.guidFor(this)}get internalClickDisabled(){return this.isRadioStation||this.args.isEditing}get dataTestLockup(){return this._dataTestLockup?this._dataTestLockup:this.args.lockup.id}set dataTestLockup(e){this._dataTestLockup=e}get idRef(){if(this.args.isFirstOfGroup)return c.PAGE_FIRST_LINKED_ELEMENT}get _trackCount(){return this.args.lockup.trackCount}get isAuc(){var e
return["uploaded-audios","uploaded-videos"].includes(null===(e=this.args.lockup)||void 0===e?void 0:e.type)}get shouldDisplayMediaContextMenu(){const e=(0,u.getType)(this.args.lockup)
return!["tv-episodes","artists","uploaded-videos","library-artists","curators","record-labels"].includes(e)}get artworkInfo(){return{url:Ember.get(this,"args.lockup.artwork.url"),width:this.artworkHeight,height:this.artworkWidth,crop:this.artworkCrop}}get displayLockupAux(){const e=Ember.get(this,"args.lockup.contentRating"),t=this.actionMenu
if(e||t)return!0}get aucArtistUrl(){}get aucArtistName(){return this.args.lockup.artistName}get curatorUrl(){if("playlist"===(0,u.getKind)(this.args.lockup)){const{router:e,user:t}=this
return(0,n.getPlaylistCuratorUrl)(e,t,this.args.lockup,this.storefront.resolvedStorefront)}}get curatorName(){var e,t
const{lockup:i}=this.args
return i.curatorName||(null===(e=i.curator)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.name)}get creatorUrl(){return this.aucArtistUrl||this.curatorUrl}get artworkPresetObject(){let e="standardLockup"
return 387===this.args.parentFCKind?e="masterLockup":this.args.responsive&&(e="responsiveLockup"),r.ARTWORK_PRESETS[e]}get artworkPresetObjectV2(){let e="standardLockup"
return 387===this.args.parentFCKind&&(e="masterLockup"),i.ARTWORK_V2_PRESETS[e]}get playButtonSize(){return"small"}get dataMetricsLocation(){const e=(0,u.getKind)(this.args.lockup),{id:t,name:i}=this.args.lockup,r=[{id:t,name:i,kind:e,locationType:"ShelfItem",locationPosition:this.args.index,description:this.line2,...this.args.recommendationData&&{data:{reco:{dataSetId:this.args.recommendationData}}}}]
return this.args.metricsParentLocation&&this.args.recommendationData?r.push({...this.args.metricsParentLocation,data:{reco:{dataSetId:this.args.recommendationData}}}):this.args.metricsParentLocation&&r.push({...this.args.metricsParentLocation}),r}}).prototype,"bag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(k.prototype,"user",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(k.prototype,"router",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(k.prototype,"storefront",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(k.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=M(k.prototype,"itunesVersion",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(k.prototype,"playback",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(k.prototype,"metrics",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k)
e.default=D,Ember._setComponentTemplate(C,D)})),define("desktop-music-app/components/dt-love-or-popular",["exports","@glimmer/component","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"er6jTdb+",block:'[[[10,0],[14,0,"love-or-popular"],[12],[1,"\\n    "],[11,"button"],[16,0,[29,["love-or-popular__glyph",[52,[30,0,["isLoved"]]," love-or-popular__loved"],[52,[30,0,["isPopular"]]," love-or-popular__popular"]]]],[24,"role","checkbox"],[16,"disabled",[52,[30,0,["isButtonDisabled"]],true]],[16,"title",[30,0,["helpText"]]],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"aria-check",[52,[30,0,["isLoved"]],"true","false"]],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,["if","on"]]',moduleName:"desktop-music-app/components/dt-love-or-popular.hbs",isStrictMode:!1})
let b=(r=Ember.inject.service("itunes-bag"),n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){super(...e),d(this,"bag",s,this),d(this,"i18n",u,this),d(this,"user",c,this)}get isButtonDisabled(){return!this.user.isSubscribed}get popularityThreshold(){return.7}get isLoved(){return this.args.isLoved&&!this.isButtonDisabled}get isPopular(){return!this.args.isLoved&&Number(this.args.popularity)>=this.popularityThreshold}get helpText(){return this.args.isLoved?this.i18n.t("FUSE.VO.HeartHelpText"):""}get ariaLabel(){return this.isPopular&&!this.args.isLoved?`${this.i18n.t("FUSE.PopularTrack")}, ${this.i18n.t("FUSE.Loved")}`:this.i18n.t("FUSE.Loved")}onClick(e){e.stopPropagation(),this.args.toggleLoved()}},s=p(a.prototype,"bag",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"onClick",[l],Object.getOwnPropertyDescriptor(a.prototype,"onClick"),a.prototype),a)
e.default=b,Ember._setComponentTemplate(m,b)})),define("desktop-music-app/components/dt-lyrics",["exports","@glimmer/component","desktop-music-app/helpers/image-url","desktop-music-app/helpers/human-duration"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"+J2tM8jS",block:'[[[1,"    "],[8,[39,0],null,[["@model","@selectedTrack","@scrollToSelectedSong","@disableSEOTags"],[[30,1,["album"]],[30,1,["songId"]],[52,[30,1,["songId"]],true,false],true]],null],[1,"\\n\\n    "],[8,[39,2],null,[["@isOpen","@canBeDismissed","@onDismiss","@ariaLabel"],[[30,0,["modalIsVisible"]],true,[30,0,["onDismiss"]],[28,[37,3],["FUSE.ContextualMenuItem.ViewLyrics"],null]]],[["default"],[[[[1,"\\n        "],[10,"article"],[15,0,[29,["content-modal dt-lyrics__modal",[52,[30,0,["isLoading"]]," loading"]]]],[15,5,[28,[37,4],[[28,[37,5],["--dt-lyrics-background-image: url(",[30,0,["artworkURL"]],")"],null]],null]],[12],[1,"\\n\\n"],[1,"            "],[10,0],[14,0,"dt-lyrics__platter"],[12],[1,"\\n                "],[10,0],[14,0,"dt-lyrics__platter-container"],[12],[1,"\\n                    "],[10,0],[14,0,"dt-lyrics__platter-filter-overlay"],[12],[1,"\\n                        "],[10,"svg"],[14,0,"dt-lyrics__platter-filter-overlay-svg"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 386 386"],[14,"preserveaspectratio","none"],[12],[1,"\\n                            "],[10,"defs"],[12],[1,"\\n"],[1,"                                "],[10,"filter"],[14,1,"turbulence"],[12],[1,"\\n                                    "],[10,"feTurbulence"],[14,"baseFrequency","0.008"],[14,"numOctaves","2"],[14,4,"fractalNoise"],[12],[13],[1,"\\n                                    "],[10,"feDisplacementMap"],[14,"xChannelSelector","R"],[14,"yChannelSelector","G"],[14,"in","SourceGraphic"],[14,"scale","220"],[12],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n\\n"],[1,"                            "],[10,"image"],[14,0,"dt-lyrics__platter-filter-overlay-img dt-lyrics__platter-filter-overlay-large-back-img"],[14,"x","-25%"],[14,"y","-25%"],[14,"width","150%"],[14,"height","150%"],[15,"xlink:href",[29,[[30,0,["artworkURL"]]]],"http://www.w3.org/1999/xlink"],[14,"alt",""],[12],[13],[1,"\\n\\n"],[1,"                            "],[10,"image"],[14,0,"dt-lyrics__platter-filter-overlay-img dt-lyrics__platter-filter-overlay-medium-middle-img"],[14,"width","100%"],[14,"height","100%"],[14,"x","10%"],[14,"y","-10%"],[15,"xlink:href",[29,[[30,0,["artworkURL"]]]],"http://www.w3.org/1999/xlink"],[14,"alt",""],[12],[13],[1,"\\n\\n"],[1,"                            "],[10,"g"],[14,0,"dt-lyrics__platter-filter-overlay-orbit"],[12],[1,"\\n                                "],[10,"image"],[14,0,"dt-lyrics__platter-filter-overlay-img dt-lyrics__platter-filter-overlay-orbit-img"],[14,"width","60%"],[14,"height","60%"],[14,"x","50%"],[14,"y","50%"],[15,"xlink:href",[29,[[30,0,["artworkURL"]]]],"http://www.w3.org/1999/xlink"],[14,"alt",""],[12],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[24,0,"dt-lyrics__close-button"],[16,"aria-label",[28,[37,3],["Close"],null]],[4,[38,6],["click",[30,0,["onDismiss"]]],null],[12],[1,"\\n                "],[1,[28,[35,7],["lyricssharing_close"],[["class"],["dt-lyrics__close-button-icon"]]]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"dt-lyrics__container"],[12],[1,"\\n                "],[10,0],[14,0,"dt-lyrics__container-lines"],[12],[1,"\\n"],[42,[28,[37,9],[[28,[37,9],[[30,0,["lyricsArray"]]],null]],null],null,[[[1,"                        "],[10,2],[14,0,"dt-lyrics__line typography-large-title-emphasized"],[12],[1,[30,2]],[13],[1,"\\n"]],[2]],null],[1,"                "],[13],[1,"\\n                "],[10,0],[14,0,"typography-callout dt-lyrics__timestamp"],[12],[1,"\\n                    "],[10,2],[14,"role","text"],[15,"aria-label",[52,[30,0,["musickit","isPlaying"]],[30,0,["elapsedTimerLabel"]],[30,0,["durationLabel"]]]],[12],[1,"\\n                        "],[1,[30,0,["formattedPlaybackTime"]]],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"dt-lyrics__chin"],[12],[1,"\\n                "],[10,0],[14,0,"dt-lyrics__chin-text"],[12],[1,"\\n                    "],[10,0],[14,0,"dt-lyrics__track-name typography-title-3-bold"],[12],[1,[30,0,["selectedTrack","name"]]],[13],[1,"\\n                    "],[10,0],[14,0,"dt-lyrics__artist-name typography-title-3"],[12],[1,[30,0,["selectedTrack","artistName"]]],[13],[1,"\\n                "],[13],[1,"\\n                "],[8,[39,10],[[24,0,"dt-lyrics__play-button play-button--lyrics small"]],[["@lockup","@songsContainer","@playlist","@dontAllowPreview","@startTime","@endTime","@isPlaying"],[[30,1,["selectedTrack"]],[30,1,["album","album"]],[30,0,["playlist"]],true,[30,1,["ts"]],[30,1,["te"]],[30,0,["playback","isPlaying"]]]],null],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"]],["@model","lyric"],false,["dt-album","if","dt-modal","t","trusted-css","concat","on","svg-jar","each","-track-array","dt-play-button"]]',moduleName:"desktop-music-app/components/dt-lyrics.hbs",isStrictMode:!1})
let g=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember._action,u=class extends t.default{constructor(...e){super(...e),b(this,"musickit",c,this),b(this,"playback",d,this),b(this,"i18n",p,this),b(this,"modalIsVisible",m,this)}get isLoading(){return this.playback.isLoading}get lyricsArray(){var e
const t=null===(e=this.args.model)||void 0===e?void 0:e.text
return t?t.split("\n"):t}get selectedTrack(){var e
return null===(e=this.args.model)||void 0===e?void 0:e.selectedTrack}get formattedPlaybackTime(){return this.musickit.formatMediaTime(this.args.model.te-this.args.model.ts)}get elapsedTimerLabel(){let e=Math.floor(this.musickit.currentPlaybackTime-this.args.model.ts)
return(e<0||Number.isNaN(Number(e))||!Number.isFinite(e))&&(e=0),`${this.i18n.t("FUSE.Elapsed")} ${(0,r.formatDuration)(e,this.i18n)}`}get durationLabel(){return(0,r.formatDuration)(this.args.model.te-this.args.model.ts,this.i18n)}get playlist(){var e,t,i
return null===(e=this.args.model)||void 0===e||null===(t=e.album)||void 0===t||null===(i=t.album)||void 0===i?void 0:i.tracks}get artworkURL(){var e,t,r
const n=null===(e=this.args.model)||void 0===e||null===(t=e.album)||void 0===t||null===(r=t.album)||void 0===r?void 0:r.artwork
return(0,i.imageUrl)([n.url],{width:60,height:60,cropCode:"bb",quality:50})}onDismiss(){this.modalIsVisible=!1}},c=f(u.prototype,"musickit",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"playback",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"modalIsVisible",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f(u.prototype,"onDismiss",[s],Object.getOwnPropertyDescriptor(u.prototype,"onDismiss"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/dt-media-contextual-menu",["exports","desktop-music-app/components/contextual-menu","desktop-music-app/config","desktop-music-app/services/local-state","desktop-music-app/utils/constants","desktop-music-app/utils/logger","desktop-music-app/utils/musickit-data","desktop-music-app/utils/media-type","ember-lifeline"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W,Y
function q(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function G(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const $=Ember.HTMLBars.template({id:"F9e5NsmX",block:'[[[11,0],[24,0,"dt-media-contextual-menu"],[17,1],[4,[38,0],[[30,0,["setAxRole"]],[30,0]],null],[12],[1,"\\n    "],[8,[39,1],null,[["@onOpen"],[[30,0,["setMenuItems"]]]],[["default"],[[[[1,"\\n        "],[11,0],[16,0,[29,[[28,[37,2],["context-menu__overflow ",[30,3]],null]]]],[16,"aria-label",[30,0,["axLabel"]]],[16,"role",[30,0,["axRole"]]],[24,"tabindex","-1"],[16,"aria-hidden",[52,[28,[37,4],[[30,4],"contextmenu"],null],"true"]],[4,[38,5],[[30,4],[30,2,["open"]]],null],[4,[38,5],["mouseover",[30,0,["onMouseOver"]]],null],[4,[38,5],["mouseout",[30,0,["onMouseOut"]]],null],[12],[1,"\\n            "],[18,8,null],[1,"\\n        "],[13],[1,"\\n"],[41,[30,0,["renderedMenuItems","length"]],[[[1,"            "],[8,[30,2,["panel"]],[[4,[38,5],["click",[30,0,["maybeStopClickPropagation"]]],null]],null,[["default"],[[[[1,"\\n"],[42,[28,[37,8],[[28,[37,8],[[28,[37,9],["order",[30,0,["renderedMenuItems"]]],null]],null]],null],null,[[[41,[30,6,["component"]],[[[1,"                        "],[46,[30,6,["component"]],null,[["leadText","panel","item","lockup"],[[28,[37,11],[[30,6,["text"]]],null],[30,5,["self"]],[30,6],[30,7]]],null],[1,"\\n"]],[]],[[[1,"                        "],[8,[30,5,["option"]],null,[["@testName","@text","@icon","@onSelect"],[[30,6,["dataTest"]],[28,[37,11],[[30,6,["text"]]],null],[30,6,["icon"]],[28,[37,12],[[30,0],[30,6,["action"]]],null]]],null],[1,"\\n"]],[]]]],[6]],null],[1,"            "]],[5]]]]],[1,"\\n"]],[]],null],[1,"    "]],[2]]]]],[1,"\\n"],[13],[1,"\\n"]],["&attrs","menu","@overflowClass","@listenTo","panel","item","@lockup","&default"],false,["did-insert","context-menu","concat","if","eq","on","yield","each","-track-array","sort-by","component","t","get"]]',moduleName:"desktop-music-app/components/dt-media-contextual-menu.hbs",isStrictMode:!1})
function Q(e=[]){return e.map((e=>Array.isArray(e)?Q(e):e))}const{MUSIC:{DEFAULT_TRANSITION:J,IN_LIBRARY_TYPES:X}}=i.default,Z={addToPlaylist:{text:"FUSE.ContextualMenuItem.AddToPlaylist",icon:"menu-add",component:"dt-contextual-add-to-playlist",dataTest:"add-to-playlist",order:0},love:{text:"FUSE.ContextualMenuItem.LoveCopy",icon:"menu-love",action:"love",dataTest:"love",order:4},unlove:{text:"FUSE.ContextualMenuItem.Unlove",icon:"menu-unlove",action:"unlove",dataTest:"unlove",order:5},suggestLess:{text:"FUSE.ContextualMenuItem.SuggestLessLikeThis",icon:"menu-thumbs-down",action:"suggestLess",dataTest:"suggest-less",order:5},undoSuggestLess:{text:"FUSE.ContextualMenuItem.UndoSuggestLessLikeThis",icon:"menu-thumbs-down",action:"undoSuggestLess",dataTest:"undo-suggest-less",order:5},addToLibrary:{text:"FUSE.ContextualMenuItem.AddToLibrary",icon:"menu-add",action:"addToLibrary",dataTest:"add-to-library",order:0},deleteFromLibrary:{text:"FUSE.ContextualMenuItem.DeleteFromLibrary",icon:null,action:"deleteFromLibrary",dataTest:"delete-from-library",order:0}},ee=[{text:"FUSE.ContextualMenuItem.PlayNext",icon:"menu-play-next",action:"playNext",dataTest:"play-next",order:2},{text:"FUSE.ContextualMenuItem.PlayLater",icon:"menu-play-later",action:"playLater",dataTest:"play-later",order:3}],te=[Z.love,Z.suggestLess],ie=[Z.unlove],re=[Z.undoSuggestLess],ne=new WeakMap
let oe=null,le=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember._tracked,w=Ember._action,E=Ember._action,_=Ember._action,P=Ember._action,O=Ember._action,S=Ember._action,z=Ember._action,j=Ember._action,T=Ember._action,M=Ember._action,C=Ember._action,x=Ember._action,D=Ember._action,L=class extends t.default{constructor(...e){super(...e),q(this,"fastboot",A,this),q(this,"musickit",I,this),q(this,"musickitData",N,this),q(this,"musickitUser",R,this),q(this,"contextMenu",F,this),q(this,"localState",U,this),q(this,"user",B,this),q(this,"metrics",H,this),q(this,"i18n",V,this),q(this,"router",K,this),q(this,"storefront",W,this),q(this,"renderedMenuItems",Y,this)}get libraryId(){var e,t,i
const{lockup:r}=this.args
return(null===(e=r.library)||void 0===e?void 0:e.id)||(null===(t=r.localLibrary)||void 0===t?void 0:t.id)||(r.isLibrary||(null===(i=r.playParams)||void 0===i?void 0:i.isLibrary))&&r.id}get sharingIsEnabled(){return this.args.lockup.url||this.args.lockup.isLibraryPlaylist}get contentDescriptorType(){return(0,a.getCatalogType)(this.args.lockup)}get contentDescriptor(){if(this.contentDescriptorType)return{[this.contentDescriptorType]:[this.args.lockup.id]}}get libraryContentDescriptor(){if(this.contentDescriptorType)return{[this.contentDescriptorType]:[this.libraryId]}}get _isAMContent(){const{lockup:e}=this.args
return this.user.isSubscribed&&this.storefront.isMyStorefront&&!n.NON_PLAYABLE_TYPES.includes((0,a.getType)(e))&&!!e.playParams}_recordMetricsClick(){this.contextMenuElement=document.querySelector(".context-menu")
this.metrics.recordEvent("click",{actionType:"select",targetType:"button",targetId:"actionSheet"},this.contextMenuElement)}async _maybeAddLibraryActions(e){const{lockup:t}=this.args
if(!t.id)return
const i=this.localState.get(t.id,r.TYPE_LIBRARY)
if(this.musickitData.isInLibrary(t)&&(0,l.hasLibraryReference)(t)&&i!==r.ITEM_WAS_DELETED)e.push(Z.deleteFromLibrary)
else if(!this.libraryId&&X.includes(t.type)){const t=await this.getLibraryStatusMenuItem()
t&&e.push(t)}else n.CAN_ADD_TO_LIBRARY_TYPES.includes((0,a.getKind)(t))&&i!==r.ITEM_WAS_ADDED&&e.push(Z.addToLibrary)}async setMenuItems(e){var t
const{lockup:i}=this.args,r=Q(this.menuItems),n=(0,a.getType)(i)
let o
this._isAMContent&&(this.musickit.canEditPlaybackQueue&&r.push(...ee),["songs","albums"].includes(n)&&r.push(Z.addToPlaylist),await this._maybeAddLibraryActions(r),o=this.getRatingsMenuItems(),o.then||r.push(...o)),this.sharingIsEnabled&&r.push({text:"FUSE.ContextualMenuItem.Share",icon:"menu-add",component:"dt-contextual-sharing",dataTest:"sharing-option",order:6}),this.renderedMenuItems=r.filter(Boolean),null!==(t=o)&&void 0!==t&&t.then&&o.then((e=>{null!=e&&e.length&&(this.renderedMenuItems=[...this.renderedMenuItems,...e])})),e||this._recordMetricsClick()}async addToLibrary(){const e=this.args.lockup.id
try{var t,i
await this.musickitData.addToLibrary(this.args.lockup),null===(t=(i=this.args).onAdd)||void 0===t||t.call(i,e)
const r={actionType:"select",targetType:"button",targetId:e,actionContext:"contextualAction",actionDetails:{details:"addToLibrary"}}
this.metrics.recordEvent("click",r,this.contextMenuElement)}catch(r){(0,o.error)("ERROR - context-menu adding to library: ",r)}finally{this._closeMenu()}}async deleteFromLibrary(){const e=this.getDeleteConfirmation((0,a.getKind)(this.args.lockup)),{currentMenu:t}=this.contextMenu
if(this._closeMenu(t),e)try{var i,n
"playlists"===this.contentDescriptorType?await this.musickitUser.deleteUserPlaylist(this.libraryContentDescriptor):await this.musickitData.deleteFromLibrary(this.libraryContentDescriptor)
const{lockup:e}=this.args,{id:t,type:o}=e
if(this._handleLocalUpdate(t,r.TYPE_LIBRARY,r.ITEM_WAS_DELETED),"albums"===o&&e.tracks)for(const i of e.tracks)this._handleLocalUpdate(i.id,r.TYPE_LIBRARY,r.ITEM_WAS_DELETED)
ae(e,"library")?e.localLibrary=null:e.library=null,ae(e,"inLibrary")?e.localInLibrary=!1:e.inLibrary=!1,null===(i=(n=this.args).onDelete)||void 0===i||i.call(n,t)
const l={actionType:"delete",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction",actionDetails:{details:"deleteFromLibrary"}}
this.metrics.recordEvent("click",l,this.contextMenuElement)
const a=this.router.currentURL.split("/")
a[a.length-1].split("?")[0]===this.libraryId&&this.router.transitionTo(J)}catch(l){(0,o.error)("ERROR - context-menu deleting from library: ",l)}}getDeleteConfirmation(e){switch(e){case"playlist":return confirm(this.i18n.t("AMWEB.Library.Confirm.Delete.Playlist"))
case"album":return confirm(this.i18n.t("AMWEB.Library.Confirm.Delete.Album"))
case"song":return confirm(this.i18n.t("AMWEB.Library.Confirm.Delete.Song"))
default:return confirm(this.i18n.t("AMWEB.Library.Confirm.Delete"))}}playNext(){this.musickit.playNext(this.contentDescriptor),this._closeMenu()
const e={actionType:"add",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction",actionDetails:{addTo:"StartOfQueue"}}
this.metrics.recordEvent("click",e,this.contextMenuElement)}playLater(){this.musickit.playLater(this.contentDescriptor),this._closeMenu()
const e={actionType:"add",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction",actionDetails:{addTo:"EndOfQueue"}}
this.metrics.recordEvent("click",e,this.contextMenuElement)}removeFromQueue(){const e=this.musickit.instance.queue.items.findIndex((e=>e.id===this.args.lockup.id))
this.musickit.instance.queue.remove(e),this._closeMenu()
const t={actionType:"add",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction",actionDetails:{addTo:"RemoveFromQueue"}}
this.metrics.recordEvent("click",t,this.contextMenuElement)}async love(){const e=await this.musickitData.rating(this.contentDescriptor)
try{this._handleLocalUpdate(this.args.lockup.id,r.TYPE_RATING,r.ITEM_WAS_LOVED),-1===e||1===e?await this.musickitData.deleteRating(this.contentDescriptor):await this.musickitData.putRating(this.contentDescriptor,1)}catch(i){(0,o.error)("error context-menu loving item: ",i)}finally{this._closeMenu()}const t={actionType:"love",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction"}
this.metrics.recordEvent("click",t,this.contextMenuElement)}async suggestLess(){const e=await this.musickitData.rating(this.contentDescriptor)
try{this._handleLocalUpdate(this.args.lockup.id,r.TYPE_RATING,r.ITEM_WAS_SUGGESTED_LESS),-1===e||1===e?await this.musickitData.deleteRating(this.contentDescriptor):await this.musickitData.putRating(this.contentDescriptor,-1)}catch(i){(0,o.error)("error context-menu suggestLess: ",i)}finally{this._closeMenu()}const t={actionType:"hate",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction"}
this.metrics.recordEvent("click",t,this.contextMenuElement)}async undoSuggestLess(){this.neutralizeRating()
const e={actionType:"unhate",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction"}
this.metrics.recordEvent("click",e,this.contextMenuElement)}async unlove(){this.neutralizeRating()
const e={actionType:"unlove",targetType:"button",targetId:this.args.lockup.id,actionContext:"contextualAction"}
this.metrics.recordEvent("click",e,this.contextMenuElement)}async neutralizeRating(){const e=await this.musickitData.rating(this.contentDescriptor)
try{-1!==e&&1!==e||(this._handleLocalUpdate(this.args.lockup.id,r.TYPE_RATING,r.ITEM_WAS_NEUTRALIZED),await this.musickitData.deleteRating(this.contentDescriptor))}catch(t){(0,o.error)("error context-menu neutralize rating: ",t)}finally{this._closeMenu()}}onMouseOver(){this.user.isSubscribed&&this.storefront.isMyStorefront&&X.includes(this.args.lockup.type)&&(oe=(0,s.runTask)(this,(()=>{this._mouseOut?this._mouseOut=!1:(this.getRatingsMenuItems(),this.libraryId||this.getLibraryStatusMenuItem(),oe=null)}),150))}onMouseOut(){oe&&(this._mouseOut=!0)}getRatingsMenuItems(){const{lockup:e}=this.args,t=this.localState.get(e.id,r.TYPE_RATING)
if(t){if(t===r.ITEM_WAS_LOVED)return ie
if(t===r.ITEM_WAS_SUGGESTED_LESS)return re
if(t===r.ITEM_WAS_NEUTRALIZED)return te}else if(ne.has(e))return ne.get(e)
return this.requestRatingsMenuItems()}requestRatingsMenuItems(){return this.musickitData.rating(this.contentDescriptor).then((e=>{let t
return e||(t=te),1===e&&(t=ie),-1===e&&(t=re),ne.set(this.args.lockup,t),t})).catch((()=>{(0,o.error)(`failed ratings request for ${this.args.lockup.id}`)}))}async getLibraryStatusMenuItem(){const{lockup:e}=this.args
return this.musickitData.getLibraryRelationship(e.id,e.type).then((t=>{if(t&&this.musickitData.isInLibrary(t[0])){var i,n
if(ae(e,"library"))Ember.set(e,"localLibrary",null===(i=t[0].library)||void 0===i?void 0:i[0])
else Ember.set(e,"library",null===(n=t[0].library)||void 0===n?void 0:n[0])
if(ae(e,"inLibrary")?Ember.set(e,"localInLibrary",t[0].inLibrary):Ember.set(e,"inLibrary",t[0].inLibrary),(0,l.hasLibraryReference)(e))return Z.deleteFromLibrary}else{if(this.localState.get(e.id,r.TYPE_LIBRARY)!==r.ITEM_WAS_ADDED)return Z.addToLibrary}})).catch((()=>{(0,o.error)(`failed library request for ${this.args.lockup.id}`)}))}_handleLocalUpdate(e,t,i){this.localState.set(e,t,i),i!==r.ITEM_WAS_DELETED&&this.setMenuItems(!0)}},A=G(L.prototype,"fastboot",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=G(L.prototype,"musickit",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=G(L.prototype,"musickitData",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=G(L.prototype,"musickitUser",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=G(L.prototype,"contextMenu",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=G(L.prototype,"localState",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=G(L.prototype,"user",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=G(L.prototype,"metrics",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=G(L.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=G(L.prototype,"router",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=G(L.prototype,"storefront",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=G(L.prototype,"renderedMenuItems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G(L.prototype,"setMenuItems",[w],Object.getOwnPropertyDescriptor(L.prototype,"setMenuItems"),L.prototype),G(L.prototype,"addToLibrary",[E],Object.getOwnPropertyDescriptor(L.prototype,"addToLibrary"),L.prototype),G(L.prototype,"deleteFromLibrary",[_],Object.getOwnPropertyDescriptor(L.prototype,"deleteFromLibrary"),L.prototype),G(L.prototype,"playNext",[P],Object.getOwnPropertyDescriptor(L.prototype,"playNext"),L.prototype),G(L.prototype,"playLater",[O],Object.getOwnPropertyDescriptor(L.prototype,"playLater"),L.prototype),G(L.prototype,"removeFromQueue",[S],Object.getOwnPropertyDescriptor(L.prototype,"removeFromQueue"),L.prototype),G(L.prototype,"love",[z],Object.getOwnPropertyDescriptor(L.prototype,"love"),L.prototype),G(L.prototype,"suggestLess",[j],Object.getOwnPropertyDescriptor(L.prototype,"suggestLess"),L.prototype),G(L.prototype,"undoSuggestLess",[T],Object.getOwnPropertyDescriptor(L.prototype,"undoSuggestLess"),L.prototype),G(L.prototype,"unlove",[M],Object.getOwnPropertyDescriptor(L.prototype,"unlove"),L.prototype),G(L.prototype,"neutralizeRating",[C],Object.getOwnPropertyDescriptor(L.prototype,"neutralizeRating"),L.prototype),G(L.prototype,"onMouseOver",[x],Object.getOwnPropertyDescriptor(L.prototype,"onMouseOver"),L.prototype),G(L.prototype,"onMouseOut",[D],Object.getOwnPropertyDescriptor(L.prototype,"onMouseOut"),L.prototype),L)
function ae(e,t){let i,r=e
do{i=Object.getOwnPropertyDescriptor(r,t)}while(!i&&(r=Object.getPrototypeOf(r)))
return i}e.default=le,Ember._setComponentTemplate($,le)})),define("desktop-music-app/components/dt-modal-container",["exports","@glimmer/component"],(function(e,t){var i,r,n,o
function l(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"N1bPsDsB",block:'[[[11,0],[16,0,[29,["modal",[52,[30,1],[28,[37,1],[" ",[30,1]],null]]]]],[4,[38,2],[[30,0,["didInsertNode"]],[30,0]],null],[12],[1,"\\n"],[41,[30,0,["dismissModalOnClick"]],[[[1,"        "],[11,"button"],[24,0,"modal__background"],[16,"aria-label",[28,[37,3],["Close"],null]],[4,[38,4],["click",[30,0,["closeModal"]]],null],[12],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"modal__background"],[12],[13],[1,"\\n"]],[]]],[1,"    "],[10,0],[14,0,"modal__content"],[12],[1,"\\n        "],[18,5,[[28,[37,6],null,[["body","footer"],[[50,"dt-modal-container/body",0,null,null],[50,"dt-modal-container/footer",0,null,null]]]]]],[1,"\\n    "],[13],[1,"\\n\\n"],[1,"    "],[10,"style"],[12],[1,"\\n"],[41,[30,2],[[[1,"            #"],[1,[30,0,["guid"]]],[1," .modal__content {\\n                width: "],[1,[30,2]],[1,"px;\\n            }\\n"]],[]],null],[1,"\\n"],[41,[30,3],[[[1,"            #"],[1,[30,0,["guid"]]],[1," .modal__content {\\n                height: "],[1,[30,3]],[1,"px;\\n            }\\n"]],[]],null],[1,"\\n"],[41,[30,4],[[[1,"            #"],[1,[30,0,["guid"]]],[1," .padded {\\n                padding-left: "],[1,[30,4]],[1,"px;\\n                padding-right: "],[1,[30,4]],[1,"px;\\n            }\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@class","@containerWidth","@containerHeight","@containerPadding","&default"],false,["if","concat","did-insert","t","on","yield","hash","component"]]',moduleName:"desktop-music-app/components/dt-modal-container.hbs",isStrictMode:!1})
let s=(i=Ember.inject.service,r=Ember._action,n=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="modal",r=this,(i=o)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),this.dismissModalOnClick=this.args.dismissModalOnClick||!0}didInsertNode(e,[t]){t.args.modalRendered&&t.args.modalRendered(),t.guid=Ember.guidFor(t)}closeModal(){!0===this.dismissModalOnClick&&this.modal.close()}},o=l(n.prototype,"modal",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(n.prototype,"closeModal",[r],Object.getOwnPropertyDescriptor(n.prototype,"closeModal"),n.prototype),n)
e.default=s,Ember._setComponentTemplate(a,s)})),define("desktop-music-app/components/dt-modal-container/body",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"IMYFQ8TT",block:'[[[11,0],[24,0,"modal__body padded"],[17,1],[12],[1,"\\n    "],[18,2,null],[1,"\\n"],[13],[1,"\\n"]],["&attrs","&default"],false,["yield"]]',moduleName:"desktop-music-app/components/dt-modal-container/body.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-modal-container/footer",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"1HLONVK1",block:'[[[10,0],[14,0,"modal__footer"],[12],[1,"\\n    "],[18,1,null],[1,"\\n"],[13],[1,"\\n"]],["&default"],false,["yield"]]',moduleName:"desktop-music-app/components/dt-modal-container/footer.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-modal",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/key-events"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"N9VysMwU",block:'[[[41,[30,1],[[[40,[[[1,"        "],[11,0],[24,0,"dt-modal__container"],[17,2],[4,[38,3],[[30,0,["didOpen"]]],null],[4,[38,4],[[30,0,["didClose"]]],null],[12],[1,"\\n            "],[10,0],[14,0,"dt-modal__background-overlay"],[12],[13],[1,"\\n            "],[10,0],[14,0,"dt-modal__dialog-content"],[14,"role","dialog"],[14,"aria-modal","true"],[14,"tabindex","-1"],[15,"aria-label",[30,3]],[12],[1,"\\n                "],[10,0],[14,0,"dt-modal__contents"],[12],[1,"\\n                    "],[18,5,[[30,0,["dismissModal"]]]],[1,"\\n                "],[13],[1,"\\n                "],[11,"button"],[16,0,[29,["dt-modal__dismiss-overlay",[52,[28,[37,6],[[30,4]],null]," dt-modal__background-overlay--not-dismissable"]]]],[16,"aria-label",[28,[37,7],["Close"],null]],[4,[38,8],["click",[30,0,["dismissModalOnClick"]]],null],[12],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],"%cursor:0%",[28,[37,2],[[30,0,["modalElementTarget"]]],null]]],[]],null]],["@isOpen","&attrs","@ariaLabel","@canBeDismissed","&default"],false,["if","in-element","-in-el-null","did-insert","will-destroy","yield","not","t","on"]]',moduleName:"desktop-music-app/components/dt-modal.hbs",isStrictMode:!1}),g="dt-modal--is-visible"
let y=(n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),b(this,"accessibility",p,this),b(this,"fastboot",m,this)}get modalElementTarget(){return!this.fastboot.isFastBoot&&self.document.getElementById("dt-modal-container")}didOpen(){this.accessibility.setAriaHiddenToContent(!0),document.body.classList.add(g),(0,i.addEventListener)(this,window,"keyup",this.handleKeyup),(0,i.runTask)(this,(()=>{this.args.onOpen&&this.args.onOpen()}),0)}didClose(){this.accessibility.setAriaHiddenToContent(!1),document.body.classList.remove(g)}handleKeyup(e){(this.args.canBeDismissed??1)&&e.key===r.ESCAPE&&this.dismissModal()}dismissModal(){this.args.onDismiss()}dismissModalOnClick(){(this.args.canBeDismissed??1)&&this.dismissModal()}},p=f(d.prototype,"accessibility",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(d.prototype,"didOpen",[l],Object.getOwnPropertyDescriptor(d.prototype,"didOpen"),d.prototype),f(d.prototype,"didClose",[a],Object.getOwnPropertyDescriptor(d.prototype,"didClose"),d.prototype),f(d.prototype,"handleKeyup",[s],Object.getOwnPropertyDescriptor(d.prototype,"handleKeyup"),d.prototype),f(d.prototype,"dismissModal",[u],Object.getOwnPropertyDescriptor(d.prototype,"dismissModal"),d.prototype),f(d.prototype,"dismissModalOnClick",[c],Object.getOwnPropertyDescriptor(d.prototype,"dismissModalOnClick"),d.prototype),d)
e.default=y,Ember._setComponentTemplate(h,y)})),define("desktop-music-app/components/dt-modal/commerce-modal",["exports","@glimmer/component","desktop-music-app/utils/url-parser","ember-lifeline","desktop-music-app/config/environment"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"iLRB8aaR",block:'[[[8,[39,0],null,[["@isOpen","@canBeDismissed","@onOpen","@onDismiss"],[[30,0,["commerceModalManager","isOpen"]],[30,0,["commerceModalManager","commerceRouteProperties","canBeDismissed"]],[30,0,["openCommerceModal"]],[30,0,["dismissCommerceModal"]]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"commerce-modal"],[12],[1,"\\n        "],[10,0],[14,1,"commerce-iframe"],[12],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]]]],[],false,["dt-modal"]]',moduleName:"desktop-music-app/components/dt-modal/commerce-modal.hbs",isStrictMode:!1}),{COMMERCE_MODAL_OPEN:v}=n.default.APP,k="commerce-modal--is-visible",w={isFullscreen:!1,isModal:!0}
let E=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),h(this,"musickit",p,this),h(this,"locale",m,this),h(this,"storefront",b,this),h(this,"commerceModalManager",f,this)}_insertCommerceIframe(){const{commerceModalManager:e}=this,t={queryParams:{...w}},r={iso2code:Ember.get(this,"storefront.resolvedStorefront")||"us",locale:Ember.get(this,"locale.locale")||"en-us"},n=document.querySelector("[role=dialog]")
Object.assign(t.queryParams,r),e.params&&Object.assign(t.queryParams,e.params)
const o=(0,i.default)(window.location.href),{query:l}=o
Object.assign(t.queryParams,l)
const a=e.commerceManagerInstance.createIframe(e.path,t)
a.setAttribute("title",e.dialogTitle),n.setAttribute("aria-label",e.dialogTitle)
const s=document.getElementById("commerce-iframe")
s&&(s.appendChild(a),a.focus())}openCommerceModal(){const{body:e}=document
e.classList.add(k,`commerce-modal--path-${this.commerceModalManager.pathKey}`),(0,r.runTask)(this,this._insertCommerceIframe,v)}dismissCommerceModal(){const{body:e}=document
e.classList.remove(k,`commerce-modal--path-${this.commerceModalManager.pathKey}`),this.commerceModalManager.close()}},p=g(d.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"locale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(d.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g(d.prototype,"commerceModalManager",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"openCommerceModal",[u],Object.getOwnPropertyDescriptor(d.prototype,"openCommerceModal"),d.prototype),g(d.prototype,"dismissCommerceModal",[c],Object.getOwnPropertyDescriptor(d.prototype,"dismissCommerceModal"),d.prototype),d)
e.default=E,Ember._setComponentTemplate(y,E)})),define("desktop-music-app/components/dt-modal/content-modal",["exports","@glimmer/component","ember-lifeline"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"9L8241FJ",block:'[[[11,0],[4,[38,0],[[30,0,["setupModal"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"content-modal"],[14,"role","dialog"],[14,"tabindex","-1"],[12],[1,"\\n        "],[11,"button"],[24,0,"content-modal__close-button"],[16,"aria-label",[28,[37,1],["Close"],null]],[4,[38,2],["click",[30,0,["closeModal"]]],null],[12],[1,"\\n            "],[1,[28,[35,3],["mobile_sheet_close"],[["class","aria-hidden"],["content-modal__close-icon","true"]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"content-modal__title-container "],[12],[1,"\\n"],[41,[30,1],[[[1,"                "],[10,"h1"],[14,0,"typography-header-emphasized"],[12],[1,[30,1]],[13],[1,"\\n"]],[]],null],[41,[30,2],[[[1,"                "],[10,"h2"],[14,0,"typography-callout"],[12],[1,[30,2]],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n        "],[10,0],[14,0,"content-modal__content-container"],[12],[1,"\\n"],[41,[30,3],[[[1,"                "],[10,2],[12],[1,[30,3]],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n        "],[10,0],[14,0,"content-modal__content-container__bottom-gradient"],[12],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@headline","@secondary","@content"],false,["did-insert","t","on","svg-jar","if"]]',moduleName:"desktop-music-app/components/dt-modal/content-modal.hbs",isStrictMode:!1}),c="content-modal__content-container__bottom-gradient--scrolled-to-bottom",d="content-modal__title-container--is-scrolling"
let p=(r=Ember.inject.service,n=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="fastboot",n=this,(r=a)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}windowResizeHandler(){Ember.run.debounce(this,this.updateScrollAndWindowDependentVisuals,100)}contentScrollHandler(){Ember.run.debounce(this,this.updateScrollAndWindowDependentVisuals,100)}updateScrollAndWindowDependentVisuals(){const{scrollHeight:e,scrollTop:t,offsetHeight:i}=this.contentContainerElement,r=this.titleContainerElement.classList.contains(d),n=this.bottomGradientElement.classList.contains(c),o=e-i
t>1?r||this.titleContainerElement.classList.add(d):this.titleContainerElement.classList.remove(d),0===o||t>=o?this.bottomGradientElement.classList.add(c):n&&this.bottomGradientElement.classList.remove(c)}togglePageContainerAriaLabel(e){const t=document.querySelector(".page-container")
t&&("add"===e?t.setAttribute("aria-hidden",!0):t.removeAttribute("aria-hidden"))}setAccessibilityForModalVisible(e){const t=e.querySelector(".content-modal")
t.setAttribute("aria-labelled",this.headline),t.focus(),this.togglePageContainerAriaLabel("add")}unsetAccessibilityForModalVisible(){this.togglePageContainerAriaLabel("remove"),this.triggerElement&&this.triggerElement.focus()}setupModal(e){this.fastboot.isFastBoot||(this.contentContainerElement=document.querySelector(".content-modal__content-container"),this.titleContainerElement=document.querySelector(".content-modal__title-container"),this.bottomGradientElement=document.querySelector(".content-modal__content-container__bottom-gradient"),this.updateScrollAndWindowDependentVisuals(),this.setAccessibilityForModalVisible(e),(0,i.addEventListener)(this,window,"resize",this.windowResizeHandler),(0,i.addEventListener)(this,this.contentContainerElement,"scroll",this.contentScrollHandler,{passive:!0}))}closeModal(){this.args.onDismiss&&this.args.onDismiss()}willDestroy(){this.unsetAccessibilityForModalVisible(),super.willDestroy(...arguments)}},a=s(l.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(l.prototype,"setupModal",[n],Object.getOwnPropertyDescriptor(l.prototype,"setupModal"),l.prototype),s(l.prototype,"closeModal",[o],Object.getOwnPropertyDescriptor(l.prototype,"closeModal"),l.prototype),l)
e.default=p,Ember._setComponentTemplate(u,p)})),define("desktop-music-app/components/dt-movie-clip",["exports","@glimmer/component","desktop-music-app/config/artwork-profiles"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"YguBx3M0",block:'[[[10,0],[14,0,"movie-clips lockup"],[12],[1,"\\n    "],[8,[39,0],[[24,0,"media-artwork-v2--fullwidth"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt"],[[30,1,["previewArtwork"]],[30,0,["artworkProfile"]],[28,[37,1],[[30,2]],null],[30,0,["altTag"]]]],[["default"],[[[[1,"\\n\\n"],[41,[30,2],[[[1,"            "],[8,[39,3],[[24,0,"small"]],[["@lockup"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"    "]],[]]]]],[1,"\\n\\n    "],[10,0],[14,0,"lockup-description typ-label typography-body-tall"],[12],[1,[30,1,["title"]]],[13],[1,"\\n\\n    "],[18,3,null],[1,"\\n"],[13]],["@clip","@product","&default"],false,["amp-artwork/music","fallback-artwork","if","dt-play-button","yield"]]',moduleName:"desktop-music-app/components/dt-movie-clip.hbs",isStrictMode:!1})
class n extends t.default{constructor(...e){var t,r,n
super(...e),t=this,r="artworkProfile",n=i.ARTWORK_V2_PRESETS.standardLockup.movie,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}}e.default=n,Ember._setComponentTemplate(r,n)})),define("desktop-music-app/components/dt-music-movie",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"c/BcjE5e",block:'[[[44,[[28,[37,1],["music-movie"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/music-movie"],[["model"],[[30,2]]]]],[[[1,"            "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n"],[41,[30,4],[[[1,"        "],[1,[28,[35,4],[[28,[37,5],[[30,0,["autoPlayContent"]],[30,2,["model"]]],null]],null]],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"episode-page-header"],[12],[1,"\\n        "],[10,0],[14,0,"episode-info"],[12],[1,"\\n            "],[10,0],[14,0,"video-container episode-container"],[12],[1,"\\n                "],[8,[39,6],[[24,0,"lockup lockup--movie-page"],[16,"alt",[30,2,["name"]]]],[["@video","@artwork"],[[30,2,["productAsset"]],[30,2,["artwork"]]]],null],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"artist-info"],[12],[1,"\\n                "],[10,0],[14,0,"episode-name typography-large-title-emphasized"],[12],[1,[30,2,["name"]]],[13],[1,"\\n\\n"],[41,[30,2,["description","standard"]],[[[1,"                    "],[10,0],[14,0,"episode-notes typography-body-tall"],[12],[1,"\\n                        "],[8,[39,7],null,[["@content","@lines","@maxLines"],[[30,2,["description","standard"]],5,7]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"\\n                "],[10,0],[14,0,"color-label-secondary"],[12],[1,"\\n                    "],[10,0],[14,0,"product-descriptions typography-subhead-emphasized"],[12],[1,"\\n"],[1,"                        "],[1,[28,[35,8],[[28,[37,9],[[28,[37,10],["AMWEB.ContentA.Middot.ContentB"],[["contentA","contentB"],[[30,2,["genreNames"]],[30,2,["releaseYear"]]]]]],null]],null]],[41,[30,2,["movieDuration"]],[[[1," · "],[1,[28,[35,9],[[28,[37,11],[[30,2,["movieDuration"]]],null]],null]]],[]],null],[8,[39,12],null,[["@rating"],[[30,2,["rating"]]]],null],[1,"\\n                        "],[8,[39,13],null,[["@attributes","@hasHD"],[[30,2,["primary"]],[30,2,["hasHD"]]]],null],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"cloud-button-container buttons"],[12],[1,"\\n"],[1,"                        "],[8,[39,14],[[24,0,"typography-body-semibold-tall icon-wrapper"]],[["@isPillButton","@locKeyActionText","@url"],[true,[28,[37,10],["AMWeb.openInMusic"],null],[30,2,["url"]]]],null],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"swoosh-section"],[12],[1,"\\n"],[41,[30,2,["movieClips"]],[[[1,"            "],[8,[39,15],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-movie-clips","C",[28,[37,10],["FUSE.OC.Movie.TrailerTitle"],null],"dt-movie-clip",[30,2,["movieClips"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,17],[[28,[37,17],[[30,5,["items"]]],null]],null],null,[[[1,"                    "],[8,[30,5,["listItem"]],null,[["@index","@isLastItem"],[[30,7],[28,[37,18],[[30,5,["items"]],[30,7]],null]]],[["default"],[[[[1,"\\n                        "],[8,[39,19],null,[["@product","@clip"],[[28,[37,20],null,[["id","type","kind","movieClips"],[[30,2,["id"]],[30,2,["type"]],[30,2,["kind"]],[30,2,["movieClips"]]]]],[30,6]]],null],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[6,7]],null],[1,"            "]],[5]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["songsList"]],[[[1,"            "],[8,[39,15],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items","@groupCount"],["music-movie-playlists","C",[30,2,["songListTitle"]],"dt-list-lockup",[30,2,["songsList"]],3]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["albums"]],[[[1,"            "],[8,[39,15],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-movie-albums","C",[28,[37,10],["IXDisplayableKind.album",[28,[37,20],null,[["pluralize","count"],[[30,2,["albums","length"]],[30,2,["albums","length"]]]]]],null],[50,"dt-lockup",0,null,null],[30,2,["albums"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["viewersAlsoBought"]],[[[1,"                "],[8,[39,15],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-movie-viewers-also-bought","C",[28,[37,10],["FUSE.OC.Movie.ViewersAlsoBought"],null],"dt-lockup",[30,2,["viewersAlsoBought"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["moreInGenre"]],[[[1,"                "],[8,[39,15],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-movie-more-in-genre","C",[28,[37,10],["FUSE.OC.Movie.MoreInGenre"],[["genre"],[[28,[37,22],[[30,2,["genreNames"]],"0"],null]]]],"dt-lockup",[30,2,["moreInGenre"]]]],null],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,23],null,[["@product","@credits","@artists","@languages","@movieCredits"],[[30,2],[30,2,["credits"]],[30,2,["musicArtists"]],[30,2,["languages"]],[30,2,["movieCredits"]]]],null],[1,"\\n    "],[13],[1,"\\n"]],[2]]]],["@model","musicMovie","musicMovieMeta","@autoplay","dts","item","index"],false,["let","present","seo-tags","if","call","fn","dt-music-video-playback","dt-truncate","untrusted-html","uppercase","t","duration-summary","dt-content-rating","dt-language-attributes","web-to-native-cta/apple-music","dt-shelf","each","-track-array","is-last-array-index","dt-movie-clip","hash","component","get","dt-show-credits"]]',moduleName:"desktop-music-app/components/dt-music-movie.hbs",isStrictMode:!1})
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends t.default{constructor(...e){super(...e),s(this,"user",l,this),s(this,"playback",a,this)}autoPlayContent(e){const t=this.playback.getPlaybackConfig(e)
this.playback.play(t)}},l=u(o.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"playback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"autoPlayContent",[n],Object.getOwnPropertyDescriptor(o.prototype,"autoPlayContent"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/dt-music-video-playback",["exports","@glimmer/component","desktop-music-app/utils/feature-flags","desktop-music-app/utils/artwork","desktop-music-app/helpers/image-url","desktop-music-app/decorators/throttle"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"tHajlIL0",block:'[[[11,0],[24,0,"music-video-playback"],[24,"role","button"],[17,1],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"music-video-playback__artwork"],[12],[1,"\\n"],[41,[30,0,["imageURLForRadiosityEffect"]],[[[1,"            "],[10,"img"],[14,0,"music-video-playback__artwork-for-radiosity-effect"],[15,"src",[30,0,["imageURLForRadiosityEffect"]]],[14,"role","presentation"],[14,"alt",""],[12],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,2],[[24,0,"lockup media-artwork-v2--fullwidth music-video-playback__artwork-for-product"]],[["@artwork","@alt","@lazyLoad","@artworkProfile"],[[30,0,["videoArtwork"]],[30,2],false,"music-video-detail"]],[["default"],[[[[1,"\\n\\n            "],[8,[39,3],[[24,0,"play-button--video-product"]],[["@playbackContainer","@playlist","@lockup"],[[30,3],[30,0,["playlist"]],[30,3]]],null],[1,"\\n\\n"],[1,"        "]],[]]]]],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["&attrs","@alt","@video"],false,["on","if","amp-artwork/music","dt-play-button"]]',moduleName:"desktop-music-app/components/dt-music-video-playback.hbs",isStrictMode:!1})
let v=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.computed.mapBy("args.videoExtras","rawJSON"),u=Ember.computed.or("args.artwork","args.video.artwork","args.video.editorialArtwork.subscriptionCover"),c=Ember._action,d=class extends t.default{constructor(...e){super(...e),h(this,"media",p,this),h(this,"playback",m,this),h(this,"videosExtrasRawJSON",b,this),h(this,"videoArtwork",f,this)}get playlist(){Ember.get(this,"args.video.rawJSON")
return[this.args.video]}get imageURLForRadiosityEffect(){if(Ember.get(this,"videoArtwork")){const e=Ember.get(this,"videoArtwork.url"),[t="medium"]=this.media.matches,i=(0,r.findNearestArtworkConfig)("music-video-detail",t)
return(0,n.imageUrl)([e],{height:i.height/5,width:i.width/5,extension:"jpg",cropCode:"sr"})}}onClick(){const e={items:this.playlist}
this.playback.play(e)}},p=g(d.prototype,"media",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"playback",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(d.prototype,"videosExtrasRawJSON",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g(d.prototype,"videoArtwork",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"onClick",[c,o.default],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),d)
e.default=v,Ember._setComponentTemplate(y,v)})),define("desktop-music-app/components/dt-music-video",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"BXF4AT+0",block:'[[[44,[[28,[37,1],["music/music-video"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/music-video"],[["model"],[[30,2]]]]],[[[1,"            "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n"],[41,[30,4],[[[1,"        "],[1,[28,[35,4],[[28,[37,5],[[30,0,["autoPlayContent"]],[30,2,["model"]]],null]],null]],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"music-video product-page"],[12],[1,"\\n        "],[10,0],[14,0,"page-header"],[12],[1,"\\n            "],[10,0],[14,0,"video-container"],[12],[1,"\\n                "],[8,[39,6],[[24,0,"lockup"]],[["@video","@videoExtras"],[[30,2],[30,1,["moreMusicVideosByArtist"]]]],null],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"artist-info"],[12],[1,"\\n                "],[10,2],[14,0,"video-name typography-large-title-emphasized"],[12],[1,"\\n                    "],[1,[30,2,["name"]]],[1,"\\n"],[41,[28,[37,7],[[30,2]],null],[[[1,"                        "],[8,[39,8],null,null,null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"video-artist-name typography-large-title"],[14,"dir","auto"],[12],[1,"\\n"],[41,[30,2,["artists","length"]],[[[44,[[28,[37,9],[[28,[37,10],["name",[30,2,["artists"]]],null]],null]],[[[42,[28,[37,12],[[28,[37,12],[[30,2,["artists"]]],null]],null],null,[[[41,[30,6,["url"]],[[[1,"                                    "],[10,3],[15,6,[30,6,["url"]]],[14,0,"dt-link-to"],[14,"dir","auto"],[15,"data-metrics-click",[28,[37,13],["linkToArtist"],[["id"],[[30,6,["id"]]]]]],[12],[1,[30,6,["name"]]],[13]],[]],[[[1,"                                    "],[10,1],[12],[1,[30,6,["name"]]],[13]],[]]],[1,[28,[35,14],[[30,7],[30,5]],null]]],[6,7]],null]],[5]]]],[]],[[[1,"                        "],[10,3],[15,6,[30,2,["artistUrl"]]],[14,0,"dt-link-to"],[12],[1,"\\n                            "],[1,[30,2,["artistName"]]],[1,"\\n                        "],[13],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"video-genre typography-subhead"],[12],[1,"\\n"],[1,"                    "],[1,[28,[35,15],[[28,[37,16],[[30,2,["genreName"]],[30,2,["releaseYear"]]],null]],null]],[1,"\\n                    "],[1,[30,0,["videoGenresString"]]],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"buttons cloud-button-container"],[12],[1,"\\n"],[41,[30,0,["user","cloudLibraryIsLoaded"]],[[[1,"                        "],[8,[39,17],null,[["@product"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,18],null,[["@lockup","@listenTo"],[[30,2],"click"]],[["default"],[[[[1,"\\n"],[1,"                            "],[10,0],[14,0,"dt-media-contextual-menu__trigger menu-button round-button alt"],[12],[1," "],[13],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n\\n"],[41,[30,2,["editorialNotes"]],[[[1,"                    "],[10,2],[14,0,"video-notes typography-body-tall  color-label-secondary"],[12],[1,"\\n                        "],[1,[28,[35,19],[[30,2,["editorialNotes","standard"]]],null]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"swoosh-section"],[12],[1,"\\n"],[41,[30,2,["moreMusicVideosByArtist"]],[[[1,"                "],[8,[39,20],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-video-by-artist","C",[28,[37,21],["FUSE.Product.MoreByArtist"],[["artistName"],[[30,2,["artistName"]]]]],[50,"dt-lockup",0,null,null],[30,2,["moreMusicVideosByArtist"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["moreMusicVideosInGenre"]],[[[1,"                "],[8,[39,20],[[24,0,"divider-before"]],[["@id","@grid","@title","@itemComponent","@items"],["music-video-genre","C",[28,[37,21],["FUSE.youMayAlsoLike"],null],[50,"dt-lockup",0,null,null],[30,2,["moreMusicVideosInGenre"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[2]]]],["@model","mv","mvMeta","@autoplay","delimiters","artist","index"],false,["let","present","seo-tags","if","call","fn","dt-music-video-playback","is-explicit","explicit-badge","get-list-delimiters","map-by","each","-track-array","metrics-json-data","object-at","uppercase","bull-separator","dt-button-add-to-library","dt-media-contextual-menu","untrusted-html","dt-shelf","t","component"]]',moduleName:"desktop-music-app/components/dt-music-video.hbs",isStrictMode:!1})
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends t.default{constructor(...e){super(...e),s(this,"user",l,this),s(this,"playback",a,this)}autoPlayContent(e){const t=this.playback.getPlaybackConfig(e)
this.playback.play(t)}},l=u(o.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"playback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"autoPlayContent",[n],Object.getOwnPropertyDescriptor(o.prototype,"autoPlayContent"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/dt-native-upsell",["exports","@glimmer/component","desktop-music-app/config/environment","desktop-music-app/utils/launch-client"],(function(e,t,i,r){var n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"ytC38L8w",block:'[[[10,0],[14,0,"native-upsell"],[12],[1,"\\n"],[41,[51,[30,0,["fastboot","isFastBoot"]]],[[[41,[30,0,["platform","isAndroid"]],[[[1,"            "],[11,"button"],[24,0,"native-upsell__button native-upsell__button--mobile"],[4,[38,2],["click",[30,0,["openInMusic"]]],null],[12],[1,"\\n                "],[10,"img"],[14,"role","presentation"],[14,0,"native-upsell__logo native-upsell__logo--am-app"],[15,"src",[29,[[30,0,["rootURL"]],"assets/logo/onboarding_appicon_fy2020-a73295f8bd8a992de61f052b44e84f49.png"]]],[14,"alt",""],[12],[13],[1,"\\n                "],[10,2],[14,0,"native-upsell__prompt"],[12],[1,[28,[35,3],[[30,0,["upsellString"]]],null]],[13],[1,"\\n                "],[10,"img"],[14,0,"native-upsell__google-play-badge"],[15,"src",[29,[[30,0,["rootURL"]],"assets/badges/google-play-badge-db9b21a1c41f3dcd9731e1e7acfdbb57.png"]]],[15,"alt",[28,[37,3],["AMWeb.getOnGooglePlay"],null]],[12],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[11,"button"],[24,0,"native-upsell__button"],[4,[38,2],["click",[30,0,["openInMusic"]]],null],[12],[1,"\\n                "],[1,[28,[35,4],["sidebar_musicnote"],[["class"],["native-upsell__logo"]]]],[1,"\\n                "],[10,2],[14,0,"typography-body native-upsell__prompt"],[12],[1,[28,[35,3],[[30,0,["upsellString"]]],null]],[13],[1,"\\n                "],[1,[28,[35,4],["arrow-up-right-regular"],[["class"],["native-upsell__action"]]]],[1,"\\n            "],[13],[1,"\\n"]],[]]]],[]],null],[13]],[],false,["unless","if","on","t","svg-jar"]]',moduleName:"desktop-music-app/components/dt-native-upsell.hbs",isStrictMode:!1})
let m=(n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){var t,r,n
super(...e),c(this,"fastboot",s,this),c(this,"platform",u,this),t=this,r="rootURL",n=i.default.rootURL,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}openWindow(){window.open(...arguments)}get supportsMusic(){return!this.fastboot.isFastBoot&&(this.platform.isiOS||this.platform.isAtLeastMojavePlusOne)}get upsellString(){return this.platform.isAndroid?"AMWeb.installMusic":this.supportsMusic?"AMWeb.openInMusic":"AMWeb.openIniTunes"}openInMusic(){if(this.fastboot.isFastBoot)return
const e=(0,r.getLaunchUrl)(window.location.href)
this.platform.launch(e,{},(e=>{if(!e&&this.platform.isAndroid){const e=(0,r.googlePlayStoreLink)()
this.openWindow(e,"_blank","noopener noreferrer")}}))}},s=d(a.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"platform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(a.prototype,"openInMusic",[l],Object.getOwnPropertyDescriptor(a.prototype,"openInMusic"),a.prototype),a)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/dt-notes-lockup",["exports","@glimmer/component","desktop-music-app/utils/is-playable","desktop-music-app/decorators/lockup-context-menu","desktop-music-app/decorators/lockup-click","@amp/ember-ui-media-artwork/utils/build-img-options","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l){var a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"QWSNGDCg",block:'[[[10,0],[15,0,[29,["notes-lockup",[52,[30,0,["lockupKind"]],[28,[37,1],[" ",[30,0,["lockupKind"]]],null]]]]],[12],[1,"\\n"],[41,[30,0,["isLinkable"]],[[[1,"        "],[10,3],[15,6,[30,1,["url"]]],[14,0,"dt-link-to"],[12],[1,"\\n            "],[8,[39,2],[[24,0,"media-artwork-v2--notes-lockup"]],[["@artwork","@artworkProfile","@lazyLoad","@fallbackProfile"],[[30,0,["linkableArtwork"]],[30,0,["customArtworkConfig"]],false,[28,[37,3],[[30,1]],null]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["playable"]],[[[1,"                    "],[10,0],[14,0,"lockup__controls"],[12],[1,"\\n                        "],[8,[39,4],null,[["@class","@lockup"],["small",[30,1]]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"            "]],[]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[8,[39,2],[[24,0,"media-artwork-v2--notes-lockup"]],[["@artwork","@lazyLoad","@artworkProfile","@fallbackProfile"],[[30,0,["artwork"]],false,[30,0,["customArtworkConfig"]],[28,[37,3],[[30,1]],null]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["playable"]],[[[1,"                "],[10,0],[14,0,"lockup__controls"],[12],[1,"\\n                    "],[8,[39,4],[[24,0,"small"]],[["@lockup"],[[30,1]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n"]],[]]],[1,"\\n    "],[10,0],[14,0,"description"],[12],[1,"\\n"],[41,[30,1,["designTag"]],[[[1,"            "],[10,2],[14,0,"design-tag"],[12],[1,[30,1,["designTag"]]],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,2],[14,0,"album-name typography-large-title"],[12],[1,"\\n"],[41,[28,[37,5],[[30,1,["url"]],[30,0,["isLinkable"]]],null],[[[1,"                "],[10,3],[15,6,[30,1,["url"]]],[14,0,"dt-link-to"],[12],[1,[30,1,["name"]]],[13],[1,"\\n"]],[]],[[[1,"                "],[1,[30,1,["name"]]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["showArtist"]],[[[1,"            "],[10,2],[14,0,"artist-name typography-large-title"],[12],[1,"\\n"],[41,[30,1,["artistUrl"]],[[[1,"                    "],[10,3],[15,6,[30,1,["artistUrl"]]],[14,0,"dt-link-to"],[12],[1,[30,1,["artistName"]]],[13],[1,"\\n"]],[]],[[[1,"                    "],[1,[30,1,["artistName"]]],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2],[[[41,[28,[37,6],[[30,1,["itunesNotes","short"]],[30,1,["editorialNotes","short"]]],null],[[[1,"                "],[10,2],[14,0,"itunes-notes"],[12],[1,[28,[35,7],[[28,[37,6],[[30,1,["itunesNotes","short"]],[30,1,["editorialNotes","short"]]],null]],null]],[13],[1,"\\n"]],[]],null]],[]],null],[1,"    "],[13],[1,"\\n"],[13]],["@lockup","@showNotes"],false,["if","concat","amp-artwork/music","fallback-artwork","dt-play-button","and","or","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-notes-lockup.hbs",isStrictMode:!1}),u=(0,o.buildImgOptions)([[250],1,"bb"]),c=(0,o.buildImgOptions)([[250],1,"cc"]),d=(0,o.buildImgOptions)([[250],16/9,"sr"]),p={activity:u,album:u,artist:u,brand:u,iTunesBrand:u,musicVideo:d,radioStation:c,playlist:c,song:u,uploadedAudio:c,uploadedVideo:d,tvEpisode:d,movie:d,showBrand:u}
let m=(0,r.default)(a=(0,n.default)(a=class extends t.default{constructor(...e){var t,i,r
super(...e),r=!0,(i="showNotes")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get lockupKind(){return(0,l.getKind)(this.args.lockup)}get showArtist(){return this.args.lockup.artistName&&"movie"!==this.lockupKind}get artwork(){return"tvEpisode"===this.lockupKind?this.args.lockup.screenshots:this.args.lockup.artwork||this.args.lockup.artworkURL}get customArtworkConfig(){const e=this.lockupKind||"default"
return p[e]}get playable(){return(0,i.default)(this.lockupKind)}get isLinkable(){return!["radioStation","uploadedAudio","uploadedVideo"].includes(this.lockupKind)}get linkableArtwork(){var e
return"movie"===this.lockupKind&&null!==(e=this.args.lockup.editorialArtwork)&&void 0!==e&&e.subscriptionCover?this.args.lockup.editorialArtwork.subscriptionCover:this.args.lockup.artwork}})||a)||a
e.default=m,Ember._setComponentTemplate(s,m)})),define("desktop-music-app/components/dt-play-button",["exports","@glimmer/component","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/throttle","desktop-music-app/utils/playback","ember-lifeline","desktop-music-app/config/environment","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D
function L(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function A(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=Ember.HTMLBars.template({id:"uTE/4OCm",block:'[[[11,"button"],[16,1,[30,0,["guid"]]],[16,0,[29,["play-button",[52,[30,1]," action-button"," has-frosted-background"],[52,[30,2]," is-list-item"],[52,[30,3]," show"]]]],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"tabindex",[30,0,["tabindex"]]],[16,"disabled",[52,[30,0,["isDisabled"]],true]],[17,4],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,2],[[30,0,["didInsertNode"]]],null],[12],[1,"\\n\\n"],[41,[30,1],[[[1,"        "],[1,[28,[35,3],["FUSE.Play"],null]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,4],[[30,0,["hasStartAndEndTime"]],[30,2]],null],[[[41,[30,0,["hasStartAndEndTime"]],[[[1,"            "],[8,[39,5],null,[["@isPlaying","@progressIsReset","@offset"],[[30,5],[30,0,["progressIsReset"]],[30,0,["radialProgressOffset"]]]],null],[1,"\\n"]],[]],[[[41,[30,5],[[[1,"            "],[1,[28,[35,6],["track-player-pause"],[["class"],["dt-play-button__pause-glyph"]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[35,6],["track-player-play"],[["class"],["dt-play-button__list-item-play-glyph"]]]],[1,"\\n        "]],[]]]],[]]]],[]],[[[41,[28,[37,7],[[30,1]],null],[[[1,"        "],[10,0],[14,0,"dt-play-button__fallback-bg"],[12],[13],[1,"\\n        "],[1,[28,[35,6],["hover_smallPlay"],[["class"],["glyph"]]]],[1,"\\n    "]],[]],null]],[]]],[41,[28,[37,7],[[30,0,["hasStartAndEndTime"]]],null],[[[1,"        "],[1,[28,[35,6],["track-player-buffering"],[["class"],["dt-play-button__buffering"]]]],[1,"\\n"]],[]],null],[13]],["@isPillButton","@isListItem","@show","&attrs","@isPlaying"],false,["if","on","did-insert","t","or","radial-progress-player","svg-jar","not"]]',moduleName:"desktop-music-app/components/dt-play-button.hbs",isStrictMode:!1}),{COMMERCE_MODAL_OPEN:N}=a.default.APP,R=["album","playlist","musicVideo","uploadedVideo","uploadedAudio"]
let F=(u=Ember.inject.service("itunes-explicit-dialog"),c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember._action,w=Ember._action,E=class extends t.default{constructor(){super(...arguments),L(this,"explicitDialog",_,this),L(this,"fastboot",P,this),L(this,"i18n",O,this),L(this,"metrics",S,this),L(this,"restrictedContent",z,this),L(this,"playback",j,this),L(this,"user",T,this),L(this,"recoDataPlayContent",M,this),L(this,"searchHistory",C,this),L(this,"commerceModalManager",x,this),L(this,"musickit",D,this),this.guid=Ember.guidFor(this),this.isDisabled=this.args.isDisabled||this._isDisabled
this.maybeLoadingSpinner=this.args.maybeLoadingSpinner||(()=>{})}didInsertNode(e){this.element=e}get tabindex(){return this.args.disabledTabKey?-1:null}get dataMetricsClick(){const e=Ember.get(this,"args.lockup.id")||"",t=Ember.get(this,"args.lockup.url")||"",r=Ember.get(this,"args.customMetrics"),{metricsLocation:n=[]}=this.args
return(0,i.default)(["play"],{id:e,url:t,location:n,...r})}get _isDisabled(){const e=!!Ember.get(this,"args.lockup.playParams"),t=!!Ember.get(this,"args.lockup.movieClips"),i=!!Ember.get(this,"args.lockup.previews")
return!["uploaded-audios","uploaded-videos"].includes(Ember.get(this,"args.lockup.type"))&&(!e&&!t&&!i)}get isRestricted(){if(this.args.lockup)return this.restrictedContent.isRestricted(this.args.lockup)}get _shouldResetPlayback(){return R.includes(Ember.get(this,"args.lockup.kind"))&&this.args.reset}get ariaLabel(){let e
if(this.args.isPlaying)e=this.i18n.t("FUSE.Pause")
else{if(this.args.ariaLabel)return this.args.ariaLabel
e=this.i18n.t("FUSE.Play")}return(0,s.isExplicit)(this.args.lockup)?this.i18n.t("AMWEB.ContentA.Comma.ContentB",{contentA:this.i18n.t("FUSE.Explicit"),contentB:e}):e}get radialProgressOffset(){const e=Math.floor(parseInt(this.args.startTime)),t=Math.floor(parseInt(this.args.endTime)+1),i=t-e
let r=75
return this.args.isPlaying&&(r=(t-this.playback.currentPlaybackTime-1)/i*75),this.playback.currentPlaybackTime>=t&&(this.playback.pause({endReasonType:7}),r=75),r}get progressIsReset(){return this.playback.currentPlaybackTime>=Math.floor(parseInt(this.args.endTime)+1)||!this.playback.currentPlaybackTime}get hasStartAndEndTime(){return this.args.startTime&&this.args.endTime}onClick(e){if(e.stopPropagation(),e.preventDefault(),!0!==this._shouldResetPlayback&&this.args.isPlaying)return this._pause()
const{dontAllowPreview:t,lockup:i}=this.args
if(t&&!this.user.isSubscribed)this._showContextualUpsell(i)
else if(this._shouldResetPlayback&&this.playback.resetPlayback(),this.hasStartAndEndTime&&this.progressIsReset){var r
this.playback.playFromTime(null===(r=this.args.lockup)||void 0===r?void 0:r.id,Math.floor(parseInt(this.args.startTime)))}else{const e=Ember.get(i,"childrenIds")||[Ember.get(i,"id")],{currentTrackId:t}=this.playback
e&&t&&e.includes(t)&&!0!==this.args.isPlaying&&!0!==this._shouldResetPlayback?this.playback.play():(this._play(),this.args.trackSearchHistory&&this.searchHistory.storeRecentlyViewed(i))}this._recordMetricsClickEvent()}_recordMetricsClickEvent(){const e=JSON.parse(this.dataMetricsClick)
this.metrics.recordEvent("click",e,this.element)}_play(){return this.maybeLoadingSpinner(),this._playLockup()}_playLockup(){const e=(0,o.lockupContainerFor)(this.args.lockup,this.args.songsContainer,this.args.playbackContainer),t=this.playback.getPlaybackConfig(this.args.lockup,e,this.args.playlist,{recommendationData:this.args.recommendationData,resetsPlayback:this.args.reset})
var i
return this.hasStartAndEndTime?this.playback.playFromTime(null===(i=this.args.lockup)||void 0===i?void 0:i.id,Math.floor(parseInt(this.args.startTime))):this.playback.play(t)}_pause(e){return this.playback.pause(e)}_showContextualUpsell(e){const t={contentId:null==e?void 0:e.id,contentType:Ember.get(e,"playParams.kind")};(0,l.runTask)(this,(()=>{this.commerceModalManager.open("contextualUpsell",t)}),N)}},_=A(E.prototype,"explicitDialog",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(E.prototype,"fastboot",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(E.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(E.prototype,"metrics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(E.prototype,"restrictedContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(E.prototype,"playback",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(E.prototype,"user",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(E.prototype,"recoDataPlayContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=A(E.prototype,"searchHistory",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(E.prototype,"commerceModalManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=A(E.prototype,"musickit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(E.prototype,"didInsertNode",[k],Object.getOwnPropertyDescriptor(E.prototype,"didInsertNode"),E.prototype),A(E.prototype,"onClick",[w,n.default],Object.getOwnPropertyDescriptor(E.prototype,"onClick"),E.prototype),E)
e.default=F,Ember._setComponentTemplate(I,F)})),define("desktop-music-app/components/dt-playback-bars",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"vqpSe8R/",block:'[[[11,0],[24,0,"playback-bars"],[24,"aria-hidden","true"],[17,1],[12],[1,"\\n    "],[10,"svg"],[14,0,"playback-bars__svg"],[14,"viewBox","0 0 11 11"],[12],[1,"\\n        "],[10,"defs"],[12],[1,"\\n            "],[10,"rect"],[15,1,[29,["bar-",[30,0,["guid"]]]]],[14,"x","0"],[14,"width","2.1"],[14,"y","0"],[14,"height","11"],[14,"rx",".25"],[12],[13],[1,"\\n            "],[10,"mask"],[15,1,[29,["bar-mask-",[30,0,["guid"]]]]],[12],[1,"\\n                "],[10,"use"],[15,6,[29,["#bar-",[30,0,["guid"]]]]],[14,"fill","white"],[12],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"g"],[15,"mask",[29,["url(#bar-mask-",[30,0,["guid"]],")"]]],[12],[1,"\\n            "],[10,"use"],[14,0,"playback-bars__bar playback-bars__bar--1"],[15,6,[29,["#bar-",[30,0,["guid"]]]]],[12],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"g"],[15,"mask",[29,["url(#bar-mask-",[30,0,["guid"]],")"]]],[14,"transform","translate(2.9668 0)"],[12],[1,"\\n            "],[10,"use"],[14,0,"playback-bars__bar playback-bars__bar--2"],[15,6,[29,["#bar-",[30,0,["guid"]]]]],[12],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"g"],[15,"mask",[29,["url(#bar-mask-",[30,0,["guid"]],")"]]],[14,"transform","translate(5.9333 0)"],[12],[1,"\\n            "],[10,"use"],[14,0,"playback-bars__bar playback-bars__bar--3"],[15,6,[29,["#bar-",[30,0,["guid"]]]]],[12],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"g"],[15,"mask",[29,["url(#bar-mask-",[30,0,["guid"]],")"]]],[14,"transform","translate(8.8999 0)"],[12],[1,"\\n            "],[10,"use"],[14,0,"playback-bars__bar playback-bars__bar--4"],[15,6,[29,["#bar-",[30,0,["guid"]]]]],[12],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["&attrs"],false,[]]',moduleName:"desktop-music-app/components/dt-playback-bars.hbs",isStrictMode:!1})
class r extends t.default{constructor(){super(...arguments),this.guid=Ember.guidFor(this)}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/dt-playlist",["exports","@glimmer/component","desktop-music-app/presenters/music/track","desktop-music-app/decorators/memoize-combined-list"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S
function z(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function j(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"5aUuehgY",block:'[[[11,0],[24,0,"product-page playlist"],[4,[38,0],[[30,0,["resetState"]],[30,1,["id"]]],null],[12],[1,"\\n"],[44,[[28,[37,2],["music/playlist"],[["model"],[[30,1]]]]],[[[44,[[28,[37,2],["meta/playlist"],[["model"],[[30,2]]]]],[[[1,"                "],[8,[39,3],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n        "],[11,0],[24,0,"product-info"],[4,[38,4],[[30,0,["cacheProductLockup"]],[30,0]],null],[12],[1,"\\n\\n            "],[10,0],[14,0,"header-and-songs-list"],[12],[1,"\\n                "],[10,0],[14,0,"product-header"],[12],[1,"\\n                    "],[8,[39,5],null,[["@product","@isForMobile"],[[30,2],true]],null],[1,"\\n\\n                    "],[8,[39,6],null,[["@lockup","@artwork","@numberOfSongs","@tracks","@songsList","@inYourNetwork","@notes"],[[30,2],[30,2,["artwork"]],[30,2,["childrenIds","length"]],[30,2,["children"]],[30,0,["trackList"]],[30,4,["inYourNetwork"]],[30,2,["playlistNotes"]]]],null],[1,"\\n\\n                    "],[8,[39,7],null,[["@editTitle","@product","@productName","@productCreator","@notesTitleKey","@creatorPageUrl","@creatorId","@songsList","@notes","@productMeta"],[[30,5],[30,2],[30,2,["name"]],[30,2,["playlistProvider"]],[52,[30,2,["shouldDisplayNotesTitle"]],"FUSE.iTunesEditorNotes"],[30,0,["creatorPageUrl"]],[30,2,["playlistCreatorId"]],[30,0,["trackList"]],[30,2,["playlistNotes"]],[52,[51,[30,2,["isChart"]]],[30,2,["lastModifiedDate"]]]]],null],[1,"\\n                "],[13],[1,"\\n\\n                "],[8,[39,10],null,[["@songs","@songsListColumns","@fetchMoreTracks","@hasMoreTracks","@isFetchingTracks","@showRanking","@songsContainer","@showArtworkForSong","@isPlaylist","@selectedTrack","@scrollToSelectedSong","@dragAndDropCover","@inYourNetwork"],[[30,0,["trackList"]],[30,2,["songsListColumns"]],[30,0,["fetchMoreTracks"]],[30,0,["hasMoreTracks"]],[30,0,["isFetchingTracks"]],[30,2,["isChart"]],[30,2],true,true,[30,6],[30,7],[30,0,["productInfoContainer"]],[28,[37,11],[[30,4,["inYourNetwork"]],[30,4,["album","inYourNetwork"]]],null]]],null],[1,"\\n\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n"],[1,"        "],[8,[39,12],null,[["@messageType"],["playlist"]],null],[1,"\\n\\n"],[1,"        "],[10,0],[14,0,"alt-section breakout-box"],[12],[1,"\\n"],[41,[28,[37,13],[[30,0,["displayAddedPlaylist"]],[30,4,["addedPlaylistSection"]]],null],[[[1,"                "],[8,[39,14],null,[["@id","@grid","@title","@items","@itemComponent"],["playlist-added","H",[28,[37,15],["FUSE.Social.Detail.AddedThisPlaylist.Header"],null],[30,4,["addedPlaylistSection"]],[50,"lockups/social-profile",0,null,null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["contributors"]],[[[1,"                "],[8,[39,14],null,[["@id","@grid","@title","@items","@itemComponent"],["playlist-contributors","H",[28,[37,15],["FUSE.PlaylistPage.Contributors"],null],[30,0,["contributors"]],[50,"lockups/social-profile",0,null,null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["featuredArtists"]],[[[1,"                "],[8,[39,14],null,[["@id","@grid","@title","@itemComponent","@items"],["playlist-artists","H",[28,[37,15],["FUSE.artistsInPlaylist"],null],[50,"dt-lockup",0,null,null],[30,2,["featuredArtists"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,4,["playlist","youMayAlsoLike"]],[[[1,"                "],[8,[39,14],null,[["@id","@grid","@title","@itemComponent","@items"],["playlist-also-like","H",[28,[37,15],["FUSE.youMayAlsoLike"],null],[50,"dt-lockup",0,null,null],[30,4,["playlist","youMayAlsoLike"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[2]]],[13],[1,"\\n"]],["@playlist","playlist","playlistMeta","@model","@editTitle","@selectedTrack","@scrollToSelectedSong"],false,["did-update","let","present","seo-tags","did-insert","cloud-button-container","dt-product-lockup","dt-product-page-header","if","unless","dt-songs-list","or","dt-social-upsell-banner","and","dt-shelf","t","component"]]',moduleName:"desktop-music-app/components/dt-playlist.hbs",isStrictMode:!1})
let M=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._action,b=(0,r.memoizeCombinedList)("tracks","lazyLoadedLockups"),f=Ember._action,h=Ember._action,g=class extends t.default{constructor(){var e,t,i
super(...arguments),z(this,"locale",y,this),z(this,"musickitData",v,this),z(this,"router",k,this),z(this,"storefront",w,this),z(this,"user",E,this),i=100,(t="offset")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,z(this,"tracks",_,this),z(this,"_hasMoreTracks",P,this),z(this,"isFetchingTracks",O,this),z(this,"lazyLoadedLockups",S,this),this.tracks=this._processTracks()}_processTracks(){var e
const{tracks:t=[]}=this.args.playlist,r=(null===(e=this.args.playlist.contributors)||void 0===e?void 0:e.data)||[]
return t.map((e=>{var t,n,o
const l=(0,i.processTrack)(e,this.args.playlist.id,this.locale.locale),a=null===(t=e._meta)||void 0===t||null===(n=t.contributors)||void 0===n||null===(o=n["social-profiles"])||void 0===o?void 0:o[0]
if(a){const e=r.find((e=>e.id===a))
l.socialProfileBadge=e}return l}))}cacheProductLockup(e){this.productInfoContainer=e.querySelector(".product-lockup")}get hasMoreTracks(){return"boolean"==typeof this._hasMoreTracks?this._hasMoreTracks:this.args.playlist.tracks&&this.args.playlist.tracks.length>=100}set hasMoreTracks(e){this._hasMoreTracks=e}get displayAddedPlaylist(){return Ember.get(this,"user.profile.handle")===Ember.get(this,"args.playlist.username")}get trackList(){const e=this.tracks||[]
return e.push(...this.lazyLoadedLockups.map((e=>(0,i.processTrack)(e,this.args.playlist.id,this.locale.locale)))),e}async fetchMoreTracks(){try{this.isFetchingTracks=!0
const e=await this.musickitData[this.args.moreTracksIdentifier](this.args.playlist.id,{offset:this.offset})
Array.isArray(e)&&(e.length<100&&(this.hasMoreTracks=!1),this.offset=this.offset+100,this.lazyLoadedLockups=[...e])}catch(e){this.hasMoreTracks=!1}finally{this.isFetchingTracks=!1}}resetState(){this._hasMoreTracks=null,this.offset=100,this.tracks=this._processTracks(),this.lazyLoadedLockups=[]}get creatorPageUrl(){var e,t
const{router:i}=this,{playlist:r}=this.args
if("replay"===Ember.get(r,"playlistType")||"replay"===(null===(e=r.catalog)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.playlistType)){return this.router.urlFor("replay",this.storefront.resolvedStorefront)}if(!r.curator||!r.curator.length)return
const[n]=r.curator
return["apple-curators","curators"].includes(n.type)&&r.curatorName?i.urlFor("curator.index",this.storefront.resolvedStorefront,{id:n.id,name:Ember.String.dasherize(r.curatorName)}):void 0}get contributors(){return Ember.get(this,"args.model.contributors.data")||Ember.get(this,"args.playlist.contributors.data")}},y=j(g.prototype,"locale",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(g.prototype,"musickitData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=j(g.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j(g.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(g.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=j(g.prototype,"tracks",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=j(g.prototype,"_hasMoreTracks",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=j(g.prototype,"isFetchingTracks",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=j(g.prototype,"lazyLoadedLockups",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j(g.prototype,"cacheProductLockup",[m],Object.getOwnPropertyDescriptor(g.prototype,"cacheProductLockup"),g.prototype),j(g.prototype,"trackList",[b],Object.getOwnPropertyDescriptor(g.prototype,"trackList"),g.prototype),j(g.prototype,"fetchMoreTracks",[f],Object.getOwnPropertyDescriptor(g.prototype,"fetchMoreTracks"),g.prototype),j(g.prototype,"resetState",[h],Object.getOwnPropertyDescriptor(g.prototype,"resetState"),g.prototype),g)
e.default=M,Ember._setComponentTemplate(T,M)})),define("desktop-music-app/components/dt-popover",["exports","@glimmer/component"],(function(e,t){var i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"XfdEF/ve",block:'[[[11,0],[24,0,"popover"],[4,[38,0],[[30,0,["setupTarget"]]],null],[12],[1,"\\n    "],[18,1,null],[1,"\\n\\n"],[1,"    "],[10,"style"],[12],[1,"\\n        #"],[1,[30,0,["elementId"]]],[1," {\\n            width: "],[1,[30,0,["targetPosition","width"]]],[1,"px;\\n            top: "],[1,[30,0,["targetPosition","top"]]],[1,"px;\\n            left: "],[1,[30,0,["targetPosition","left"]]],[1,"px;\\n        }\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["&default"],false,["did-insert","yield"]]',moduleName:"desktop-music-app/components/dt-popover.hbs",isStrictMode:!1})
let o=(i=Ember._action,r=class extends t.default{constructor(...e){var t,i,r
super(...e),r=null,(i="targetPosition")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}setupTarget(e){const t=e.parentElement,i=t.getBoundingClientRect(),{offsetWidth:r,offsetHeight:n}=t
Ember.set(this,"targetPosition",{top:i.top+n+35,left:i.left,width:r+10})}},l=r.prototype,a="setupTarget",s=[i],u=Object.getOwnPropertyDescriptor(r.prototype,"setupTarget"),c=r.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),r)
var l,a,s,u,c,d
e.default=o,Ember._setComponentTemplate(n,o)})),define("desktop-music-app/components/dt-post",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"a4vralLW",block:'[[[44,[[28,[37,1],["meta/post"],[["model"],[[30,1]]]]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,2]]],null],[1,"\\n"]],[2]]],[1,"\\n"],[44,[[28,[37,1],["post"],[["model"],[[30,1]]]]],[[[41,[28,[37,4],[[30,3,["kind"]],"uploadedVideo"],null],[[[1,"        "],[8,[39,5],null,[["@video","@owner"],[[30,3,["target"]],[30,3,["owner"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,4],[[30,3,["kind"]],"uploadedAudio"],null],[[[1,"        "],[8,[39,6],null,[["@audio","@owner"],[[30,3,["target"]],[30,3,["owner"]]]],null],[1,"\\n"]],[]],null]],[3]]]],["@post","postMeta","post"],false,["let","present","seo-tags","if","eq","dt-uploaded-video","dt-uploaded-audio"]]',moduleName:"desktop-music-app/components/dt-post.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-power-swoosh",["exports","desktop-music-app/components/dt-shelf"],(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"AKz6btRH",block:'[[[11,0],[16,0,[29,["dt-shelf",[52,[30,0,["hasMixedAspectRatios"]]," dt-shelf--mixed-ratio"]]]],[16,"aria-label",[30,1]],[17,2],[4,[38,1],[[30,0,["monitorShelfVisibility"]]],null],[4,[38,1],[[30,0,["observeChildrenRatios"]]],null],[4,[38,2],[[30,0,["stopObservingChildrenRatios"]]],null],[12],[1,"\\n    "],[8,[39,3],null,[["@id","@items","@grid","@artworkConfig","@rows","@disablePaddleHover","@verticalPadding","@headerComponent","@itemComponent"],[[30,3],[30,0,["promisifiedItems"]],[30,4],[30,5],[30,0,["groupCount"]],[30,6],[30,0,["verticalPadding"]],[52,[28,[37,4],[[30,1],[30,7]],null],[50,[30,0,["headerComponent"]],0,null,[["title","seeAllComponent"],[[30,1],[50,[30,7],0,null,[["displaySeeAllLink"],[[30,0,["displaySeeAllLink"]]]]]]]]],[30,0,["itemComponent"]]]],[["default"],[[[[1,"\\n        "],[8,[30,8,["body"]],null,null,[["default"],[[[[1,"\\n"],[41,[30,9,["resolver","isFulfilled"]],[[[42,[28,[37,7],[[28,[37,7],[[30,9,["items"]]],null]],null],null,[[[1,"                    "],[8,[30,9,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,10],[30,11],[28,[37,8],[[30,9,["items"]],[30,11]],null]]],[["default"],[[[[1,"\\n                        "],[8,[39,9],null,[["@id","@index","@renderContent"],[[30,10,["id"]],[30,11],[28,[37,10],[[30,11],[30,0,["initialRender"]]],null]]],[["default"],[[[[1,"\\n                            "],[8,[30,12,["itemComponent"]],null,[["@title","@id","@shelfIndex","@index","@lazyLoad"],[[30,1],[30,3],[30,13],[30,11],[28,[37,4],[[30,14],[28,[37,11],[[30,11],4],null]],null]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n                    "]],[12]]]]],[1,"\\n"]],[10,11]],null]],[]],null],[1,"        "]],[9]]]]],[1,"\\n"],[44,[[50,[30,8,["nav"]],0,null,null]],[[[1,"            "],[8,[30,15],null,null,null],[1,"\\n"]],[15]]],[1,"    "]],[8]]]]],[1,"\\n"],[13],[1,"\\n"]],["@title","&attrs","@id","@grid","@artworkConfig","@disablePaddleHover","@seeAllComponent","shelf","body","item","index","hash","@shelfIndex","@lazyLoad","NavComponent"],false,["if","did-insert","will-destroy","media-shelf-grid","or","component","each","-track-array","is-last-array-index","render-in-viewport","lte","gte","let"]]',moduleName:"desktop-music-app/components/dt-power-swoosh.hbs",isStrictMode:!1}),n={album:"lockups/power-swoosh-album",artist:"lockups/power-swoosh-artist",default:"lockups/power-swoosh-default",editorialItem:"lockups/power-swoosh-room",musicSuperHero:"lockups/power-swoosh-super-hero",playlist:"lockups/power-swoosh-playlist",radioStation:"lockups/power-swoosh-radio",uploadedVideo:"lockups/power-swoosh-auc"},o={"personal-mix":"lockups/power-swoosh-mix"}
class l extends t.default{constructor(...e){super(...e),i(this,"defaultToUniformAspectRatio",!0),i(this,"forceSingleAspectRatioValue",1)}itemComponent(e){var t,i,r
let l=(null===(t=e.editorialCard)||void 0===t?void 0:t.kind)||e.kind
const a=(null===(i=e.meta)||void 0===i?void 0:i.editorialCard)||(null===(r=e._meta)||void 0===r?void 0:r.editorialCard)
if("musicSuperHero"!==l||a||(l=e.kind),"playlist"===l&&e.playlistType){const{playlistType:t}=e
return o[t]||n[l]}return n[l]||n.default}}e.default=l,Ember._setComponentTemplate(r,l)})),define("desktop-music-app/components/dt-product-lockup",["exports","@glimmer/component","desktop-music-app/utils/alt-tag","desktop-music-app/utils/editorial-video","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"qm7EtNZw",block:'[[[11,0],[24,0,"product-lockup"],[17,1],[4,[38,0],null,[["dragData","dragImage"],[[30,2],".product-lockup__artwork picture, .product-lockup__artwork-in-collage-group"]]],[12],[1,"\\n    "],[8,[39,1],null,null,null],[1,"\\n    "],[10,0],[15,0,[29,["product-lockup__artwork",[52,[30,0,["editorialVideoIsSupported"]]," product-lockup--editorial-video-supported"]]]],[12],[1,"\\n"],[41,[30,0,["artworkObj"]],[[[1,"            "],[10,"img"],[14,0,"product-lockup__artwork-for-radiosity-effect"],[15,"src",[28,[37,3],[[30,3,["url"]]],null]],[14,"alt",""],[14,"role","presentation"],[12],[13],[1,"\\n            "],[8,[39,4],[[24,0,"lockup media-artwork-v2--fullwidth product-lockup__artwork-for-product"]],[["@fallbackProfile","@lazyLoad","@lockup","@artwork","@artworkProfile","@alt"],[[28,[37,5],[[30,2]],null],false,[30,2],[30,0,["artworkObj"]],[30,0,["artworkConfigV2"]],[30,0,["altTag"]]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["editorialVideoIsSupported"]],[[[1,"                    "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@forceAnimation","@editorialVideo","@lockupTypeId"],[[30,2],true,[30,0,["editorialVideo"]],"product-details-lockup"]],null],[1,"\\n"]],[]],null],[1,"            "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,2,["isLibraryPlaylist"]],[[[44,[[28,[37,8],[[30,2]],null]],[[[41,[28,[37,9],[[30,4,["value","length"]],4],null],[[[1,"                    "],[10,0],[14,0,"product-lockup__artwork-in-collage-group-radiosity-group"],[12],[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[30,4,["value"]]],null]],null],null,[[[1,"                            "],[10,0],[14,0,"product-lockup__radiosity-artwork-wrapper"],[12],[1,"\\n                                "],[10,"img"],[14,0,"product-lockup__artwork-for-radiosity-effect"],[15,"src",[28,[37,3],[[30,5,["url"]]],null]],[14,"alt",""],[14,"role","presentation"],[12],[13],[1,"\\n                            "],[13],[1,"\\n"]],[5]],null],[1,"                    "],[13],[1,"\\n                    "],[10,0],[14,0,"product-lockup__artwork-in-collage-group"],[12],[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[30,4,["value"]]],null]],null],null,[[[1,"                            "],[8,[39,4],[[24,0,"dt-lockup__artwork product-lockup__artwork-for-product media-artwork-v2--fullwidth media-artwork-v2--not-round"]],[["@artwork","@artworkProfile","@lockup","@fallbackProfile","@alt"],[[30,6],"artwork-in-collage",[30,2],[28,[37,5],[[30,2]],null],[30,6,["name"]]]],null],[1,"\\n"]],[6]],null],[1,"                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,"img"],[14,0,"product-lockup__artwork-for-radiosity-effect"],[15,"src",[28,[37,3],[[30,4,["value","0","url"]]],null]],[14,"alt",""],[14,"role","presentation"],[12],[13],[1,"\\n                    "],[8,[39,4],[[24,0,"dt-lockup__artwork product-lockup__artwork-for-product media-artwork-v2--fullwidth"]],[["@artwork","@artworkProfile","@lockup","@fallbackProfile","@alt"],[[30,4,["value","0"]],[30,0,["artworkConfigV2"]],[30,2],[28,[37,5],[[30,2]],null],[30,2,["name"]]]],[["default"],[[[[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]]]],[4]]],[1,"        "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["&attrs","@lockup","@artwork","collage","artwork","artwork"],false,["allow-drag","fps-measuring-wrapper","if","blurred-background-src","amp-artwork/music","fallback-artwork","dt-editorial-video","let","fetch-collage","eq","each","-track-array"]]',moduleName:"desktop-music-app/components/dt-product-lockup.hbs",isStrictMode:!1})
let g=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=class extends t.default{constructor(...e){super(...e),b(this,"i18n",c,this),b(this,"media",d,this),b(this,"editorialVideoSwitchToggle",p,this),b(this,"itunesVersion",m,this)}get lockup(){return this.args.lockup}get artworkObj(){return this.editorialVideoPreview||this.args.artwork}get isPlaylist(){return this.lockup.isPlaylist}get editorialVideo(){var e
return null===(e=this.args.lockup.model)||void 0===e?void 0:e.editorialVideo}get editorialVideoIsSupported(){return this.editorialVideo&&this.editorialVideoSwitchToggle.isEnabled}get editorialVideoPreview(){if(this.editorialVideo){const e=(0,r.bestVideoAssetKey)("product-details-lockup",this.editorialVideo)
if(e)return this.editorialVideo[e].previewFrame}}get altTag(){const{key:e,config:t}=(0,i.default)(Ember.get(this,"lockup.content.kind"),Ember.get(this,"lockup.content"))
return this.i18n.t(e,t)}get artworkConfigV2(){var e,t
return this.isPlaylist?"playlist-product":(null===(e=this.artworkObj)||void 0===e?void 0:e.height)!==(null===(t=this.artworkObj)||void 0===t?void 0:t.width)?"product-rectangle":"product-standard"}},c=f(u.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"media",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"editorialVideoSwitchToggle",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"itunesVersion",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g,Ember._setComponentTemplate(h,g)}))
define("desktop-music-app/components/dt-product-page-header",["exports","@glimmer/component","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T
function M(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function C(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const x=Ember.HTMLBars.template({id:"o28Klyjb",block:'[[[11,0],[24,0,"product-page-header"],[4,[38,0],[[30,0,["setProductName"]],[30,1]],null],[12],[1,"\\n    "],[10,0],[14,0,"product-page-header__metadata album-header-metadata"],[12],[1,"\\n        "],[10,"h1"],[14,1,"page-container__first-linked-element"],[14,0,"product-name typography-large-title-semibold clamp-4"],[12],[1,"\\n"],[41,[30,1,["canEditName"]],[[[1,"                "],[8,[39,2],null,[["@isEditing","@value","@onConfirmValue"],[[30,2],[30,0,["resolvedProductName"]],[30,0,["onConfirmValue"]]]],null],[1,"\\n"]],[]],[[[1,"                "],[1,[30,3]],[1,"\\n"]],[]]],[41,[28,[37,3],[[30,1]],null],[[[1,"                "],[8,[39,4],null,null,null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"product-creator typography-large-title"],[14,"dir","auto"],[12],[1,"\\n"],[41,[30,0,["artistLinks"]],[[[44,[[28,[37,6],[[28,[37,7],["name",[30,0,["artistLinks"]]],null]],null]],[[[42,[28,[37,9],[[28,[37,9],[[30,0,["artistLinks"]]],null]],null],null,[[[41,[30,5,["url"]],[[[1,"                            "],[10,3],[15,6,[30,5,["url"]]],[14,0,"dt-link-to"],[15,"data-metrics-click",[28,[37,10],["linkToArtist"],[["id"],[[30,5,["id"]]]]]],[12],[1,[30,5,["name"]]],[13]],[]],[[[1,"                            "],[10,1],[12],[1,[30,5,["name"]]],[13]],[]]],[1,[28,[35,11],[[30,6],[30,4]],null]]],[5,6]],null]],[4]]]],[]],[[[1,"                "],[10,1],[12],[1,[30,7]],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n\\n"],[41,[30,8],[[[1,"            "],[10,0],[14,0,"product-meta typography-callout-emphasized"],[12],[1,"\\n                "],[1,[28,[35,12],[[30,8]],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["oasisIsSupported"]],[[[41,[28,[37,13],[[30,9],[28,[37,14],[[30,1,["kind"]],"playlist"],null]],null],[[[1,"                "],[10,0],[14,0,"product-meta-badges"],[12],[1,"\\n"],[41,[30,9,["hasHiRes"]],[[[1,"                        "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.Hi-Res_Lossless"],null]],[12],[1,"\\n                            "],[1,[28,[35,16],[[30,0,["HiResLosslessBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[41,[30,9,["hasLossless"]],[[[1,"                        "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.Lossless"],null]],[12],[1,"\\n                            "],[1,[28,[35,16],[[30,0,["LosslessBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[41,[30,9,["hasAtmos"]],[[[1,"                        "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.dolbyatmos"],null]],[12],[1,"\\n                            "],[1,[28,[35,16],[[30,0,["DolbyAtmosBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[41,[30,9,["hasAudio"]],[[[1,"                        "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.dolbyaudio"],null]],[12],[1,"\\n                            "],[1,[28,[35,16],[[30,0,["DolbyAudioBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[41,[30,9,["isMasteredForItunes"]],[[[1,"                        "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.ADM"],null]],[12],[1,"\\n                            "],[1,[28,[35,16],[[30,0,["ADMBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["productBadgesSupported"]],[[[1,"            "],[10,0],[14,0,"product-meta-badges"],[12],[1,"\\n                "],[10,0],[14,0,"product-badge"],[15,"aria-label",[28,[37,15],["FUSE.Meta.Badge.ADM"],null]],[12],[1,"\\n                    "],[1,[28,[35,16],[[30,0,["ADMBadge"]]],[["aria-hidden"],["true"]]]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"button-content"],[12],[1,"\\n"],[41,[30,0,["shouldDisplayPlayButtons"]],[[[1,"                "],[8,[39,17],[[24,0,"typography-body-semibold-tall"]],[["@isPillButton","@songsContainer","@playlist","@lockup","@reset"],[true,[30,1],[30,10],[30,1],true]],null],[1,"\\n\\n"],[41,[28,[37,18],[[30,11,["length"]],1],null],[[[1,"                    "],[8,[39,19],null,[["@songsList","@songsContainer"],[[30,11],[30,1]]],null],[1,"\\n"]],[]],null]],[]],[[[1,"                    "],[8,[39,20],null,[["@lockup","@songsList","@songsContainer"],[[30,1],[30,11],[30,1]]],null],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,1,["availableForPurchaseOnly"]],[[[1,"                    "],[8,[39,21],[[24,0,"typography-body-semibold-tall icon-wrapper"]],[["@price","@url"],[[30,1,["offers","0","priceFormatted"]],[30,1,["url"]]]],null],[1,"\\n"]],[]],null],[1,"\\n            "],[8,[39,22],null,[["@product"],[[30,1]]],null],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,12],[[[1,"            "],[10,0],[14,0,"product-page-header__metadata--notes typography-body-tall"],[12],[1,"\\n                "],[8,[39,23],null,[["@secondary","@headline","@inlineTitle","@content","@lines","@maxLines"],[[30,7],[30,3],[52,[30,13],[28,[37,15],[[30,13]],null]],[28,[37,12],[[30,12]],null],[30,0,["notesLinesToClamp"]],[30,0,["notesLinesToClamp"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13]],["@product","@editTitle","@productName","delimiters","artist","index","@productCreator","@productMeta","@productBadges","@mixedTracks","@songsList","@notes","@notesTitleKey"],false,["did-update","if","editable-textfield","is-explicit","explicit-badge","let","get-list-delimiters","map-by","each","-track-array","metrics-json-data","object-at","untrusted-html","and","not-eq","t","svg-jar","dt-play-button","gt","dt-shuffle-button","preview-button","web-to-native-cta/store","cloud-button-container","dt-truncate"]]',moduleName:"desktop-music-app/components/dt-product-page-header.hbs",isStrictMode:!1}),D=new Map,L=["cs","en-us","fr-ca","fr-fr","hi","ko","pt-br","pt-pt","ro","uk","zh-cn","zh-tw","zh-hk"],A=["ca","en-us","es-419","es-es","fr-ca","fr-fr","ja","ko","pt-br","pt-pt","tr","uk","zh-cn","zh-tw","zh-hk"],I=["ca","en-us","es-419","es-es","fr-ca","ja","ko","pt-br","pt-pt","tr","uk","zh-cn","zh-tw","zh-hk"],N=["zh-cn","zh-tw","zh-hk"]
let R=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service("web-error-dialog"),m=Ember.inject.service,b=Ember._tracked,f=Ember._action,h=Ember._action,g=class extends t.default{constructor(){super(...arguments),M(this,"fastboot",y,this),M(this,"i18n",v,this),M(this,"upsellBanner",k,this),M(this,"user",w,this),M(this,"media",E,this),M(this,"musickit",_,this),M(this,"musickitUser",P,this),M(this,"musickitData",O,this),M(this,"itunesVersion",S,this),M(this,"webErrorDialog",z,this),M(this,"locale",j,this),M(this,"productName",T,this),this.fastboot.isFastBoot||"album"===this.args.product.kind&&this.args.product.availableForPurchaseOnly&&this.upsellBanner.hideUpsell()}get resolvedProductName(){return this.productName||D.get(Ember.get(this,"args.product.id"))||this.args.productName}get artistLinks(){var e
return null!==(e=this.args.product.artists)&&void 0!==e&&e.length?this.args.product.artists:this.args.creatorPageUrl?[{id:this.args.creatorId,name:this.args.productCreator,url:this.args.creatorPageUrl}]:void 0}get shouldDisplayPlayButtons(){var e
return this.user.isSubscribed&&!this.args.product.availableForPurchaseOnly&&!(null!==(e=this.musickit.instance)&&void 0!==e&&e.previewOnly)}get localeLang(){return this.locale.locale}get isMobileView(){return this.media.matches.indexOf("xsmall")>-1}get oasisIsSupported(){}get productBadgesSupported(){}get ADMBadge(){return L.indexOf(this.localeLang)>-1?`ADM_${this.localeLang.toUpperCase()}`:"ADM"}get HiResLosslessBadge(){return A.indexOf(this.localeLang)>-1?`HiResLossless_${this.localeLang.toUpperCase()}`:"HiResLossless"}get LosslessBadge(){return I.indexOf(this.localeLang)>-1?`Lossless_${this.localeLang.toUpperCase()}`:"Lossless"}get DolbyAtmosBadge(){return N.indexOf(this.localeLang)>-1?`Dolby_Atmos_${this.localeLang.toUpperCase()}`:"DolbyAtmos"}get DolbyAudioBadge(){return N.indexOf(this.localeLang)>-1?`Dolby_Audio_${this.localeLang.toUpperCase()}`:"DolbyAudio"}get notesLinesToClamp(){return this.oasisIsSupported||this.productBadgesSupported?2:3}async onConfirmValue(e){try{await this.musickitData.editPlaylist(this.args.product.id,{name:e}),D.set(this.args.product.id,e),this.productName=e,this.musickitUser.updateUserPlaylistName(this.args.product.id,e)}catch(t){this.webErrorDialog.error({errorMessage:this.i18n.t("AMWeb.Edit.Library.Playlist.Error")})}}setProductName(e,[t]){D.get(t.id)?this.productName=D.get(t.id):this.productName=null}},y=C(g.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C(g.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C(g.prototype,"upsellBanner",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C(g.prototype,"user",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=C(g.prototype,"media",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C(g.prototype,"musickit",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=C(g.prototype,"musickitUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=C(g.prototype,"musickitData",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C(g.prototype,"itunesVersion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C(g.prototype,"webErrorDialog",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=C(g.prototype,"locale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C(g.prototype,"productName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(g.prototype,"onConfirmValue",[f],Object.getOwnPropertyDescriptor(g.prototype,"onConfirmValue"),g.prototype),C(g.prototype,"setProductName",[h],Object.getOwnPropertyDescriptor(g.prototype,"setProductName"),g.prototype),g)
e.default=R,Ember._setComponentTemplate(x,R)})),define("desktop-music-app/components/dt-profile-badges",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"H1lpe9qf",block:'[[[41,[30,0,["shouldShow"]],[[[41,[28,[37,1],[[30,1,["kind"]],"socialProfile"],null],[[[41,[30,0,["hasSocialBadges"]],[[[1,"            "],[10,0],[15,0,[29,["profile-badges",[52,[30,1,["isVerified"]]," verified"]]]],[12],[1,"\\n                "],[10,"ul"],[12],[1,"\\n"],[44,[[28,[37,3],[[30,0,["lockupProfiles"]]],[["list"],[true]]]],[[[42,[28,[37,5],[[28,[37,5],[[30,2,["value"]]],null]],null],null,[[[1,"                            "],[10,"li"],[14,0,"profile-badges__profile-image"],[12],[1,"\\n                                "],[8,[39,6],[[24,0,"media-artwork-v2--lockup-profile-badge media-artwork-v2--round"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@bgColor","@alt"],[[30,3,["avatarArtwork"]],"profile-badge",[28,[37,7],[[30,3]],null],[30,3],"transparent",[30,3,["name"]]]],null],[1,"\\n                            "],[13],[1,"\\n"]],[3]],null]],[2]]],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]],[[[41,[30,0,["profileStatus"]],[[[1,"            "],[10,0],[15,0,[29,["profile-badges",[52,[30,1,["isVerified"]]," verified"]]]],[12],[1,"\\n                "],[10,0],[15,0,[29,["profile-badge profile-status ",[30,0,["profileStatus"]]]]],[12],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]]]],[]],null]],["@lockup","resolvedModel","profile"],false,["if","not-eq","let","await","each","-track-array","amp-artwork/music","fallback-artwork"]]',moduleName:"desktop-music-app/components/dt-profile-badges.hbs",isStrictMode:!1})
let c=(i=Ember.inject.service("profile-relationships"),r=Ember.inject.service,n=class extends t.default{constructor(...e){super(...e),a(this,"profileRelationships",o,this),a(this,"socialProfile",l,this)}get shouldShow(){return this.socialProfile.isSocialEnabled}get lockupProfiles(){const{id:e}=this.args.lockup,{profileRelationships:t}=this
let i=t.productHasBadges(e),r=[]
if(i){if(this.args.lockup.isHeavyRotation){const e=this.args.lockup.profile.id
i=i.filter((t=>t!==e))}i=i.slice(-3).reverse(),r=t.getProfilesByIds(i)}return r}get hasSocialBadges(){const{id:e}=this.args.lockup
return this.profileRelationships.productHasBadges(e)}get profileStatus(){let e=null
return this.args.lockup.isPrivate?e="private":this.args.lockup.isVerified&&(e="verified"),e}},o=s(n.prototype,"profileRelationships",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"socialProfile",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/dt-profile-edit-banner",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"qWg12VOQ",block:'[[[10,0],[14,0,"profile-edit__edit-banner"],[12],[1,"\\n    "],[10,0],[14,0,"edit-profile-banner"],[12],[1,"\\n        "],[10,0],[14,0,"banner-text typography-title-3-tall"],[12],[1,"\\n            "],[10,1],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.Profile.Intro.Description"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"edit-form-control"],[12],[1,"\\n            "],[11,"button"],[24,0,"edit-button pill-button cancel-button"],[4,[38,1],["click",[30,1]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.DT.Cancel"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[16,"disabled",[30,0,["isDisabled"]]],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,2]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.DT.Done"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@cancelEditProfile","@saveProfile"],false,["t","on"]]',moduleName:"desktop-music-app/components/dt-profile-edit-banner.hbs",isStrictMode:!1})
class r extends t.default{get isDisabled(){return!this.args.isDirty}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/dt-profile-edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"FOdrlzas",block:'[[[10,0],[14,0,"uber-content edit"],[12],[1,"\\n    "],[10,0],[14,0,"edit-form flex-container"],[12],[1,"\\n        "],[10,0],[14,0,"column flex-item"],[12],[1,"\\n            "],[10,"label"],[14,0,"input-label typography-title-3-emphasized-tall"],[14,"for","profileName"],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.Profile.NameField"],null]],[1," "],[10,"br"],[12],[13],[1,"\\n                "],[11,"input"],[24,1,"profileName"],[24,0,"typography-title-3-tall"],[16,2,[30,1]],[24,4,"text"],[4,[38,1],["input",[30,2]],null],[12],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"label"],[14,0,"input-label typography-title-3-emphasized-tall"],[14,"for","profileHandle"],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.Profile.UserNameField"],null]],[1," "],[10,"br"],[12],[13],[1,"\\n                "],[8,[39,2],[[24,0,"user-name"],[24,1,"profileHandle"],[4,[38,1],["userhandlechanged",[30,4]],null]],[["@userHandle"],[[30,3]]],null],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[24,0,"delete typography-callout button-reset clr-system-red"],[4,[38,1],["click",[30,5]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.DT.Profile.DeleteProfile.CTA"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"column flex-item"],[12],[1,"\\n            "],[10,"h4"],[14,0,"radio-title typography-title-3-emphasized-tall"],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.DT.Profile.ShareWith.Header"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"select-profile-type"],[14,"role","group"],[15,"aria-label",[28,[37,0],["FUSE.Social.DT.Profile.ShareWith.Header"],null]],[12],[1,"\\n                "],[10,"label"],[14,"role","group"],[14,0,"radio-label typography-body-tall"],[12],[1,"\\n                    "],[10,0],[14,0,"flex-container"],[12],[1,"\\n                        "],[10,0],[14,0,"flex-item flex-grow pack-center"],[12],[1,"\\n                            "],[1,[28,[35,0],["FUSE.Social.Profile.ShareWith.Everyone.Header"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"radio-input-container"],[12],[1,"\\n                            "],[11,"input"],[16,"checked",[28,[37,3],[[30,6]],null]],[24,2,"false"],[24,3,"profile-privacy-status"],[24,4,"radio"],[4,[38,1],["change",[30,7]],null],[12],[13],[10,1],[14,0,"typography-title-3-tall"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"label"],[14,0,"radio-label typography-body-tall"],[12],[1,"\\n                    "],[10,0],[14,0,"flex-container"],[12],[1,"\\n                        "],[10,0],[14,0,"flex-item flex-grow pack-center"],[12],[1,"\\n                            "],[1,[28,[35,0],["FUSE.Social.Profile.ShareWith.Restricted.header"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"radio-input-container"],[12],[1,"\\n                            "],[11,"input"],[16,"checked",[30,6]],[24,2,"true"],[24,3,"profile-privacy-status"],[24,4,"radio"],[4,[38,1],["change",[30,7]],null],[12],[13],[10,1],[14,0,"typography-title-3-tall"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[24,0,"privacy typography-callout button-reset"],[4,[38,1],["click",[30,8]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Social.Profile.Edit.AdditionalPrivacySettings.Menu"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"column flex-item profile-art-content"],[12],[1,"\\n            "],[8,[39,4],[[24,0,"media-artwork-v2--profile-badge media-artwork-v2--profile-badge-edit media-artwork-v2--round profile-image"]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad","@bgColor","@alt"],[[30,9],"profile-edit",[28,[37,5],[[28,[37,6],null,[["type","name"],["socialProfile",[30,1]]]]],null],false,"transparent",[28,[37,0],["FUSE.VO.MyAccountButtonLabel"],null]]],[["default"],[[[[1,"\\n                "],[11,"button"],[24,0,"edit-link typography-title-3-tall link-button"],[4,[38,1],["click",[30,10]],null],[12],[1,"\\n                "],[13],[1,"\\n            "]],[]]]]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@profileName","@setProfileName","@profileHandle","@onHandleChange","@offboardProfile","@isPrivateProfile","@editProfilePrivacy","@openProfileSettings","@profileImage","@editProfileImage"],false,["t","on","dt-user-handle-input","not","amp-artwork/music","fallback-artwork","hash"]]',moduleName:"desktop-music-app/components/dt-profile-edit.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-profile-follow-button",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"gO9W9WzL",block:'[[[11,"button"],[16,0,[29,["follow-button pill-button profile-follow",[52,[30,0,["profileState","style"]],[28,[37,1],[" ",[30,0,["profileState","style"]]],null]],[52,[30,0,["profileFollowed"]],[28,[37,1],[" ","profile-followed"],null]]]]],[17,1],[4,[38,2],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[1,[28,[35,3],[[30,0,["profileState","key"]]],null]],[1,"\\n"],[13],[1,"\\n"]],["&attrs"],false,["if","concat","on","t"]]',moduleName:"desktop-music-app/components/dt-profile-follow-button.hbs",isStrictMode:!1}),_={notFollowing:{title:"follow",key:"FUSE.Social.FollowersPage.Follow"},following:{title:"following",key:"FUSE.Social.FollowersPage.Following",style:"profile-disabled"},requested:{title:"requested",key:"FUSE.Social.Requested",style:"profile-disabled"},blocked:{title:"blocked",key:"FUSE.Social.Unblock"},invite:{title:"INVITE",key:"FUSE.Social.Onboarding.FindandFollow.Contacts.Invite"}}
function P(e){return _[e]||_.notFollowing}let O=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service("itunes-follow"),a=Ember.inject.service("itunes-social"),s=Ember.inject.service("itunes-menus"),u=Ember._tracked,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),k(this,"store",p,this),k(this,"personalizationRefresh",m,this),k(this,"user",b,this),k(this,"finance",f,this),k(this,"nativeFollow",h,this),k(this,"social",g,this),k(this,"menus",y,this),k(this,"_profileState",v,this)}get profileFollowed(){var e
return"following"===(null===(e=this.args.profileData)||void 0===e?void 0:e.followState)}get profileState(){if(this._profileState)return this._profileState
if(this.args.showInvite)return P("invite")
const{followState:e}=this.args.profileData||{}
return P(e)}set profileState(e){const t=P(e)
this._profileState=t}onClick(e){e.stopPropagation()
const{isOnboarding:t,profileData:i}=this.args,{user:r}=this
if(r.isSubscribed){if(!r.isSubscribed||r.isOnboarded||!0===t){var n,o
const t=e.target
if(t.classList.contains("follow-recommended-friends")){const e=this.user.userDSID
localStorage.setItem(`UPDATE-RECOMMENDED-FRIENDS-MODULE-${e}`,!0)}const i=this.profileState.title,r=Ember.get(this,"args.profile.socialProfileId")||Ember.get(this,"args.profile.id")
if("following"===i)this._unfollow()
else if("requested"===i)this._cancelFollowRequest()
else if("blocked"===i)this._unblock()
else if(this.args.showInvite)this.launchShareSheet(this.args.profile,t)
else{var l,a
this._follow(),null===(l=(a=this.args).onFollow)||void 0===l||l.call(a,r)}return this.personalizationRefresh.refreshFriends(),null===(n=(o=this.args).reloadModules)||void 0===n||n.call(o,[r]),!1}var s,u
null===(s=(u=this.args).openSocialOnboardingModal)||void 0===s||s.call(u)}else{const e={container:{id:i.socialProfileId}}
this.finance.contextualUpsell(e)}}launchShareSheet(e,t){this.menus.showSharingServicePicker(t,null,[iTunes.SharingServiceIdentifier.ComposeEmail,iTunes.SharingServiceIdentifier.ComposeMessage],(t=>{if(t!==iTunes.SharingServiceIdentifier.None){let i=this.social.sharingUrl
if(this.user.isOnboarded){i=this.store.peekRecord("lockup",this.user.profile.socialProfileId).shortUrl}iTunes.share(t,{message:i,recipient:{localContactId:e.localContactId}})}}))}_follow(){const{profile:e}=this.args,t=Ember.get(e,"socialProfileId")||Ember.get(e,"subscriberId")||Ember.get(e,"id")
this.social.followUser(t).then((e=>{var i,r
this.isDestroyed||this.isDestroying||(this.profileState=e.followState,null===(i=(r=this.args).reloadModules)||void 0===i||i.call(r,[t]))}))}_cancelFollowRequest(){const e={actionType:"cancel",id:Ember.get(this,"args.profile.socialProfileId")}
this.social.followRequestAction(e).then((e=>{this.profileState=e.followState}))}_unfollow(){const{profile:e}=this.args,t=Ember.get(e,"socialProfileId")||Ember.get(e,"subscriberId")
this.social.unFollowUser(t).then((e=>{var i,r
this.profileState=e.followState,null===(i=(r=this.args).reloadModules)||void 0===i||i.call(r,[t])}))}_unblock(){const{profile:e}=this.args,t=Ember.get(e,"socialProfileId")||Ember.get(e,"subscriberId")
this.social.unblockUser(t).then((e=>{var i,r
this.profileState=e.followState,null===(i=(r=this.args).reloadModules)||void 0===i||i.call(r,[t])}))}},p=w(d.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w(d.prototype,"personalizationRefresh",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(d.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(d.prototype,"finance",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(d.prototype,"nativeFollow",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(d.prototype,"social",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w(d.prototype,"menus",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(d.prototype,"_profileState",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(d.prototype,"onClick",[c],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),d)
e.default=O,Ember._setComponentTemplate(E,O)})),define("desktop-music-app/components/dt-profile-image",["exports","@glimmer/component","desktop-music-app/utils/route","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"Fb1+lvEa",block:'[[[41,[30,0,["shouldShow"]],[[[1,"    "],[11,0],[24,0,"profile-image"],[24,"role","button"],[16,"aria-label",[30,0,["ariaLabel"]]],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[41,[28,[37,2],[[30,0,["socialRequestCount"]],0],null],[[[1,"            "],[10,0],[14,0,"social-request-count"],[12],[1,"\\n                "],[10,1],[14,0,"typography-body-tall"],[12],[1,[30,0,["socialRequestCount"]]],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[39,3],[[24,0,"media-artwork-v2--profile-badge media-artwork-v2--round"]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad","@bgColor"],[[30,0,["profileImage"]],"profile-button",[28,[37,4],["socialProfile"],null],false,"transparent"]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[],false,["if","on","gt","amp-artwork/music","fallback-artwork"]]',moduleName:"desktop-music-app/components/dt-profile-image.hbs",isStrictMode:!1})
let E=(n=Ember.inject.service("itunes-menus"),o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service("social-onboarding-upsell"),u=Ember.inject.service,c=Ember._action,d=Ember.computed("socialRequestCount"),p=class extends t.default{get socialRequestCount(){return this.user.socialRequestCount}get profileImage(){var e
if(this.user.isOnboarded)return null===(e=this.user.profile)||void 0===e?void 0:e.profileImage}get shouldShow(){return this.user.isLoggedIn}constructor(){super(...arguments),v(this,"menus",m,this),v(this,"user",b,this),v(this,"modal",f,this),v(this,"i18n",h,this),v(this,"socialUpsell",g,this),v(this,"socialProfile",y,this),Ember.addObserver(this,"user.userDSID",this,this.onUserUpdate)}willDestroy(){super.willDestroy(...arguments),Ember.removeObserver(this,"user.userDSID",this,this.onUserUpdate)}onUserUpdate(){const{socialProfile:e,socialUpsell:t,user:{userDSID:i}}=this
"0"!==i&&e.isSocialEnabled&&t.shouldDisplayUpsell()&&Ember.run.later(this,(function(){this.modal.open("social-onboarding.index"),localStorage.setItem(`music-app-pref:hasSeenSocialOnboardingScreen-${i}`,!0)}),5e3)}onClick(){const{socialProfile:e,user:t}=this,i=document.querySelector(".social-upsell")
i&&(i.style.display="none",localStorage.setItem(`music-app-pref:hasSelectedSetupSocialLater-${t.userDSID}`,!0))}get ariaLabel(){return this.socialRequestCount?this.i18n.t("FUSE.VO.MyAccountButtonLabel.With.Notification.Count",{count:this.socialRequestCount}):this.i18n.t("FUSE.VO.MyAccountButtonLabel")}},m=k(p.prototype,"menus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(p.prototype,"modal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"socialUpsell",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(p.prototype,"socialProfile",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(p.prototype,"onClick",[c],Object.getOwnPropertyDescriptor(p.prototype,"onClick"),p.prototype),k(p.prototype,"ariaLabel",[d],Object.getOwnPropertyDescriptor(p.prototype,"ariaLabel"),p.prototype),p)
e.default=E,Ember._setComponentTemplate(w,E)})),define("desktop-music-app/components/dt-profile-module",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SOCIAL_PROFILE_MODULES=void 0
const s=Ember.HTMLBars.template({id:"80aQ2WAz",block:'[[[10,0],[14,0,"profile-module profile-description"],[12],[1,"\\n"],[41,[30,0,["showModule"]],[[[41,[30,0,["isSocialProfileShelf"]],[[[1,"            "],[8,[39,1],null,[["@id","@grid","@title","@items","@itemComponent","@seeAllComponent"],["profile-social-profile","H",[28,[37,2],[[30,0,["titleKey"]]],null],[30,0,["children"]],[50,"lockups/social-profile",0,null,[["showUserHandle"],[true]]],[52,[28,[37,4],[[30,0,["children","length"]],8],null],[50,"see-all/profile-page",0,null,[["routeName","id","userId"],["profile-page-see-all-room",[30,1,["title"]],[30,0,["userId"]]]]]]]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[39,1],null,[["@id","@grid","@title","@items","@itemComponent","@seeAllComponent"],["profile","G",[28,[37,2],[[30,0,["titleKey"]]],null],[30,0,["children"]],"dt-lockup",[52,[28,[37,4],[[30,0,["children","length"]],8],null],[50,"see-all/profile-page",0,null,[["routeName","id","userId"],["profile-page-see-all-room",[30,1,["title"]],[30,0,["userId"]]]]]]]],null],[1,"\\n"]],[]]]],[]],null],[13],[1,"\\n"]],["@module"],false,["if","dt-shelf","t","component","gt"]]',moduleName:"desktop-music-app/components/dt-profile-module.hbs",isStrictMode:!1}),u={USER_PERSONAL_MIXES:"FUSE.Social.PersonalMixes",USER_PLAYLISTS:"FUSE.Social.Playlist",USER_ENGAGEMENT:"FUSE.Social.ListeningTo",USER_FOLLOWEES:"FUSE.Social.Following",USER_FOLLOWERS:"FUSE.Social.Followers"},c=["USER_FOLLOWERS","USER_FOLLOWEES"]
e.SOCIAL_PROFILE_MODULES=c
let d=(i=Ember.computed("children.@each.isLoaded","isFollowIntersection"),r=Ember.computed.alias("args.profileData.socialProfileId"),n=Ember.computed("args.module.children.@each.isLoaded","isEngagement"),a((o=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="userId",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get isEngagement(){return"USER_ENGAGEMENT"===this.args.module.title}get isFollowIntersection(){return"FOLLOW_INTERSECTION"===this.args.module.title}get showModule(){return Ember.get(this,"children.length")>0&&!Ember.get(this,"isFollowIntersection")}get isSocialProfileShelf(){return c.includes(this.args.module.title)}get children(){const e=Ember.get(this,"args.module.children"),t="self"===Ember.get(this,"args.profileData.followState")
return this.isEngagement&&t&&e.forEach((e=>{Ember.get(e,"rawJSON")&&(Ember.get(e,"isHidden")?Ember.set(e,"rawJSON.canBeUnhiddenFromListeningTo",!0):Ember.set(e,"rawJSON.canBeHiddenFromListeningTo",!0))})),e.filter((e=>!0!==Ember.get(e,"isHiddenFromListeningTo")&&!0===Ember.get(e,"isLoaded")))}get titleKey(){const e=this.args.module.title
return u[e]||e}}).prototype,"showModule",[i],Object.getOwnPropertyDescriptor(o.prototype,"showModule"),o.prototype),l=a(o.prototype,"userId",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(o.prototype,"children",[n],Object.getOwnPropertyDescriptor(o.prototype,"children"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(s,d)})),define("desktop-music-app/components/dt-profile-row",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"N8YBVQyu",block:'[[[41,[28,[37,1],[[30,1],[30,2]],null],[[[1,"    "],[10,"h3"],[14,0,"find-friend-subhead"],[12],[1,"\\n        "],[1,[28,[35,2],[[30,1]],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[10,"ul"],[14,0,"item-list small"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[28,[37,5],["name",[30,3],[30,4]],null]],null]],null],null,[[[1,"        "],[10,"li"],[14,0,"item"],[12],[1,"\\n            "],[10,0],[14,0,"vertical-center-container artwork-container"],[12],[1,"\\n                "],[8,[39,6],[[24,0,"media-artwork-v2--round"]],[["@artwork","@fallbackProfile","@artworkProfile","@lockup","@alt"],[[28,[37,7],[[30,5,["thumbnailImage"]],[30,5,["profileImage"]],[30,5,["url"]]],null],[28,[37,8],[[30,5]],null],"profile-row",[30,5],[30,5,["name"]]]],null],[1,"\\n"],[41,[28,[37,7],[[30,5,["isPrivate"]],[30,5,["isVerified"]]],null],[[[1,"                    "],[10,0],[15,0,[29,["badge ",[52,[30,5,["isPrivate"]],"private"]," ",[52,[30,5,["isVerified"]],"verified"]]]],[12],[13],[1,"\\n"]],[]],[[[41,[30,5,["network"]],[[[1,"                    "],[10,0],[14,0,"badge network"],[12],[1,"\\n                        "],[8,[39,9],null,[["@artwork","@height","@width","@placeholderComponent","@crop"],[[30,5,["network","artwork"]],15,15,[50,"user-monogram",0,null,[["name"],[[30,5,["name"]]]]],"cc"]],null],[1,"\\n                    "],[13],[1,"\\n                "]],[]],null]],[]]],[1,"            "],[13],[1,"\\n            "],[10,0],[14,0,"vertical-center-container grow"],[12],[1,"\\n                "],[10,0],[14,0,"typ-subhead typography-title-3-tall text-overflow"],[12],[1,[30,5,["name"]]],[13],[1,"\\n"],[41,[30,5,["reason","stringForDisplay"]],[[[1,"                    "],[10,0],[14,0,"typography-subhead text-overflow clr-lt-gray-blue color-label-secondary"],[12],[1,[30,5,["reason","stringForDisplay"]]],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n            "],[10,0],[14,0,"vertical-center-container button-container"],[12],[1,"\\n                "],[8,[39,11],null,[["@isOnboarding","@profile","@showInvite"],[[30,6],[30,5],[30,7]]],null],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n"]],[5]],null],[13]],["@titleKey","@showTitle","@searchByTerm","@items","item","@isOnboarding","@showInvite"],false,["if","and","t","each","-track-array","search-by","amp-artwork/music","or","fallback-artwork","media-artwork","component","dt-profile-follow-button"]]',moduleName:"desktop-music-app/components/dt-profile-row.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-profile-uber",["exports","@glimmer/component","desktop-music-app/utils/social-profile"],(function(e,t,i){var r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"JNntM+az",block:'[[[10,0],[15,0,[29,["profile-uber",[52,[30,0,["hasPendingRequests"]]," pending-requests"]]]],[12],[1,"\\n"],[41,[30,0,["hasPendingRequests"]],[[[1,"        "],[10,0],[14,0,"profile-uber__requests-banner"],[12],[1,"\\n            "],[10,0],[14,0,"profile-uber__requests-banner-details"],[12],[1,"\\n                "],[1,[28,[35,1],["FUSE.Social.Private.PeopleRequest.Explanation"],[["_pluralize","count"],[[30,1,["followRequestCount"]],[30,1,["followRequestCount"]]]]]],[1,"\\n            "],[13],[1,"\\n            "],[11,"button"],[24,0,"bar-button typography-body-tall"],[4,[38,2],["click",[30,0,["goToPendingApprovals"]]],null],[12],[1,"\\n                "],[1,[28,[35,1],["FUSE.Social.Private.PeopleRequest.ManageRequests"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,3],null,[["@artwork","@isPrivate","@alt","@class","@fallbackProfile"],[[28,[37,4],[[30,2,["avatarArtwork"]],[30,2,["artwork"]]],null],[30,2,["isPrivate"]],[30,2,["name"]],"profile-uber__artwork circular-artwork--profile",[28,[37,5],[[30,2]],null]]],null],[1,"\\n\\n    "],[10,0],[14,0,"profile-uber__details"],[12],[1,"\\n        "],[10,0],[14,0,"profile-uber__details-user"],[12],[1,"\\n            "],[10,"h1"],[14,0,"typography-header-emphasized profile-username"],[12],[1,[30,2,["name"]]],[13],[1,"\\n            "],[10,"h4"],[14,0,"profile-handle typography-title-2"],[12],[1,"@"],[1,[30,2,["handle"]]],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"profile-uber__details-buttons"],[12],[1,"\\n"],[41,[30,0,["isCurrentUser"]],[[[1,"                "],[8,[39,6],[[24,0,"edit follow-button pill-button profile-follow"],[16,"data-metrics-click",[28,[37,7],["linkToProfileEditPage"],[["id"],[[30,2,["id"]]]]]]],[["@route","@model","@tagName"],["profile-edit",[30,2,["id"]],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[35,1],["FUSE.Social.Profile.Editbutton"],null]],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],[[[1,"                "],[8,[39,8],null,[["@profile","@profileData","@reloadModules","@openSocialOnboardingModal","@onFollow"],[[30,2],[30,1],[30,3],[30,4],[30,5]]],null],[1,"\\n"]],[]]],[1,"\\n            "],[8,[39,9],null,[["@alt","@lockups","@ariaLabel"],[true,[30,0,["menuButtonJSON"]],[28,[37,1],["FUSE.VO.ActionMenuLabel"],[["contentName"],[[30,2,["name"]]]]]]],null],[1,"\\n\\n"],[41,[30,6],[[[1,"                "],[10,0],[14,0,"button-wrapper"],[12],[1,"\\n"],[41,[28,[37,10],[[30,6,["length"]],1],null],[[[1,"                        "],[10,3],[14,0,"typography-title-3-tall music-by-this-artist dt-link-to"],[15,6,[30,6,["firstObject","url"]]],[12],[1,"\\n"],[1,"                            "],[1,[28,[35,1],["FUSE.Social.ViewArtistsMusic"],null]],[1," >\\n                        "],[13],[1,"\\n"]],[]],[[[1,"                        "],[11,"button"],[24,0,"typography-title-3-tall button-reset music-by-this-artist"],[4,[38,2],["click",[30,0,["toggleShowPopover"]]],null],[12],[1,"\\n"],[1,"                            "],[1,[28,[35,1],["FUSE.Social.ViewArtistsMusic"],null]],[1," >\\n                            "],[8,[39,11],null,[["@shouldShow"],[[30,0,["showPopover"]]]],[["default"],[[[[1,"\\n                                "],[10,"ul"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,6]],null]],null],null,[[[1,"                                        "],[10,"li"],[14,0,"artist-row"],[12],[1,"\\n"],[1,"                                            "],[10,3],[14,0,"dt-flex-container dt-link-to"],[15,6,[30,7,["url"]]],[12],[1,"\\n                                                "],[8,[39,14],null,[["@artwork","@height","@width"],[[30,7,["artwork"]],33,33]],null],[1,"\\n                                                "],[10,1],[14,0,"dt-flex-item grow-1"],[12],[1,[30,7,["name"]]],[13],[1,"\\n                                            "],[13],[1,"\\n"],[1,"                                        "],[13],[1,"\\n"]],[7]],null],[1,"                                "],[13],[1,"\\n                            "]],[]]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@profileData","@profile","@reloadModules","@openSocialOnboardingModal","@onFollow","@linkedEntities","entity"],false,["if","t","on","dt-profile/circular-artwork","or","fallback-artwork","link-to","metrics-json-data","dt-profile-follow-button","dt-button-menu","eq","dt-popover","each","-track-array","media-artwork"]]',moduleName:"desktop-music-app/components/dt-profile-uber.hbs",isStrictMode:!1})
let f=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._tracked,l=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),p(this,"user",u,this),p(this,"modal",c,this),p(this,"showPopover",d,this)}goToPendingApprovals(){this.modal.open("profilePage.pending-approval-modal")}get hasPendingRequests(){var e
return(null===(e=this.args.profileData)||void 0===e?void 0:e.followRequestCount)>0}get isCurrentUser(){var e
return"self"===(null===(e=this.args.profileData)||void 0===e?void 0:e.followState)}get menuButtonJSON(){const{profile:e,profileData:t}=this.args,r=Ember.get(e,"rawJSON")||{},n=Object.assign(r,t),o=n.followState,l=Ember.get(this,"user.profile.isPrivate")
return(0,i.assignFollowStateProperties)(n,o,l),{rawJSON:n}}toggleShowPopover(){this.showPopover=!this.showPopover}},u=m(s.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"showPopover",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m(s.prototype,"goToPendingApprovals",[l],Object.getOwnPropertyDescriptor(s.prototype,"goToPendingApprovals"),s.prototype),m(s.prototype,"toggleShowPopover",[a],Object.getOwnPropertyDescriptor(s.prototype,"toggleShowPopover"),s.prototype),s)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/dt-profile",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"zB8uYU7B",block:'[[[10,0],[14,0,"social-profile"],[12],[1,"\\n    "],[10,0],[14,0,"social-profile__avatar"],[12],[1,"\\n        "],[8,[39,0],null,[["@artwork","@isPrivate","@isVerified","@product","@class","@fallbackProfile"],[[28,[37,1],[[30,1,["avatarArtwork"]],[30,1,["artwork"]]],null],[30,1,["isPrivate"]],[30,1,["isVerified"]],[30,1],"social-profile__avatar__artwork profile-uber__artwork circular-artwork--profile",[28,[37,2],[[30,1]],null]]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"h1"],[14,0,"social-profile__title typography-header-emphasized"],[12],[1,[30,1,["handle"]]],[13],[1,"\\n\\n"],[41,[30,1,["isPrivate"]],[[[1,"        "],[10,"h2"],[14,0,"social-profile__subtitle typography-title-2"],[12],[1,"\\n            "],[1,[28,[35,4],["FUSE.Social.Profile.Meta.Description.Private"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,5],[[24,0,"social-profile__button typography-title-2"]],[["@locKeyActionText","@url"],[[28,[37,4],["FUSE.Social.Follow.Profile"],null],[30,1,["url"]]]],null],[1,"\\n"],[13]],["@profile"],false,["dt-profile/circular-artwork","or","fallback-artwork","if","t","web-to-native-cta/apple-music"]]',moduleName:"desktop-music-app/components/dt-profile.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-profile/circular-artwork",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"OYzXHlyO",block:'[[[10,0],[15,0,[29,["circular-artwork",[52,[30,1],[28,[37,1],[" ",[30,1]],null]]]]],[12],[1,"\\n\\n    "],[8,[39,2],[[24,0,"circular-artwork__artwork-gradient media-artwork-v2--no-border media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,2],"facehole-uber",[30,3],[30,4]]],null],[1,"\\n    "],[8,[39,2],[[24,0,"circular-artwork__artwork media-artwork-v2--no-border media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,2],"facehole-uber",[30,3],[30,4]]],null],[1,"\\n\\n"],[41,[30,5],[[[1,"        "],[10,0],[14,0,"circular-artwork__badge"],[15,"aria-label",[28,[37,3],["FUSE.Social.Profile.Meta.Description.Private"],null]],[12],[1,"\\n            "],[1,[28,[35,4],["social-lock"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[30,6],[[[1,"        "],[10,0],[14,0,"circular-artwork__badge"],[15,"aria-label",[28,[37,3],["FUSE.Social.Profile.Meta.Description.Verified"],null]],[12],[1,"\\n            "],[1,[28,[35,4],["social-check"],null]],[1,"\\n        "],[13],[1,"\\n    "]],[]],null]],[]]],[13],[1,"\\n"]],["@class","@artwork","@fallbackProfile","@alt","@isPrivate","@isVerified"],false,["if","concat","amp-artwork/music","t","svg-jar"]]',moduleName:"desktop-music-app/components/dt-profile/circular-artwork.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-radio-station-lockup",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"wP4Jkd5R",block:'[[[41,[30,1],[[[1,"    "],[8,[39,1],[[24,0,"featured-lockup mixed-radio-episode-lockup"]],[["@artworkProfile","@lockup"],["mixed-radio-episode-lockup",[30,2]]],null],[1,"\\n"]],[]],[[[41,[30,2,["episodeNumber"]],[[[1,"    "],[8,[39,1],[[24,0,"featured-lockup episode-lockup"]],[["@artworkProfile","@lockup"],["episode-lockup",[30,2]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,1],[[24,0,"featured-lockup radio-station-lockup"]],[["@artworkProfile","@lockup"],["radio-station-lockup",[30,2]]],null],[1,"\\n"]],[]]]],[]]]],["@isMixed","@lockup"],false,["if","dt-radio-station-lockup/base"]]',moduleName:"desktop-music-app/components/dt-radio-station-lockup.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-radio-station-lockup/base",["exports","@glimmer/component","desktop-music-app/utils/artwork-config","desktop-music-app/decorators/lockup-context-menu","desktop-music-app/decorators/lockup-click","desktop-music-app/decorators/lockup-attributes"],(function(e,t,i,r,n,o){var l,a,s,u
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"AgasrsZ3",block:'[[[11,0],[17,1],[4,[38,0],["contextmenu",[30,0,["onContextMenu"]]],null],[4,[38,0],["click",[30,0,["click"]]],null],[12],[1,"\\n    "],[10,0],[15,0,[29,["lockup-container ",[30,0,["lockupClasses"]],[52,[30,0,["lockupKind"]],[28,[37,2],[" ",[30,0,["lockupKind"]]],null]]]]],[12],[1,"\\n        "],[8,[39,3],[[16,0,[52,[30,2,["episodeNumber"]],"media-artwork-v2--fullwidth"]]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@alt"],[[30,2,["artwork"]],[30,3],[28,[37,4],[[30,2]],null],[30,2],[30,2,["name"]]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["playable"]],[[[1,"                "],[8,[39,5],null,[["@lockup"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"\\n        "]],[]]]]],[1,"\\n\\n        "],[10,0],[14,0,"description"],[12],[1,"\\n"],[41,[30,2,["episodeNumber"]],[[[1,"                "],[10,2],[14,0,"design-tag typography-subhead-emphasized"],[12],[1,[30,0,["episodeNumber"]]],[13],[1,"\\n"]],[]],null],[1,"\\n            "],[10,"h3"],[14,0,"episode-name typography-title-3-tall"],[12],[1,"\\n"],[41,[30,0,["isLinkable"]],[[[1,"                    "],[10,3],[15,6,[30,2,["url"]]],[14,0,"dt-link-to link link--text-color episode-name--inner"],[12],[1,[30,2,["name"]]],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,1],[14,0,"episode-name--inner"],[12],[1,[30,2,["name"]]],[13],[1,"\\n"]],[]]],[41,[28,[37,6],[[30,2]],null],[[[1,"                    "],[10,1],[12],[1,"\\n                        "],[8,[39,7],null,null,null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n"],[41,[30,2,["artistName"]],[[[1,"                "],[10,"h4"],[14,0,"artist-name typography-title-3-tall"],[12],[1,"\\n"],[41,[30,2,["artistUrl"]],[[[1,"                        "],[10,3],[15,6,[30,2,["artistUrl"]]],[14,0,"link link--text-color dt-link-to"],[12],[1,[30,2,["artistName"]]],[13],[1,"\\n"]],[]],[[[1,"                        "],[1,[30,2,["artistName"]]],[1,"\\n"]],[]]],[1,"                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["itunesNotes","short"]],[[[1,"                "],[10,2],[14,0,"episode-description typography-callout clamp-3"],[12],[1,[28,[35,8],[[30,2,["itunesNotes","short"]]],null]],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["&attrs","@lockup","@artworkProfile"],false,["on","if","concat","amp-artwork/music","fallback-artwork","dt-play-button","is-explicit","explicit-badge","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-radio-station-lockup/base.hbs",isStrictMode:!1})
let d=(l=Ember.inject.service,(0,r.default)(a=(0,n.default)(a=(0,o.default)((s=class extends t.default{constructor(){var e,t,r,n
super(...arguments),e=this,t="i18n",n=this,(r=u)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),this._artworkConfig=i.ARTWORK_PRESETS.standardLockup.radioStation}get dataTestRadioStationLockup(){return this.args.lockup.id}get lockupKind(){return this.args.lockup.kind}get episodeNumber(){const e=this.args.lockup.episodeNumber
return this.i18n.t("FUSE.Radio.Episode",{num:e})}},p=s.prototype,m="i18n",b=[l],f={configurable:!0,enumerable:!0,writable:!0,initializer:null},g={},Object.keys(f).forEach((function(e){g[e]=f[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=b.slice().reverse().reduce((function(e,t){return t(p,m,e)||e}),g),h&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(h):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(p,m,g),g=null),u=g,a=s))||a)||a)||a)
var p,m,b,f,h,g
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/dt-recommendation-card",["exports","ember-lifeline"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.INLINE_UPSELL_CARD_ID_LN=e.INLINE_UPSELL_CARD_ID_FY=e.INLINE_UPSELL_CARD_CONTENT_TYPE=void 0
const i=Ember.HTMLBars.template({id:"GRUc9PX+",block:'[[[41,[30,0,["isRecommendationUpsell"]],[[[1,"    "],[10,0],[14,0,"dt-recommendation-card__inner"],[12],[1,"\\n        "],[8,[39,1],[[24,0,"media-artwork-v2--no-border media-artwork-v2--recommendation-card media-artwork-v2--round"]],[["@artwork","@artworkProfile","@lockup","@alt"],[[30,1,["artwork"]],"inlineUpsell",[30,1],[30,1,["title"]]]],null],[1,"\\n\\n        "],[10,0],[14,0,"lockup__details dt-recommendation-card__details"],[12],[1,"\\n            "],[10,0],[14,0,"dt-recommendation-card__info"],[12],[1,"\\n                "],[10,"ul"],[14,0,"lockup__lines"],[12],[1,"\\n                    "],[10,"li"],[14,0,"lockup__name"],[12],[1,"\\n                        "],[10,1],[14,0,"line dt-recommendation-card__lockup-line typography-title-3-emphasized-tall"],[12],[1,"\\n                            "],[1,[28,[35,2],[[30,1,["reason","stringForDisplay"]],[30,1,["_meta","reason","stringForDisplay"]]],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[11,"button"],[24,0,"pill-button follow-button profile-follow dt-recommendation-card__follow-button"],[4,[38,3],["click",[30,0,["upsellAction"]]],null],[12],[1,"\\n            "],[1,[28,[35,2],[[30,1,["actionText"]],[30,1,["action"]]],null]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[8,[39,4],[[24,0,"dt-recommendation-card__inner"]],[["@route","@model"],["profile",[30,1,["storeContent","id"]]]],[["default"],[[[[1,"\\n        "],[11,"button"],[24,0,"close button-reset"],[16,"aria-label",[28,[37,5],["FUSE.VO.DismissRecommendedFriend"],[["friendName"],[[30,1,["storeContent","name"]]]]]],[4,[38,3],["click",[30,0,["removeRecommendedFriend"]]],null],[12],[1,"\\n        "],[13],[1,"\\n\\n"],[44,[[28,[37,7],[[30,1,["storeContent"]]],null]],[[[1,"            "],[8,[39,1],[[24,0,"media-artwork-v2--recommendation-card media-artwork-v2--round"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@alt"],[[28,[37,2],[[30,2,["value","avatarArtwork"]],[30,2,["value","artwork"]]],null],"profile-recommendation",[28,[37,8],[[30,2,["value"]]],null],[30,2,["value"]],[30,1,["storeContent","title"]]]],null],[1,"\\n"]],[2]]],[1,"\\n        "],[10,0],[14,0,"lockup__details dt-recommendation-card__details"],[12],[1,"\\n            "],[10,0],[14,0,"dt-recommendation-card__info"],[12],[1,"\\n                "],[10,"ul"],[14,0,"lockup__lines"],[12],[1,"\\n                    "],[10,"li"],[14,0,"lockup__name"],[12],[1,"\\n                        "],[10,1],[14,0,"line dt-recommendation-card__lockup-line typography-title-3-emphasized"],[12],[1,"\\n                            "],[1,[30,1,["storeContent","name"]]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n"],[41,[30,0,["line2"]],[[[1,"                        "],[10,"li"],[14,0,"line2 dt-recommendation-card__lockup-line2 typography-callout"],[12],[1,"\\n                            "],[1,[28,[35,9],[[30,0,["line2"]]],null]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,10],[[24,0,"dt-recommendation-card__follow-button"]],[["@profile"],[[30,1,["storeContent"]]]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]]]],["@lockup","resolvedModel"],false,["if","amp-artwork/music","or","on","link-to","t","let","await","fallback-artwork","untrusted-html","dt-profile-follow-button"]]',moduleName:"desktop-music-app/components/dt-recommendation-card.hbs",isStrictMode:!1})
e.INLINE_UPSELL_CARD_CONTENT_TYPE="13"
const r="InlineUpsellCard"
e.INLINE_UPSELL_CARD_ID_FY=r
const n="InlineUpsellContacts"
e.INLINE_UPSELL_CARD_ID_LN=n
var o=Ember._setComponentTemplate(i,Ember.Component.extend({classNames:["lockup","dt-recommendation-card","dt-shelf__recommendation-card"],classNameBindings:["isRecommendationUpsell::socialProfile","isRecommendationUpsell:inline-upsell-card:friend-card"],"data-test-card":Ember.computed("isRecommendationUpsell",(function(){if(!this.isRecommendationUpsell)return this.get("lockup.storeContent.id")})),"data-test-inline-upsell-card":Ember.computed.bool("isRecommendationUpsell"),i18n:Ember.inject.service(),social:Ember.inject.service("itunes-social"),personalizationRefresh:Ember.inject.service(),user:Ember.inject.service(),modal:Ember.inject.service(),isRecommendationUpsell:Ember.computed("lockup.{contentType,id}",(function(){const e=this.get("lockup.id"),t=this.get("lockup.contentType")
return e===r||e===n||"13"===t})),line2:Ember.computed("lockup.{reason.stringForDisplay,storeContent.handle,topGenreNames}",(function(){if(Ember.get(this,"lockup.isPrivate"))return this.i18n.t("FUSE.Social.Onboarding.FindandFollow.Explanation.Private")
if(this.get("lockup._meta.reason.stringForDisplay"))return this.get("lockup._meta.reason.stringForDisplay")
const e=Ember.get(this,"lockup.topGenreNames")
if(e)return e.join(", ")
const t=Ember.get(this,"lockup.handle")
return t?`@${t}`:void 0})),removeRecommendedFriend:Ember._action((function(e){e.stopPropagation()
const t=this.get("lockup.storeContent.id")
this.social.removeRecommendedFriend({id:t}).then((e=>{if(e){this.personalizationRefresh.refreshFriends(),this.element.remove(),this.filterRecommendedFriendsContent(t)
const e=Ember.get(this,"user.userDSID")
localStorage.setItem(`UPDATE-RECOMMENDED-FRIENDS-MODULE-${e}`,!0)}}))})),upsellAction:Ember._action((function(e){e.stopPropagation(),(0,t.runTask)(this,(()=>{this.modal.open("social-onboarding.find-friends",{location:"profilePage"})}),100)}))}))
e.default=o})),define("desktop-music-app/components/dt-recommendation-group",["exports","@glimmer/component","desktop-music-app/utils/personalization","desktop-music-app/utils/recommendation-data","desktop-music-app/components/dt-recommendation-card"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"K9mW+oTf",block:'[[[41,[30,0,["isSuperHeroSwoosh"]],[[[1,"    "],[8,[39,1],[[16,0,[29,[[30,0,["moduleType"]],[52,[30,1]," divider-before"]," dt-shelf--superhero-single"]]]],[["@id","@monitorShelfVisibility","@grid","@shelfIndex","@title","@items","@itemComponent"],[[29,["swoosh-recommendation-",[30,2,["id"]]]],true,"A",[30,3],[30,0,["title"]],[28,[37,2],["storeContent",[30,0,["children"]]],null],[50,"dt-superhero",0,null,null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isSuperHeroUpsell"]],[[[1,"    "],[8,[39,1],[[16,0,[29,[[30,0,["moduleType"]],[52,[30,1]," divider-before"]," dt-shelf--superhero-single dt-shelf--non-subcsriber-superhero-upsell"]]]],[["@id","@monitorShelfVisibility","@grid","@shelfIndex","@title","@items","@itemComponent"],[[29,["swoosh-recommendation-",[30,2,["id"]]]],true,"A",[30,3],[30,0,["title"]],[30,2,["upsellData"]],[50,"dt-superhero-upsell",0,null,null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isPowerSwoosh"]],[[[1,"    "],[8,[39,4],[[24,0,"dt-shelf--feature-recommended divider-before"]],[["@id","@monitorShelfVisibility","@disablePaddleHover","@divider","@shelfIndex","@lazyLoad","@grid","@title","@items"],[[29,["feature-recommended-",[30,2,["id"]]]],true,[28,[37,5],[[30,3],0],null],[30,1],[30,3],[30,4],"C",[30,0,["title"]],[28,[37,2],["storeContent",[30,0,["children"]]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isRecentlyPlayed"]],[[[1,"    "],[8,[39,6],[[16,0,[29,[[30,0,["moduleType"]],[52,[30,1]," divider-before"]]]]],[["@key","@id","@moduleType","@shelfIndex","@grid","@title","@items","@seeAllUrl","@recommendationData"],["contentId",[30,2,["id"]],[30,0,["moduleType"]],[30,3],"G",[30,0,["title"]],[28,[37,2],["storeContent",[30,0,["children"]]],null],[30,0,["seeAllUrl"]],[30,0,["recommendationData"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isSingleRow"]],[[[1,"    "],[8,[39,1],[[16,0,[29,[[30,0,["moduleType"]],[52,[30,1]," divider-before"]]]]],[["@key","@id","@moduleType","@shelfIndex","@grid","@title","@items","@itemComponent","@seeAllComponent"],["contentId",[29,["recommendation-",[30,2,["id"]]]],[30,0,["moduleType"]],[30,3],"G",[30,0,["title"]],[28,[37,2],["storeContent",[30,0,["children"]]],null],[50,"dt-lockup",0,null,[["recommendationData"],[[30,0,["recommendationData"]]]]],[50,"see-all/url",0,null,[["url","label"],[[30,0,["seeAllUrl"]],[28,[37,7],["SeeAll.AriaLabel"],[["containerName"],[[30,0,["title"]]]]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isRecommendedFriendsUpsell"]],[[[1,"    "],[8,[39,8],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isReplayUpsell"]],[[[1,"    "],[8,[39,9],null,[["@group"],[[30,2]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isRecommendedFriendsShelf"]],[[[41,[30,0,["recommendedFriendsShelfContent"]],[[[1,"        "],[8,[39,1],[[16,0,[29,["swoosh--recommendation ",[30,0,["moduleType"]],[52,[30,1]," divider-before"]]]]],[["@id","@grid","@shelfIndex","@title","@items","@itemComponent"],[[29,["friend-recommendation-",[30,2,["id"]]]],"D",[30,3],[30,0,["title"]],[30,0,["recommendedFriendsShelfContent"]],[50,"dt-recommendation-card",0,null,[["recommendationData","filterRecommendedFriendsContent"],[[30,0,["recommendationData"]],[30,0,["filterRecommendedFriendsContent"]]]]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["isFlatPlaylist"]],[[[1,"    "],[8,[39,1],[[16,0,[29,["swoosh--recommendation ",[30,0,["moduleType"]],[52,[30,1]," divider-before"]]]]],[["@key","@id","@grid","@shelfIndex","@title","@items","@itemComponent","@seeAllComponent"],["contentId",[29,["flat-playlist-",[30,2,["id"]]]],"G",[30,3],[30,0,["title"]],[28,[37,2],["storeContent",[30,0,["children"]]],null],[50,"dt-lockup",0,null,[["artworkProfileV2","recommendationData","actionMenu"],["standardDimensionsCC",[30,0,["recommendationData"]],true]]],[50,"see-all/url",0,null,[["url","label"],[[30,0,["seeAllUrl"]],[28,[37,7],["SeeAll.AriaLabel"],[["containerName"],[[30,0,["title"]]]]]]]]]],null],[1,"\\n"]],[]],null]],["@divider","@group","@shelfIndex","@lazyLoad"],false,["if","dt-shelf","map-by","component","dt-power-swoosh","eq","recently-played-shelf","t","dt-recommended-friends-upsell","dt-replay-upsell"]]',moduleName:"desktop-music-app/components/dt-recommendation-group.hbs",isStrictMode:!1})
let h=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember._action,u=class extends t.default{constructor(...e){super(...e),m(this,"user",c,this),m(this,"recommendedFriends",d,this),m(this,"router",p,this)}get isGroupAlbum(){return"GROUP_ALBUM"===this.args.group.viewType}get isFlatPlaylist(){return"FLAT_PLAYLIST"===this.args.group.viewType}get isPersonalizedMix(){return"PERSONALIZED_MIX"===this.args.group.moduleType}get isPowerSwoosh(){return"POWER_SWOOSH"===this.args.group.moduleType}get isRecommendedFriendsShelf(){return"RECOMMEND_FRIENDS"===this.args.group.moduleType}get isRecommendedFriendsUpsell(){return"RECOMMENDED_FRIENDS_UPSELL"===this.args.group.moduleType}get isReplayUpsell(){return"REPLAY_UPSELL"===this.args.group.moduleType}get isSingleRow(){return"SINGLE_ROW"===this.args.group.viewType}get isRecentlyPlayed(){return"RECENTLY_PLAYED"===this.args.group.viewType}get isSuperHeroSwoosh(){return"SUPERHERO_SWOOSH"===this.args.group.moduleType}get isSuperHeroUpsell(){return"SUPERHERO_UPSELL"===this.args.group.moduleType}get recommendationData(){var e,t
return(0,r.recommendationDataForVariant)(null===(e=this.args.group)||void 0===e?void 0:e.meta,null===(t=this.args.group)||void 0===t?void 0:t.recoId)}get moduleType(){const{moduleType:e}=this.args.group
return Ember.String.dasherize(e).toLowerCase()}get hasChildren(){return Ember.get(this,"children.length")>0}get children(){const e=this.args.group.children||[]
return this.user.cloudLibraryIsLoaded?e:e.filter((e=>!Ember.get(e,"isUnavailableInAppleMusic")))}get recommendedFriendsShelfContent(){return Ember.get(this,"recommendedFriends.recommendationShelfContent").filter((e=>e.contentType===n.INLINE_UPSELL_CARD_CONTENT_TYPE||e.storeContent))}filterRecommendedFriendsContent(e){const t=Ember.get(this,"recommendedFriends.recommendationShelfContent")||[]
if(t.length){const i=t.filter((t=>t.id!==e))
Ember.set(this,"recommendedFriends.recommendationShelfContent",i)}}get seeAllUrl(){if(this.args.group.hasSeeAll){const e=(0,i.personalizedRouteName)()
return this.router.urlFor(`${e}.see-all`,this.args.group.id)}}get title(){return Ember.get(this,"args.group.title.stringForDisplay")}},c=b(u.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"recommendedFriends",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"filterRecommendedFriendsContent",[s],Object.getOwnPropertyDescriptor(u.prototype,"filterRecommendedFriendsContent"),u.prototype),u)
e.default=h,Ember._setComponentTemplate(f,h)})),define("desktop-music-app/components/dt-recommended-friends-upsell",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"wYlr1OdQ",block:'[[[41,[30,0,["shouldShow"]],[[[1,"    "],[10,0],[14,0,"recommended-friends-banner"],[12],[1,"\\n        "],[10,0],[14,0,"container"],[12],[1,"\\n            "],[11,"button"],[24,0,"close-button"],[4,[38,1],["click",[30,0,["dismissUpsell"]]],null],[12],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"title-block"],[12],[1,"\\n                "],[10,"h3"],[14,0,"typography-large-title-emphasized"],[12],[1,"\\n                    "],[1,[28,[35,2],["FUSE.Social.Upsell.RecommendedFriends.Title"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"color-label-secondary typography-title-3-tall"],[12],[1,"\\n                    "],[1,[28,[35,2],["FUSE.Social.Upsell.RecommendedFriends.Body"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[11,"button"],[24,0,"button action"],[4,[38,1],["click",[30,0,["goToFindFriends"]]],null],[12],[1,"\\n                    "],[1,[28,[35,2],["FUSE.Social.Upsell.RecommendedFriends.CTA"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[],false,["if","on","t"]]',moduleName:"desktop-music-app/components/dt-recommended-friends-upsell.hbs",isStrictMode:!1})
let h=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember._tracked,l=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),m(this,"user",u,this),m(this,"i18n",c,this),m(this,"modal",d,this),m(this,"shouldShow",p,this)}dismissUpsell(){this.shouldShow=!1}goToFindFriends(){Ember.run.later(this,(()=>{this.modal.open("social-onboarding.find-friends",{location:"profilePage"})}),100)}},u=b(s.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(s.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(s.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(s.prototype,"shouldShow",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b(s.prototype,"dismissUpsell",[l],Object.getOwnPropertyDescriptor(s.prototype,"dismissUpsell"),s.prototype),b(s.prototype,"goToFindFriends",[a],Object.getOwnPropertyDescriptor(s.prototype,"goToFindFriends"),s.prototype),s)
e.default=h,Ember._setComponentTemplate(f,h)})),define("desktop-music-app/components/dt-replay-upsell",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"z2ZyT9SY",block:'[[[10,0],[15,0,[29,["replay-upsell",[52,[30,0,["shouldShow"]]," is-visible"," is-not-visible"]]]],[15,"aria-hidden",[30,0,["ariaHidden"]]],[12],[1,"\\n    "],[10,0],[14,0,"replay-upsell__card"],[12],[1,"\\n        "],[11,"button"],[24,0,"replay-upsell-container-click-through"],[4,[38,1],["click",[30,0,["navigateToReplay"]]],null],[12],[13],[1,"\\n        "],[11,"button"],[24,0,"replay-upsell__card-close-btn"],[16,"aria-label",[28,[37,2],["Close"],null]],[4,[38,1],["click",[30,0,["dismissReplayCard"]]],null],[12],[1,"\\n            "],[1,[28,[35,3],["general_close"],[["class","aria-hidden"],["replay-upsell__card-close-btn-glyph","true"]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"replay-upsell__card-art-fpo-container"],[12],[1,"\\n            "],[1,[28,[35,3],[[30,0,["replayYear"]]],[["class","role"],["replay-upsell__card-art-fpo-glyph","presentation"]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"replay-upsell__card-content"],[12],[1,"\\n            "],[10,"h2"],[14,0,"typography-replay-wordmark replay-upsell__card-content-header"],[15,"aria-label",[28,[37,2],["AMReplay.Banner.Header"],null]],[12],[1,[28,[35,2],["AMReplay.Banner.Header"],null]],[13],[1,"\\n            "],[10,2],[14,0,"typography-replay-upsell-banner-description replay-upsell__card-content-details"],[12],[1,[28,[35,2],["AMReplay.Banner.Description"],null]],[13],[1,"\\n            "],[11,"button"],[24,0,"replay-upsell__card-content-btn action-button typography-body-tall button-reset"],[4,[38,1],["click",[30,0,["navigateToReplay"]]],null],[12],[1,"\\n                "],[1,[28,[35,2],["AMReplay.Banner.CTA"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,["if","on","t","svg-jar"]]',moduleName:"desktop-music-app/components/dt-replay-upsell.hbs",isStrictMode:!1}),y=["4","2","a2"]
let v=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,a=Ember._action,s=Ember._action,u=class extends t.default{constructor(...e){var t,i,r
super(...e),f(this,"i18n",c,this),f(this,"musickit",d,this),f(this,"storefront",p,this),f(this,"router",m,this),r="",(i="tagName")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,f(this,"shouldShow",b,this)}get replayYear(){const e=new Date
let t=e.getFullYear()
const i=e.getMonth(),r=e.getDate()
t=i<1||1===i&&r<16?t-1:t
const n=this.i18n.t("AMReplay.YearDigits"),o=Ember.get(this,"group.latestYear")
if(!(t<("a2"===n?2015:o)||t>2025||-1===y.indexOf(n)))return`${t}_${n}`}get ariaHidden(){return`${!this.shouldShow}`}dismissReplayCard(){const e=this.musickit.instance.musicUserToken
localStorage.setItem(`music-app-pref:replay-upsell-dismissed-${e}`,!0),this.shouldShow=!1}navigateToReplay(){sessionStorage.setItem("REPLAY_ANIMATION_SHOWN",!0)
const e=this.router.urlFor("replay",this.storefront.resolvedStorefront)
this.router.transitionTo(e)}},c=h(u.prototype,"i18n",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"musickit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(u.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h(u.prototype,"shouldShow",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h(u.prototype,"dismissReplayCard",[a],Object.getOwnPropertyDescriptor(u.prototype,"dismissReplayCard"),u.prototype),h(u.prototype,"navigateToReplay",[s],Object.getOwnPropertyDescriptor(u.prototype,"navigateToReplay"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(g,v)})),define("desktop-music-app/components/dt-room-page",["exports","@glimmer/component","desktop-music-app/decorators/memoize-combined-list","desktop-music-app/utils/constants"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"DYTm7dsZ",block:'[[[11,0],[24,0,"page-content padded-page"],[4,[38,0],[[30,0,["updateLatestLockups"]],[30,1]],null],[12],[1,"\\n"],[41,[30,1,["uber","masterArt"]],[[[1,"        "],[8,[39,2],null,[["@uber"],[[30,1,["uber"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["uber","description"]],[[[1,"        "],[10,0],[14,0,"paragraphs uber-description"],[12],[1,"\\n            "],[1,[28,[35,3],[[30,1,["uber","description"]]],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[44,[[28,[37,5],["room/lockup"],[["model"],[[30,0,["allLockups"]]]]]],[[[1,"        "],[8,[39,6],null,[["@sectionName","@title","@lockups","@isSongList","@isRadioStations","@hasMoreLockups","@isFetchingLockups","@loadNext"],[[30,3],[30,0,["pageTitle"]],[30,2,["lockups"]],[30,0,["isSongList"]],[30,0,["isRadioStations"]],[30,0,["hasMoreLockups"]],[30,0,["isFetchingLockups"]],[30,0,["loadNextPage"]]]],null],[1,"\\n"]],[2]]],[13],[1,"\\n"]],["@room","presentedRoom","@sectionName"],false,["did-update","if","dt-room-uber","untrusted-html","let","present","dt-room"]]',moduleName:"desktop-music-app/components/dt-room-page.hbs",isStrictMode:!1})
let _=(n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,u=Ember._tracked,c=(0,i.memoizeCombinedList)("lockups","lazyLoadedLockups"),d=Ember._action,p=Ember._action,m=class extends t.default{constructor(){super(...arguments),k(this,"bag",b,this),k(this,"musickitData",f,this),k(this,"store",h,this),k(this,"isFetchingLockups",g,this),k(this,"lazyLoadedLockups",y,this),k(this,"latestLockups",v,this),this.updateLatestLockups()}get isRadioStation(){return"radioStation"===Ember.get(this.lockups,"firstObject.kind")}get lockups(){return this.args.lockups||Ember.get(this,"args.room.lockups")}get allLockups(){const e=this.lockups||[]
return e.push(...this.lazyLoadedLockups),e}get pageTitle(){return this.args.pageTitle||Ember.get(this,"args.room.pageTitle")}get isSongList(){return this.args.isSongList||Ember.get(this,"args.room.isSongList")}get hasMoreLockups(){var e
return!(null===(e=this.latestLockups)||void 0===e||!e.next)}get _lockupCountToRequest(){return this.isSongList?50:25}_nextPage(){if(this.latestLockups.next)return this.latestLockups.next()}_getSearchData(e){const t=Object.keys(e).find((e=>r.SEARCH_BUBBLE_TYPES.includes(e)))
return t?e[t]:e}async _loadNextPage(){try{this.isFetchingLockups=!0
const e=await this._nextPage(),t=this._getSearchData(e)
t&&(this.lazyLoadedLockups=[...t.data],this.latestLockups=t)}catch(e){}finally{this.isFetchingLockups=!1}}loadNextPage(){this._loadNextPage()}updateLatestLockups(){this.latestLockups=this.args.room}},b=w(m.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(m.prototype,"musickitData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(m.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(m.prototype,"isFetchingLockups",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=w(m.prototype,"lazyLoadedLockups",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w(m.prototype,"latestLockups",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(m.prototype,"allLockups",[c],Object.getOwnPropertyDescriptor(m.prototype,"allLockups"),m.prototype),w(m.prototype,"loadNextPage",[d],Object.getOwnPropertyDescriptor(m.prototype,"loadNextPage"),m.prototype),w(m.prototype,"updateLatestLockups",[p],Object.getOwnPropertyDescriptor(m.prototype,"updateLatestLockups"),m.prototype),m)
e.default=_,Ember._setComponentTemplate(E,_)})),define("desktop-music-app/components/dt-room-segment",["exports","@glimmer/component","desktop-music-app/utils/musickit-data"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"QwriGWWs",block:'[[[11,0],[24,0,"room-segment"],[17,1],[12],[1,"\\n"],[41,[30,0,["isDefaultWithCopy"]],[[[1,"        "],[8,[39,1],[[24,0,"default-with-copy"]],[["@id","@grid","@title","@items","@itemComponent","@seeAllComponent"],[[29,["room-segment-default-",[30,2,["id"]]]],"C",[30,2,["title"]],[30,2,["lockups"]],[50,"dt-lockup",0,null,[["config","lazyLoad","recommendationData"],["itunes-notes",[30,3],[30,4]]]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],null],[1,"\\n\\n"]],[]],[[[41,[30,0,["isExclusive"]],[[[1,"        "],[8,[39,1],[[24,0,"exclusive"]],[["@id","@grid","@title","@items","@itemComponent","@seeAllComponent"],[[29,["room-segment-exclusive-",[30,2,["id"]]]],"C",[30,2,["title"]],[30,2,["lockups"]],[50,"dt-exclusive",0,null,[["lazyLoad","recommendationData"],[[30,3],[30,4]]]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],null],[1,"\\n\\n"]],[]],[[[41,[30,0,["isExclusiveWithCopy"]],[[[1,"        "],[8,[39,1],[[24,0,"exclusive exclusive-with-copy"]],[["@id","@grid","@title","@items","@seeAllComponent"],[[29,["room-segment-exclusive-copy-",[30,2,["id"]]]],"C",[30,2,["title"]],[30,2,["lockups"]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,2,["lockups"]]],null]],null],null,[[[1,"                "],[8,[30,5,["listItem"]],null,[["@index","@isLastItem"],[[30,7],[28,[37,6],[[30,2,["lockups"]],[30,7]],null]]],[["default"],[[[[1,"\\n                    "],[8,[39,7],null,[["@lockup","@showCopy","@lazyLoad"],[[30,6],true,[30,3]]],null],[1,"\\n                "]],[]]]]],[1,"\\n"]],[6,7]],null],[1,"        "]],[5]]]]],[1,"\\n\\n"]],[]],[[[41,[30,0,["isSpotlight"]],[[[1,"        "],[8,[39,8],[[24,0,"padded"]],[["@title","@seeAllComponent"],[[30,2,["title"]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,9],null,[["@lockup","@showNotes"],[[28,[37,10],[[30,2,["lockups"]],"0"],null],false]],null],[1,"\\n        "]],[]]]]],[1,"\\n\\n"]],[]],[[[41,[30,0,["isSpotlightWithCopy"]],[[[1,"        "],[8,[39,8],[[24,0,"padded"]],[["@title","@seeAllComponent"],[[30,2,["title"]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,9],null,[["@lockup","@showNotes"],[[28,[37,10],[[30,2,["lockups"]],"0"],null],true]],null],[1,"\\n        "]],[]]]]],[1,"\\n\\n"]],[]],[[[41,[30,0,["isWhitetailTextBox"]],[[[1,"        "],[8,[39,8],[[24,0,"padded"]],[["@title","@displayStyle"],[[30,2,["title"]],[30,2,["displayStyle"]]]],[["default"],[[[[1,"\\n\\n            "],[10,0],[14,0,"page-description paragraphs"],[12],[1,[28,[35,11],[[30,2,["description"]]],null]],[13],[1,"\\n        "]],[]]]]],[1,"\\n\\n"]],[]],[[[41,[30,0,["isWhitetailLinkBox"]],[[[1,"        "],[8,[39,12],null,[["@title","@displayStyle","@links"],[[30,2,["title"]],[30,2,["displayStyle"]],[30,0,["processedLinks"]]]],null],[1,"\\n\\n"]],[]],[[[41,[30,0,["isWhitetailSubscribeButton"]],[[[1,"\\n\\n"]],[]],[[[41,[30,0,["isGrid"]],[[[1,"        "],[8,[39,13],null,[["@title","@subtitle","@lockups","@isSongList"],[[30,2,["title"]],[30,2,["subtitle"]],[30,2,["lockups"]],[30,2,["isList"]]]],null],[1,"\\n\\n"]],[]],[[[41,[30,0,["isGridWithCopy"]],[[[1,"        "],[10,0],[14,0,"room"],[12],[1,"\\n            "],[8,[39,8],[[24,0,"padded grid"]],[["@title","@seeAllComponent"],[[30,2,["title"]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["filteredSegmentLockups"]]],null]],null],null,[[[1,"                    "],[8,[39,14],null,[["@lockup","@lazyLoad","@playlist","@recommendationData","@line3"],[[30,8],[30,3],[30,0,["segmentPlaylist"]],[30,4],[30,8,["itunesNotes","short"]]]],null],[1,"\\n"]],[8]],null],[1,"            "]],[]]]]],[1,"\\n        "],[13],[1,"\\n\\n"]],[]],[[[1,"        "],[8,[39,1],null,[["@id","@grid","@title","@items","@groupCount","@itemComponent","@seeAllComponent"],[[29,["room-segment-",[30,2,["id"]]]],"C",[30,2,["title"]],[30,2,["lockups"]],[52,[30,0,["isSongGrid"]],3],[50,[52,[30,0,["isSongGrid"]],"dt-list-lockup","dt-lockup"],0,null,[["lazyLoad","recommendationData"],[[30,3],[30,4]]]],[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl","url"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["title"]]]]]]]]]],null],[1,"\\n    "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[13],[1,"\\n"]],["&attrs","@segment","@lazyLoadShelf","@recommendationData","dts","exclusive","index","lockup"],false,["if","dt-shelf","component","t","each","-track-array","is-last-array-index","dt-exclusive","dt-titled-box","dt-notes-lockup","get","untrusted-html","dt-link-list","dt-room","dt-lockup"]]',moduleName:"desktop-music-app/components/dt-room-segment.hbs",isStrictMode:!1})
let T=(r=Ember.computed.alias("args.segment.fcKind"),n=Ember.computed.or("args.segment.fcMetadata.lockupStyle","args.segment.lockupStyle"),o=Ember.computed.equal("lockupStyle","Default+Copy"),l=Ember.computed.equal("lockupStyle","Exclusive"),a=Ember.computed.equal("lockupStyle","Exclusive+Copy"),s=Ember.computed.equal("lockupStyle","Spotlight"),u=Ember.computed.equal("lockupStyle","Spotlight+ShortCopy"),c=Ember.computed.equal("fcKind","404"),d=Ember.computed.equal("fcKind","405"),p=Ember.computed.equal("lockupStyle","Grid"),m=Ember.computed.equal("lockupStyle","Grid+ShortCopy"),b=class extends t.default{constructor(...e){var t,i,r
super(...e),r={width:700,height:395,crop:"sr"},(i="exclusiveArtworkConfig")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,S(this,"fcKind",f,this),S(this,"lockupStyle",h,this),S(this,"isDefaultWithCopy",g,this),S(this,"isExclusive",y,this),S(this,"isExclusiveWithCopy",v,this),S(this,"isSpotlight",k,this),S(this,"isSpotlightWithCopy",w,this),S(this,"isWhitetailTextBox",E,this),S(this,"isWhitetailLinkBox",_,this),S(this,"isGrid",P,this),S(this,"isGridWithCopy",O,this)}get isSongGrid(){return this.args.segment.lockups.some((e=>"songs"===e.type))}get processedLinks(){var e,t
return null===(e=this.args.segment)||void 0===e||null===(t=e.children)||void 0===t?void 0:t.map((e=>({label:e.title,url:e.url,target:e.target})))}get segmentPlaylist(){var e,t,i
const r=null===(e=this.args.segment)||void 0===e||null===(t=e.lockups)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.kind
if(-1!==["song","uploadedAudio","musicVideo"].indexOf(r)){return Ember.get(this,"args.segment.lockups").map((e=>Ember.get(e,"rawJSON")||e))}}get filteredSegmentLockups(){const{lockups:e}=this.args.segment
return e.filter(i.hasAnyAttributes)}},f=z(b.prototype,"fcKind",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=z(b.prototype,"lockupStyle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=z(b.prototype,"isDefaultWithCopy",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(b.prototype,"isExclusive",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(b.prototype,"isExclusiveWithCopy",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(b.prototype,"isSpotlight",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(b.prototype,"isSpotlightWithCopy",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(b.prototype,"isWhitetailTextBox",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(b.prototype,"isWhitetailLinkBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(b.prototype,"isGrid",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(b.prototype,"isGridWithCopy",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b)
e.default=T,Ember._setComponentTemplate(j,T)})),define("desktop-music-app/components/dt-room-uber",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"y3aW3JdI",block:'[[[10,0],[14,0,"room-uber"],[15,5,[28,[37,0],[[28,[37,1],["background-color: #",[30,1,["masterArt","bgColor"]]],null]],null]],[12],[1,"\\n    "],[8,[39,2],null,[["@lazyLoad","@artwork","@artworkProfile","@crop"],[false,[30,1,["masterArt"]],"uber","sr"]],null],[1,"\\n"],[13],[1,"\\n"]],["@uber"],false,["trusted-css","concat","amp-artwork/music"]]',moduleName:"desktop-music-app/components/dt-room-uber.hbs",isStrictMode:!1})
class r extends t.default{get hasUber(){const e=this.args.uber
return e&&Object.keys(e).length>0}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/dt-room",["exports","desktop-music-app/utils/artwork-config","desktop-music-app/components/mixed-aspect-ratios","desktop-music-app/utils/musickit-data","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a
function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"Qe2WZj4U",block:'[[[44,[[28,[37,1],["meta/room"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[11,0],[16,0,[29,["room ",[30,2],[52,[30,3]," room--songs-list"],[52,[30,4]," radio-stations-list"],[52,[30,0,["hasMixedAspectRatios"]]," dt-shelf--mixed-ratio"]]]],[17,5],[4,[38,4],[[30,0,["observeChildrenRatios"]]],null],[4,[38,5],[[30,0,["stopObservingChildrenRatios"]]],null],[12],[1,"\\n    "],[8,[39,6],[[16,0,[52,[30,3],"padded songs","grid"]]],[["@title","@subtitle","@selectionId","@selectOptions","@changeSelection"],[[30,6],[30,7],[30,8],[30,9],[30,10]]],[["default"],[[[[1,"\\n"],[41,[30,3],[[[1,"            "],[8,[39,7],null,[["@songs","@hasMoreTracks","@isFetchingTracks","@fetchMoreTracks","@showArtworkForSong","@showRanking"],[[30,11],[30,12],[30,13],[30,0,["loadNext"]],true,[30,14]]],null],[1,"\\n"]],[]],[[[42,[28,[37,9],[[28,[37,9],[[30,0,["availableLockups"]]],null]],null],null,[[[44,[[28,[37,10],[[30,16],18],null]],[[[41,[30,4],[[[1,"                        "],[8,[39,11],null,[["@lockup","@index","@showRanking","@ranking"],[[30,15],[30,16],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"uploadedAudio"],null],[[[1,"                        "],[8,[39,14],null,[["@config","@lockup","@lazyLoad","@actionMenu","@responsive","@playlist","@showRanking","@ranking"],["uploading-brand-name",[30,15],[30,17],true,true,[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"movie"],null],[[[1,"                        "],[8,[39,14],null,[["@sectionName","@config","@artworkConfig","@lockup","@lazyLoad","@actionMenu","@responsive","@playlist","@showRanking","@ranking"],[[30,2],"title-year",[52,[28,[37,15],[[30,2],"moreToSee"],null],[30,0,["moreToSeeMovieArtworkConfig"]],[30,0,["movieArtworkConfig"]]],[30,15],[30,17],true,true,[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"uploadedVideo"],null],[[[1,"                        "],[8,[39,14],null,[["@lockup","@lazyLoad","@actionMenu","@responsive","@playlist","@showRanking","@ranking"],[[30,15],[30,17],true,true,[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"radioStation"],null],[[[1,"                        "],[8,[39,14],null,[["@lockup","@lazyLoad","@config","@actionMenu","@responsive","@playlist","@showRanking","@ranking"],[[30,15],[30,17],[52,[28,[37,15],[[30,2],"moreToHear"],null],"radio-station-standard-notes"],true,true,[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"tvEpisode"],null],[[[1,"                        "],[8,[39,14],null,[["@lockup","@lazyLoad","@config","@artworkConfig","@actionMenu","@responsive","@playlist","@showRanking","@ranking"],[[30,15],[30,17],[52,[28,[37,15],[[30,2],"moreToSee"],null],"artist-name"],[52,[28,[37,15],[[30,2],"moreToSee"],null],[30,0,["moreToSeeTVEpisodeArtworkConfig"]],[30,0,["tvEpisodeArtworkConfig"]]],true,true,[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,15,["kind"]],"socialProfile"],null],[[[1,"                        "],[8,[39,16],null,[["@lockup","@lazyLoad","@showUserHandle","@showRanking","@ranking"],[[30,15],[30,17],true,[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n"]],[]],[[[1,"                        "],[8,[39,14],null,[["@lockup","@config","@actionMenu","@responsive","@lazyLoad","@playlist","@showRanking","@ranking"],[[30,15],[52,[30,0,["sectionShouldDisplayYear"]],"title-year"],true,true,[30,17],[30,0,["playlist"]],[30,14],[28,[37,12],[[30,16],1],null]]],null],[1,"\\n                    "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[17]]]],[15,16]],null],[1,"\\n            "],[8,[39,17],null,[["@hasMore","@isFetching","@action"],[[30,12],[30,13],[30,0,["loadNext"]]]],[["default"],[[[[1,"\\n                "],[8,[39,18],null,null,[["default"],[[[[1,"\\n                    "],[8,[39,19],null,null,null],[1,"\\n                "]],[]]]]],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n"],[13]],["roomMeta","@sectionName","@isSongList","@isRadioStations","&attrs","@title","@subtitle","@selectionId","@selectOptions","@changeSelection","@lockups","@hasMoreLockups","@isFetchingLockups","@showRanking","lockup","index","lazyLoad"],false,["let","present","seo-tags","if","did-insert","will-destroy","dt-titled-box","dt-songs-list","each","-track-array","gte","dt-featured-lockup","inc","is-equal","dt-lockup","eq","lockups/social-profile","infinite-scroll","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/components/dt-room.hbs",isStrictMode:!1})
let c=(o=Ember.inject.service,l=class extends i.default{constructor(...e){var i,r,n,o
super(...e),i=this,r="i18n",o=this,(n=a)&&Object.defineProperty(i,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),s(this,"moreToSeeMovieArtworkConfig",t.ARTWORK_PRESETS.responsiveLockup.moreToSeeMovie),s(this,"moreToSeeTVEpisodeArtworkConfig",t.ARTWORK_PRESETS.responsiveLockup.moreToSeeTVEpisode),s(this,"tvEpisodeArtworkConfig",t.ARTWORK_PRESETS.responsiveLockup.tvEpisode)}get loadNext(){return this.args.loadNext||(()=>{})}get resolvedLockups(){return(this.args.lockups||[]).filter((e=>!1!==Ember.get(e,"isLoaded")))}get availableLockups(){return this.resolvedLockups.filter((e=>!0!==Ember.get(e,"isRejected")&&(0,r.hasAnyAttributes)(e)))}get playlist(){const e=Ember.get(this,"args.lockups.firstObject.kind")
if(-1!==["song","uploadedAudio","musicVideo"].indexOf(e)){return this.args.lockups.map((e=>Ember.get(e,"rawJSON")||e))}}get sectionShouldDisplayYear(){const e=this.args.sectionName
return-1!==n.SHOW_YEAR_SECTION_NAMES.indexOf(e)}},d=l.prototype,p="i18n",m=[o],b={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(b).forEach((function(e){h[e]=b[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=m.slice().reverse().reduce((function(e,t){return t(d,p,e)||e}),h),f&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(f):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(d,p,h),h=null),a=h,l)
var d,p,m,b,f,h
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/dt-select",["exports","@glimmer/component"],(function(e,t){var i,r,n,o
function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"XtUolvl3",block:'[[[10,0],[14,0,"select"],[12],[1,"\\n    "],[11,"select"],[24,0,"select__select typography-title-3-tall"],[4,[38,0],["change",[30,0,["selectionChange"]]],null],[4,[38,1],[[30,0,["setSelectElement"]]],null],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,1]],null]],null],null,[[[1,"            "],[10,"option"],[15,2,[30,2,["selectId"]]],[15,"selected",[28,[37,4],[[30,2,["selectId"]],[30,3]],null]],[15,"disabled",[30,2,["disabled"]]],[15,"hidden",[30,2,["hidden"]]],[12],[1,[30,2,["name"]]],[13],[1,"\\n"]],[2]],null],[1,"    "],[13],[1,"\\n    "],[1,[28,[35,5],["chevron-down"],[["class"],["select__chevron"]]]],[1,"\\n    "],[11,1],[24,0,"select__width-calculator typography-title-3-tall"],[24,"aria-hidden","true"],[4,[38,1],[[30,0,["setWidthCalculatorElement"]]],null],[12],[13],[1,"\\n"],[13]],["@options","opt","@selectionId"],false,["on","did-insert","each","-track-array","loose-eq","svg-jar"]]',moduleName:"desktop-music-app/components/dt-select.hbs",isStrictMode:!1})
let u=(i=Ember._action,r=Ember._action,n=Ember._action,a((o=class extends t.default{constructor(...e){super(...e),l(this,"selectElement",null),l(this,"widthCalculatorElement",null)}setSelectElement(e){this.selectElement=e}setWidthCalculatorElement(e){Ember.set(this,"widthCalculatorElement",e),this.setWidth()}setWidth(){const e=this.selectElement,t=this.widthCalculatorElement
t.textContent=this.args.options[e.selectedIndex].name,e.style.width=`${t.clientWidth+13}px`}selectionChange(e){this.setWidth()
const t=e.target.value
this.args.changeSelection(t)}}).prototype,"setSelectElement",[i],Object.getOwnPropertyDescriptor(o.prototype,"setSelectElement"),o.prototype),a(o.prototype,"setWidthCalculatorElement",[r],Object.getOwnPropertyDescriptor(o.prototype,"setWidthCalculatorElement"),o.prototype),a(o.prototype,"selectionChange",[n],Object.getOwnPropertyDescriptor(o.prototype,"selectionChange"),o.prototype),o)
e.default=u,Ember._setComponentTemplate(s,u)})),define("desktop-music-app/components/dt-shelf",["exports","@amp/ember-ui-media-shelf/components/items-resolver","desktop-music-app/config","desktop-music-app/config/environment","desktop-music-app/components/mixed-aspect-ratios","desktop-music-app/utils/editorial-video","desktop-music-app/utils/current-show","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/musickit-data"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"kcDYkev/",block:'[[[11,0],[16,0,[29,["dt-shelf",[52,[30,0,["hasMixedAspectRatios"]]," dt-shelf--mixed-ratio"]]]],[16,"aria-label",[30,1]],[17,2],[4,[38,1],[[30,0,["monitorShelfVisibility"]]],null],[4,[38,1],[[30,0,["observeChildrenRatios"]]],null],[4,[38,2],[[30,0,["stopObservingChildrenRatios"]]],null],[12],[1,"\\n"],[41,[48,[30,18]],[[[1,"        "],[8,[39,4],null,[["@id","@key","@items","@grid","@rows","@disablePaddleHover","@verticalPadding","@headerComponent"],[[30,3],[30,4],[30,0,["promisifiedItems"]],[30,5],[30,0,["groupCount"]],[30,6],[30,0,["verticalPadding"]],[52,[28,[37,5],[[30,1],[30,7]],null],[50,[30,0,["headerComponent"]],0,null,[["title","seeAllComponent"],[[30,1],[50,[30,7],0,null,[["dataMetricsLocation","displaySeeAllLink"],[[30,0,["seeAllMetricsLocation"]],[30,0,["displaySeeAllLink"]]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[44,[[50,[30,8,["body"]],0,null,null]],[[[1,"                "],[8,[30,9],null,null,[["default"],[[[[1,"\\n                    "],[18,18,[[28,[37,9],null,[["listItem","items","itemGroups","playlist","itemComponent","lockupGroups","metricsParentLocation"],[[30,10,["listItem"]],[30,10,["items"]],[28,[37,10],null,[["items","chunkLength"],[[30,10,["items"]],[30,0,["groupCount"]]]]],[30,0,["playlist"]],[30,0,["itemComponent"]],[28,[37,10],null,[["items","chunkLength"],[[30,10,["items"]],[30,0,["groupCount"]]]]],[30,0,["metricsParentLocation"]]]]]]],[1,"\\n                "]],[10]]]]],[1,"\\n"]],[9]]],[1,"\\n"],[44,[[50,[30,8,["nav"]],0,null,null]],[[[1,"                "],[8,[30,11],null,null,null],[1,"\\n"]],[11]]],[1,"        "]],[8]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],null,[["@id","@items","@grid","@rows","@disablePaddleHover","@verticalPadding","@headerComponent","@itemComponent"],[[30,3],[30,0,["promisifiedItems"]],[30,5],[30,0,["groupCount"]],[30,6],[30,0,["verticalPadding"]],[52,[28,[37,5],[[30,1],[30,7]],null],[50,[30,0,["headerComponent"]],0,null,[["title","seeAllComponent"],[[30,1],[50,[30,7],0,null,[["dataMetricsLocation","displaySeeAllLink"],[[30,0,["seeAllMetricsLocation"]],[30,0,["displaySeeAllLink"]]]]]]]]],[50,[30,0,["itemComponent"]],0,null,[["metricsParentLocation","playlist","actionMenu"],[[30,0,["metricsParentLocation"]],[30,0,["playlist"]],true]]]]],[["default"],[[[[1,"\\n            "],[8,[30,12,["body"]],null,null,[["default"],[[[[1,"\\n"],[41,[30,13,["resolver","isFulfilled"]],[[[42,[28,[37,12],[[28,[37,12],[[30,13,["items"]]],null]],null],null,[[[1,"                        "],[8,[30,13,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,14],[30,15],[28,[37,13],[[30,13,["items"]],[30,15]],null]]],[["default"],[[[[1,"\\n                            "],[8,[39,14],null,[["@id","@index","@renderContent"],[[30,14,["id"]],[30,15],[28,[37,15],[[30,15],[30,0,["initialRender"]]],null]]],[["default"],[[[[1,"\\n                                "],[8,[30,16,["itemComponent"]],null,[["@ranking"],[[28,[37,16],[[30,15],1],null]]],null],[1,"\\n                            "]],[]]]]],[1,"\\n                        "]],[16]]]]],[1,"\\n"]],[14,15]],null]],[]],null],[1,"            "]],[13]]]]],[1,"\\n"],[44,[[50,[30,12,["nav"]],0,null,null]],[[[1,"                "],[8,[30,17],null,null,null],[1,"\\n"]],[17]]],[1,"        "]],[12]]]]],[1,"\\n"]],[]]],[13],[1,"\\n"]],["@title","&attrs","@id","@key","@grid","@disablePaddleHover","@seeAllComponent","msg","BodyComponent","body","NavComponent","shelf","body","item","index","hash","NavComponent","&default"],false,["if","did-insert","will-destroy","has-block","media-shelf-grid","or","component","let","yield","hash","chunk","each","-track-array","is-last-array-index","render-in-viewport","lte","inc"]]',moduleName:"desktop-music-app/components/dt-shelf.hbs",isStrictMode:!1}),{gridConfig:P}=i.default,O=["song","uploadedVideo","uploadedAudio","musicVideo","tvEpisode","movie"]
let S=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._action,m=Ember._action,b=Ember._action,v=new WeakMap,f=class extends n.default{constructor(...e){super(...e),k(this,"media",h,this),k(this,"inViewport",g,this),k(this,"editorialVideoShelfMonitor",y,this),w(this,"verticalPadding","20px"),w(this,"headerComponent","dt-shelf/header"),v.set(this,{writable:!0,value:void 0})}monitorShelfVisibility(e){if(this.args.monitorShelfVisibility){const{onEnter:t,onExit:i}=this.inViewport.watchElement(e)
t(this.didEnterViewport),i(this.didExitViewport)}}didEnterViewport(e){if(this.visibleShelfId)return
const t=Ember.guidFor(this)
this.visibleShelfId=`visibleShelf_${t}`
const i=this.items.reduce(((e,t)=>{let i
if((0,o.isAShowItemWithEditorialVideo)(t,Ember.get)){const r=t.upcomingShows.toArray()
i=(0,l.findCurrentShow)(r).id,e.push({id:i,didStartPlayback:false})}return(Ember.get(t,"editorialVideo")||Ember.get(t,"editorialCard.editorialVideo"))&&(i=t.id,e.push({id:i,didStartPlayback:false})),e}),[])
if(i.length>0){const t={id:this.visibleShelfId,shelfElement:e.target,shelfPlaybackItems:i}
this.editorialVideoShelfMonitor.addToCurrentVisibleShelves(t)}}didExitViewport(){this.visibleShelfId&&(this.editorialVideoShelfMonitor.removeFromCurrentVisibleShelves(this.visibleShelfId),this.visibleShelfId=null)}get groupCount(){const e=this.args.groupCount??1
return"number"!=typeof e?parseInt(e,10):e}get items(){return this.args.items??[]}get initialRender(){return Math.min(Math.ceil(r.default.APP.SHELF_ITEMS_UNTIL_LAZY*this.groupCount/((this.args.shelfIndex||2)/2)),r.default.APP.SHELF_ITEMS_UNTIL_LAZY)}get promisifiedItems(){if(!this.items)return[]
return this.items.filter(Boolean).filter(s.hasAnyAttributes).map((e=>{var i
return e.then?e.catch(t.rejectHandler):(!e.kind&&e.playParams&&(e.kind=e.playParams.kind),e.parentShelfIndex=this.args.shelfIndex,"musicSuperHero"===(null===(i=e.editorialCard)||void 0===i?void 0:i.kind)&&(e.parentShelfTitle=this.args.title),e)}))}get itemComponent(){return this.args.itemComponent?this.args.itemComponent:this.groupCount?"dt-list-lockup":"dt-lockup"}get displaySeeAllLink(){if(!P[this.args.grid])return!1
const[e="medium"]=this.media.matches
let t=P[this.args.grid][e]
t||(t=P[this.args.grid].large)
return this.items.length>t}get playlist(){if(["recently-played","recently-viewed"].includes(this.args.moduleType))return[]
const{items:e=[]}=this
return e.filter((e=>O.includes(Ember.get(e,"kind")))).map((e=>Ember.get(e,"rawJSON"))).filter(Boolean)}get seeAllMetricsLocation(){return[JSON.parse((0,a.default)(["seeAllLocation"])),this.metricsParentLocation]}get metricsParentLocation(){const{id:e,shelfIndex:t=0,title:i}=this.args
return JSON.parse((0,a.default)(["seeAllParentLocation"],{id:e,locationPosition:t,name:i}))}},h=E(f.prototype,"media",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(f.prototype,"inViewport",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(f.prototype,"editorialVideoShelfMonitor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E(f.prototype,"monitorShelfVisibility",[p],Object.getOwnPropertyDescriptor(f.prototype,"monitorShelfVisibility"),f.prototype),E(f.prototype,"didEnterViewport",[m],Object.getOwnPropertyDescriptor(f.prototype,"didEnterViewport"),f.prototype),E(f.prototype,"didExitViewport",[b],Object.getOwnPropertyDescriptor(f.prototype,"didExitViewport"),f.prototype),f)
e.default=S,Ember._setComponentTemplate(_,S)})),define("desktop-music-app/components/dt-shelf/header",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"W2KKdap6",block:'[[[10,"h2"],[14,0,"shelf-title"],[12],[1,[30,1]],[13],[1,"\\n"],[41,[30,2],[[[1,"    "],[46,[30,2],null,null,null],[1,"\\n"]],[]],null]],["@title","@seeAllComponent"],false,["if","component"]]',moduleName:"desktop-music-app/components/dt-shelf/header.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-show-credits",["exports","@glimmer/component","desktop-music-app/utils/constants","desktop-music-app/utils/format-duration","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_
function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function O(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const S=Ember.HTMLBars.template({id:"Ibr5AHFO",block:'[[[10,0],[14,0,"show-credits"],[12],[1,"\\n    "],[10,0],[14,0,"alt-section breakout-box"],[12],[1,"\\n"],[41,[30,0,["hasCastAndCrew"]],[[[1,"            "],[8,[39,1],[[24,0,"cast-and-crew"]],[["@title"],[[28,[37,2],["FUSE.OC.Crew.Title"],null]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"grid"],[12],[1,"\\n"],[41,[30,0,["hasCastAndHosts"]],[[[1,"                        "],[10,0],[14,0,"col1"],[12],[1,"\\n"],[41,[30,1,["cast","length"]],[[[1,"                                "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                    "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Actors"],null]],[1," "],[13],[1,"\\n                                    "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["cast"]]],null]],null],null,[[[1,"                                            "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,2,["name"]]],[1," "],[13],[1,"\\n"]],[2]],null],[1,"                                    "],[13],[1,"\\n                                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["guests","length"]],[[[1,"                                "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                    "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Guests"],null]],[1," "],[13],[1,"\\n                                    "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["guests"]]],null]],null],null,[[[1,"                                            "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,3,["name"]]],[1," "],[13],[1,"\\n"]],[3]],null],[1,"                                    "],[13],[1,"\\n                                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hosts","length"]],[[[1,"                                "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                    "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Hosts"],null]],[1," "],[13],[1,"\\n                                    "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["hosts"]]],null]],null],null,[[[1,"                                            "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,4,["name"]]],[1," "],[13],[1,"\\n"]],[4]],null],[1,"                                    "],[13],[1,"\\n                                "],[13],[1,"\\n"]],[]],null],[1,"                        "],[13],[1,"\\n"]],[]],null],[1,"                    "],[10,0],[14,0,"col2"],[12],[1,"\\n"],[41,[30,1,["directors","length"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Directors"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["directors"]]],null]],null],null,[[[1,"                                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,5,["name"]]],[1," "],[13],[1,"\\n"]],[5]],null],[1,"                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["screenwriters","length"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Screenwriters"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["screenwriters"]]],null]],null],null,[[[1,"                                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,6,["name"]]],[1," "],[13],[1,"\\n"]],[6]],null],[1,"                                "],[13],[1,"\\n                            "],[13],[1,"\\n\\n"]],[]],null],[1,"\\n"],[41,[30,1,["producers","length"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Crew.Producers"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1,["producers"]]],null]],null],null,[[[1,"                                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,7,["name"]]],[1," "],[13],[1,"\\n"]],[7]],null],[1,"                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                "],[13],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,8],[[[1,"            "],[8,[39,5],[[24,0,"divider-before"]],[["@id","@grid","@title","@items","@itemComponent","@groupCount"],["show-credits","H",[30,0,["artistsHeader"]],[30,8],[52,[30,0,["isExpanded"]],"dt-list-lockup","dt-lockup"],[52,[30,0,["isExpanded"]],2]]],null],[1,"\\n"]],[]],null],[1,"        "],[10,0],[14,0,"grid"],[12],[1,"\\n"],[41,[30,0,["hasInformation"]],[[[1,"                "],[8,[39,1],[[24,0,"actors-title-box col"]],[["@title"],[[28,[37,2],["FUSE.OC.Information.title"],null]]],[["default"],[[[[1,"\\n\\n                    "],[10,0],[14,0,"section"],[12],[1,"\\n"],[41,[30,9,["studioName"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Studio"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,9,["studioName"]]],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["releaseYear"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Released"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,0,["releaseYear"]]],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,9,["genreNames"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Genre"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                                        "],[10,1],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,0,["genreNames"]]],[1," "],[13],[1,"\\n                                    "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["runtime"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Runtime"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                                        "],[1,[30,0,["runtime"]]],[1,"\\n                                    "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["format"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Format"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                                        "],[1,[30,0,["format"]]],[1,"\\n                                    "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,9,["hasHD"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.HD"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,[28,[35,2],["FUSE.OC.Information.HDVersions"],null]],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,9,["contentRatingsBySystem"]],[[[1,"                            "],[10,0],[14,0,"section-group ratings"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Information.Rating"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                                        "],[10,0],[14,0,"content-rating-description"],[12],[1,"\\n                                            "],[1,[30,0,["contentRatingDescription"]]],[1,"\\n                                        "],[13],[1,"\\n                                        "],[10,0],[14,0,"copyrights"],[12],[1," "],[1,[30,9,["copyright"]]],[1," "],[13],[1,"\\n                                    "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n\\n\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasLanguages"]],[[[1,"                "],[8,[39,1],[[24,0,"actors-title-box col"]],[["@title"],[[28,[37,2],["FUSE.OC.Languages.title"],null]]],[["default"],[[[[1,"\\n\\n                    "],[10,0],[14,0,"section"],[12],[1,"\\n"],[41,[30,10,["primary"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Languages.Primary"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[30,10,["primary","name"]]],[1," "],[8,[39,6],null,[["@language"],[[30,10,["primary"]]]],null],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[41,[30,10,["additional"]],[[[1,"                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"typography-footnote subhead"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Languages.Additional"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,10,["additional"]]],null]],null],null,[[[1,"                                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                                            "],[1,[30,11,["name"]]],[1,"\\n                                            "],[8,[39,6],null,[["@language"],[[30,11]]],null],[1,"\\n                                        "],[13],[1,"\\n"]],[11]],null],[1,"                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasAccessibility"]],[[[1,"                "],[8,[39,1],[[24,0,"actors-title-box col"]],[["@title"],[[28,[37,2],["FUSE.OC.Accessibility.title"],null]]],[["default"],[[[[1,"\\n\\n"],[41,[30,10,["primary","hasSDH"]],[[[1,"                        "],[10,0],[14,0,"section section--accessibility"],[12],[1,"\\n                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"accessibility-icon typography-caption-1-bold-short"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Languages.hasSDH"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Accessibility.Product.SDH"],null]],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,10,["primary","hasAudioDescription"]],[[[1,"                        "],[10,0],[14,0,"section section--accessibility"],[12],[1,"\\n                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"accessibility-icon typography-caption-1-bold-short"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Languages.hasAD"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Accessibility.Product.AD"],null]],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,10,["primary","hasClosedCaptioning"]],[[[1,"                        "],[10,0],[14,0,"section section--accessibility"],[12],[1,"\\n                            "],[10,0],[14,0,"section-group"],[12],[1,"\\n                                "],[10,0],[14,0,"accessibility-icon typography-caption-1-bold-short"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Languages.hasClosedCaptioning"],null]],[1," "],[13],[1,"\\n                                "],[10,0],[14,0,"list-items"],[12],[1,"\\n                                    "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1," "],[1,[28,[35,2],["FUSE.OC.Accessibility.Product.CC"],null]],[1," "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@credits","actor","guest","host","director","screenwriter","producer","@artists","@product","@languages","additional"],false,["if","dt-titled-box","t","each","-track-array","dt-shelf","dt-language-extras"]]',moduleName:"desktop-music-app/components/dt-show-credits.hbs",isStrictMode:!1})
let z=(o=Ember.inject.service,l=Ember.computed.or("args.product.{studioName,releaseDate,genreNames,HD,contentRatingsBySystem}"),a=Ember.computed.or("args.product.credits.{cast,hosts,guests}.length"),s=Ember.computed.or("args.product.credits.{cast,hosts,guests,directors,screenwriters,producers}.length"),u=Ember.computed.or("args.languages.primary.hasSDH","args.languages.primary.hasAudioDescription","args.languages.primary.hasClosedCaptioning"),c=Ember.computed("args.movieCredits.[]"),d=Ember.computed("args.product.genreNames.[]"),p=Ember.computed("args.languages.{primary,additional}"),m=Ember.computed("args.product.rating.{advisories,name}"),b=Ember.computed("args.product.{kind,name}"),f=Ember.computed("i18n.locale","args.product.releaseDate"),h=Ember.computed("args.product.duration"),g=Ember.computed("args.product.offers.firstObject.assets.firstObject.aspectRatio"),y=class extends t.default{constructor(...e){super(...e),P(this,"i18n",v,this),P(this,"hasInformation",k,this),P(this,"hasCastAndHosts",w,this),P(this,"hasCastAndCrew",E,this),P(this,"hasAccessibility",_,this)}get actors(){const[e]=Ember.get(this,"args.movieCredits").filter((e=>"Actors"===e.roleName))
return Ember.get(e,"credits")}get genreNames(){return Ember.get(this,"args.product.genreNames").join(", ")}get hasLanguages(){const e=Ember.get(this,"args.languages.primary"),t=Ember.get(this,"args.languages.additional")
return Ember.isPresent(e)||Ember.isPresent(t)}get contentRatingDescription(){const e=Ember.get(this,"args.product.rating.advisories")
return`${Ember.get(this,"args.product.rating.name")} ${e?e.join(", "):""}`}get artistsHeader(){const e=Ember.get(this,"args.product.kind"),t=this.i18n
let i=""
switch(e){case"tvEpisode":i=t.t("FUSE.OC.Episode.ArtistsOnThisEpisode")
break
case"movie":i=t.t("FUSE.OC.Show.ArtistsOnThisMovie")
break
case"showBrand":i=t.t("FUSE.OC.Show.ArtistsOnThisShow")
break
default:{const e={name:Ember.String.capitalize(Ember.get(this,"args.product.name"))}
i=t.t("FUSE.OC.Show.ArtistsOn",e)}}return i}get releaseYear(){const e=Ember.get(this,"args.product.releaseDate")
return(0,n.getYearFromDate)(e,this.i18n)}get runtime(){const e=Ember.get(this,"args.product.duration")
return(0,r.formatDuration)(e)}get format(){let e=null
const t=Ember.get(this,"args.product.offers.firstObject.assets")
if(t){const[i]=t.filter((e=>Ember.isPresent(Ember.get(e,"aspectRatio"))))
switch(Ember.get(i,"aspectRatio")){case"16:9":e=this.i18n.t("FUSE.OC.Format.Widescreen")
break
case"4:3":e=this.i18n.t("FUSE.OC.Format.Standard")
break
case"1:1":e=this.i18n.t("FUSE.OC.Format.Square")
break
default:e=this.i18n.t("FUSE.OC.Format.Standard")}}return e}},v=O(y.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(y.prototype,"hasInformation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(y.prototype,"hasCastAndHosts",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=O(y.prototype,"hasCastAndCrew",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=O(y.prototype,"hasAccessibility",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(y.prototype,"actors",[c],Object.getOwnPropertyDescriptor(y.prototype,"actors"),y.prototype),O(y.prototype,"genreNames",[d],Object.getOwnPropertyDescriptor(y.prototype,"genreNames"),y.prototype),O(y.prototype,"hasLanguages",[p],Object.getOwnPropertyDescriptor(y.prototype,"hasLanguages"),y.prototype),O(y.prototype,"contentRatingDescription",[m],Object.getOwnPropertyDescriptor(y.prototype,"contentRatingDescription"),y.prototype),O(y.prototype,"artistsHeader",[b],Object.getOwnPropertyDescriptor(y.prototype,"artistsHeader"),y.prototype),O(y.prototype,"releaseYear",[f],Object.getOwnPropertyDescriptor(y.prototype,"releaseYear"),y.prototype),O(y.prototype,"runtime",[h],Object.getOwnPropertyDescriptor(y.prototype,"runtime"),y.prototype),O(y.prototype,"format",[g],Object.getOwnPropertyDescriptor(y.prototype,"format"),y.prototype),y)
e.default=z,Ember._setComponentTemplate(S,z)})),define("desktop-music-app/components/dt-show-episode",["exports","@glimmer/component","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants","desktop-music-app/utils/route"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"S9jP+GAV",block:'[[[11,0],[24,0,"shelf-grid__list-item"],[16,"aria-label",[28,[37,0],["AMWEB.ContentA.Comma.ContentB"],[["contentA","contentB"],[[30,0,["episodeTrack"]],[30,1,["name"]]]]]],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"episode lockup"],[12],[1,"\\n        "],[8,[39,2],null,[["@lazyLoad","@artwork","@artworkProfile","@alt"],[false,[30,0,["artwork"]],"brick",[30,1,["name"]]]],[["default"],[[[[1,"\\n\\n            "],[10,0],[14,0,"lockup__controls"],[12],[1,"\\n                "],[8,[39,3],[[24,0,"small"]],[["@playbackContainer","@playlist","@lockup"],[[30,1],[30,2],[28,[37,4],null,[["id","kind","type","name","previews"],[[30,1,["id"]],[30,1,["kind"]],[30,1,["type"]],[30,1,["name"]],[30,1,["previews"]]]]]]],null],[1,"\\n            "],[13],[1,"\\n\\n"],[1,"\\n        "]],[]]]]],[1,"\\n\\n        "],[10,0],[14,0,"episode-text"],[12],[1,"\\n            "],[10,2],[14,0,"typography-subhead clr-lt-gray-blue color-label-secondary"],[12],[1,[30,0,["episodeTrack"]]],[13],[1,"\\n            "],[10,2],[14,0,"typography-body-tall product-name"],[12],[1,[30,1,["name"]]],[13],[1,"\\n            "],[10,2],[14,0,"typography-callout description clr-lt-gray-blue color-label-secondary clamp-3"],[12],[1,[30,0,["episodeDescription"]]],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@episode","@playlist"],false,["t","on","amp-artwork/music","dt-play-button","hash"]]',moduleName:"desktop-music-app/components/dt-show-episode.hbs",isStrictMode:!1})
let w=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.computed("seasonNumber","args.episode.{name,trackNumber,releaseDate,videoSubType}","i18n.locale"),u=Ember.computed.or("args.episode.description.standard","args.episode.description.short"),c=Ember.computed.or("args.episode.screenshots","args.episode.previews.firstObject.artwork"),d=Ember._action,p=class extends t.default{constructor(...e){super(...e),y(this,"router",m,this),y(this,"storefront",b,this),y(this,"i18n",f,this),y(this,"episodeDescription",h,this),y(this,"artwork",g,this)}get episodeTrack(){let e=""
const t=Ember.get(this,"args.seasonNumber")
switch(Ember.get(this,"args.episode.videoSubType")){case"tvtrailer":e=Ember.get(this,"i18n").t("FUSE.OC.Show.Trailer.cap")
break
case"episode":if(Ember.isEmpty(t)){const t=Ember.get(this,"args.episode.releaseDate"),n=new i.default(t)
e=(0,i.format)(n,Ember.get(this,"i18n"),r.RELEASE_DATE_FORMAT).toLocaleUpperCase()}else{const i={seasonNumber:t,trackNumber:Ember.get(this,"args.episode.trackNumber")}
e=Ember.get(this,"i18n").t("FUSE.OC.Show.EpisodeTrack.cap",i)}break
case"episodebonus":case"seasonbonus":{const t={name:Ember.get(this,"args.episode.name")}
e=Ember.get(this,"i18n").t("FUSE.OC.Episode.Extra",t)
break}default:{const t=Ember.get(this,"args.episode.releaseDate"),n=new i.default(t)
e=(0,i.format)(n,Ember.get(this,"i18n"),r.RELEASE_DATE_FORMAT).toLocaleUpperCase()
break}}return e}onClick(){const e=Ember.get(this,"args.episode.url"),{_routerMicrolib:t}=this.router._router,i=(0,n.normalizeURL)(e,t,this.storefront.resolvedStorefront);(0,n.transitionToRoute)(this.router,i)}},m=v(p.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(p.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"episodeTrack",[s],Object.getOwnPropertyDescriptor(p.prototype,"episodeTrack"),p.prototype),h=v(p.prototype,"episodeDescription",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"artwork",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"onClick",[d],Object.getOwnPropertyDescriptor(p.prototype,"onClick"),p.prototype),p)
e.default=w,Ember._setComponentTemplate(k,w)})),define("desktop-music-app/components/dt-show",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/logger","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"dR0vnamH",block:'[[[44,[[28,[37,1],["show"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/show"],[["model"],[[30,2]]]]],[[[1,"            "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n    "],[8,[39,3],null,[["@artwork","@artworkCrop","@product","@showName"],[[30,2,["editorialArtwork"]],"sr",[30,2],false]],null],[1,"\\n\\n    "],[11,0],[24,0,"show-description"],[4,[38,4],[[30,0,["setupLastPlayedEpisode"]],[30,2]],null],[12],[1,"\\n"],[41,[30,2,["standardDescription"]],[[[1,"            "],[8,[39,6],null,[["@isEmphasized","@class","@content","@lines","@maxLines"],[true,"brand-bio clr-lt-gray-blue color-label-secondary typ-subhead typography-title-3-tall",[28,[37,7],[[30,2,["standardDescription"]]],null],2,3]],null],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"ratings clr-lt-gray-blue color-label-secondary"],[12],[1,"\\n            "],[10,1],[14,0,"typ-label typography-body-tall"],[12],[1,[30,2,["genreName"]]],[13],[1,"\\n            "],[10,1],[14,0,"typ-label typography-body-tall"],[12],[1,[30,2,["releaseYear"]]],[13],[1,"\\n\\n"],[41,[30,2,["rating"]],[[[1,"                "],[8,[39,8],null,[["@rating"],[[30,2,["rating"]]]],null],[1,"\\n"]],[]],null],[1,"\\n            "],[8,[39,9],null,[["@attributes","@hasHD"],[[28,[37,10],[[30,2,["languageAttributes"]],"0"],null],[30,2,["hasHD"]]]],null],[1,"\\n        "],[13],[1,"\\n\\n\\n        "],[10,0],[14,0,"controls"],[12],[1,"\\n"],[1,"                "],[8,[39,11],[[24,0,"typography-body-semibold-tall icon-wrapper"]],[["@isActionButton","@locKeyActionText","@url"],[true,[28,[37,12],["AMWeb.openInMusic"],null],[30,2,["webClientLaunchURL"]]]],null],[1,"\\n"],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[42,[28,[37,14],[[28,[37,14],[[30,2,["seasons"]]],null]],null],null,[[[1,"        "],[10,0],[14,0,"section-divider"],[12],[13],[1,"\\n        "],[8,[39,15],[[24,0,"episode-swoosh"]],[["@id","@grid","@title","@items"],[[29,["show-episodes-",[30,4,["id"]]]],"B",[30,4,["title"]],[30,4,["episodes"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,14],[[28,[37,14],[[30,4,["episodes"]]],null]],null],null,[[[44,[[28,[37,16],[[30,4,["episodes"]],[30,7]],null]],[[[1,"                    "],[8,[30,5,["listItem"]],null,[["@index","@isLastItem"],[[30,7],[30,8]]],[["default"],[[[[1,"\\n                        "],[8,[39,17],null,[["@playlist","@episode","@seasonNumber"],[[28,[37,18],[[30,0,["getPlayConfig"]],[30,4,["episodes"]]],null],[30,6],[30,4,["seasonNumber"]]]],null],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[8]]]],[6,7]],null],[1,"        "]],[5]]]]],[1,"\\n"]],[4]],null],[1,"\\n"],[41,[30,2,["bonusContent"]],[[[1,"        "],[10,0],[14,0,"section-divider"],[12],[13],[1,"\\n        "],[8,[39,15],[[24,0,"episode-swoosh"]],[["@id","@grid","@title","@items"],["show-bonus-content","C",[28,[37,12],["FUSE.OC.TrailerAndBonus"],null],[30,2,["bonusContent"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,14],[[28,[37,14],[[30,2,["bonusContent"]]],null]],null],null,[[[44,[[28,[37,16],[[30,2,["bonusContent"]],[30,11]],null]],[[[1,"                    "],[8,[30,9,["listItem"]],null,[["@index","@isLastItem"],[[30,11],[30,12]]],[["default"],[[[[1,"\\n                        "],[8,[39,17],null,[["@playlist","@episode"],[[28,[37,18],[[30,0,["getPlayConfig"]],[30,2,["bonusContent"]]],null],[30,10]]],null],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[12]]]],[10,11]],null],[1,"        "]],[9]]]]],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,19],null,[["@product","@credits","@artists","@languages","@movieCredits"],[[30,2],[30,2,["credits"]],[30,2,["musicArtists"]],[30,2,["languages"]],[30,2,["movieCredits"]]]],null],[1,"\\n"]],[2]]]],["@model","show","showMeta","season","dts","episode","index","isLast","dts","bonus","index","isLast"],false,["let","present","seo-tags","dt-uber","did-insert","if","dt-truncate","untrusted-html","dt-content-rating","dt-language-attributes","get","web-to-native-cta/apple-music","t","each","-track-array","dt-shelf","is-last-array-index","dt-show-episode","map","dt-show-credits"]]',moduleName:"desktop-music-app/components/dt-show.hbs",isStrictMode:!1})
let w=(o=Ember.inject.service,l=Ember.inject.service("itunes-playback"),a=Ember.inject.service,s=Ember.inject.service,u=Ember._tracked,c=Ember._action,d=Ember._action,p=class extends t.default{constructor(){super(...arguments),y(this,"user",m,this),y(this,"playback",b,this),y(this,"fastboot",f,this),y(this,"i18n",h,this),y(this,"lastPlayed",g,this),this.fastboot.isFastBoot}setupLastPlayedEpisode(e,[t]){}getLastBookmarkedEpisodeId(){const{episodeMap:e,playback:t}=this,i=Object.keys(e)
return i.length?new Promise(((e,r)=>{t.playbackPosition(i,(t=>{if(!t)return void r("Client does not support playbackPosition()")
const i=t.sortBy("bookmarkDate"),n=i[i.length-1]
e(n.id)}))})):Promise.reject("No episodes available to get lastPlayed from")}get lastPlayedEpisodeLabel(){const e=Ember.get(this,"lastPlayed.season.seasonNumber")||1,t=Ember.get(this,"lastPlayed.episode.trackNumber")||1
return this.i18n.t("FUSE.OC.Show.playbackDescription",{seasonNumber:e,episodeNumber:t})}setLastPlayedEpisode(e={}){let t
return t=e.adamid?Promise.resolve(e.adamid):this.getLastBookmarkedEpisodeId(),t.then((e=>this.episodeMap[e])).then((e=>this.lastPlayed=e)).catch((e=>(0,r.error)(e)))}getPlayConfig(e){const t=e||{}
return{id:t.id,type:t.type,kind:t.kind,name:t.name,previews:t.previews}}},m=v(p.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"playback",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(p.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"lastPlayed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"setupLastPlayedEpisode",[c],Object.getOwnPropertyDescriptor(p.prototype,"setupLastPlayedEpisode"),p.prototype),v(p.prototype,"getPlayConfig",[d],Object.getOwnPropertyDescriptor(p.prototype,"getPlayConfig"),p.prototype),p)
e.default=w,Ember._setComponentTemplate(k,w)})),define("desktop-music-app/components/dt-shuffle-button",["exports","@glimmer/component","desktop-music-app/utils/get-metrics-json"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"OlDjjUVa",block:'[[[11,"button"],[17,1],[24,0,"shuffle-button action-button typography-body-semibold-tall button-reset"],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[16,"aria-label",[30,0,["ariaLabel"]]],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[1,[28,[35,1],["FUSE.Shuffle"],null]],[1,"\\n"],[13]],["&attrs"],false,["on","t"]]',moduleName:"desktop-music-app/components/dt-shuffle-button.hbs",isStrictMode:!1})
let p=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),u(this,"playback",a,this),u(this,"i18n",s,this)}get dataMetricsClick(){const{songsContainer:e}=this.args,{id:t="",url:r=""}=e
return(0,i.default)(["shuffle"],{id:t,url:r})}get ariaLabel(){return this.i18n.t("FUSE.Shuffle")}get playbackConfig(){const{songsContainer:e,songsList:t}=this.args
return{items:t.map((e=>{let t={}
return Ember.get(e,"rawJSON")?t=Ember.get(e,"rawJSON"):Object.keys(e).forEach((i=>{t[i]=Ember.get(e,i)})),t})),container:(null==e?void 0:e.rawJSON)||{id:e.id}}}async onClick(){const{playbackConfig:e}=this
e.shuffle=!0,await this.playback.play(e)}},a=c(l.prototype,"playback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"onClick",[o],Object.getOwnPropertyDescriptor(l.prototype,"onClick"),l.prototype),l)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/dt-social-networks-list",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"QtfLnd5u",block:'[[[18,4,null],[1,"\\n"],[10,"ul"],[14,0,"social-network-connections item-list small"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,1]],null]],null],null,[[[41,[51,[30,2,["isAuthenticated"]]],[[[1,"            "],[10,"li"],[14,0,"social-network-connection item"],[12],[1,"\\n                "],[10,0],[14,0,"vertical-center-container artwork-container"],[12],[1,"\\n                    "],[8,[39,4],[[24,0,"media-artwork-v2--find-friends-social-icon"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile"],[false,[30,2,["artwork"]],"find-friends-social-icon",[28,[37,5],["socialProfile"],null]]],null],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"vertical-center-container grow"],[12],[1,"\\n                    "],[10,1],[14,0,"network-name"],[12],[1,[30,2,["nameForDisplay"]]],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"vertical-center-container button-container"],[12],[1,"\\n                    "],[11,"button"],[24,0,"link-button"],[16,"aria-label",[28,[37,6],["FUSE.Social.LinkedAccounts.SignIn.AriaLabel"],[["socialNetworkName"],[[30,2,["nameForDisplay"]]]]]],[4,[38,7],["click",[28,[37,8],[[30,3],[30,2]],null]],null],[12],[1,"\\n                        "],[1,[28,[35,6],["FUSE.Social.LinkedAccounts.SignIn"],null]],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[2]],null],[13],[1,"\\n"]],["@networks","network","@connectNetwork","&default"],false,["yield","each","-track-array","unless","amp-artwork/music","fallback-artwork","t","on","fn"]]',moduleName:"desktop-music-app/components/dt-social-networks-list.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-social-upsell-banner",["exports","desktop-music-app/utils/feature-flags","@glimmer/component"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"SVZvPWdB",block:'[[[41,[30,0,["shouldShow"]],[[[1,"    "],[10,0],[14,0,"social-upsell-banner"],[12],[1,"\\n        "],[11,"button"],[24,0,"close-button"],[16,"aria-label",[28,[37,1],["Close"],null]],[4,[38,2],["click",[30,0,["dismissUpsell"]]],null],[12],[13],[1,"\\n\\n        "],[10,0],[14,0,"social-upsell container"],[12],[1,"\\n            "],[10,0],[14,0,"social-upsell__content left-block"],[12],[1,"\\n                "],[10,"h3"],[14,0,"social-upsell__title typography-large-title-emphasized"],[12],[1,"\\n                    "],[1,[30,0,["headerText"]]],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,2],[14,0,"social-upsell__copy color-label-secondary typography-title-3-tall"],[12],[1,"\\n                    "],[1,[30,0,["description"]]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"social-upsell__action left-right"],[12],[1,"\\n                "],[11,"button"],[24,0,"button action"],[4,[38,2],["click",[30,0,["startSocialOnboarding"]]],null],[12],[1,"\\n                    "],[1,[28,[35,1],["FUSE.Social.DT.DiscoverFriends.CTA"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[],false,["if","t","on"]]',moduleName:"desktop-music-app/components/dt-social-upsell-banner.hbs",isStrictMode:!1})
let k=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service("social-onboarding-upsell"),l=Ember.inject.service,a=Ember._action,s=Ember.computed.bool("socialUpsell.displaySocialUpsell"),u=Ember.computed("user.{isLoggedIn,userDSID}","displaySocialUpsell"),c=Ember._action,d=class extends i.default{constructor(...e){super(...e),g(this,"user",p,this),g(this,"i18n",m,this),g(this,"socialUpsell",b,this),g(this,"modal",f,this),g(this,"displaySocialUpsell",h,this)}startSocialOnboarding(){this.modal.open("social-onboarding.index")}get shouldShow(){return!1}get headerText(){const{i18n:e}=this,{messageType:t}=this.args
let i=e.t("FUSE.Social.DT.DiscoverFriends.Header")
return"album"===t?i=e.t("FUSE.Social.DT.AlbumUpsell.Header"):"playlist"===t&&(i=e.t("FUSE.Social.DT.PlaylistUpsell.Header")),i}get description(){const{i18n:e}=this,{messageType:t}=this.args
let i=e.t("FUSE.Social.DT.DiscoverFriends.Description")
return"album"===t?i=e.t("FUSE.Social.DT.AlbumUpsell.Description"):"playlist"===t&&(i=e.t("FUSE.Social.DT.PlaylistUpsell.Description")),i}dismissUpsell(){Ember.set(this,"shouldShow",!1)
const e=this.user.userDSID
localStorage.setItem(`music-app-pref:hasSelectedSetupSocialLater-${e}`,!0)}},p=y(d.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(d.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(d.prototype,"socialUpsell",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(d.prototype,"modal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(d.prototype,"startSocialOnboarding",[a],Object.getOwnPropertyDescriptor(d.prototype,"startSocialOnboarding"),d.prototype),h=y(d.prototype,"displaySocialUpsell",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(d.prototype,"shouldShow",[u],Object.getOwnPropertyDescriptor(d.prototype,"shouldShow"),d.prototype),y(d.prototype,"dismissUpsell",[c],Object.getOwnPropertyDescriptor(d.prototype,"dismissUpsell"),d.prototype),d)
e.default=k,Ember._setComponentTemplate(v,k)}))
define("desktop-music-app/components/dt-songs-list-row",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/format-duration","desktop-music-app/utils/format-lyric-snippet","desktop-music-app/utils/logger","desktop-music-app/utils/feature-flags","desktop-music-app/services/local-state","desktop-music-app/helpers/get-year-from-date","desktop-music-app/utils/media-type","desktop-music-app/decorators/playback-states"],(function(e,t,i,r,n,o,l,a,s,u,c){var d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V
function K(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function W(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Y=Ember.HTMLBars.template({id:"e3dN1UhK",block:'[[[11,0],[16,0,[29,["songs-list-row",[52,[30,0,["isSelected"]]," songs-list-row--selected selected"],[52,[30,0,["isPlaying"]]," songs-list-row--playing playing"],[52,[30,0,["isPaused"]]," songs-list-row--paused paused"],[52,[30,0,["isLoading"]]," songs-list-row--loading loading"],[52,[30,0,["isDisabled"]]," songs-list-row--disabled disabled"],[52,[30,0,["isPartOfWorkslist"]]," songs-list-row--part-of-work"],[52,[30,0,["isDecorated"]]," songs-list-row--decorated decorated"],[52,[30,0,["isPreview"]]," songs-list-row--web-preview web-preview"],[52,[30,0,["songSecondLine"]]," songs-list-row--two-lines"],[52,[30,0,["isPartOfDisclist"]]," songs-list-row--disc"]," songs-list-row--",[30,0,["mediaKind"]]]]],[24,"role","row"],[24,"data-metrics-click",""],[24,"tabindex","0"],[16,"data-row",[30,1]],[4,[38,1],[[30,0,["setScrollPosition"]]],null],[4,[38,2],[[30,0,["assignFocus"]],[30,0,["isSelected"]]],null],[4,[38,3],["contextmenu",[30,0,["onContextMenu"]]],null],[4,[38,3],["dblclick",[30,0,["onDoubleClick"]]],null],[4,[38,3],["mousedown",[30,0,["onMouseDown"]]],null],[4,[38,3],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["columnData"]]],null]],null],null,[[[1,"        "],[10,0],[15,0,[29,["songs-list__col songs-list__col--",[30,2,["key"]]," typography-body"]]],[12],[1,"\\n"],[41,[30,2,["isHeartAndStar"]],[[[1,"                "],[8,[39,6],null,[["@isLoved","@popularity","@toggleLoved"],[[30,0,["isLoved"]],[30,2,["data"]],[30,0,["toggleLoved"]]]],null],[1,"\\n"]],[]],[[[41,[30,2,["isSong"]],[[[1,"                "],[10,0],[14,0,"songs-list-row__song-container"],[12],[1,"\\n"],[41,[28,[37,7],[[30,3,["kind"]],"musicVideo"],null],[[[1,[28,[35,8],["track_video"],[["class"],["songs-list-row__video-glyph"]]]]],[]],null],[1,"                    "],[10,0],[14,0,"songs-list-row__song-wrapper"],[12],[1,"\\n                        "],[10,0],[15,0,[29,["songs-list-row__song-name-wrapper",[52,[30,0,["isExplicit"]]," songs-list-row__song-name-wrapper--explicit"]]]],[14,"dir","auto"],[12],[1,"\\n"],[41,[30,0,["isExplicit"]],[[[1,"                                "],[10,0],[14,0,"songs-list-row__explicit-wrapper"],[12],[1,"\\n                                    "],[11,0],[24,"tabindex","-1"],[24,"role","checkbox"],[24,"dir","auto"],[16,"aria-checked",[28,[37,9],[[30,0,["isSelected"]],""],null]],[24,0,"songs-list-row__song-name"],[4,[38,3],["mousedown",[30,0,["onTrackNameMouseDown"]]],null],[4,[38,3],["focus",[30,0,["onTrackNameFocus"]]],null],[12],[1,[30,2,["data"]]],[13],[1,"\\n                                    "],[8,[39,10],[[24,0,"songs-list-row__badge"]],null,null],[1,"\\n                                "],[13],[1,"\\n"]],[]],[[[1,"                                "],[11,0],[24,"tabindex","-1"],[24,"role","checkbox"],[16,"aria-checked",[28,[37,9],[[30,0,["isSelected"]],""],null]],[24,0,"songs-list-row__song-name"],[4,[38,3],["mousedown",[30,0,["onTrackNameMouseDown"]]],null],[4,[38,3],["focus",[30,0,["onTrackNameFocus"]]],null],[12],[1,[30,2,["data"]]],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[28,[37,11],[[28,[37,12],[[30,0,["isDisabled"]]],null],[30,0,["songSecondLine","length"]]],null],[[[1,"                                "],[10,0],[14,0,"songs-list-row__by-line"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["songSecondLine"]]],null]],null],null,[[[1,"                                        "],[10,1],[12],[41,[30,4,["url"]],[[[1,"                                                "],[10,3],[15,6,[30,4,["url"]]],[14,0,"songs-list-row__link"],[14,"tabindex","-1"],[14,"dir","auto"],[12],[1,[30,4,["name"]]],[13]],[]],[[[41,[30,4,["links"]],[[[44,[[28,[37,14],[[28,[37,15],["name",[30,4,["links"]]],null]],null]],[[[42,[28,[37,5],[[28,[37,5],[[30,4,["links"]]],null]],null],null,[[[1,"                                                        "],[10,3],[15,6,[30,7,["url"]]],[14,0,"songs-list-row__link"],[14,"tabindex","-1"],[14,"dir","auto"],[12],[1,[30,7,["name"]]],[13],[1,[28,[35,16],[[30,8],[30,6]],null]]],[7,8]],null]],[6]]]],[]],[[[10,1],[12],[1,[30,4,["name"]]],[13]],[]]]],[]]],[13],[1,"\\n"]],[4,5]],null],[1,"                                "],[13],[1,"\\n"]],[]],null],[1,"                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"songs-list-row__index-wrapper"],[12],[1,"\\n                        "],[10,0],[14,0,"songs-list-row__song-index"],[12],[1,"\\n"],[41,[30,9],[[[41,[30,0,["isMusicVideo"]],[[[1,"                                    "],[8,[39,17],[[24,0,"media-artwork-v2--tracklist"]],[["@artwork","@artworkProfile","@lazyLoad","@alt"],[[30,3,["artwork"]],"musicVideoTracklist",[28,[37,18],[[30,1],15],null],[30,3,["name"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["isDecorated"]],[[[1,"                                        "],[10,0],[14,0,"songs-list-row__artwork-wrapper"],[12],[1,"\\n                                            "],[8,[39,17],[[24,0,"media-artwork-v2--tracklist-decorated"]],[["@artwork","@artworkProfile","@fallbackProfile"],[[30,3,["artwork"]],"songTracklistDecorated",[28,[37,19],[[30,3]],null]]],null],[1,"\\n                                        "],[13],[1,"\\n                                        "],[10,0],[14,0,"songs-list-row__decoration"],[12],[1,"\\n                                            "],[8,[39,17],[[24,0,"songs-list-row__profile-image media-artwork-v2--round media-artwork-v2--no-border media-artwork-v2--tracklist-profile-image"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@alt"],[[28,[37,20],[[30,3,["socialProfileBadge","avatarArtwork"]],[30,3,["socialProfileBadge","artwork"]]],null],"profile-badge-tracklist",[28,[37,19],[[30,3,["socialProfileBadge"]]],null],[30,3,["socialProfileBadge"]],[30,3,["title"]]]],null],[1,"\\n                                        "],[13],[1,"\\n"]],[]],[[[1,"                                        "],[8,[39,17],[[24,0,"media-artwork-v2--tracklist"]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad"],[[30,3,["artwork"]],"songTracklist",[28,[37,19],[[30,3]],null],[28,[37,18],[[30,1],15],null]]],null],[1,"\\n"]],[]]]],[]]],[1,"\\n                                "],[10,0],[15,0,[29,["artwork-overlay songs-list-row__artwork-overlay ",[52,[30,0,["isDecorated"]],"songs-list-row__artwork-overlay--decorated"]]]],[12],[1,"\\n                                    "],[8,[39,21],[[24,0,"songs-list-row__play-button songs-list-row__play-button--artwork"]],[["@lockup","@isDisabled","@isPlaying","@songsContainer","@playlist","@isListItem","@disabledTabKey","@maybeLoadingSpinner"],[[30,3],[30,0,["isDisabled"]],[30,0,["isPlaying"]],[30,10],[30,11],true,true,[30,0,["maybeLoadingSpinner"]]]],null],[1,"\\n\\n                                    "],[8,[39,22],[[16,0,[29,["songs-list__playback-bars",[52,[30,0,["isDecorated"]]," songs-list__playback-bars--decorated"]]]]],null,null],[1,"\\n                                "],[13],[1,"\\n\\n"]],[]],[[[1,"                                "],[10,1],[14,0,"typography-body-tall songs-list-row__column-data"],[12],[1,[28,[35,23],[[30,3,["trackNumber"]]],null]],[13],[1,"\\n                                "],[8,[39,21],[[24,0,"songs-list-row__play-button songs-list-row__play-button--no-artwork"]],[["@lockup","@isDisabled","@isPlaying","@songsContainer","@playlist","@disabledTabKey","@isListItem","@maybeLoadingSpinner"],[[30,3],[30,0,["isDisabled"]],[30,0,["isPlaying"]],[30,10],[30,11],true,true,[30,0,["maybeLoadingSpinner"]]]],null],[1,"\\n\\n                                "],[8,[39,22],[[24,0,"songs-list__playback-bars"]],null,null],[1,"\\n"]],[]]],[1,"                        "],[13],[1,"\\n                    "],[13],[1,"\\n\\n"],[41,[30,12],[[[1,"                        "],[10,0],[14,0,"songs-list-row__rank"],[12],[1,[28,[35,23],[[30,13]],null]],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],[[[41,[30,2,["links","length"]],[[[1,"                "],[10,0],[14,0,"songs-list__song-link-wrapper"],[14,"dir","auto"],[12],[1,"\\n"],[44,[[28,[37,14],[[28,[37,15],["name",[30,2,["links"]]],null]],null]],[[[42,[28,[37,5],[[28,[37,5],[[30,2,["links"]]],null]],null],null,[[[1,"                            "],[10,3],[15,6,[30,15,["url"]]],[14,0,"songs-list-row__link"],[14,"tabindex","-1"],[12],[1,[30,15,["name"]]],[13],[1,[28,[35,16],[[30,16],[30,14]],null]]],[15,16]],null]],[14]]],[1,"                "],[13],[1,"\\n"]],[]],[[[41,[30,2,["link"]],[[[1,"                "],[10,0],[14,0,"songs-list__song-link-wrapper"],[14,"dir","auto"],[12],[1,"\\n                    "],[10,1],[12],[1,"\\n"],[1,"                        "],[10,3],[15,6,[30,2,["link"]]],[14,0,"songs-list-row__link"],[14,"tabindex","-1"],[12],[1,[30,2,["data"]]],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[30,2,["isTime"]],[[[1,"                "],[10,0],[14,0,"songs-list-row__controls"],[12],[1,"\\n"],[41,[28,[37,12],[[30,0,["isPreview"]]],null],[[[1,"                            "],[10,0],[14,0,"songs-list-row__add-to-library"],[12],[1,"\\n                                "],[8,[39,24],null,[["@lockup","@isListItem","@onAdd"],[[30,3],true,[30,17]]],null],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[41,[51,[30,0,["isDisabled"]]],[[[41,[30,2,["data"]],[[[1,"                            "],[10,0],[14,0,"songs-list-row__length"],[12],[1,"\\n                                "],[1,[30,2,["data"]]],[1,"\\n                            "],[13],[1,"\\n"]],[]],null]],[]],null],[41,[51,[30,0,["isDisabled"]]],[[[1,"                            "],[10,0],[14,0,"songs-list-row__context-menu"],[12],[1,"\\n                                "],[8,[39,26],[[24,0,"songs-list-row__context-menu"]],[["@lockup","@listenTo","@stopClickPropagation","@onAdd","@onDelete"],[[30,3],"click",true,[30,17],[30,18]]],[["default"],[[[[1,"\\n"],[1,"                                    "],[1,[28,[35,8],["ellipsis"],[["class"],["songs-list-row__context-menu-glyph"]]]],[1,"\\n                                "]],[]]]]],[1,"\\n                            "],[13],[1,"\\n"]],[]],null],[41,[30,0,["isPreview"]],[[[1,"                            "],[8,[39,27],null,[["@lockup","@isOnTracklist","@songsList","@songsContainer"],[[30,3],true,[30,11],[30,3]]],null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],[[[1,"                "],[8,[39,28],null,[["@value"],[[30,2,["data"]]]],null],[1,"\\n            "]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"        "],[13],[1,"\\n"]],[2]],null],[13],[1,"\\n"]],["@rowIndex","col","@song","attribution","index","delimiters","link","index","@showArtworkForSong","@songsContainer","@playbackList","@showRanking","@ranking","delimiters","link","index","@onAdd","@onDelete"],false,["if","did-insert","did-update","on","each","-track-array","dt-love-or-popular","eq","svg-jar","concat","explicit-badge","and","not","let","get-list-delimiters","map-by","object-at","amp-artwork/music","gte","fallback-artwork","or","dt-play-button","dt-playback-bars","localize-number","dt-web-add-to-library","unless","dt-media-contextual-menu","preview-button","bidi-text"]]',moduleName:"desktop-music-app/components/dt-songs-list-row.hbs",isStrictMode:!1}),q={width:78,height:44,crop:"bb"},G={width:30,height:30},$={width:44,height:44}
let Q=(d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service("itunes-menus"),f=Ember.inject.service("music-features"),h=Ember.inject.service("drag-and-drop"),g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember._action,_=Ember._action,P=Ember._action,O=Ember._action,S=Ember._action,z=Ember._action,j=Ember._action,T=Ember._action,M=Ember._action,(0,c.default)((x=class extends t.default{constructor(...e){super(...e),K(this,"user",D,this),K(this,"i18n",L,this),K(this,"locale",A,this),K(this,"menus",I,this),K(this,"features",N,this),K(this,"dnd",R,this),K(this,"accessibility",F,this),K(this,"itunesLove",U,this),K(this,"musickit",B,this),K(this,"musickitData",H,this),K(this,"localState",V,this)}get songGenre(){return Ember.get(this,"args.song.genres.firstObject.name")}get isRestricted(){return this.isExplicit&&this.user.restrictExplicitContent}get isExplicit(){return(0,u.isExplicit)(this.args.song)}get isPartOfWorkslist(){const{song:e}=this.args
return e.workName&&e.partOfWorkslist}get isPartOfDisclist(){const{song:e}=this.args
return e.discNumber&&e.partOfDisclist}get isDecorated(){return!!Ember.get(this,"args.song.socialProfileBadge")}get isLoved(){const e=Ember.get(this,"args.song.id")
return this.localState.get(e,a.TYPE_RATING)===a.ITEM_WAS_LOVED}get dragImage(){if(this.args.showArtworkForSong)return this.node.querySelector(".media-artwork-v2 picture")}get mediaKind(){return(0,u.getKind)(this.args.song)}get artworkInfo(){let e=$
return"musicVideo"===Ember.get(this,"args.song.kind")&&(e=q),this.isDecorated&&(e=G),{url:Ember.get(this,"args.song.artwork.url"),width:e.width,height:e.height,crop:e.crop}}get isMusicVideo(){return"musicVideo"===this.args.song.kind}get columnData(){return(Ember.get(this,"args.songsListColumns")||[]).map((e=>{const t={key:e}
switch(e){case"heart-and-star":t.isHeartAndStar=!0,t.id=Ember.get(this,"args.song.id"),t.data=Ember.get(this,"args.song.popularity")
break
case"index":t.isIndex=!0,t.data=Ember.get(this,"args.song.trackNumber")
break
case"song":t.isSong=!0,t.data=Ember.get(this,"args.song.nameOfPiece")||Ember.get(this,"args.song.name"),this.args.isPlaylist&&(t.links=this.artistLinks)
break
case"time":t.isTime=!0,t.id=Ember.get(this,"args.song.id"),t.data=Ember.get(this,"songDuration")
break
case"genre":t.data=Ember.get(this,"songGenre")
break
case"artist":t.links=this.artistLinks
break
case"album":t.data=Ember.get(this,"args.song.collectionName")||Ember.get(this,"args.song.albumName"),t.link=Ember.get(this,"args.song.url")
break
case"composer":t.data=Ember.get(this,"args.song.composer.name"),t.link=Ember.get(this,"args.song.composer.url")
break
case"year":t.data=Ember.get(this,"songReleaseYear")
break
case"shim":t.isShim=!0}return t}))}get isSelected(){return!this.isDisabled&&this.args.isSelectedSong}get isDisabled(){return!(Ember.get(this,"args.song.playParams")||Ember.get(this,"args.song.previews.length")&&Ember.get(this,"args.songsContainer.availableForPurchaseOnly"))||this.isRestricted}get subsOffer(){const e=Ember.get(this,"args.song.offers")
return null==e?void 0:e.reverse().find((e=>"subscription"===e.type))}get songDuration(){const{song:e}=this.args
if(e.formattedDuration)return e.formattedDuration
{const t=Ember.get(e,"offers.firstObject.assets")||[],[i]=t.map((e=>Ember.get(e,"duration"))).filter((e=>!!e))
return(0,r.formatDuration)(i,this.locale.locale)}}get songName(){return Ember.get(this,"args.song.nameOfPiece")||Ember.get(this,"args.song.name")}get songSecondLine(){const e=this.i18n
let t=[]
const{song:i}=this.args,{artistName:r,attribution:o,showComposer:l,composer:a}=i,s=Ember.get(this,"args.albumArtist")
a&&(l||o)&&a.name!==r&&t.push({name:this.i18n.t("FUSE.SongsList.ByComposerName",{composerName:a.name}),url:a.url})
const u=Ember.get(i,"lyricSnippet")
if(u){t=[{name:Ember.String.htmlSafe(e.t("FUSE.DT.Search.LyricsColon.Raw",{lyricSnippet:(0,n.default)(u,60)}))}]}const c=Ember.get(this,"args.songsListColumns")
var d
null!=c&&c.includes("artist")||s&&r===s||null!==(d=this.artistLinks)&&void 0!==d&&d.length&&t.push({links:this.artistLinks})
const p=Ember.get(i,"collectionId"),m=Ember.get(i,"collectionName")
var b;(null!=c&&c.includes("album")||!m||!p||p===this.args.albumId||t.push({name:m}),!t.length&&r&&r!==s)&&(null!==(b=this.artistLinks)&&void 0!==b&&b.length&&t.push({links:this.artistLinks}))
return t}get artistLinks(){let e=[]
const{artists:t,artistUrl:i,artistName:r}=this.args.song
return Array.isArray(t)&&t.length&&(e=t.filter((e=>!!e.name))),e.length?e:r?[{name:r,url:i}]:void 0}get songReleaseYear(){const e=Ember.get(this,"args.song.releaseDate")
return(0,s.getYearFromDate)(e,this.i18n)}get isPreview(){var e,t
return!this.user.isSubscribed||(null===(e=this.musickit.instance)||void 0===e?void 0:e.previewOnly)||(null===(t=this.args.songsContainer)||void 0===t?void 0:t.availableForPurchaseOnly)}_handleClick(e,t){var i,r
null===(i=(r=this.args).handlePlayEvent)||void 0===i||i.call(r,e,t)}assignFocus(){this.isSelected&&this.node.focus()}_handleScrollTo(){this.node.scrollIntoView({block:"center"})}setScrollPosition(e){this.node=e,this.isSelected&&this.args.scrollToSelectedSong&&(0,i.debounceTask)(this,"_handleScrollTo",1e3)}onMouseDown(){this.dnd.draggedTrack=this}onTrackNameFocus(){this.accessibility.trackFocus()}onTrackNameMouseDown(){this.accessibility.trackMouseDown()}onClick(e){if(this.isDisabled&&!this.isExplicit||e.target.classList.contains("songs-list-row__link"))return
e.stopPropagation()
let t=e
var r,n;((this.accessibility.clickChainBeginsWithFocus||this.accessibility.clickChainOnlyHasMouseDown)&&(t=new MouseEvent("click",{...e,metaKey:!0})),"A"!==e.target.tagName)&&(null===(r=(n=this.args).selectRow)||void 0===r||r.call(n,this.args.song,t));(0,i.debounceTask)(this,"_handleClick",this.args.song,100),this.accessibility.resetClickChain()}onDoubleClick(e){this.isDisabled&&!this.isExplicit||e.target.classList.contains("songs-list-row__link")||(e.stopPropagation(),(0,i.debounceTask)(this,"_handleClick",this.args.song,e,100))}onContextMenu(e){}async toggleLoved(){const e=Ember.get(this,"args.song.id"),t=this.isLoved
this.localState.set(e,a.TYPE_RATING,t?a.ITEM_WAS_NEUTRALIZED:a.ITEM_WAS_LOVED)
try{t?await this.musickitData.deleteRating({songs:e}):await this.musickitData.putRating({songs:e},1)}catch(i){return this.localState.set(e,a.TYPE_RATING,t?a.ITEM_WAS_LOVED:a.ITEM_WAS_NEUTRALIZED),void(0,o.log)(`toggleLoved failed - ${i}`)}}willDestroy(...e){this.accessibility.resetClickChain(),super.willDestroy(...e)}},D=W(x.prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=W(x.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=W(x.prototype,"locale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=W(x.prototype,"menus",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=W(x.prototype,"features",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=W(x.prototype,"dnd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=W(x.prototype,"accessibility",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=W(x.prototype,"itunesLove",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=W(x.prototype,"musickit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=W(x.prototype,"musickitData",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=W(x.prototype,"localState",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(x.prototype,"assignFocus",[E],Object.getOwnPropertyDescriptor(x.prototype,"assignFocus"),x.prototype),W(x.prototype,"setScrollPosition",[_],Object.getOwnPropertyDescriptor(x.prototype,"setScrollPosition"),x.prototype),W(x.prototype,"onMouseDown",[P],Object.getOwnPropertyDescriptor(x.prototype,"onMouseDown"),x.prototype),W(x.prototype,"onTrackNameFocus",[O],Object.getOwnPropertyDescriptor(x.prototype,"onTrackNameFocus"),x.prototype),W(x.prototype,"onTrackNameMouseDown",[S],Object.getOwnPropertyDescriptor(x.prototype,"onTrackNameMouseDown"),x.prototype),W(x.prototype,"onClick",[z],Object.getOwnPropertyDescriptor(x.prototype,"onClick"),x.prototype),W(x.prototype,"onDoubleClick",[j],Object.getOwnPropertyDescriptor(x.prototype,"onDoubleClick"),x.prototype),W(x.prototype,"onContextMenu",[T],Object.getOwnPropertyDescriptor(x.prototype,"onContextMenu"),x.prototype),W(x.prototype,"toggleLoved",[M],Object.getOwnPropertyDescriptor(x.prototype,"toggleLoved"),x.prototype),C=x))||C)
e.default=Q,Ember._setComponentTemplate(Y,Q)})),define("desktop-music-app/components/dt-songs-list",["exports","@glimmer/component","desktop-music-app/utils/are-all-music-videos","desktop-music-app/utils/key-events","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/trusted-css","desktop-music-app/config/environment","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V
function K(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function W(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Y=Ember.HTMLBars.template({id:"KnLsXjSa",block:'[[[11,0],[16,0,[29,["songs-list",[52,[30,1]," songs-list--has-works"]," ",[52,[30,2]," songs-list--has-disc"]," typography-callout",[52,[30,3],[28,[37,1],[" ",[30,3]],null]]]]],[24,"role","grid"],[4,[38,2],["keydown",[30,0,["onKeyDown"]]],null],[4,[38,2],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,3],[[30,0,["subscribeClickOutside"]]],null],[4,[38,4],[[30,0,["unsubscribeClicksOutside"]]],null],[4,[38,4],[[30,0,["clearCurrentSelectedSongs"]]],null],[4,[38,5],null,[["dragData","dragImage"],[[30,0,["dragData"]],[30,0,["dnd","draggedTrack","dragImage"]]]]],[12],[1,"\\n\\n    "],[11,0],[24,0,"songs-list__header"],[24,"aria-hidden","true"],[4,[38,3],[[30,0,["setupHeaderObserver"]]],null],[4,[38,4],[[30,0,["teardownHeaderObserver"]]],null],[12],[1,"\\n"],[42,[28,[37,7],[[28,[37,7],[[30,0,["columnHeaders"]]],null]],null],null,[[[1,"            "],[10,0],[14,"role","columnheader"],[15,0,[29,["songs-list__col songs-list__col--",[30,4,["key"]]," songs-list__header-col songs-list__header-col--",[30,4,["key"]]," typography-callout-emphasized"]]],[12],[1,"\\n"],[41,[28,[37,8],[[30,4,["key"]],"time"],null],[[[1,"                    "],[10,0],[14,0,"songs-list__header-col-label songs-list__header-col-label--time"],[12],[1,"\\n                        "],[1,[30,4,["label"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,0],[14,0,"songs-list__header-col-label"],[12],[1,"\\n                        "],[1,[30,4,["label"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"]],[4]],null],[1,"    "],[13],[1,"\\n    "],[10,0],[14,0,"songs-list__right-click-target"],[15,5,[30,0,["rightClickTargetStyle"]]],[12],[13],[1,"\\n"],[41,[30,1],[[[42,[28,[37,7],[[28,[37,7],[[30,1]],null]],null],null,[[[41,[30,5,["workNameHeader"]],[[[1,"                "],[10,0],[14,0,"songs-list__works-list"],[14,"role","rowgroup"],[12],[1,"\\n                    "],[8,[39,9],null,[["@workHeader"],[[30,5,["workNameHeader"]]]],null],[1,"\\n\\n"],[42,[28,[37,7],[[28,[37,7],[[30,5,["pieces"]]],null]],null],null,[[[1,"                        "],[8,[39,10],null,[["@albumId","@albumArtist","@song","@playbackList","@songsListColumns","@scrollToSelectedSong","@isSelectedSong","@showArtworkForSong","@songsContainer","@isPlaylist","@handlePlayEvent","@selectRow","@rightClickTarget","@handleRightClickAnchor","@onAdd","@onDelete","@isMultiSelecting","@showRanking","@ranking"],[[30,8],[30,9],[30,7],[30,0,["playbackList"]],[30,0,["songsListColumns"]],[30,10],[28,[37,11],[[30,7,["id"]],[30,0,["currentSelectedSongIds"]]],null],[30,11],[30,12],[30,13],[30,0,["handlePlayEvent"]],[30,0,["selectRow"]],[30,0,["rightClickTarget"]],[30,0,["handleRightClickAnchor"]],[30,14],[30,15],[30,0,["isMultiSelecting"]],[30,16],[28,[37,12],[[30,6],1],null]]],null],[1,"\\n"]],[7]],null],[1,"                "],[13],[1,"\\n"]],[]],[[[1,"                "],[8,[39,10],null,[["@albumId","@albumArtist","@song","@playbackList","@songsListColumns","@scrollToSelectedSong","@isSelectedSong","@showArtworkForSong","@songsContainer","@isPlaylist","@handlePlayEvent","@selectRow","@rightClickTarget","@handleRightClickAnchor","@onAdd","@onDelete","@isMultiSelecting","@showRanking","@ranking"],[[30,8],[30,9],[30,5],[30,0,["playbackList"]],[30,0,["songsListColumns"]],[30,10],[28,[37,11],[[30,5,["id"]],[30,0,["currentSelectedSongIds"]]],null],[30,11],[30,12],[30,13],[30,0,["handlePlayEvent"]],[30,0,["selectRow"]],[30,0,["rightClickTarget"]],[30,0,["handleRightClickAnchor"]],[30,14],[30,15],[30,0,["isMultiSelecting"]],[30,16],[28,[37,12],[[30,6],1],null]]],null],[1,"\\n"]],[]]]],[5,6]],null]],[]],[[[41,[30,2],[[[42,[28,[37,7],[[28,[37,7],[[30,2]],null]],null],null,[[[1,"            "],[10,0],[14,0,"songs-list__disc-list"],[14,"role","rowgroup"],[12],[1,"\\n                "],[8,[39,13],null,[["@discHeader"],[[28,[37,14],["FUSE.Disc"],[["discNumber"],[[30,17,["discNumber"]]]]]]],null],[1,"\\n\\n"],[42,[28,[37,7],[[28,[37,7],[[30,17,["discTracks"]]],null]],null],null,[[[1,"                    "],[8,[39,10],null,[["@albumId","@albumArtist","@song","@playbackList","@songsListColumns","@scrollToSelectedSong","@isSelectedSong","@showArtworkForSong","@songsContainer","@isPlaylist","@handlePlayEvent","@selectRow","@rightClickTarget","@handleRightClickAnchor","@onAdd","@onDelete","@isMultiSelecting","@showRanking","@ranking"],[[30,8],[30,9],[30,19],[30,0,["playbackList"]],[30,0,["songsListColumns"]],[30,10],[28,[37,11],[[30,19,["id"]],[30,0,["currentSelectedSongIds"]]],null],[30,11],[30,12],[30,13],[30,0,["handlePlayEvent"]],[30,0,["selectRow"]],[30,0,["rightClickTarget"]],[30,0,["handleRightClickAnchor"]],[30,14],[30,15],[30,0,["isMultiSelecting"]],[30,16],[28,[37,12],[[30,18],1],null]]],null],[1,"\\n"]],[19]],null],[1,"            "],[13],[1,"\\n"]],[17,18]],null]],[]],[[[42,[28,[37,7],[[28,[37,7],[[30,20]],null]],null],"@index",[[[1,"            "],[8,[39,10],null,[["@rowIndex","@isPlaylist","@albumId","@albumArtist","@song","@playbackList","@songsListColumns","@scrollToSelectedSong","@isSelectedSong","@showArtworkForSong","@songsContainer","@handlePlayEvent","@selectRow","@rightClickTarget","@handleRightClickAnchor","@onAdd","@onDelete","@isMultiSelecting","@showRanking","@ranking"],[[30,22],[30,13],[30,8],[30,9],[30,21],[30,0,["playbackList"]],[30,0,["songsListColumns"]],[30,10],[28,[37,11],[[30,21,["id"]],[30,0,["currentSelectedSongIds"]]],null],[30,11],[30,12],[30,0,["handlePlayEvent"]],[30,0,["selectRow"]],[30,0,["rightClickTarget"]],[30,0,["handleRightClickAnchor"]],[30,14],[30,15],[30,0,["isMultiSelecting"]],[30,16],[28,[37,12],[[30,22],1],null]]],null],[1,"\\n"]],[21,22]],null],[1,"\\n        "],[8,[39,15],null,[["@bottomTolerance","@action","@isFetching","@hasMore"],[500,[30,0,["loadMoreTracks"]],[30,23],[30,24]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,16],null,[["@delay"],[[30,0,["delay"]]]],[["default"],[[[[1,"\\n                "],[8,[39,17],null,null,null],[1,"\\n            "]],[]]]]],[1,"\\n\\n        "]],[]]]]],[1,"\\n\\n    "]],[]]]],[]]],[1,"\\n"],[13],[1,"\\n\\n"],[41,[51,[30,24]],[[[1,"    "],[8,[39,19],null,[["@isAMWEB","@inYourNetwork","@songsList","@songsContainer"],[true,[30,25],[30,20],[30,12]]],null],[1,"\\n"]],[]],null]],["@worksList","@discList","@outerClass","col","worksListItem","index","workItem","@albumId","@albumArtist","@scrollToSelectedSong","@showArtworkForSong","@songsContainer","@isPlaylist","@onAdd","@onDelete","@showRanking","discListItem","index","discItem","@songs","song","index","@isFetchingTracks","@hasMoreTracks","@inYourNetwork"],false,["if","concat","on","did-insert","will-destroy","allow-drag","each","-track-array","eq","works-list-header","dt-songs-list-row","contains","inc","disc-list-header","t","infinite-scroll","pulse-loading","pulse-spinner","unless","songs-list-footer"]]',moduleName:"desktop-music-app/components/dt-songs-list.hbs",isStrictMode:!1}),{SONGS_LIST_SPINNER_DELAY:q}=l.default.APP,G="heart-and-star"
let $=(s=Ember.inject.service("itunes-explicit-dialog"),u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service("drag-and-drop"),g=Ember._tracked,y=Ember._tracked,v=Ember._tracked,k=Ember._action,w=Ember._action,E=Ember._action,_=Ember._action,P=Ember._action,O=Ember._action,S=Ember._action,z=Ember._action,j=Ember._action,T=Ember._action,M=Ember._action,C=class extends t.default{get dragData(){var e
return this.selectedSongInstances.length?this.selectedSongInstances:null===(e=this.dnd.draggedTrack)||void 0===e?void 0:e.args.song}constructor(...e){var t,i,r
if(super(...e),K(this,"explicitDialog",x,this),K(this,"fastboot",D,this),K(this,"i18n",L,this),K(this,"metrics",A,this),K(this,"playback",I,this),K(this,"restrictedContent",N,this),K(this,"user",R,this),K(this,"recoDataPlayContent",F,this),K(this,"dnd",U,this),r=null,(i="startSelectionIndex")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,K(this,"lastFocusedTrackId",B,this),K(this,"targetPos",H,this),K(this,"selectedSongInstances",V,this),this.targetPos={x:0,y:0},this.args.selectedTrack){const e=this.args.songs.find((e=>e.id===this.args.selectedTrack))
e&&(this.selectedSongInstances=[e])}}get delay(){return q}get rightClickTarget(){if(!this.fastboot.isFastBoot)return document.querySelector(".songs-list__right-click-target")}get rightClickTargetStyle(){return(0,o.trustedCss)(`left: ${this.targetPosX}; top: ${this.targetPosY}`)}get targetPosX(){return`${this.targetPos.x}px`}get targetPosY(){return`${this.targetPos.y}px`}get isForMusicVideo(){return(0,i.default)(this.args.songs)}get playbackList(){return this.args.playbackList||this._playbackList}get _playbackList(){const e=["song","uploadedAudio","musicVideo"],[t]=this.args.songs
if(t){const i=Ember.get(t,"kind")||Ember.get(t,"playParams.kind")
if(e.includes(i))return this.args.songs.map((e=>Ember.get(e,"rawJSON")))}}get songsListColumns(){return this.args.songsListColumns?this.args.songsListColumns:this.isForMusicVideo?[G,"song","time"]:[G,"song","artist","album","time"]}get columnHeaders(){return this.songsListColumns.map((e=>{if("index"!==e){if("shim"===e||e===G)return{key:e}
let t=this.i18n.t(`FUSE.SongsListHeaders.${e}`)
return"song"===e&&this.isForMusicVideo&&(t=this.i18n.t("FUSE.SongsListHeaders.video")),{key:e,label:t}}}))}get lastFocusedIndex(){return this.findSongIndex(this.lastFocusedTrackId)}get currentSelectedSongIds(){return this.selectedSongInstances.map((e=>Ember.get(e,"id")))}setupHeaderObserver(e){if("IntersectionObserver"in window){const t=([t])=>{t.isIntersecting?e.classList.remove("songs-list__header--is-sticking"):e.classList.add("songs-list__header--is-sticking")}
this.intersectionObserver=new IntersectionObserver(t,{threshold:1,root:document.querySelector("#web-main")}),this.intersectionObserver.observe(e)}}teardownHeaderObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)}subscribeClickOutside(){document.querySelector("body").addEventListener("click",this.clearCurrentSelectedSongs)}unsubscribeClicksOutside(){document.querySelector("body").removeEventListener("click",this.clearCurrentSelectedSongs)}handlePlayEvent(e,t){if(!t||"dblclick"!==t.type)return
this.playFromLastFocused(t),this._recordMetrics(Ember.get(e,"id"))}handleRightClickAnchor(e){this.targetPos={x:e.pageX,y:e.pageY}}loadMoreTracks(){this.args.fetchMoreTracks()}clearCurrentSelectedSongs(){this.selectedSongInstances=[],this.dnd.selectedSongInstances=[]}onKeyDown(e){this.keyEvent?this.keyEvent.addEvent(e):this.keyEvent=new r.KeyEvent(e)
const t=this.keyEvent
if((t.isNavigation||t.isSpacebar)&&e.preventDefault(),t.isEnter)this.playFromLastFocused(e)
else if(this.selectedSongInstances.length){if(t.isTab){const i=e.target.closest(".songs-list-row"),r=Number(i.getAttribute("data-row"))
let n
return n=t.isShiftTab?this.args.songs[r-1]:this.args.songs[r+1],void(n&&this.selectRow(n,e))}const i=t.isCtrl||t.isMeta
t.isArrowDown?i||this.selectNextRow(e,1):t.isArrowUp&&(i||this.selectNextRow(e,-1))}}onKeyUp(){this.keyEvent&&(this.keyEvent=null)}selectRow(e,t){t.stopPropagation(),function(e){const t=new r.KeyEvent(e),{isAltKey:i,isMetaKey:n,isShiftKey:o,isShiftTab:l}=t,a=i||o||n
if(l||!a)return!0}(t)&&this.clearCurrentSelectedSongs(),Q(t)?this.selectRange(e):(this.startSelectionIndex=this.findSongIndex(Ember.get(e,"id")),t.metaKey?this.currentSelectedSongIds.includes(Ember.get(e,"id"))?this.selectedSongInstances=this.selectedSongInstances.filter((t=>t.id!==e.id)):this.selectedSongInstances=[...this.selectedSongInstances,e]:this.selectedSongInstances=[e]),this.dnd.selectedSongInstances=this.selectedSongInstances.sort(((e,t)=>this.findSongIndex(Ember.get(e,"id"))-this.findSongIndex(Ember.get(t,"id")))),this.lastFocusedTrackId=Ember.get(e,"id")}selectRange(e){const t=this.findSongIndex(Ember.get(e,"id"))
let i
if(t<this.lastFocusedIndex){const e=this.args.songs.slice(t,this.startSelectionIndex+1)
let r=[]
t>=this.startSelectionIndex&&(r=this.args.songs.slice(t+1,this.lastFocusedIndex+1).map((e=>Ember.get(e,"id")))),i=[...this.selectedSongInstances,...e].filter((e=>!r.includes(Ember.get(e,"id"))))}else{const e=this.args.songs.slice(this.lastFocusedIndex+1,t+1)
let r=[]
t<=this.startSelectionIndex&&t>this.lastFocusedIndex&&(r=this.args.songs.slice(this.lastFocusedIndex,t).map((e=>Ember.get(e,"id")))),i=[...this.selectedSongInstances,...e].filter((e=>!r.includes(Ember.get(e,"id"))))}const r=i.map((e=>Ember.get(e,"id")))
this.selectedSongInstances=i.filter(((e,t)=>r.indexOf(Ember.get(e,"id"))===t)).sort(((e,t)=>this.findSongIndex(Ember.get(e,"id"))-this.findSongIndex(Ember.get(t,"id")))),this.dnd.selectedSongInstances=this.selectedSongInstances}selectNextRow(e,t){const i=this.lastFocusedIndex
if(i+t<0||i+t>=this.args.songs.length)return
if(i>=0&&i<=Ember.get(this,"args.songs.length")){const r=this.args.songs[i+t]
r&&(Q(e)?this.selectRange(r):this.selectRow(r,e)),this.lastFocusedTrackId=Ember.get(r,"id")}}playFromLastFocused(e){var t
let i=this.lastFocusedIndex
const r=e&&"dblclick"===e.type
if(e){const t=e.target.closest(".songs-list-row")
t&&(i=Number(t.getAttribute("data-row")))}const n={items:this.args.songs.map((e=>Ember.get(e,"rawJSON"))),selectedTrackIndex:i,isDoubleClick:r},o=null===(t=this.recoDataPlayContent)||void 0===t?void 0:t.recoData
var l,a
o&&this.args.songsContainer&&(this.args.songsContainer.id&&null!==(l=o[this.args.songsContainer.id])&&void 0!==l&&l.metrics?n.meta=o[this.args.songsContainer.id].metrics:null!==(a=o[this.args.songsContainer.collectionId])&&void 0!==a&&a.metrics&&(n.meta=o[this.args.songsContainer.collectionId].metrics))
this.args.songsContainer&&(n.container={id:this.args.songsContainer.id,kind:this.args.songsContainer.kind||this.args.songsContainer.type}),this.playback.play(n)}findSongIndex(e){return this.args.songs.findIndex((t=>Ember.get(t,"id")===e))}_recordMetrics(e){const t=JSON.parse((0,n.default)(["playBySelection"],{id:e}))
this.metrics.recordEvent("click",t)}},x=W(C.prototype,"explicitDialog",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=W(C.prototype,"fastboot",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=W(C.prototype,"i18n",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=W(C.prototype,"metrics",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=W(C.prototype,"playback",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=W(C.prototype,"restrictedContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=W(C.prototype,"user",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=W(C.prototype,"recoDataPlayContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=W(C.prototype,"dnd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=W(C.prototype,"lastFocusedTrackId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=W(C.prototype,"targetPos",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=W(C.prototype,"selectedSongInstances",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W(C.prototype,"setupHeaderObserver",[k],Object.getOwnPropertyDescriptor(C.prototype,"setupHeaderObserver"),C.prototype),W(C.prototype,"teardownHeaderObserver",[w],Object.getOwnPropertyDescriptor(C.prototype,"teardownHeaderObserver"),C.prototype),W(C.prototype,"subscribeClickOutside",[E],Object.getOwnPropertyDescriptor(C.prototype,"subscribeClickOutside"),C.prototype),W(C.prototype,"unsubscribeClicksOutside",[_],Object.getOwnPropertyDescriptor(C.prototype,"unsubscribeClicksOutside"),C.prototype),W(C.prototype,"handlePlayEvent",[P],Object.getOwnPropertyDescriptor(C.prototype,"handlePlayEvent"),C.prototype),W(C.prototype,"handleRightClickAnchor",[O],Object.getOwnPropertyDescriptor(C.prototype,"handleRightClickAnchor"),C.prototype),W(C.prototype,"loadMoreTracks",[S],Object.getOwnPropertyDescriptor(C.prototype,"loadMoreTracks"),C.prototype),W(C.prototype,"clearCurrentSelectedSongs",[z],Object.getOwnPropertyDescriptor(C.prototype,"clearCurrentSelectedSongs"),C.prototype),W(C.prototype,"onKeyDown",[j],Object.getOwnPropertyDescriptor(C.prototype,"onKeyDown"),C.prototype),W(C.prototype,"onKeyUp",[T],Object.getOwnPropertyDescriptor(C.prototype,"onKeyUp"),C.prototype),W(C.prototype,"selectRow",[M],Object.getOwnPropertyDescriptor(C.prototype,"selectRow"),C.prototype),C)
function Q(e){const t=new r.KeyEvent(e)
if(t.isShiftKey&&!t.isShiftTab)return!0}e.default=$,Ember._setComponentTemplate(Y,$)})),define("desktop-music-app/components/dt-station",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"KHobj5g+",block:'[[[44,[[28,[37,1],["meta/station"],[["model"],[[30,1]]]]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,2]]],null],[1,"\\n"]],[2]]],[1,"\\n"],[10,0],[14,0,"station-page"],[12],[1,"\\n    "],[10,0],[14,0,"station-page__content"],[12],[1,"\\n        "],[10,0],[14,0,"station-page__content-artwork"],[12],[1,"\\n            "],[10,0],[14,0,"station-page__content-artwork-container"],[12],[1,"\\n"],[41,[30,1,["artwork"]],[[[1,"                    "],[10,"img"],[14,0,"station-page__artwork-for-radiosity-effect"],[15,"src",[28,[37,4],[[30,1,["artwork","url"]]],null]],[14,"alt",""],[14,"role","presentation"],[12],[13],[1,"\\n"]],[]],null],[1,"                "],[8,[39,5],[[24,0,"media-artwork-v2--station-page station-page__artwork-for-station"]],[["@artwork","@lazyLoad","@alt","@artworkProfile","@fallbackProfile"],[[30,1,["artwork"]],false,[30,1,["name"]],"web-station",[28,[37,6],[[30,1]],null]]],null],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"station-page__content-details"],[12],[1,"\\n"],[1,"\\n            "],[10,2],[14,0,"station-page__station-name typography-large-title-emphasized"],[12],[1,"\\n                "],[1,[30,1,["name"]]],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,1,["editorialNotes","short"]],[[[1,"                "],[10,2],[14,0,"station-page__station-artist-name typography-large-title"],[12],[1,"\\n                    "],[1,[28,[35,7],[[30,1,["editorialNotes","short"]]],null]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n            "],[10,2],[14,0,"station-page__station-genre typography-subhead-emphasized"],[12],[1,"\\n                "],[1,[28,[35,8],["IXDisplayableKind.radioStation.one"],null]],[1,"\\n            "],[13],[1,"\\n\\n"],[1,"\\n"],[44,[[28,[37,9],[[30,1]],null]],[[[41,[51,[30,3]],[[[41,[30,1,["playParams"]],[[[1,"                        "],[10,0],[14,0,"station-page__buttons"],[12],[1,"\\n                            "],[8,[39,11],[[24,0,"typography-body-semibold-tall"]],[["@isPillButton","@songsContainer","@lockup","@reset"],[true,[30,1],[30,1],true]],null],[1,"\\n                        "],[13],[1,"\\n"]],[]],null]],[]],null]],[3]]],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@station","stationMeta","isAOD"],false,["let","present","seo-tags","if","blurred-background-src","amp-artwork/music","fallback-artwork","untrusted-html","t","is-aod","unless","dt-play-button"]]',moduleName:"desktop-music-app/components/dt-station.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-superhero-upsell",["exports","color","@glimmer/component","desktop-music-app/utils/logger","ember-lifeline","desktop-music-app/utils/get-metrics-json","desktop-music-app/config/artwork-profiles","desktop-music-app/config"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z
function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function T(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const M=Ember.HTMLBars.template({id:"mKNuJQqR",block:'[[[11,0],[24,0,"feature-recommended__lockup-container feature-recommended__lockup-container--superhero feature-recommended__lockup-container--superhero-upsell feature-recommended__lockup-container--superhero-single"],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"tabindex",[30,0,["tabindex"]]],[24,"role","button"],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,0],[[30,0,["addResizeListener"]]],null],[4,[38,0],[[30,0,["setArtworkOrientation"]]],null],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n    "],[10,2],[14,0,"feature-recommended__header-text typography-title-1-emphasized"],[12],[1,[30,0,["headerText"]]],[13],[1,"\\n\\n"],[41,[30,0,["heroArtwork"]],[[[1,"        "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--superhero-single"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt"],[[30,0,["heroArtwork"]],[30,0,["artworkProfile"]],[28,[37,4],[[30,1]],null],[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["primaryLine"]],[[[1,"        "],[10,0],[14,0,"feature-recommended__superhero-details feature-recommended__superhero-details--legibility-gradient"],[12],[1,"\\n            "],[8,[39,5],null,[["@value"],[[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"feature-recommended__description"],[15,"dir",[30,2]],[12],[1,"\\n                    "],[10,2],[14,0,"feature-recommended__description-text typography-title-3-tall"],[12],[1,[28,[35,6],[[30,0,["primaryLine"]]],null]],[13],[1,"\\n                "],[13],[1,"\\n            "]],[2]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[13]],["@item","direction"],false,["did-insert","on","if","amp-artwork/music","fallback-artwork","bidi-text","untrusted-html"]]',moduleName:"desktop-music-app/components/dt-superhero-upsell.hbs",isStrictMode:!1}),{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:C,FINANCE_DYNAMICAMSUI_OPTION_KEYS:x,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:D}}=a.default,L="assets/upsell/listen-now.jpg"
let A=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service("itunes-bag"),b=Ember._tracked,f=Ember.computed.alias("upsellBanner.isEligibleForWinbackOffer"),h=Ember._action,g=Ember._action,y=Ember._action,v=class extends i.default{constructor(...e){super(...e),j(this,"i18n",k,this),j(this,"media",w,this),j(this,"upsellBanner",E,this),j(this,"finance",_,this),j(this,"itunesVersion",P,this),j(this,"bag",O,this),j(this,"useTallArtwork",S,this),j(this,"isEligibleForWinbackOffer",z,this)}get ariaLabel(){const{headerText:e}=this
return e||""}get dataMetricsClick(){const{id:e,type:t}=this.args.lockup,{metricsData:i}=this
return(0,o.default)(["linkToPowerSwooshUpsellItem"],{id:e,kind:t,data:i})}get metricsData(){return this.args.lockup.metricsData.metrics}get heroArtwork(){const[e="medium"]=this.media.matches
return"xsmall"===e&&this.useTallArtwork?this.heroTallArtwork:this.heroWideArtwork}get heroTallArtwork(){return this.args.lockup.artwork.superHeroTall||L}get heroWideArtwork(){return this.args.lockup.artwork.superHeroWide||L}get artworkProfile(){const[e="medium"]=this.media.matches
return"xsmall"===e&&this.useTallArtwork?"superHeroTall":"superHeroWide"}get heroBGColor(){const e=Ember.get(this,"artwork.bgColor")
return e?new t.default(`#${e}`):"#ccc"}get isDark(){const e=this.heroBGColor
if(e&&"object"==typeof e)return this.heroBGColor.dark()}get primaryLine(){return Ember.get(this,"args.lockup.callToActionLabel")}get headerText(){const[e]=this.args.lockup.offers
return Ember.get(this,"args.lockup.title")||Ember.get(e,"valueProposition.details")}get targetUrl(){return this.args.lockup.url}_resizeHandler(){(0,n.debounceTask)(this,"setArtworkOrientation",50)}addResizeListener(){(0,n.addEventListener)(this,window,"resize",this._resizeHandler)}setArtworkOrientation(){this.useTallArtwork=window.innerWidth<l.LN_TALL_BREAKPOINT_WIDTH}onClick(e){if("BUTTON"!==e.target.tagName)if(void 0!==this.bag.getFromBag("commerceApp")&&this.itunesVersion.supportsAppleOne()){const{targetUrl:e}=this
e?this.finance.openFinanceURL(e):(0,r.log)("dt-superhero-upsell: No target Url available from marketing item ")}else if(this.isEligibleForWinbackOffer){const e={}
e[x.OFFER_HINT]=C.OTHER,e.placement=D.LAUNCH_UPSELL,this.finance.openFinancePath("upsell-return",e)}else this.finance.musicInternal("upsellGeneric")}},k=T(v.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(v.prototype,"media",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(v.prototype,"upsellBanner",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T(v.prototype,"finance",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(v.prototype,"itunesVersion",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(v.prototype,"bag",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=T(v.prototype,"useTallArtwork",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=T(v.prototype,"isEligibleForWinbackOffer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(v.prototype,"addResizeListener",[h],Object.getOwnPropertyDescriptor(v.prototype,"addResizeListener"),v.prototype),T(v.prototype,"setArtworkOrientation",[g],Object.getOwnPropertyDescriptor(v.prototype,"setArtworkOrientation"),v.prototype),T(v.prototype,"onClick",[y],Object.getOwnPropertyDescriptor(v.prototype,"onClick"),v.prototype),v)
e.default=A,Ember._setComponentTemplate(M,A)})),define("desktop-music-app/components/dt-superhero",["exports","color","@glimmer/component","ember-lifeline","desktop-music-app/utils/editorial-video","desktop-music-app/utils/feature-flags","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/recommendation-data","desktop-music-app/utils/route","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/live-events","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l,a,s,u,c,d){var p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F
function U(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function B(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const H=Ember.HTMLBars.template({id:"27233r/B",block:'[[[11,0],[24,0,"feature-recommended__lockup-container feature-recommended__lockup-container--superhero feature-recommended__lockup-container--superhero-single"],[16,"aria-label",[30,0,["ariaLabel"]]],[16,"tabindex",[30,0,["tabindex"]]],[24,"data-context-menu-parent",""],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,0],[[30,0,["addResizeListener"]]],null],[4,[38,0],[[30,0,["setArtworkOrientation"]]],null],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n"],[41,[30,0,["heroArtwork"]],[[[41,[30,0,["useTallArtwork"]],[[[1,"            "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--superhero-single"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt"],[[30,0,["heroArtwork"]],[30,0,["artworkProfile"]],[28,[37,4],[[30,1]],null],[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                    "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"dt-superhero"]],null],[1,"\\n"]],[]],null],[1,"            "]],[]]]]],[1,"\\n"]],[]],[[[1,"            "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--superhero-single"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt"],[[30,0,["heroArtwork"]],[30,0,["artworkProfile"]],[28,[37,4],[[30,1]],null],[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                    "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"dt-superhero"]],null],[1,"\\n"]],[]],null],[1,"            "]],[]]]]],[1,"\\n"]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["primaryLine"]],[[[1,"        "],[10,0],[14,0,"feature-recommended__superhero-details feature-recommended__superhero-details--legibility-gradient"],[12],[1,"\\n            "],[8,[39,6],null,[["@value"],[[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"feature-recommended__description"],[15,"dir",[30,2]],[12],[1,"\\n                    "],[10,2],[14,0,"feature-recommended__description-text typography-title-3-tall"],[12],[1,[28,[35,7],[[30,0,["primaryLine"]]],null]],[13],[1,"\\n                "],[13],[1,"\\n            "]],[2]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,8],null,[["@lockup"],[[30,1]]],null],[1,"\\n\\n"],[41,[28,[37,9],[[30,1]],null],[[[1,"        "],[8,[39,10],null,[["@lockup"],[[30,1]]],null],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"            "],[10,0],[14,0,"lockup__controls__play-button-wrapper"],[12],[1,"\\n                "],[8,[39,11],[[24,0,"play-button play-button--feature-recommended large"]],[["@lockup","@customMetrics","@metricsLocation","@recommendationData"],[[30,1],[28,[37,12],null,[["targetType"],[[52,[28,[37,9],[[30,1]],null],"PosterItem","EditorialVideo"]]]],[30,0,["dataMetricsLocation"]],[30,0,["recommendationData"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"            "],[8,[39,13],null,[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n                "],[8,[39,14],null,[["@lockups","@artworkInfo"],[[30,1],[30,0,["heroArtwork"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n"],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@item","direction"],false,["did-insert","on","if","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","untrusted-html","dt-profile-badges","is-live-event","live-badge","dt-play-button","hash","dt-media-contextual-menu","dt-button-menu"]]',moduleName:"desktop-music-app/components/dt-superhero.hbs",isStrictMode:!1})
let V=(p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service("itunes-router"),_=Ember._tracked,P=Ember._action,O=Ember._action,S=Ember._action,z=class extends i.default{constructor(...e){super(...e),U(this,"accessibility",j,this),U(this,"editorialVideoShelfMonitor",T,this),U(this,"i18n",M,this),U(this,"media",C,this),U(this,"metrics",x,this),U(this,"platform",D,this),U(this,"playback",L,this),U(this,"recoDataPlayContent",A,this),U(this,"router",I,this),U(this,"storefront",N,this),U(this,"iTunesRouter",R,this),U(this,"useTallArtwork",F,this)}get ariaLabel(){const{primaryLine:e}=this
return e?`${this.i18n.t("FUSE.Browse.Hero.ARIALabel.Format",{content:e})}`:""}get artworkObj(){return this.editorialVideoPreview||this.heroArtwork}get dataMetricsClick(){const{id:e}=this.args.item,{dataMetricsLocation:t}=this,i=(0,c.isLiveEvent)(this.args.item)?"PosterItem":"EditorialHero"
return(0,l.default)(["linkToPowerSwooshItem"],{id:e,kind:i,location:t})}get dataMetricsLocation(){const{id:e,kind:t,parentShelfIndex:i,parentShelfTitle:r}=this.args.item
return[{locationType:"EditorialHero",displayStyle:"large",id:e,locationPosition:i,name:this.heroName,heading:r,description:this.primaryLine,data:{reco:{dataSetId:this.dataSetId}},kind:t}]}get dataSetId(){return this.args.item.meta.metrics.reco_id}get editorialVideo(){if(this.editorialVideoShelfMonitor.isEnabled)return this.editorialVideoObj}get editorialVideoObj(){return this.args.item.editorialVideo||Ember.get(this,"heroLockup.editorialVideo")}get editorialVideoPreview(){if(this.editorialVideoObj){const e=(0,n.bestVideoAssetKey)("dt-superhero",this.editorialVideoObj)
if(e)return this.editorialVideoObj[e].previewFrame}}get heroArtwork(){const[e="medium"]=this.media.matches
return"xsmall"===e&&this.useTallArtwork?this.heroTallArtwork:this.heroWideArtwork}get heroLockup(){return this.args.item.editorialCard}get heroName(){return Ember.get(this,"heroLockup.editorialNotes.name")}get heroTallArtwork(){return Ember.get(this,"heroLockup.editorialArtwork.superHeroTall")||this.args.item.artwork}get heroWideArtwork(){return Ember.get(this,"heroLockup.editorialArtwork.superHeroWide")||this.args.item.artwork}get artworkProfile(){const[e="medium"]=this.media.matches
return"xsmall"===e&&this.useTallArtwork?"superHeroTall":"superHeroWide"}get heroBGColor(){const e=Ember.get(this,"heroArtwork.bgColor")
return e?new t.default(`#${e}`):"#ccc"}get isDark(){const e=this.heroBGColor
if(e&&"object"==typeof e)return this.heroBGColor.dark()}get meta(){return this.args.item.meta}get primaryLine(){return Ember.get(this,"heroLockup.editorialNotes.short")}get recommendationData(){return(0,a.recommendationDataForVariant)(this.meta,this.dataSetId)}get showPlayButton(){return["uploadedVideo","musicVideo","tvEpisode","radioStation"].includes((0,d.getKind)(this.args.item))}get tabindex(){return this.platform.isEdge?0:-1}get targetUrl(){return this.args.item.url}_resizeHandler(){(0,r.debounceTask)(this,"setArtworkOrientation",50)}addResizeListener(){(0,r.addEventListener)(this,window,"resize",this._resizeHandler)}setArtworkOrientation(){this.useTallArtwork=window.innerWidth<u.LN_TALL_BREAKPOINT_WIDTH}onClick(e){if("BUTTON"!==e.target.tagName)if(this.showPlayButton){const e=this.playback.getPlaybackConfig(this.args.item,null,null,{recommendationData:this.recommendationData})
this.playback.play(e)}else{const{targetUrl:e}=this
if(e){const{_routerMicrolib:t}=this.router._router,i=(0,s.normalizeURL)(e,t,this.storefront.resolvedStorefront);(0,s.transitionToRoute)(this.router,i)}this.accessibility.focusOnPageContainer()}}},j=B(z.prototype,"accessibility",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(z.prototype,"editorialVideoShelfMonitor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B(z.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B(z.prototype,"media",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(z.prototype,"metrics",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B(z.prototype,"platform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=B(z.prototype,"playback",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B(z.prototype,"recoDataPlayContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=B(z.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B(z.prototype,"storefront",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=B(z.prototype,"iTunesRouter",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=B(z.prototype,"useTallArtwork",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B(z.prototype,"addResizeListener",[P],Object.getOwnPropertyDescriptor(z.prototype,"addResizeListener"),z.prototype),B(z.prototype,"setArtworkOrientation",[O],Object.getOwnPropertyDescriptor(z.prototype,"setArtworkOrientation"),z.prototype),B(z.prototype,"onClick",[S],Object.getOwnPropertyDescriptor(z.prototype,"onClick"),z.prototype),z)
e.default=V,Ember._setComponentTemplate(H,V)})),define("desktop-music-app/components/dt-titled-box",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"SKNYKLuN",block:'[[[11,0],[16,0,[29,["titled-box ",[30,1],[52,[30,2]," top-border"]]]],[17,3],[12],[1,"\\n    "],[10,0],[14,0,"titled-box-header"],[12],[1,"\\n"],[41,[30,2],[[[1,"            "],[10,"h2"],[14,0,"titled-box-title typography-title-2-emphasized"],[12],[1,"\\n                "],[1,[30,2]],[41,[30,4],[[[1," "],[10,1],[14,0,"subtitle typography-title-3-tall"],[12],[1,[30,4]],[13]],[]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,5],[[[1,"            "],[46,[30,5],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,6],[[[1,"            "],[8,[39,2],null,[["@options","@selectionId","@changeSelection"],[[30,6],[30,7],[30,8]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"titled-box-content"],[12],[1,"\\n        "],[18,9,null],[1,"\\n    "],[13],[1,"\\n"],[13]],["@displayStyle","@title","&attrs","@subtitle","@seeAllComponent","@selectOptions","@selectionId","@changeSelection","&default"],false,["if","component","dt-select","yield"]]',moduleName:"desktop-music-app/components/dt-titled-box.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-top-charts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"rlHimhlJ",block:'[[[44,[[28,[37,1],["top-charts"],[["model"],[[30,1]]]]],[[[42,[28,[37,3],[[28,[37,3],[[30,2,["filteredTopCharts"]]],null]],null],null,[[[1,"        "],[8,[39,4],[[16,0,[29,["divider-before",[52,[28,[37,6],[[30,3,["id"]]],null]," ranked"]]]]],[["@id","@grid","@title","@groupCount","@itemComponent","@items","@seeAllComponent"],[[29,["top-charts-",[30,2,["id"]]]],"C",[30,3,["title"]],[52,[28,[37,7],[[28,[37,8],[[30,3]],null],"song"],null],3,1],[50,[52,[28,[37,7],[[28,[37,8],[[30,3]],null],"song"],null],"dt-list-lockup","dt-lockup"],0,null,[["showRanking"],[[28,[37,6],[[30,3,["id"]]],null]]]],[30,3,["shortList"]],[52,[28,[37,10],[[30,3,["fullList","length"]],[30,3,["shortList","length"]]],null],[50,"see-all/browse-top-charts",0,null,[["roomId"],[[30,3,["id"]]]]]]]],null],[1,"\\n"]],[3]],null]],[2]]]],["@topCharts","model","chart"],false,["let","present","each","-track-array","dt-shelf","if","is-ranked","eq","get-kind","component","gt"]]',moduleName:"desktop-music-app/components/dt-top-charts.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/dt-truncate",["exports","@glimmer/component","desktop-music-app/utils/untrusted-html","desktop-music-app/utils/trusted-css"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"CiZBstOS",block:'[[[11,0],[16,0,[29,["truncated-content-in-modal",[52,[30,0,["isInAltSection"]]," truncated_content-in-modal--alt-section"]]]],[16,"aria-label",[30,0,["ariaLabel"]]],[4,[38,1],[[30,0,["didInsertNode"]],[30,0]],null],[12],[1,"\\n"],[41,[30,0,["isClamped"]],[[[1,"        "],[8,[39,2],null,[["@isOpen","@onDismiss"],[[30,0,["modalIsVisible"]],[30,0,["onDismiss"]]]],[["default"],[[[[1,"\\n            "],[8,[39,3],null,[["@onDismiss","@triggerElement","@secondary","@content","@headline"],[[30,0,["onDismiss"]],[30,0,["triggerElement"]],[30,1],[28,[37,4],[[30,2]],null],[30,3]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"truncated-content-container"],[12],[1,"\\n        "],[8,[39,5],null,[["@lines","@maxLines","@text","@didTruncate","@seeMoreText"],[[30,0,["lines"]],[30,0,["maxLines"]],[30,0,["text"]],[30,0,["didTruncate"]],[30,0,["moreButtonText"]]]],null],[1,"\\n"],[41,[30,0,["isClamped"]],[[[1,"            "],[11,"button"],[24,0,"truncated_content-in-modal__opener typography-subhead-emphasized"],[16,5,[30,0,["triggerElementHeightString"]]],[4,[38,6],["click",[30,0,["expandContent"]]],null],[12],[1,[30,0,["moreButtonText"]]],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13]],["@secondary","@content","@headline"],false,["if","did-insert","dt-modal","dt-modal/content-modal","untrusted-html","line-clamp","on"]]',moduleName:"desktop-music-app/components/dt-truncate.hbs",isStrictMode:!1}),w=()=>{}
let E=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,u=Ember._action,c=Ember._action,d=Ember._action,p=class extends t.default{get triggerElementHeightString(){return(0,r.trustedCss)(`height: ${this.triggerElementHeight}`)}constructor(){super(...arguments),y(this,"i18n",m,this),y(this,"metrics",b,this),y(this,"router",f,this),y(this,"isClamped",h,this),y(this,"modalIsVisible",g,this),this.isClamped=!1,this.modalIsVisible=!1,this.isInAltSection=this.args.isInAltSection||!1,this.lines=this.args.lines||8,this.maxLines=this.args.maxLines||10,this.onExpand=this.args.onExpand||w}didInsertNode(e,[t]){t.element=e}get text(){return this.args.inlineTitle?Ember.String.htmlSafe((0,i.untrustedHtml)(this.args.content)):(0,i.untrustedHtml)(this.args.content)}setAriaLabel(){const e=document.querySelector(".truncated-content-container p")
if(!e)return
const t=`${(e.textContent||"").split(".").slice(0,3).join(".")}.`
Ember.set(this,"ariaLabel",t)}get moreButtonText(){return this.args.isEmphasized?this.i18n.t("More"):this.i18n.t("FUSE.moreButton.AllCaps")}didTruncate(e){this.isClamped=e,e?this.setAriaLabel():Ember.set(this,"ariaLabel",!1)}_recordMetricsClickEvent(e){const t={targetType:"button",targetId:"More",actionType:"select",actionDetails:{section:{"artist.index":"More",album:"More",playlist:"Details"}[this.router.currentRouteName]||"More"}}
this.metrics.recordEvent("click",t,e)}expandContent(){const e=this.element.querySelector(".truncated_content-in-modal__opener")
Ember.set(this,"triggerElement",e),this.modalIsVisible=!0,"function"==typeof this.onExpand&&this.onExpand(),this._recordMetricsClickEvent(e)}onDismiss(){this.modalIsVisible=!1}willDestroy(){Ember.set(this,"ariaLabel",!1),super.willDestroy(...arguments)}},m=v(p.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"metrics",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(p.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"isClamped",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"modalIsVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"didTruncate",[u],Object.getOwnPropertyDescriptor(p.prototype,"didTruncate"),p.prototype),v(p.prototype,"expandContent",[c],Object.getOwnPropertyDescriptor(p.prototype,"expandContent"),p.prototype),v(p.prototype,"onDismiss",[d],Object.getOwnPropertyDescriptor(p.prototype,"onDismiss"),p.prototype),p)
e.default=E,Ember._setComponentTemplate(k,E)})),define("desktop-music-app/components/dt-uber",["exports","@glimmer/component","desktop-music-app/helpers/image-url","desktop-music-app/utils/trusted-css"],(function(e,t,i,r){var n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"tfic5nfB",block:'[[[11,0],[16,0,[29,["uber ",[30,1,["kind"]]," ",[52,[30,0,["hasBrandLogo"]]," uber--brand-logo"]]]],[24,"data-context-menu-parent",""],[17,2],[12],[1,"\\n"],[41,[30,0,["productHero"]],[[[1,"        "],[10,0],[14,0,"uber__image-container"],[15,5,[30,0,["uberJoeColor"]]],[12],[1,"\\n            "],[10,"picture"],[14,0,"uber__image"],[12],[1,"\\n                "],[10,"source"],[15,"srcset",[29,[[30,0,["uberWebp1x"]]," 1x, ",[30,0,["uberWebp2x"]]," 2x"]]],[14,"media","(min-width: 1000px)"],[14,4,"image/webp"],[12],[13],[1,"\\n                "],[10,"source"],[15,"srcset",[29,[[30,0,["uber1x"]]," 1x, ",[30,0,["uber2x"]]," 2x"]]],[14,"media","(min-width: 1000px)"],[14,4,"image/jpeg"],[12],[13],[1,"\\n                "],[10,"source"],[15,"srcset",[29,[[30,0,["uberSmallWebp1x"]]," 1x, ",[30,0,["uberSmallWebp1x"]]," 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n                "],[10,"source"],[15,"srcset",[29,[[30,0,["uberSmall1x"]]," 1x, ",[30,0,["uberSmall2x"]]," 2x"]]],[14,4,"image/jpeg"],[12],[13],[1,"\\n                "],[10,"img"],[14,0,"uber__image-artwork"],[15,"src",[30,0,["uber1x"]]],[15,"alt",[30,1,["name"]]],[14,"role","presentation"],[12],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,0,["hasBrandLogo"]],[[[1,"                "],[8,[39,1],[[24,0,"media-artwork-v2--round uber__brand-logo"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,1,["editorialArtwork","brandLogo"]],"brand-logo",[28,[37,2],[[30,1]],null],[30,1,["name"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1],[[[1,"        "],[10,0],[14,0,"uber__sub-header-content"],[12],[1,"\\n"],[41,[30,0,["showProductName"]],[[[41,[30,0,["showArtistPhoto"]],[[[1,"                    "],[8,[39,1],[[24,0,"uber__sub-header-brand-logo media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,1,["artwork"]],"profile-row",[28,[37,2],[[30,1]],null],[30,1,["name"]]]],null],[1,"\\n"]],[]],null],[1,"                "],[10,"h1"],[14,0,"product-name typography-header-emphasized"],[12],[1,[30,0,["uberProductName"]]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,3],[[[1,"                "],[10,0],[14,0,"uber__sub-header-button-content"],[12],[1,"\\n"],[41,[28,[37,3],[[30,0,["showLibraryControl"]],[30,0,["user","cloudLibraryIsLoaded"]]],null],[[[1,"                        "],[8,[39,4],null,[["@product"],[[30,1]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,5],null,[["@lockup","@listenTo"],[[30,3],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,6],null,[["@alt","@lockups"],[true,[30,3]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,4],[[[1,"                    "],[8,[39,7],null,[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n                        "],[10,0],[14,"role","button"],[15,"aria-label",[28,[37,8],["More"],null]],[14,0,"menu-button round-button alt ember-view"],[12],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[13],[1,"\\n"]],["@product","&attrs","@storeContent","@showEntityContextMenu"],false,["if","amp-artwork/music","fallback-artwork","and","dt-add-to-button-library","dt-media-contextual-menu","dt-button-menu","dt-entity-contextual-menu","t"]]',moduleName:"desktop-music-app/components/dt-uber.hbs",isStrictMode:!1}),s={width:1200,height:300,cropCode:"sr"},u={width:734,height:300,cropCode:"sr"}
let c=(n=Ember.inject.service,o=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="user",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get productHero(){const e=this.args.artwork||{}
return e.bannerUber||e.subscriptionCover||e.masterArt}get showProductName(){return Ember.get(this,"args.product.name")||this.args.showName}get uberJoeColor(){return(0,r.trustedCss)(`--background-color:#${this.productHero.bgColor}`)}get uber1x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...s})}get uber2x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...s,quality:60,width:2*s.width,height:2*s.height})}get uberSmall1x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...u})}get uberSmall2x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...u,quality:60,width:2*u.width,height:2*u.height})}get uberWebp1x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...s,crop:80,extension:"webp"})}get uberWebp2x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...s,quality:60,extension:"webp",width:2*s.width,height:2*s.height})}get uberSmallWebp1x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...u,crop:80,extension:"webp"})}get uberSmallWebp2x(){const{url:e}=this.productHero
return(0,i.imageUrl)([e],{...u,quality:60,extension:"webp",width:2*u.width,height:2*u.height})}get isArtist(){return"artist"===Ember.get(this,"args.product.kind")}get showLibraryControl(){return"album"===Ember.get(this,"args.product.kind")||"playlist"===Ember.get(this,"args.product.kind")}get hasBrandLogo(){const e=Ember.get(this,"args.product.kind"),t="apple-curator"===e,i="brand"===e,r="Curator"===Ember.get(this,"args.product.iTunesBrandType")||"Brand"===Ember.get(this,"args.product.iTunesBrandType"),n=Ember.get(this,"args.product.editorialArtwork.brandLogo")
return(t||i||r)&&n}get showArtistPhoto(){return this.isArtist&&Ember.isPresent(Ember.get(this,"args.product.artwork"))&&Ember.isNone(this.productHero)}get uberProductName(){const e=Ember.get(this,"args.product.shortName"),t=Ember.get(this,"args.product.name")
return e||t}},d=o.prototype,p="user",m=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(b).forEach((function(e){h[e]=b[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=m.slice().reverse().reduce((function(e,t){return t(d,p,e)||e}),h),f&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(f):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(d,p,h),h=null),l=h,o)
var d,p,m,b,f,h
e.default=c,Ember._setComponentTemplate(a,c)})),define("desktop-music-app/components/dt-uploaded-audio",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"C2ylMOXe",block:'[[[10,0],[14,0,"product-page uploaded-audio album"],[12],[1,"\\n    "],[10,0],[14,0,"product-info"],[12],[1,"\\n\\n        "],[10,0],[14,0,"header-and-songs-list"],[12],[1,"\\n            "],[10,0],[14,0,"product-header"],[12],[1,"\\n                "],[8,[39,0],null,[["@product","@isForMobile"],[[30,1],true]],null],[1,"\\n                \\n                "],[8,[39,1],null,[["@lockup","@artwork"],[[30,1],[30,1,["artwork"]]]],null],[1,"\\n                "],[8,[39,2],null,[["@product","@productName","@productCreator","@creatorPageUrl","@productMeta","@notesTitleKey","@songsList"],[[30,1],[30,1,["name"]],[30,2,["name"]],[30,2,["url"]],[30,1,["albumMeta"]],"FUSE.iTunesEditorNotes",[30,1,["songs"]]]],null],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,1,["songs"]],[[[1,"                "],[8,[39,4],null,[["@outerClass","@hasMoreTracks","@songs","@songsContainer","@playbackList","@showArtworkForSong"],["songs-list--album",false,[30,1,["songs"]],[30,1],[30,1,["songs"]],false]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@audio","@owner"],false,["cloud-button-container","dt-product-lockup","dt-product-page-header","if","dt-songs-list"]]',moduleName:"desktop-music-app/components/dt-uploaded-audio.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r=["heart-and-star","song","time"],(i="songsListColumns")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/dt-uploaded-video",["exports","@glimmer/component","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r){var n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"TthI3HXE",block:'[[[10,0],[14,0,"uploaded-video music-video product-page"],[12],[1,"\\n    "],[10,0],[14,0,"uploaded-video__page-header"],[12],[1,"\\n        "],[10,0],[14,0,"uploaded-video__page-header-video-container"],[12],[1,"\\n            "],[8,[39,0],[[24,0,"lockup"]],[["@video"],[[30,1]]],null],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"uploaded-video-description-container"],[12],[1,"\\n            "],[10,2],[14,0,"uploaded-video-description-container___video-name typography-large-title-emphasized"],[12],[1,"\\n                "],[1,[30,1,["name"]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,2],[14,0,"uploaded-video-description-container___owner-name typography-large-title"],[12],[1,"\\n"],[41,[30,2,["url"]],[[[1,"                    "],[10,3],[15,6,[30,2,["url"]]],[14,0,"dt-link-to"],[12],[1,"\\n                        "],[1,[30,2,["name"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[1,[30,2,["name"]]],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n\\n            "],[10,2],[14,0,"uploaded-video-description-container___genre typography-subhead"],[12],[1,"\\n                "],[1,[30,0,["uploadedDate"]]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"cloud-button-container uploaded-video-description-container___buttons"],[12],[1,"\\n"],[1,"\\n"],[1,"                    "],[8,[39,2],null,[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n"],[1,"                        "],[10,0],[14,0,"dt-media-contextual-menu__trigger menu-button round-button alt"],[12],[1," "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@video","@owner"],false,["dt-music-video-playback","if","dt-media-contextual-menu"]]',moduleName:"desktop-music-app/components/dt-uploaded-video.hbs",isStrictMode:!1})
let m=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.computed("args.video.uploadDate","locale.locale"),a=class extends t.default{constructor(...e){super(...e),c(this,"user",s,this),c(this,"locale",u,this)}get uploadedDate(){const e=Ember.get(this,"args.video.uploadDate"),t=Ember.get(this,"locale.locale"),n=new i.default(e)
return(0,i.format)(n,t,r.RELEASE_DATE_FORMAT).toLocaleUpperCase()}},s=d(a.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"locale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(a.prototype,"uploadedDate",[l],Object.getOwnPropertyDescriptor(a.prototype,"uploadedDate"),a.prototype),a)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/dt-upsell-banner",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/try-it-now","desktop-music-app/utils/feature-flags","desktop-music-app/config"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M
function C(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const D=Ember.HTMLBars.template({id:"toE8rty3",block:'[[[41,[30,0,["upsellBanner","showBanner"]],[[[1,"    "],[11,0],[24,0,"upsell-banner"],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,1],[[30,0,["didInsertNode"]]],null],[4,[38,2],[[30,0,["cleanupState"]]],null],[4,[38,3],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[1,"            "],[11,"button"],[24,0,"upsell-banner__close-button"],[16,"aria-label",[28,[37,4],["Close"],null]],[4,[38,3],["click",[30,0,["upsellCompact"]]],null],[12],[1,"\\n                "],[1,[28,[35,5],["mobile_banner_close"],[["class","aria-hidden"],["upsell-banner__close-btn-glyph","true"]]]],[1,"\\n            "],[13],[1,"\\n"],[1,"            "],[10,0],[14,0,"upsell-banner__text"],[12],[1,"\\n                "],[10,0],[14,0,"upsell-banner__head"],[12],[1,[30,0,["bannerMessageText"]]],[13],[1,"\\n                "],[10,0],[14,0,"upsell-banner__subhead"],[12],[1,[30,0,["subHeaderText"]]],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"button"],[14,0,"button button-reset button--upsell upsell-banner__button typography-amweb-button"],[14,4,"button"],[12],[1,"\\n                "],[1,[28,[35,4],[[30,0,["CTAText"]]],null]],[1,"\\n            "],[13],[1,"\\n"],[1,"    "],[13],[1,"\\n"]],[]],null]],[],false,["if","did-insert","will-destroy","on","t","svg-jar"]]',moduleName:"desktop-music-app/components/dt-upsell-banner.hbs",isStrictMode:!1}),{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:L,FINANCE_DYNAMICAMSUI_OPTION_KEYS:A,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:I}}=o.default,N="upsell-banner-visible--compact",R="upsell-banner-visible--overflow"
let F=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember._action,g=Ember._action,y=Ember._action,v=Ember._action,k=class extends t.default{constructor(...e){super(...e),C(this,"user",w,this),C(this,"i18n",E,this),C(this,"fastboot",_,this),C(this,"finance",P,this),C(this,"router",O,this),C(this,"platform",S,this),C(this,"storefront",z,this),C(this,"upsellBanner",j,this),C(this,"musickit",T,this),C(this,"commerceModalManager",M,this)}get dataMetricsClick(){return this.upsellBanner.metricsDataForClick}get isEligibleForWinbackOffer(){return this.upsellBanner.isEligibleForWinbackOffer}get bannerMessageText(){return this.upsellBanner.bannerMessageText}get subHeaderText(){return this.upsellBanner.subHeaderText}get CTAText(){return this.upsellBanner.CTAText}didInsertNode(e){this.fastboot.isFastBoot||(this.node=e)}_isWrapped(){(0,i.debounceTask)(this,"_debounceIsWrapped",500)}_debounceIsWrapped(){const e=this.node.querySelector(".upsell-banner__subhead"),{lineHeight:t}=window.getComputedStyle(e),i=parseInt(t.split("px")[0])
e.offsetHeight>=2*i-1?this.node.classList.add(R):this.node.classList.remove(R)}upsellCompact(e){e.stopPropagation(),document.body.classList.add(N)}onClick(){let e
e=this.storefront.subscriptionStorefront?!o.default.NON_SOW_COUNTRIES.includes(this.storefront.subscriptionStorefront):!o.default.NON_SOW_COUNTRIES.includes(this.storefront.resolvedStorefront),e?this.commerceModalManager.open("subscribe"):(0,r.default)(this.router.currentURL,this.platform)}cleanupState(){document.body.classList.remove(N)}},w=x(k.prototype,"user",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=x(k.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x(k.prototype,"fastboot",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x(k.prototype,"finance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x(k.prototype,"router",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=x(k.prototype,"platform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=x(k.prototype,"storefront",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=x(k.prototype,"upsellBanner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=x(k.prototype,"musickit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=x(k.prototype,"commerceModalManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x(k.prototype,"didInsertNode",[h],Object.getOwnPropertyDescriptor(k.prototype,"didInsertNode"),k.prototype),x(k.prototype,"upsellCompact",[g],Object.getOwnPropertyDescriptor(k.prototype,"upsellCompact"),k.prototype),x(k.prototype,"onClick",[y],Object.getOwnPropertyDescriptor(k.prototype,"onClick"),k.prototype),x(k.prototype,"cleanupState",[v],Object.getOwnPropertyDescriptor(k.prototype,"cleanupState"),k.prototype),k)
e.default=F,Ember._setComponentTemplate(D,F)})),define("desktop-music-app/components/dt-user-handle-input",["exports","@glimmer/component","desktop-music-app/utils/format-user-handle","desktop-music-app/utils/events"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,c(e,t,"set"),i),i}function c(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"smStkg9e",block:'[[[11,"input"],[24,4,"text"],[16,"oninput",[30,0,["onInput"]]],[16,"onkeydown",[30,0,["onKeydown"]]],[16,2,[30,0,["displayValue"]]],[24,0,"user-handle-input typography-title-3-tall"],[17,1],[4,[38,0],[[30,0,["storeInput"]]],null],[12],[13]],["&attrs"],false,["did-insert"]]',moduleName:"desktop-music-app/components/dt-user-handle-input.hbs",isStrictMode:!1}),m=/^(?:@[a-z0-9_]+)?$/,b=/[^a-zA-Z0-9_]/g,f=/^[a-zA-Z0-9]{2,}$/,h=/[@a-zA-Z0-9_]/
let g=(n=Ember._action,o=Ember._action,l=Ember._action,s=new WeakMap,d((a=class extends t.default{constructor(...e){super(...e),s.set(this,{writable:!0,value:void 0})}get displayValue(){const e=this.args.userHandle,t=(0,i.default)(e)
return"@"===e?e:t?`@${t}`:""}update(e){var t
this.isDestroying||this.isDestroyed||(0,r.dispatchCustomEvent)(function(e,t){return t.get?t.get.call(e):t.value}(t=this,c(t,s,"get")),"userhandlechanged",{bubbles:!0,detail:{handle:e}})}storeInput(e){u(this,s,e)}onKeydown(e){if(!(e.ctrlKey||e.altKey||e.metaKey)&&e.key){if(f.test(e.key))return
h.test(e.key)||(e.preventDefault(),e.stopPropagation())}}onInput(e){if(this.isDestroying||this.isDestroyed)return
const t=e.target,i=this.displayValue
let r=i
const n=t.value
let o=t.selectionStart
if(r===n)return
if(m.test(n))return void this.update(n)
const l=document.execCommand("undo",!1,null)
l&&(r=t.value)
const a=function(e,t,i){const r=t.length-i,n=e.length-r
let o=0
for(;o<n&&e.charAt(o)===t.charAt(o);)o++
return{selectionStart:o,selectionEnd:n,diff:t.substring(o,t.length-r)}}(r,n,o)
let{selectionStart:s,selectionEnd:u}=a
const{diff:c}=a
let d=c.replace(b,"")
""===c?"@"===n?s=0:"@"!==n.charAt(0)&&(d=`@${d}`,o++):""===r&&"@"===c?(d="@",o++):""===r?(d=`@${d}`,o++):r.length>0&&0===s&&"@"===c?(s++,u=Math.max(s,u)):r.length>0&&0===s?(s++,u=Math.max(s,u),o++):0===d.length&&(o=s),d=d.toLowerCase()
const p=`${r.substring(0,s)}${d}${r.substring(u)}`
p!==i&&this.update(p),l?(t.setSelectionRange(s,u),document.execCommand("insertText",!1,d),t.setSelectionRange(o,o)):t.value!==p&&(t.value=p,t.setSelectionRange(o,o))}}).prototype,"storeInput",[n],Object.getOwnPropertyDescriptor(a.prototype,"storeInput"),a.prototype),d(a.prototype,"onKeydown",[o],Object.getOwnPropertyDescriptor(a.prototype,"onKeydown"),a.prototype),d(a.prototype,"onInput",[l],Object.getOwnPropertyDescriptor(a.prototype,"onInput"),a.prototype),a)
e.default=g,Ember._setComponentTemplate(p,g)})),define("desktop-music-app/components/dt-web-add-to-library",["exports","web/components/dt-web-add-to-library"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome",["exports","web-chrome/components/dt-web-chrome"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome/auth",["exports","web-chrome/components/dt-web-chrome/auth"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome/playback-controls",["exports","web-chrome/components/dt-web-chrome/playback-controls"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome/playback-lcd",["exports","web-chrome/components/dt-web-chrome/playback-lcd"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome/playback-lcd/link",["exports","web-chrome/components/dt-web-chrome/playback-lcd/link"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-chrome/up-next",["exports","web-chrome/components/dt-web-chrome/up-next"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-navigation-playlist-entry",["exports","web-navigation/components/dt-web-navigation-playlist-entry"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/dt-web-navigation",["exports","web-navigation/components/dt-web-navigation"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/editable-textfield",["exports","@glimmer/component","desktop-music-app/utils/key-events","ember-lifeline"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"ZJgudYHs",block:'[[[11,0],[24,"tabindex","0"],[16,0,[29,["editable-textfield",[52,[30,0,["isEditing"]]," editable-textfield--is-editing"]]]],[4,[38,1],["click",[30,0,["onReceiveAttention"]]],null],[4,[38,1],["keydown",[30,0,["onReceiveAttention"]]],null],[4,[38,2],[[30,0,["didInsertNode"]]],null],[4,[38,3],[[30,0,["setValue"]],[30,1]],null],[12],[1,"\\n\\n"],[41,[30,0,["isEditing"]],[[[1,"        "],[10,0],[14,0,"editable-textfield__input_display"],[12],[1,"\\n            "],[11,"textarea"],[24,"rows","1"],[24,0,"typography-large-title-emphasized editable-textfield__input"],[24,"dir","auto"],[4,[38,2],[[30,0,["autofocusAndSetCursor"]]],null],[4,[38,1],["input",[30,0,["onInput"]]],null],[4,[38,1],["keydown",[30,0,["onConfirmInput"]]],null],[4,[38,1],["blur",[30,0,["onConfirmInput"]]],null],[12],[1,[30,1]],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"editable-textfield__display-text"],[12],[1,"\\n            "],[1,[30,0,["resolvedValue"]]],[1,"\\n        "],[13],[1,"\\n"]],[]]],[13]],["@value"],false,["if","on","did-insert","did-update"]]',moduleName:"desktop-music-app/components/editable-textfield.hbs",isStrictMode:!1})
let g=(n=Ember._tracked,o=Ember._tracked,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),b(this,"_value",p,this),b(this,"isEditing",m,this)}get resolvedValue(){const{value:e}=this.args
return this._value||e}didInsertNode(e){this._element=e}setValue(e,[t]){this._value=t}onReceiveAttention(e){if(this.isEditing)return
const t=new i.KeyEvent(e),{type:n}=e;("click"===n||t.isEnter)&&(this.isEditing=!0,window.requestAnimationFrame((()=>{if(this.isDestroying||this.isDestroyed)return
const e=this._element.querySelector("textarea")
e&&(e.setAttribute("style",`height:${e.scrollHeight}px`),e.selectionStart=this.args.value.length,(0,r.runTask)(this,(()=>{e.focus()}),100))})))}onInput(){const e=this._element.querySelector("textarea")
e.style.height="auto",e.style.height=`${e.scrollHeight}px`}onConfirmInput(e){var t
e.stopPropagation()
const r=new i.KeyEvent(e),n=r.isEscape||r.isEnter||"blur"===e.type,o="blur"===e.type&&!(null!==(t=e.relatedTarget)&&void 0!==t&&t.closest(".editable-textfield--is-editing")),l=r.isEnter||o
if(n){if(this.isEditing=!1,l){const t=e.target.value
var a,s
if(t)this._value=t.slice(0,255),null===(a=(s=this.args).onConfirmValue)||void 0===a||a.call(s,this._value)}this._element&&this._element.focus()}}autofocusAndSetCursor(e){e.focus()
const t=e.value.length
e.setSelectionRange(t,t)}},p=f(d.prototype,"_value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"isEditing",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.isEditing||!1}}),f(d.prototype,"didInsertNode",[l],Object.getOwnPropertyDescriptor(d.prototype,"didInsertNode"),d.prototype),f(d.prototype,"setValue",[a],Object.getOwnPropertyDescriptor(d.prototype,"setValue"),d.prototype),f(d.prototype,"onReceiveAttention",[s],Object.getOwnPropertyDescriptor(d.prototype,"onReceiveAttention"),d.prototype),f(d.prototype,"onInput",[u],Object.getOwnPropertyDescriptor(d.prototype,"onInput"),d.prototype),f(d.prototype,"onConfirmInput",[c],Object.getOwnPropertyDescriptor(d.prototype,"onConfirmInput"),d.prototype),d)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/ember-modal-dialog-positioned-container",["exports","ember-modal-dialog/components/positioned-container"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-modal-dialog/-basic-dialog",["exports","ember-modal-dialog/components/basic-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-modal-dialog/-in-place-dialog",["exports","ember-modal-dialog/components/in-place-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-modal-dialog/-liquid-dialog",["exports","ember-modal-dialog/components/liquid-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-modal-dialog/-liquid-tether-dialog",["exports","ember-modal-dialog/components/liquid-tether-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-modal-dialog/-tether-dialog",["exports","ember-modal-dialog/components/tether-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/ember-wormhole",["exports","ember-wormhole/components/ember-wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("desktop-music-app/components/explicit-badge",["exports","@glimmer/component","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"lVkHm6/F",block:'[[[11,0],[16,0,[29,["badge explicit ",[30,0,["badgeClass"]]]]],[16,"aria-label",[28,[37,0],["FUSE.Explicit"],null]],[24,"role","img"],[17,1],[12],[1,"\\n"],[41,[30,0,["displayKoreaExplicitBadge"]],[[[1,"        "],[1,[28,[35,2],["badge_korea_19"],[["class","aria-hidden"],["glyph","true"]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,2],["explicit"],[["class","aria-hidden"],["glyph","true"]]]],[1,"\\n"]],[]]],[13]],["&attrs"],false,["t","if","svg-jar"]]',moduleName:"desktop-music-app/components/explicit-badge.hbs",isStrictMode:!1})
let m=(r=Ember.inject.service,n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=class extends t.default{constructor(...e){super(...e),c(this,"locale",a,this),c(this,"bag",s,this),c(this,"musickitUser",u,this)}get displayKoreaExplicitBadge(){var e
return"kr"===(null===(e=this.musickitUser.subscription)||void 0===e?void 0:e.storefront)}get badgeClass(){return this.displayKoreaExplicitBadge?"korea":"default"}},a=d(l.prototype,"locale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"musickitUser",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/feature-episode",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/alt-tag","desktop-music-app/utils/time-range","desktop-music-app/utils/current-show","desktop-music-app/utils/editorial-video","desktop-music-app/utils/get-metrics-json"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N
function R(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function F(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const U=Ember.HTMLBars.template({id:"nk8wsbQN",block:'[[[11,"li"],[16,0,[29,["feature-episode__item hero shelf-grid__list-item",[52,[30,0,["heroArtwork"]]," has-lockup"," no-lockup"]]]],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,2],[[30,0,["didInsertNode"]]],null],[12],[1,"\\n    "],[10,1],[15,"aria-label",[30,0,["ariaLabel"]]],[14,"tabindex","0"],[12],[1,"\\n"],[41,[30,0,["heroLockup","name"]],[[[1,"            "],[10,0],[14,0,"shelf-grid__header feature-episode__header"],[12],[1,"\\n                "],[10,0],[14,0,"feature-episode__header-grid"],[12],[1,"\\n                    "],[10,0],[14,0,"feature-episode__header-titles"],[12],[1,"\\n                        "],[10,"h2"],[14,0,"shelf-title feature-episode__title"],[15,"aria-label",[30,0,["ariaHeroTitle"]]],[12],[1,"\\n"],[1,"                            "],[10,1],[14,0,"am-wordmark"],[14,"dir","ltr"],[15,"aria-label",[28,[37,3],["FUSE.AppleMusic"],null]],[12],[1,"Music"],[13],[1,"\\n                            "],[1,[30,0,["stationName"]]],[13],[1,"\\n                        "],[10,0],[14,0,"typography-title-3 feature-episode__subtitle"],[12],[1,[30,0,["tagline"]]],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"feature-episode__schedule"],[12],[1,"\\n"],[41,[30,0,["seeAllObject","id"]],[[[1,"                            "],[8,[39,4],[[24,0,"feature-episode__schedule-link"],[16,"data-dt-link-to-exclude",true],[16,"aria-label",[28,[37,3],["FUSE.Radio.Full.Schedule"],null]],[4,[38,1],["click",[30,0,["recordSeeAllMetrics"]]],null]],[["@route","@model","@bubbles"],["radio.see-all",[30,0,["seeAllObject"]],false]],[["default"],[[[[1,"\\n                                "],[1,[28,[35,5],["calendar"],[["class"],["feature-episode__schedule-glyph"]]]],[1,"\\n                            "]],[]]]]],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"feature-episode__lockup-container"],[15,5,[28,[37,6],[[30,0,["heroArtwork","url"]]],[["width","height"],[88,50]]]],[12],[1,"\\n"],[41,[30,0,["heroArtwork"]],[[[1,"                "],[8,[39,7],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--featured-episode feature-episode__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@alt","@lazyLoad"],[[30,0,["heroArtwork"]],"hero",[28,[37,8],[[30,0,["heroLockup"]]],null],[30,0,["altTag"]],false]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,9],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,0,["currentShow"]],[30,0,["editorialVideo"]],"feature-episode"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n            "],[10,0],[14,0,"feature-episode__chin"],[12],[1,"\\n                "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--featured-episode-blur feature-episode__artwork-blur"],[12],[13],[1,"\\n\\n                "],[8,[39,10],null,[["@value"],[[30,0,["primaryLine"]]]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"feature-episode__lockup-notes"],[15,"dir",[30,1]],[12],[1,"\\n"],[41,[30,0,["badgeLine"]],[[[1,"                            "],[10,2],[14,0,"feature-episode__badge-line typography-subhead-emphasized"],[12],[1,[28,[35,11],[[30,0,["badgeLine"]]],null]],[13],[1,"\\n"]],[]],null],[1,"                        "],[10,2],[14,0,"feature-episode__episode-subtitle typography-title-3-emphasized"],[12],[1,[30,0,["primaryLine"]]],[13],[1,"\\n"],[41,[30,0,["description"]],[[[1,"                            "],[8,[39,10],null,[["@value"],[[30,0,["description"]]]],[["default"],[[[[1,"\\n                                "],[10,2],[14,0,"feature-episode__description typography-callout"],[15,"dir",[30,2]],[12],[1,[28,[35,11],[[30,0,["description"]]],null]],[13],[1,"\\n                            "]],[2]]]]],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n                "]],[1]]]]],[1,"\\n            "],[13],[1,"\\n"],[41,[30,0,["heroArtwork"]],[[[1,"                "],[8,[39,12],[[24,0,"play-button--featured-episode-lockup"]],[["@lockup"],[[30,0,["heroLockup"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["direction","direction"],false,["if","on","did-insert","t","link-to","svg-jar","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","untrusted-html","dt-play-button"]]',moduleName:"desktop-music-app/components/feature-episode.hbs",isStrictMode:!1})
let B=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember._tracked,g=Ember.computed.or("currentShow.title","currentShow.subtitle","heroLockup.name"),y=Ember.computed.or("editorialVideoPreview","currentShow.heroArtwork","currentShow.artwork","heroLockup.editorialArtwork.subscriptionCover"),v=Ember.computed.or("args.hero.storeContentLink","args.hero"),k=Ember.computed.or("currentShow.editorialVideo","currentShow.editorialCard.editorialVideo"),w=Ember._action,E=Ember._action,_=Ember._action,P=class extends t.default{constructor(){super(...arguments),R(this,"i18n",O,this),R(this,"metrics",S,this),R(this,"playback",z,this),R(this,"router",j,this),R(this,"storefront",T,this),R(this,"user",M,this),R(this,"store",C,this),R(this,"editorialVideoShelfMonitor",x,this),R(this,"currentShow",D,this),R(this,"primaryLine",L,this),R(this,"heroArtwork",A,this),R(this,"heroLockup",I,this),R(this,"editorialVideoObj",N,this),this._setCurrentShow()}didInsertNode(){this._listenForNextShow()}_setCurrentShow(){if(this.isDestroyed||this.isDestroying)return
const{upcomingShows:e}=this
this.currentShow=(0,o.findCurrentShow)(e)}_listenForNextShow(){const e=Ember.get(this,"currentShow")
if(e){const t=+new Date(Ember.get(e,"endTime")),r=+new Date
if(t&&r&&t>r){const e=t-r;(0,i.runTask)(this,(()=>{this._setCurrentShow()}),e+50)}}}get editorialVideoPreview(){if(this.editorialVideoObj){const e=(0,l.bestVideoAssetKey)("feature-episode",this.editorialVideoObj)
if(e)return this.editorialVideoObj[e].previewFrame}}get editorialVideo(){if(this.editorialVideoShelfMonitor.isEnabled)return this.editorialVideoObj}get ariaHeroTitle(){const{stationName:e}=this
return this.i18n.t("AMWEB.Feature.Episode.Header",{stationName:e})}get ariaLabel(){return[this.ariaHeroTitle,this.primaryLine,this.badgeLine].map((e=>e?`${this.i18n.t("FUSE.Browse.Hero.ARIALabel.Format",{content:e})} `:"")).join("")}get altTag(){if(this.currentShow){const e={name:this.currentShow.title},{key:t,config:i}=(0,r.default)("brand",e)
return t?this.i18n.t(t,i):""}return""}get stationName(){var e
return null===(e=Ember.get(this,"heroLockup.name"))||void 0===e?void 0:e.replace("Apple Music ","")}get description(){if(this.currentShow)return this.currentShow.description}get curatorId(){var e,t
return null===(e=this.currentShow)||void 0===e||null===(t=e.curator)||void 0===t?void 0:t.id}get upcomingShows(){return(0,o.sortShows)(this.args.hero.upcomingShows.toArray())}get seeAllObject(){return{id:this.heroLockup.id,storefront:this.storefront.resolvedStorefront,station:this.heroLockup,upcomingShows:this.upcomingShows}}get tagline(){return Ember.get(this,"heroLockup.editorialNotes.tagline")}get badgeLine(){const e=Ember.get(this,"currentShow.startTime"),t=Ember.get(this,"currentShow.endTime"),i=this.i18n.t("FUSE.Live")
if(!e||!t)return i
try{const r=(0,n.default)(new Date(e),new Date(t),this.i18n.t("TimeRange.Digits")),o=this.i18n.t(...r)
return`${i} · ${o}`}catch(r){}}_recordPlayMetrics(e){const t=JSON.parse((0,a.default)(["playShelfItem"],{id:this.heroLockup.id,url:this.heroLockup.url}))
this.metrics.recordEvent("click",t,e)}recordSeeAllMetrics(e){const{id:t,url:i}=this.heroLockup,r=JSON.parse((0,a.default)(["radioSeeAll"],{url:i,actionDetails:{id:t,url:i}}))
this.metrics.recordEvent("click",r,e)}async onClick({target:e}){if("A"===e.tagName)return
this._recordPlayMetrics(e)
const t=e.closest("button")
if(null==t||!t.disabled){if(!t&&this.curatorId&&this.user.isLoggedIn){const e=this.router.urlFor("curator.index",this.storefront.resolvedStorefront,{id:this.curatorId,name:"foo"})
try{this.router.transitionTo(e)}catch(i){}}return this.playback.play(this.playback.getPlaybackConfig(this.heroLockup)),!1}}},O=F(P.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=F(P.prototype,"metrics",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F(P.prototype,"playback",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=F(P.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=F(P.prototype,"storefront",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=F(P.prototype,"user",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F(P.prototype,"store",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=F(P.prototype,"editorialVideoShelfMonitor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F(P.prototype,"currentShow",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=F(P.prototype,"primaryLine",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=F(P.prototype,"heroArtwork",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=F(P.prototype,"heroLockup",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=F(P.prototype,"editorialVideoObj",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F(P.prototype,"didInsertNode",[w],Object.getOwnPropertyDescriptor(P.prototype,"didInsertNode"),P.prototype),F(P.prototype,"recordSeeAllMetrics",[E],Object.getOwnPropertyDescriptor(P.prototype,"recordSeeAllMetrics"),P.prototype),F(P.prototype,"onClick",[_],Object.getOwnPropertyDescriptor(P.prototype,"onClick"),P.prototype),P)
e.default=B,Ember._setComponentTemplate(U,B)})),define("desktop-music-app/components/featured-content/316",["exports","@glimmer/component","desktop-music-app/utils/feature-flags"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"ED4dz3BV",block:'[[[8,[39,0],[[16,0,[29,["hero-shelf shelf--316",[52,[30,1]," divider-before"]]]]],[["@id","@disablePaddleHover","@grid","@applyUniformRatio","@items"],[[29,["316-",[30,2,["id"]]]],[28,[37,2],[[30,3],0],null],"A",false,[30,0,["items"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,4,["items"]]],null]],null],null,[[[1,"        "],[8,[30,4,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,5],[30,6],[28,[37,5],[[30,4,["items"]],[30,6]],null]]],[["default"],[[[[1,"\\n            "],[8,[39,6],null,[["@id","@index","@renderContent"],[[30,5,["id"]],[30,6],[28,[37,7],[[30,6],4],null]]],[["default"],[[[[1,"\\n                "],[8,[39,8],null,[["@index","@hero"],[[30,6],[30,5]]],null],[1,"\\n            "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[5,6]],null]],[4]]]]]],["@divider","@featuredContent","@shelfIndex","dts","hero","index"],false,["dt-shelf","if","eq","each","-track-array","is-last-array-index","render-in-viewport","lte","dt-hero"]]',moduleName:"desktop-music-app/components/featured-content/316.hbs",isStrictMode:!1})
class n extends t.default{get items(){let e=this.args.featuredContent.featuredContent||[]
return e=this.filterWebContent(e),this.pruneContent(e)}filterWebContent(e){return e.filter((e=>{var t
const i=e.model
if("383"===i.editorialElementKind&&i.liveUrl&&"https://uic.itunes.apple.com/live-stations/beats1/hero.json"===i.liveUrl)return!1
const r=i.contents&&Array.isArray(i.contents),[n]=r?i.contents:[]
return(!n||!n.isLive||"video"!==n.mediaKind||"stream"!==(null==n||null===(t=n.playParams)||void 0===t?void 0:t.format))&&e}))}pruneContent(e){return e.filter((e=>{var t,i
if(318===e.fcKind)return!1
let r=e.storeContentLink||e.storeContent
if(r=Array.isArray(r)?r[0]:r,!(r||null!=e&&e.link))return!1
const n=(null===(t=r)||void 0===t?void 0:t.editorialArtwork)||e.artwork
if(!n||0===Object.keys(n).length)return!1
const o=(null===(i=r)||void 0===i?void 0:i.editorialArtwork)||{}
return!(!o.subscriptionHero&&!o.subsciptionCover&&320===e.fcKind)&&e}))}}e.default=n,Ember._setComponentTemplate(r,n)})),define("desktop-music-app/components/featured-content/326",["exports","@glimmer/component","desktop-music-app/utils/async-for-each","desktop-music-app/config/environment","desktop-music-app/utils/musickit-data","desktop-music-app/components/search-list-lockup"],(function(e,t,i,r,n,o){var l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"pRfp59AO",block:'[[[41,[30,0,["filteredLockups","length"]],[[[1,"    "],[8,[39,1],[[16,0,[29,["shelf--326 ",[30,0,["shelfClasses"]]]]]],[["@id","@grid","@title","@items","@groupCount","@seeAllComponent"],[[29,["326-",[30,1,["id"]]]],[30,0,["gridType"]],[30,1,["name"]],[30,0,["filteredLockups"]],[30,0,["groupCount"]],[50,"see-all/url",0,null,[["url","label"],[[30,0,["seeAllUrl"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,1,["name"]]]]]]]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,2,["items"]]],null]],null],null,[[[1,"            "],[8,[30,2,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,3],[30,4],[28,[37,6],[[30,2,["items"]],[30,4]],null]]],[["default"],[[[[1,"\\n                "],[8,[39,7],null,[["@id","@index","@renderContent"],[[30,3,["id"]],[30,4],[28,[37,8],[[30,4],[30,0,["initialRender"]]],null]]],[["default"],[[[[1,"\\n"],[41,[28,[37,9],[[30,5],[30,0,["isExpanded"]]],null],[[[1,"                        "],[8,[39,10],null,[["@lockup","@index","@badge"],[[30,3],[30,4],[52,[28,[37,11],[[30,3,["rawJSON","streamingRadioSubType"]],"Episode"],null],[30,3,["itunesNotes","standard"]]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["isVideoKindSwoosh"]],[[[1,"                            "],[8,[39,12],null,[["@lockup","@playlist","@lazyLoad"],[[30,3],[30,0,["filteredLockups"]],[28,[37,13],[[30,6],[28,[37,14],[[30,4],5],null]],null]]],null],[1,"\\n"]],[]],[[[1,"                            "],[8,[39,12],null,[["@lockup","@lazyLoad"],[[30,3],[28,[37,13],[[30,6],[28,[37,14],[[30,4],5],null]],null]]],null],[1,"\\n"]],[]]]],[]]],[1,"                "]],[]]]]],[1,"\\n            "]],[]]]]],[1,"\\n"]],[3,4]],null],[1,"    "]],[2]]]]],[1,"\\n"]],[]],null]],["@featuredContent","dts","item","index","@isRadioRoot","@lazyLoad"],false,["if","dt-shelf","component","t","each","-track-array","is-last-array-index","render-in-viewport","lte","and","dt-featured-lockup","eq","dt-lockup","or","gte"]]',moduleName:"desktop-music-app/components/featured-content/326.hbs",isStrictMode:!1}),b="radio-playlist",f="episode",h="mixed",g="default",y="C",v={[g]:"G",[b]:"G",[f]:"G",[h]:"G",artists:"H",videos:y,"music-videos":y,"music-movies":y,"uploaded-videos":y,"tv-episodes":y}
let k=(l=Ember.inject.service,a=Ember.inject.service,s=class extends t.default{constructor(...e){var t,i,r
super(...e),d(this,"router",u,this),d(this,"storefront",c,this),r=!1,(i="isMixed")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.resolveData()}get filteredLockups(){return this.args.featuredContent.storeContent.filter((e=>!1!==Ember.get(e,"isLoaded")&&(0,n.hasAnyAttributes)(e)))}get initialRender(){return Math.min(Math.ceil(r.default.APP.SHELF_ITEMS_UNTIL_LAZY/((this.args.shelfIndex||2)/2)),r.default.APP.SHELF_ITEMS_UNTIL_LAZY)}async resolveData(){try{const e=await this.args.featuredContent.storeContent
if(this.containsRadioStationLockups){let t=!1,r=!1
await(0,i.default)(e,(e=>{e&&(e.episodeNumber?r=!0:t=!0)}))
const n=t&&r
Ember.set(this,"isMixed",n)}}catch(e){this.router.transitionTo("error")}}get containsRadioStationLockups(){return"radioStation"===Ember.get(this,"args.featuredContent.storeContent.firstObject.kind")}get isExpanded(){return"expanded"===Ember.get(this,"args.featuredContent.displayStyle")}get groupCount(){return this.isExpanded?2:1}get gridType(){return this.isExpanded&&this.args.isRadioRoot?"B":v[this.lockupType]||v.default}get lockupType(){var e,t
if(this.containsRadioStationLockups){if(this.isMixed)return h
const e=Ember.get(this,"args.featuredContent.storeContent.firstObject")
return e&&e.episodeNumber?f:b}const i=(null===(e=this.args.featuredContent)||void 0===e?void 0:e.storeContent)||[],r=null===(t=i[0])||void 0===t?void 0:t.type
return i.every((e=>e.type===r))?r:g}get shelfClasses(){let e=""
return this.args.divider&&(e+="divider-before"),this.groupCount>=2&&(this.lockupType===f||this.lockupType===b)?e+=" dt-shelf--group-spacerA-gap":this.groupCount>=2&&this.lockupType!==b&&(e+=" dt-shelf--group-lockup-h-gap"),e}get isVideoKindSwoosh(){return o.VIDEO_KINDS.includes(this.filteredLockups[0].kind)&&this.filteredLockups.every((e=>e.kind===this.filteredLockups[0].kind))}get seeAllUrl(){return this.router.urlFor("room",this.storefront.resolvedStorefront,this.args.featuredContent.id)}},u=p(s.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(s.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=k,Ember._setComponentTemplate(m,k)})),define("desktop-music-app/components/featured-content/327",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"NV4CByv9",block:'[[[8,[39,0],[[16,0,[29,["shelf--327",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@items","@itemComponent","@groupCount","@seeAllComponent"],[[29,["327-",[30,2,["id"]]]],"B",[30,2,["name"]],[30,2,["storeContent"]],"dt-list-lockup",4,[50,"see-all/url",0,null,[["url","label"],[[28,[37,3],["/room/",[30,2,["id"]],[30,2,["seeAllUrl"]]],null],[28,[37,4],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["name"]]]]]]]]]],null],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-shelf","if","component","concat","t"]]',moduleName:"desktop-music-app/components/featured-content/327.hbs",isStrictMode:!1})
class r extends t.default{get isExpanded(){const{featuredContent:{displayStyle:e},expanded:t}=this.args
return e===t}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/featured-content/328",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"nOZU6Qvl",block:'[[[8,[39,0],[[16,0,[29,["shelf--328",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@groupCount","@title","@items","@itemComponent","@seeAllComponent"],[[29,["328-",[30,2,["id"]]]],"A",2,[30,2,["name"]],[30,2,["storeContent"]],"dt-notes-lockup",[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["name"]]]]]]]]]],null],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-shelf","if","component","t"]]',moduleName:"desktop-music-app/components/featured-content/328.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/332",["exports","@glimmer/component","desktop-music-app/presenters/grouping/musickit"],(function(e,t,i){var r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"6/ViPu6y",block:'[[[41,[30,0,["user","isLoggedIn"]],[[[44,[[28,[37,2],[[30,0,["items"]]],[["list"],[true]]]],[[[41,[30,1,["value","length"]],[[[1,"            "],[8,[39,3],[[16,0,[29,["shelf--332",[52,[30,2]," divider-before"]]]]],[["@id","@grid","@title","@items","@itemComponent"],[[29,["332-",[30,3,["id"]]]],"G",[30,0,["title"]],[30,1,["value"]],[50,"dt-lockup",0,null,null]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,6],[[28,[37,6],[[30,4,["items"]]],null]],null],null,[[[1,"                    "],[8,[30,4,["listItem"]],null,[["@index","@isLastItem"],[[30,6],[28,[37,7],[[30,4,["items"]],[30,6]],null]]],[["default"],[[[[1,"\\n                        "],[8,[30,4,["itemComponent"]],null,[["@lazyLoad","@lockup","@line1"],[[28,[37,8],[[30,6],5],null],[30,5],[28,[37,9],[[30,5,["name"]],"Apple Music","Music"],null]]],null],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[5,6]],null],[1,"\\n            "]],[4]]]]],[1,"\\n"]],[]],null]],[1]]]],[]],null]],["resolvedModel","@divider","@featuredContent","dts","lockup","index"],false,["if","let","await","dt-shelf","component","each","-track-array","is-last-array-index","gte","string-replace"]]',moduleName:"desktop-music-app/components/featured-content/332.hbs",isStrictMode:!1})
let f=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,a=class extends t.default{constructor(){super(...arguments),p(this,"personalizationRefresh",s,this),p(this,"musickitData",u,this),p(this,"user",c,this),p(this,"updatedRecentlyPlayedList",d,this),this._setPersonalizationListeners()}get title(){return Ember.get(this,"args.featuredContent.model.name")}get items(){return this.updatedRecentlyPlayedList||Ember.get(this,"args.featuredContent.model.contents")}_setPersonalizationListeners(){this.personalizationRefresh.on("refresh",this,"_updateContent"),Ember._registerDestructor(this,(()=>{this.personalizationRefresh.off("refresh",this,"_updateContent")}))}async _updateContent(){if(this.user.isLoggedIn){var e,t
const r=await this.musickitData.recentlyPlayedRadioStations(),n=new i.default({tabs:[{contents:r}]})
this.updatedRecentlyPlayedList=null===(e=n.featuredContentList)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.contents}}},s=m(a.prototype,"personalizationRefresh",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(a.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(a.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(a.prototype,"updatedRecentlyPlayedList",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/featured-content/368",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"hJT2pGVs",block:'[[[8,[39,0],[[16,0,[29,["shelf--368",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@items","@itemComponent","@groupCount","@seeAllComponent"],[[29,["368-",[30,2,["id"]]]],"C",[30,2,["name"]],[30,2,["storeContent"]],[50,"dt-radio-station-lockup",0,null,null],2,[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["name"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,3,["lockupGroups"]]],null]],null],null,[[[1,"        "],[8,[30,3,["listItem"]],null,[["@item","@index","@isLastItem"],[[30,4],[30,5],[28,[37,6],[[30,3,["lockupGroups"]],[30,5]],null]]],[["default"],[[[[1,"\\n            "],[10,0],[14,0,"lockup-group"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,4]],null]],null],null,[[[1,"                    "],[8,[30,3,["itemComponent"]],null,[["@lockup"],[[30,6]]],null],[1,"\\n"]],[6]],null],[1,"            "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[4,5]],null]],[3]]]]],[1,"\\n"]],["@divider","@featuredContent","dts","lockupGroup","index","lockup"],false,["dt-shelf","if","component","t","each","-track-array","is-last-array-index"]]',moduleName:"desktop-music-app/components/featured-content/368.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/385",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"F6+3ZGTM",block:'[[[8,[39,0],[[16,0,[29,["shelf--385",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@items","@itemComponent","@title"],[[29,["385-",[30,2,["id"]]]],"C",[30,2,["featuredContent"]],[50,"dt-brick",0,null,[["lazyLoad"],[[30,3]]]],[30,2,["name"]]]],null],[1,"\\n"]],["@divider","@featuredContent","@lazyLoad"],false,["dt-shelf","if","component"]]',moduleName:"desktop-music-app/components/featured-content/385.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/387",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"FVZl3P6p",block:'[[[8,[39,0],[[16,0,[29,["master-swoosh shelf--387",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@items","@itemComponent","@seeAllComponent"],[[29,["387-",[30,2,["id"]]]],"C",[30,2,["name"]],[30,2,["storeContent"]],[50,"dt-lockup",0,null,[["config","parentFCKind"],["playlist-desc",[30,2,["fcKind"]]]]],[50,"see-all/url",0,null,[["url","label"],[[52,true,[28,[37,3],["/room/",[30,2,["id"]]],null],[30,2,["seeAllUrl"]]],[28,[37,4],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["name"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,6],[[28,[37,6],[[30,3,["items"]]],null]],null],null,[[[1,"        "],[8,[30,3,["listItem"]],null,[["@index","@isLastItem"],[[30,5],[28,[37,7],[[30,3,["items"]],[30,5]],null]]],[["default"],[[[[1,"\\n            "],[8,[39,8],null,[["@id","@index","@renderContent"],[[30,4,["id"]],[30,5],[28,[37,9],[[30,5],4],null]]],[["default"],[[[[1,"\\n                "],[8,[30,3,["itemComponent"]],null,[["@lockup","@line1","@selectedTrackIndex"],[[30,4],[30,4,["name"]],[30,5]]],null],[1,"\\n            "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[4,5]],null],[1,"\\n"]],[3]]]]],[1,"\\n"]],["@divider","@featuredContent","dts","lockup","index"],false,["dt-shelf","if","component","concat","t","each","-track-array","is-last-array-index","render-in-viewport","lte"]]',moduleName:"desktop-music-app/components/featured-content/387.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/388",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"cgBaOxxY",block:'[[[8,[39,0],[[16,0,[29,["shelf--388 dt-shelf--group-lockup-h-gap",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@groupCount","@items","@itemComponent"],[[29,["388-",[30,2,["id"]]]],"B",[30,2,["name"]],2,[30,2,["storeContent"]],[50,"dt-featured-lockup",0,null,null]]],null],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-shelf","if","component"]]',moduleName:"desktop-music-app/components/featured-content/388.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/389",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"N92uZZxL",block:'[[[8,[39,0],[[16,0,[29,["shelf--389",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@items","@groupCount","@itemComponent","@seeAllComponent"],[[29,["389-",[30,2,["id"]]]],"C",[28,[37,2],["IXDisplayableKind.playlist",[28,[37,3],null,[["pluralize","count"],[[30,0,["shortPlaylist","length"]],[30,0,["shortPlaylist","length"]]]]]],null],[30,0,["shortPlaylist"]],[52,[30,0,["isExpanded"]],2,1],[50,"dt-lockup",0,null,[["config"],["title-description"]]],[50,"see-all/url",0,null,[["url","label"],[[30,0,["beats1PlaylistSeeAllURL"]],[28,[37,2],["IXDisplayableKind.playlist",[28,[37,3],null,[["pluralize","count"],[[30,0,["shortPlaylist","length"]],[30,0,["shortPlaylist","length"]]]]]],null]]]]]],null],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-shelf","if","t","hash","component"]]',moduleName:"desktop-music-app/components/featured-content/389.hbs",isStrictMode:!1})
let p=(i=Ember.inject.service,r=Ember.computed.equal("args.featuredContent.displayStyle","expanded"),n=Ember.computed("args.playlists.[]"),o=Ember.computed("args.referenceId"),l=class extends t.default{constructor(...e){super(...e),u(this,"router",a,this),u(this,"isExpanded",s,this)}get shortPlaylist(){if(this.args.playlists){const e=this.args.playlists.toArray()
return e?e.slice(0,30):null}}get beats1PlaylistSeeAllURL(){return this.router.urlFor("radio-show-see-all",{id:this.args.referenceId})}},a=c(l.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"isExpanded",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"shortPlaylist",[n],Object.getOwnPropertyDescriptor(l.prototype,"shortPlaylist"),l.prototype),c(l.prototype,"beats1PlaylistSeeAllURL",[o],Object.getOwnPropertyDescriptor(l.prototype,"beats1PlaylistSeeAllURL"),l.prototype),l)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/featured-content/390",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ruW/iLew",block:'[[[8,[39,0],[[16,0,[29,["shelf--390",[52,[30,1]," divider-before"]]]]],[["@id","@grid","@title","@items","@itemComponent","@groupCount","@seeAllComponent"],[[29,["390-",[30,2,["id"]]]],"G",[30,2,["name"]],[30,2,["storeContent"]],[50,"dt-radio-station-lockup",0,null,null],2,[50,"see-all/url",0,null,[["url","label"],[[30,2,["seeAllUrl"]],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,2,["name"]]]]]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,3,["lockupGroups"]]],null]],null],null,[[[1,"        "],[10,0],[14,0,"lockup-group"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,4]],null]],null],null,[[[1,"                "],[8,[30,3,["listItem"]],null,[["@index","@isLastItem"],[[30,6],[28,[37,6],[[30,4],[30,6]],null]]],[["default"],[[[[1,"\\n                    "],[8,[30,3,["itemComponent"]],null,[["@lockup"],[[30,5]]],null],[1,"\\n                "]],[]]]]],[1,"\\n"]],[5,6]],null],[1,"        "],[13],[1,"\\n"]],[4]],null]],[3]]]]],[1,"\\n"]],["@divider","@featuredContent","dts","lockupGroup","lockup","index"],false,["dt-shelf","if","component","t","each","-track-array","is-last-array-index"]]',moduleName:"desktop-music-app/components/featured-content/390.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/391",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"wPJOzfW7",block:'[[[8,[39,0],[[16,0,[29,["shelf--391",[52,[30,1]," divider-before"]]]]],[["@title","@links","@contentLinks","@appendURL"],[[30,2,["name"]],[30,2,["links"]],[30,2,["contentLinks"]],[30,2,["appendURL"]]]],null],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-link-list","if"]]',moduleName:"desktop-music-app/components/featured-content/391.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/402",["exports","desktop-music-app/components/featured-content/326"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"N6LY54K5",block:'[[[8,[39,0],[[16,0,[29,["shelf--402 ",[30,0,["shelfClasses"]]]]]],[["@id","@grid","@title","@items","@groupCount","@itemComponent","@seeAllComponent"],[[29,["402-",[30,1,["id"]]]],[30,0,["gridType"]],[30,1,["Name"]],[30,1,["storeContent"]],[30,0,["groupCount"]],[50,"dt-lockup",0,null,[["config","lazyLoad"],["radio-station-standard-notes",[30,2]]]],[50,"see-all/url",0,null,[["url","label"],[[52,true,[28,[37,3],["/room/",[30,1,["id"]]],null],[30,1,["seeAllUrl"]]],[28,[37,4],["SeeAll.AriaLabel"],[["containerName"],[[30,1,["name"]]]]]]]]]],null],[1,"\\n"]],["@featuredContent","@lazyLoad"],false,["dt-shelf","component","if","concat","t"]]',moduleName:"desktop-music-app/components/featured-content/402.hbs",isStrictMode:!1})
class r extends t.default{}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/featured-content/407",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"97QrdT0N",block:'[[[8,[39,0],[[16,0,[29,["padded shelf--407",[52,[30,1]," divider-before"]]]]],[["@title","@displayStyle"],[[30,2,["name"]],[30,2,["displayStyle"]]]],[["default"],[[[[1,"\\n\\n    "],[10,0],[14,0,"page-description paragraphs"],[12],[1,[28,[35,2],[[30,2,["Description"]]],null]],[13],[1,"\\n\\n"]],[]]]]],[1,"\\n"]],["@divider","@featuredContent"],false,["dt-titled-box","if","untrusted-html"]]',moduleName:"desktop-music-app/components/featured-content/407.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-content/488",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"PzGNc02x",block:'[[[8,[39,0],[[16,0,[29,["hero-shelf hero-shelf--music-radio shelf--488 feature-episode",[52,[30,1]," divider-before"]]]]],[["@id","@monitorShelfVisibility","@grid","@applyUniformRatio","@items"],[[29,["488-",[30,2,["id"]]]],true,"music-radio",false,[30,2,["featuredContent"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,3,["items"]]],null]],null],null,[[[1,"        "],[8,[39,4],null,[["@hero"],[[30,4]]],null],[1,"\\n"]],[4]],null]],[3]]]]],[1,"\\n"]],["@divider","@featuredContent","dts","hero"],false,["dt-shelf","if","each","-track-array","feature-episode"]]',moduleName:"desktop-music-app/components/featured-content/488.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-release-details/album",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"HoJ62NCa",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,1]],[13],[1,"\\n\\n    "],[8,[39,0],null,[["@value"],[[30,2,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,3]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[10,3],[15,6,[30,2,["url"]]],[14,0,"dt-link-to"],[12],[1,[28,[35,1],[[30,2,["name"]]],null]],[13],[1,"\\n\\n"],[41,[28,[37,3],[[30,2]],null],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,4],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[3]]]]],[1,"\\n\\n    "],[10,"li"],[14,0,"line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["releaseSubSection"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@dateLabel","@featuredRelease","direction"],false,["bidi-text","untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/album.hbs",isStrictMode:!1})
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.computed("args.featuredRelease.trackCount"),o=class extends t.default{constructor(...e){super(...e),s(this,"i18n",l,this),s(this,"locale",a,this)}get releaseSubSection(){var e
const t=null===(e=this.args.featuredRelease)||void 0===e?void 0:e.trackCount
if(t)return this.i18n.t("FUSE.NoOfSongs",{count:this.locale.localizeNumber(t)})}},l=u(o.prototype,"i18n",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"locale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"releaseSubSection",[n],Object.getOwnPropertyDescriptor(o.prototype,"releaseSubSection"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/featured-release-details/default",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Pfi9MQ9A",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,1]],[13],[1,"\\n\\n    "],[8,[39,0],null,[["@value"],[[30,2,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,3]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[1,[28,[35,1],[[30,2,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,3],[[30,2]],null],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,4],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[3]]]]],[1,"\\n"],[13]],["@dateLabel","@featuredRelease","direction"],false,["bidi-text","untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/default.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-release-details/itunes-brand-show",["exports","@glimmer/component","desktop-music-app/utils/constants"],(function(e,t,i){var r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"86k7xRV4",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"featured-name"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,"\\n            "],[1,[28,[35,0],[[30,1,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,2],[[30,1]],null],[[[1,"                "],[10,1],[14,0,"feature-release-explicit"],[12],[8,[39,3],null,null,null],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["line2"]],[[[1,"        "],[10,"li"],[14,0,"featured-sub line2"],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,[30,0,["line2"]]],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[13]],["@featuredRelease"],false,["untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/itunes-brand-show.hbs",isStrictMode:!1})
let l=(r=Ember.computed("args.featuredRelease.itunesNotes.standard"),n=class extends t.default{get line2(){var e,t
return(null===(e=this.args.featuredRelease)||void 0===e||null===(t=e.itunesNotes)||void 0===t?void 0:t.standard)||i.BEATS_1_TITLE}},a=n.prototype,s="line2",u=[r],c=Object.getOwnPropertyDescriptor(n.prototype,"line2"),d=n.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/featured-release-details/linear-show-brand",["exports","@glimmer/component"],(function(e,t){var i,r,n,o
function l(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"nacAJOe0",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"featured-name"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,"\\n            "],[1,[28,[35,0],[[30,1,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,2],[[30,1]],null],[[[1,"                "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,3],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["releaseYearAndEpisodeCount"]],[[[1,"        "],[10,"li"],[14,0,"featured-sub line2"],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,[30,0,["releaseYearAndEpisodeCount"]]],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[13]],["@featuredRelease"],false,["untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/linear-show-brand.hbs",isStrictMode:!1})
let s=(i=Ember.inject.service,r=Ember.computed("args.featuredRelease.{releaseYear,episodeCount}"),n=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="i18n",n=this,(r=o)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get releaseYearAndEpisodeCount(){const e=this.args.featuredRelease.releaseYear,t=this.args.featuredRelease.episodeCount
return this.i18n.t("FUSE.ReleaseYearAndEpisodeCount",{releaseYear:e,episodeCount:t})}},o=l(n.prototype,"i18n",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(n.prototype,"releaseYearAndEpisodeCount",[r],Object.getOwnPropertyDescriptor(n.prototype,"releaseYearAndEpisodeCount"),n.prototype),n)
e.default=s,Ember._setComponentTemplate(a,s)})),define("desktop-music-app/components/featured-release-details/movie",["exports","@glimmer/component","desktop-music-app/utils/format-duration"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"c/Fmvcwa",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"featured-name"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,"\\n            "],[1,[28,[35,0],[[30,1,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,2],[[30,1]],null],[[[1,"                "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,3],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"li"],[14,0,"line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["releaseYearAndDuration"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@featuredRelease"],false,["untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/movie.hbs",isStrictMode:!1})
let p=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.computed("args.featuredRelease.offers"),l=class extends t.default{constructor(...e){super(...e),u(this,"i18n",a,this),u(this,"locale",s,this)}get releaseYearAndDuration(){var e,t,r
const n=null===(e=this.args.featuredRelease)||void 0===e||null===(t=e.offers)||void 0===t?void 0:t[0].assets
if(!n)return
const o=n.find((e=>e.duration)),{duration:l}=o,a=(0,i.formatDuration)(l,this.locale.locale),s=null===(r=this.args.featuredRelease)||void 0===r?void 0:r.releaseYear
return this.i18n.t("FUSE.ReleaseYearAndDuration",{releaseYear:s,formattedDuration:a})}},a=c(l.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"locale",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"releaseYearAndDuration",[o],Object.getOwnPropertyDescriptor(l.prototype,"releaseYearAndDuration"),l.prototype),l)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/featured-release-details/music-video",["exports","@glimmer/component","desktop-music-app/utils/format-duration"],(function(e,t,i){var r,n,o,l
function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"FiJb2YdU",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,1]],[13],[1,"\\n\\n    "],[8,[39,0],null,[["@value"],[[30,2,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,3]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[1,[28,[35,1],[[30,2,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,3],[[30,2]],null],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,4],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[3]]]]],[1,"\\n\\n    "],[10,"li"],[14,0,"line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["formattedDuration"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@dateLabel","@featuredRelease","direction"],false,["bidi-text","untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/music-video.hbs",isStrictMode:!1})
let u=(r=Ember.inject.service,n=Ember.computed("args.featuredRelease.offers"),o=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="locale",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get formattedDuration(){var e,t
const r=null===(e=this.args.featuredRelease)||void 0===e||null===(t=e.offers)||void 0===t?void 0:t[0].assets
if(!r)return
const n=r.find((e=>e.duration)),{duration:o}=n
return(0,i.formatDuration)(o,this.locale.locale)}},l=a(o.prototype,"locale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(o.prototype,"formattedDuration",[n],Object.getOwnPropertyDescriptor(o.prototype,"formattedDuration"),o.prototype),o)
e.default=u,Ember._setComponentTemplate(s,u)})),define("desktop-music-app/components/featured-release-details/playlist",["exports","@glimmer/component","desktop-music-app/utils/date-time"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"rfoJhoFE",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,0,["lastModifiedDate"]]],[13],[1,"\\n    "],[8,[39,0],null,[["@value"],[[30,1,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,2]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[10,3],[15,6,[30,1,["url"]]],[14,0,"dt-link-to"],[12],[1,[28,[35,1],[[30,1,["name"]]],null]],[13],[1,"\\n\\n"],[41,[28,[37,3],[[30,1]],null],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,4],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[2]]]]],[1,"\\n\\n    "],[10,"li"],[14,0,"line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["releaseSubSection"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@featuredRelease","direction"],false,["bidi-text","untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/playlist.hbs",isStrictMode:!1})
let m=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.computed("args.featuredRelease.lastModifiedData"),l=Ember.computed("args.featuredRelease.{trackCount,childrenIds}"),a=class extends t.default{constructor(...e){super(...e),c(this,"i18n",s,this),c(this,"locale",u,this)}get lastModifiedDate(){const e=this.args.featuredRelease.lastModifiedDate
return(0,i.lastModifiedDate)(e,this.i18n).toLocaleUpperCase()}get releaseSubSection(){var e,t,i
const r=(null===(e=this.args.featuredRelease)||void 0===e?void 0:e.trackCount)||(null===(t=this.args.featuredRelease)||void 0===t||null===(i=t.childrenIds)||void 0===i?void 0:i.length)
if(r)return this.i18n.t("FUSE.NoOfSongs",{count:this.locale.localizeNumber(r)})}},s=d(a.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"locale",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(a.prototype,"lastModifiedDate",[o],Object.getOwnPropertyDescriptor(a.prototype,"lastModifiedDate"),a.prototype),d(a.prototype,"releaseSubSection",[l],Object.getOwnPropertyDescriptor(a.prototype,"releaseSubSection"),a.prototype),a)
e.default=m,Ember._setComponentTemplate(p,m)})),define("desktop-music-app/components/featured-release-details/radio-station",["exports","@glimmer/component","desktop-music-app/utils/format-duration","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"09VmKHLC",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n"],[41,[30,0,["airedDate"]],[[[1,"        "],[10,"li"],[14,0,"date-str"],[12],[1,[30,0,["airedDate"]]],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,1],null,[["@value"],[[30,1,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,2]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[10,1],[14,0,"dt-link-to"],[12],[1,[28,[35,2],[[30,1,["name"]]],null]],[13],[1,"\\n\\n"],[41,[28,[37,3],[[30,1]],null],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,4],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[2]]]]],[1,"\\n\\n    "],[10,"li"],[14,0,"featured-sub line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["formattedDuration"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@featuredRelease","direction"],false,["if","bidi-text","untrusted-html","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/radio-station.hbs",isStrictMode:!1})
let f=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.computed("args.featuresRelease.durationInMillis"),s=Ember.computed("args.featuredRelease.airTime.start"),u=class extends t.default{constructor(...e){super(...e),p(this,"i18n",c,this),p(this,"locale",d,this)}get formattedDuration(){var e
const t=null===(e=this.args.featuredRelease)||void 0===e?void 0:e.durationInMillis,r=Math.floor(t/1e3)
return(0,i.formatDuration)(r,this.locale.locale)}get airedDate(){var e,t
const i=null===(e=this.args.featuredRelease)||void 0===e||null===(t=e.airTime)||void 0===t?void 0:t.start
if(!i)return
const{i18n:o}=this,l=new r.default(i),a=(0,r.format)(l,o,n.FEATURED_DATE_FORMAT).toLocaleUpperCase()
return o.t("Fuse.Artist.AiredDate",{airedDate:a})}},c=m(u.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(u.prototype,"locale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(u.prototype,"formattedDuration",[a],Object.getOwnPropertyDescriptor(u.prototype,"formattedDuration"),u.prototype),m(u.prototype,"airedDate",[s],Object.getOwnPropertyDescriptor(u.prototype,"airedDate"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/featured-release-details/streaming",["exports","@glimmer/component","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r){var n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"evrNA22v",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n"],[41,[30,0,["airedDate"]],[[[1,"        "],[10,"li"],[14,0,"date-str"],[12],[1,[30,0,["airedDate"]]],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,1],null,[["@value"],[[30,1,["name"]]]],[["default"],[[[[1,"\\n        "],[10,"li"],[14,0,"featured-name"],[15,"dir",[30,2]],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,"\\n                "],[10,1],[14,0,"dt-link-to"],[12],[1,[28,[35,2],[[30,1,["name"]]],null]],[13],[1,"\\n\\n"],[41,[30,1,["contentRating"]],[[[1,"                    "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,3],null,[["@badge"],[[30,1,["contentRating"]]]],null],[1," "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[2]]]]],[1,"\\n\\n"],[41,[30,1,["editorialNotes","short"]],[[[1,"        "],[10,"li"],[14,0,"featured-sub line2"],[12],[1,"\\n            "],[10,1],[14,0,"line"],[12],[1,[30,1,["editorialNotes","short"]]],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[13]],["@featuredRelease","direction"],false,["if","bidi-text","untrusted-html","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/streaming.hbs",isStrictMode:!1})
let s=(n=Ember.inject.service,o=class extends t.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="i18n",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get airedDate(){var e,t
const n=null===(e=this.args.featuredRelease)||void 0===e||null===(t=e.airTime)||void 0===t?void 0:t.start
if(!n)return
const{i18n:o}=this,l=new i.default(n),a=(0,i.format)(l,o,r.FEATURED_DATE_FORMAT).toLocaleUpperCase()
return o.t("Fuse.Artist.AiredDate",{airedDate:a})}},u=o.prototype,c="i18n",d=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(p).forEach((function(e){b[e]=p[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(u,c,b),b=null),l=b,o)
var u,c,d,p,m,b
e.default=s,Ember._setComponentTemplate(a,s)})),define("desktop-music-app/components/featured-release-details/tv-episode",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"/vBDky4O",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,1]],[13],[1,"\\n    "],[10,"li"],[14,0,"featured-name"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,"\\n            "],[10,3],[15,6,[30,2,["url"]]],[14,0,"dt-link-to"],[12],[1,[28,[35,0],[[30,2,["name"]]],null]],[13],[1,"\\n\\n"],[41,[28,[37,2],[[30,2]],null],[[[1,"                "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,3],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"li"],[14,0,"line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,2,["collectionName"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@dateLabel","@featuredRelease"],false,["untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/tv-episode.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/featured-release-details/uploaded-content",["exports","@glimmer/component","desktop-music-app/utils/constants","desktop-music-app/utils/precision-date","desktop-music-app/utils/format-duration"],(function(e,t,i,r,n){var o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"9eywZI6h",block:'[[[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n    "],[10,"li"],[14,0,"date-str"],[12],[1,[30,0,["addedDate"]]],[13],[1,"\\n\\n    "],[10,"li"],[14,0,"featured-name"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,"\\n            "],[1,[28,[35,0],[[30,1,["name"]]],null]],[1,"\\n\\n"],[41,[28,[37,2],[[30,1]],null],[[[1,"                "],[10,1],[14,0,"feature-release-explicit"],[12],[1," "],[8,[39,3],null,null,null],[1," "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"li"],[14,0,"featured-sub line2"],[12],[1,"\\n        "],[10,1],[14,0,"line"],[12],[1,[30,0,["formattedDuration"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@featuredRelease"],false,["untrusted-html","if","is-explicit","explicit-badge"]]',moduleName:"desktop-music-app/components/featured-release-details/uploaded-content.hbs",isStrictMode:!1})
let f=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.computed("args.featuredRelease.duration"),s=Ember.computed("args.featuredRelease.uploadDate"),u=class extends t.default{constructor(...e){super(...e),p(this,"i18n",c,this),p(this,"locale",d,this)}get formattedDuration(){var e
const t=null===(e=this.args.featuredRelease)||void 0===e?void 0:e.duration
return(0,n.formatDuration)(t,this.locale.locale)}get addedDate(){var e
const t=null===(e=this.args.featuredRelease)||void 0===e?void 0:e.uploadDate
if(t){const e=this.i18n,n=new r.default(t),o=(0,r.format)(n,e,i.FEATURED_DATE_FORMAT).toLocaleUpperCase()
return e.t("Fuse.Artist.AddedDate",{addedDate:o})}}},c=m(u.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(u.prototype,"locale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(u.prototype,"formattedDuration",[a],Object.getOwnPropertyDescriptor(u.prototype,"formattedDuration"),u.prototype),m(u.prototype,"addedDate",[s],Object.getOwnPropertyDescriptor(u.prototype,"addedDate"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/featured-release",["exports","@glimmer/component","desktop-music-app/utils/feature-flags","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ADDABLE_KINDS=e.SPECIALIZED_FEATURED_RELEASE_KINDS=void 0
const p=Ember.HTMLBars.template({id:"4Ytly7u5",block:'[[[8,[39,0],[[16,0,[29,["summary-lockup-media summary-lockup-media--",[30,1,["kind"]]]]]],[["@title"],[[30,2]]],[["default"],[[[[1,"\\n\\n    "],[8,[39,1],[[24,0,"latest-release"]],[["@linkable","@lockup","@lazyLoad"],[[30,0,["shouldLinkToProduct"]],[30,1],false]],null],[1,"\\n\\n    "],[10,0],[14,0,"lockup"],[12],[1,"\\n        "],[10,0],[14,0,"detail-section lockup-info"],[12],[1,"\\n"],[44,[[50,[30,0,["featuredReleaseDetailsComponent"]],0,null,null]],[[[1,"                "],[8,[30,3],null,[["@featuredRelease","@dateLabel"],[[30,1],[30,0,["dateLabel"]]]],null],[1,"\\n"]],[3]]],[1,"\\n"],[41,[30,0,["shouldShowAddButton"]],[[[1,"                    "],[8,[39,5],null,[["@lockup"],[[30,1]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]]],[1,"\\n"]],["@featuredRelease","@featuredReleaseTitle","FeaturedReleaseDetails"],false,["dt-titled-box","dt-lockup","let","component","if","dt-web-add-to-library"]]',moduleName:"desktop-music-app/components/featured-release.hbs",isStrictMode:!1}),m=["album","playlist","tvEpisode","radioStation","movie","musicVideo","streaming","uploadedAudio","uploadedVideo"]
e.SPECIALIZED_FEATURED_RELEASE_KINDS=m
const b=["album","playlist","tvEpisode","musicVideo"]
e.ADDABLE_KINDS=b
const f=["album","movie","playlist"]
let h=(o=Ember.inject.service,l=Ember.inject.service,a=class extends t.default{constructor(...e){super(...e),c(this,"i18n",s,this),c(this,"user",u,this)}get isiTunesBrandedProduct(){const e=Ember.get(this,"args.featuredRelease.kind"),t=Ember.get(this,"args.featuredRelease.iTunesBrandType")
return"iTunesBrand"===e&&"Show"===t||"showBrand"===e&&"Linear"===t}get shouldLinkToProduct(){const e=Ember.get(this,"args.featuredRelease.kind")
return!!this.isiTunesBrandedProduct||f.includes(e)}get shouldShowAddButton(){if(this.user.isSubscribed){const e=Ember.get(this,"args.featuredRelease.kind")
return b.includes(e)}}get featuredReleaseDetailsComponent(){const e=Ember.get(this,"args.featuredRelease.kind"),t=Ember.get(this,"args.featuredRelease.iTunesBrandType")
return"iTunesBrand"===e&&"Show"===t?"featured-release-details/itunes-brand-show":"showBrand"===e&&"Linear"===t?"featured-release-details/linear-show-brand":"uploadedAudio"===e||"uploadedVideo"===e?"featured-release-details/uploaded-content":m.includes(e)?`featured-release-details/${Ember.String.dasherize(e)}`:"featured-release-details/default"}get preOrderDate(){return Ember.get(this,"args.featuredRelease.offers.firstObject.expectedReleaseDate")}get dateLabel(){if("radioStation"===Ember.get(this,"featuredRelease.kind"))return
let e=Ember.get(this,"args.featuredRelease.releaseDate")
const t=Ember.get(this,"args.featuredRelease.isPreorder")
t&&this.preOrderDate&&(e=this.preOrderDate)
let i=""
if(e){const o=new r.default(e),l=this.i18n
i=(0,r.format)(o,l,n.FEATURED_DATE_FORMAT).toLocaleUpperCase(),t&&(i=l.t("Fuse.Artist.PreRelease",{releaseDate:i}))}return i}},s=d(a.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"user",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=h,Ember._setComponentTemplate(p,h)})),define("desktop-music-app/components/fps-measuring-wrapper",["exports","@glimmer/component","desktop-music-app/config"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{editorialVideoFPSThreshold:c}=i.default
let d,p=(r=Ember.inject.service,n=Ember.inject.service,o=class extends t.default{constructor(){super(...arguments),s(this,"editorialVideoSwitchToggle",l,this),s(this,"fastboot",a,this),this.fastboot.isFastBoot||Ember.testing||this.startFpsMeasuring()}willDestroy(){super.willDestroy(...arguments),this.fastboot.isFastBoot||this.stopFpsMeasuring()}startFpsMeasuring(){const e=[],t=Date.now()
let i
window.requestAnimationFrame(function r(){const n=performance.now(),o=Date.now()
for(;e.length>0&&e[0]<=n-1e3;)e.shift()
e.push(n),i=e.length,i>=c?this.editorialVideoSwitchToggle.processorCanHandleEditorialVideo=!0:o<=t+3e4?d=window.requestAnimationFrame(r.bind(this)):this.stopFpsMeasuring()}.bind(this))}stopFpsMeasuring(){window.cancelAnimationFrame(d)}},l=u(o.prototype,"editorialVideoSwitchToggle",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=p}))
define("desktop-music-app/components/infinite-scroll",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"Cs2k9krq",block:'[[[41,[30,1],[[[1,"    "],[11,1],[24,0,"infinite-scroll"],[4,[38,1],[[30,0,["setupObserver"]]],null],[4,[38,2],[[30,0,["teardownObserver"]]],null],[12],[1,"\\n        "],[41,[30,2],[[[18,3,null]],[]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],["@hasMore","@isFetching","&default"],false,["if","did-insert","will-destroy","yield"]]',moduleName:"desktop-music-app/components/infinite-scroll.hbs",isStrictMode:!1})
let c=(i=Ember.inject.service,r=Ember._action,n=Ember._action,o=Ember._action,l=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="inViewport",r=this,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),this.bottomTolerance=this.args.bottomTolerance||250}setupObserver(e){window.requestAnimationFrame((()=>{if(this.isDestroyed||this.isDestroying)return
const{onEnter:t}=this.inViewport.watchElement(e,{scrollableArea:this.args.scrollableArea,viewportSpy:!0,viewportTolerance:{bottom:this.bottomTolerance}})
t(this.didEnterViewport)}))}teardownObserver(e){this.inViewport.stopWatching(e)}didEnterViewport(){!this.args.isFetching&&this.args.hasMore&&this.fetchMore()}fetchMore(){this.args.action()}},a=s(l.prototype,"inViewport",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(l.prototype,"setupObserver",[r],Object.getOwnPropertyDescriptor(l.prototype,"setupObserver"),l.prototype),s(l.prototype,"teardownObserver",[n],Object.getOwnPropertyDescriptor(l.prototype,"teardownObserver"),l.prototype),s(l.prototype,"didEnterViewport",[o],Object.getOwnPropertyDescriptor(l.prototype,"didEnterViewport"),l.prototype),l)
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/items-resolver",["exports","@amp/ember-ui-media-shelf/components/items-resolver"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/library-albums",["exports","web/components/library-albums"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/library-artist-icon",["exports","web/components/library-artist-icon"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/library-playlists",["exports","web/components/library-playlists"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/line-clamp",["exports","@glimmer/component","desktop-music-app/utils/logger","desktop-music-app/utils/truncate-text"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"3vBl8/eg",block:'[[[11,1],[16,0,[29,["line-clamp",[52,[30,1],[28,[37,1],[" ",[30,1]],null]]]]],[16,5,[28,[37,2],[[28,[37,1],["--clampLines:",[30,2]],null]],null]],[4,[38,3],[[30,0,["setupClamp"]]],null],[4,[38,4],[[30,0,["updateClamp"]],[30,3]],null],[4,[38,5],[[30,0,["willDestroyNode"]],[30,0]],null],[12],[1,"\\n    "],[8,[39,6],null,[["@value","@isAutoDir"],[[30,3],true]],null],[1,"\\n"],[13],[1,"\\n"]],["@class","@maxLines","@text"],false,["if","concat","trusted-css","did-insert","did-update","will-destroy","bidi-text"]]',moduleName:"desktop-music-app/components/line-clamp.hbs",isStrictMode:!1})
let g=(n=Ember.inject.service("-document"),o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,s=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),b(this,"documentService",d,this),b(this,"locale",p,this),b(this,"media",m,this)}clamp(e){e.style.setProperty("--clampLines",1e3)
const t=(0,r.getMaxHeight)(e,this.args.maxLines)
if((0,r.getOffsetHeight)(e)>t){e.style.setProperty("--clampLines",this.args.lines)
const t=(0,r.getLineHeight)(e)
e.style.setProperty("--lineHeight",t)
const i=this.args.seeMoreText.length
e.style.setProperty("--linkLength",i)
const n=(0,r.getFontSize)(e)*(0,r.getCharWidth)(this.locale.locale)/13
e.style.setProperty("--oneCh",n)
const o="rtl"===this.documentService.documentElement.getAttribute("dir")?90:270
return e.style.setProperty("--fadeDirection",o),!0}return this._resetClamp(e),!1}_tryClamp(e){if(this.isDestroyed||this.isDestroying)return
if(!this.args.lines||!this.args.text)return void(0,i.log)("lines or text were not passed as arguments")
let t=!1
this.args.text&&(t=this.clamp(e)),this.args.didTruncate(t)}_resetClamp(e){e.style.removeProperty("--clampLines"),e.style.removeProperty("--lineHeight"),e.style.removeProperty("--linkLength"),e.style.removeProperty("--oneCh"),e.style.removeProperty("--fadeDirection")}_resetOnResize(e){Ember.run.scheduleOnce("afterRender",this,this._tryClamp,e)}setupClamp(e){const t=this._resetOnResize.bind(this,e)
Ember.set(this,"_reclampHandler",t),this.media.on("mediaChanged",t),Ember.run.scheduleOnce("afterRender",this,this._tryClamp,e)}updateClamp(e){this._tryClamp(e)}willDestroyNode(){this.media.off("mediaChanged",this._reclampHandler)}},d=f(c.prototype,"documentService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"locale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(c.prototype,"media",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(c.prototype,"setupClamp",[a],Object.getOwnPropertyDescriptor(c.prototype,"setupClamp"),c.prototype),f(c.prototype,"updateClamp",[s],Object.getOwnPropertyDescriptor(c.prototype,"updateClamp"),c.prototype),f(c.prototype,"willDestroyNode",[u],Object.getOwnPropertyDescriptor(c.prototype,"willDestroyNode"),c.prototype),c)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/list-key-navigation",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/key-events","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a,s,u
function c(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,p(e,t,"get"))}function d(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,p(e,t,"set"),i),i}function p(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"bVHHp3MI",block:'[[[18,1,[[30,0]]]],["&default"],false,["yield"]]',moduleName:"desktop-music-app/components/list-key-navigation.hbs",isStrictMode:!1})
let f=(o=Ember._action,l=Ember._action,a=Ember._action,u=new WeakMap,m((s=class extends t.default{constructor(...e){super(...e),u.set(this,{writable:!0,value:void 0})}selectItem(e){if(e){e.focus()
const t=Ember.guidFor(e)
e.setAttribute("id",t)
const i=new CustomEvent("itemselected",{bubbles:!0})
e.dispatchEvent(i)}}setupItemSelectionTracking(e){d(this,u,e),(0,i.addEventListener)(this,document,"keydown",this.onKeyboardNavigation),(0,i.addEventListener)(this,document,"click",this.onOutsideClick)}onOutsideClick(e){var t
if(null===c(this,u).offsetParent)return
var i,r;(e.path||(null===(t=e.composedPath)||void 0===t?void 0:t.call(e))||[]).includes(c(this,u))||(null===(i=(r=this.args).onOutsideClick)||void 0===i||i.call(r,e))}onKeyboardNavigation(e){if(this.args.onKeyboardNavigation&&!1===this.args.onKeyboardNavigation(e))return
const t=new r.KeyEvent(event);(t.isArrowUp||t.isArrowDown)&&e.preventDefault(),(0,i.debounceTask)(this,"_navigateItems",t,50)}_navigateItems(e){if(e.isVoiceOverModifier)return
const t=Array.from(c(this,u).querySelectorAll(n.NAVIGABLE_ITEM_SELECTOR)),i=t.indexOf(document.activeElement)
if(e.isArrowUp){if(!i)return void this.selectItem(t.slice(-1)[0])
this.selectItem(t[i-1])}else if(e.isArrowDown){if(i<0||i>=t.length-1)return void this.selectItem(t[0])
this.selectItem(t[i+1])}else e.isTab||e.isShift||t.includes(document.activeElement)&&document.activeElement.click()}}).prototype,"setupItemSelectionTracking",[o],Object.getOwnPropertyDescriptor(s.prototype,"setupItemSelectionTracking"),s.prototype),m(s.prototype,"onOutsideClick",[l],Object.getOwnPropertyDescriptor(s.prototype,"onOutsideClick"),s.prototype),m(s.prototype,"onKeyboardNavigation",[a],Object.getOwnPropertyDescriptor(s.prototype,"onKeyboardNavigation"),s.prototype),s)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/live-badge",["exports","@glimmer/component","desktop-music-app/utils/precision-date","desktop-music-app/utils/live-events","desktop-music-app/utils/media-type","desktop-music-app/utils/raf-clock"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k
function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,_(e,t,"set"),i),i}function _(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function P(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const O=Ember.HTMLBars.template({id:"PKQbVsVY",block:'[[[41,[28,[37,1],[[30,0,["isLive"]],[30,0,["isInFuture"]]],null],[[[1,"    "],[11,1],[16,0,[29,["live-badge typography-subhead-bold ",[52,[30,0,["isInFuture"]],"is-future"]," typography-callout-emphasized"]]],[4,[38,2],[[30,0,["startClock"]]],null],[4,[38,2],[[30,0,["setupInflections"]]],null],[4,[38,3],[[30,0,["getLatestInflectionPoints"]],[30,0,["shouldFetchUpdatedInflectionPoints"]]],null],[4,[38,4],[[30,0,["stopClock"]]],null],[12],[41,[30,0,["isLive"]],[[[1,[28,[35,5],["FUSE.ListenNow.Module.Badge.Live"],null]]],[]],[[[41,[30,0,["isToday"]],[[[1,[28,[35,6],[[28,[37,7],[[30,0,["formatTime"]],[30,0,["startTime"]],[28,[37,8],null,[["hour","minute","hour12"],["numeric","numeric",true]]]],null]],null]]],[]],[[[41,[30,0,["isThisWeek"]],[[[1,[28,[35,6],[[28,[37,7],[[30,0,["formatTime"]],[30,0,["startTime"]],[28,[37,8],null,[["weekday"],["short"]]]],null]],null]],[1," "],[1,[28,[35,6],[[28,[37,7],[[30,0,["formatTime"]],[30,0,["startTime"]],[28,[37,8],null,[["hour","minute","hour12"],["numeric","numeric",true]]]],null]],null]]],[]],[[[1,[28,[35,6],[[28,[37,7],[[30,0,["formatTime"]],[30,0,["startTime"]],[28,[37,8],null,[["month"],["short"]]]],null]],null]],[1," "],[1,[28,[35,6],[[28,[37,7],[[30,0,["formatTime"]],[30,0,["startTime"]],[28,[37,8],null,[["day"],["numeric"]]]],null]],null]]],[]]]],[]]]],[]]],[13],[1,"\\n"]],[]],null]],[],false,["if","or","did-insert","did-update","will-destroy","t","call","fn","hash"]]',moduleName:"desktop-music-app/components/live-badge.hbs",isStrictMode:!1})
let S=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._tracked,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,b=Ember._action,k=new WeakMap,f=class extends t.default{constructor(...e){var t,i,r
super(...e),w(this,"locale",h,this),w(this,"musickitData",g,this),w(this,"windowVisibility",y,this),k.set(this,{writable:!0,value:!1}),t=this,i="_clock",r=new o.default,i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,w(this,"_updatedInflectionPoints",v,this)}get startTime(){var e
const t=null===(e=this.inflectionPoints)||void 0===e?void 0:e.start
if(t)return new i.default(t).getTime()}get endTime(){var e
const t=null===(e=this.inflectionPoints)||void 0===e?void 0:e.end
if(t)return new i.default(t).getTime()}get isLive(){return(0,r.isLive)(this._clock.now,this.startTime,this.endTime)}get isInFuture(){return this.startTime&&this.startTime>this._clock.now}get isThisWeek(){const e=new i.default(this._clock.now).getDate()+7,t=new i.default(this._clock.now).setDate(e)
return this.startTime<t}get isToday(){const e=new i.default(this._clock.now).setHours(23,59,59,999)
return this.startTime<e}get inflectionPoints(){return this._updatedInflectionPoints||this.args.lockup.inflectionPoints||("function"==typeof this.args.lockup.meta?this.args.lockup.meta("inflectionPoints"):null)||this.args.lockup.airTime||null}set inflectionPoints(e){this._updatedInflectionPoints=e}get shouldFetchUpdatedInflectionPoints(){var e,t
if(function(e,t){return t.get?t.get.call(e):t.value}(t=this,_(t,k,"get"))||!this.windowVisibility.windowIsFocused)return!1
const r=(null===(e=this.inflectionPoints)||void 0===e?void 0:e.points)||[],n=this._clock.now
return r.any((e=>new i.default(e.timestamp)<n))}setupInflections(){var e
if(null===(e=this.inflectionPoints)||void 0===e||!e.points)return
const t=this._clock.now,r=[]
for(const n of this.inflectionPoints.points){new i.default(n.timestamp).getTime()>t&&r.push(n)}this.inflectionPoints.points=r}async getLatestInflectionPoints(){if(this.shouldFetchUpdatedInflectionPoints)try{const e=(0,n.getType)(this.args.lockup)
E(this,k,!0)
const t=await this.musickitData.getContents({[e]:[this.args.lockup.id]}),i="function"==typeof t.meta?t.meta("inflectionPoints"):null
this.inflectionPoints=i||this.inflectionPoints,this.setupInflections()}finally{E(this,k,!1)}}startClock(){this._clock.start(),Ember._registerDestructor(this,(()=>this._clock.stop()))}stopClock(){this._clock.stop()}formatTime(e,t){if(!e)return
const r={...t}
return new Intl.DateTimeFormat([this.locale.locale],r).format(new i.default(e)).replace(/\b([A|P]M)$/i,(function(e){return e.toUpperCase()}))}},h=P(f.prototype,"locale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(f.prototype,"musickitData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(f.prototype,"windowVisibility",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(f.prototype,"_updatedInflectionPoints",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(f.prototype,"setupInflections",[c],Object.getOwnPropertyDescriptor(f.prototype,"setupInflections"),f.prototype),P(f.prototype,"getLatestInflectionPoints",[d],Object.getOwnPropertyDescriptor(f.prototype,"getLatestInflectionPoints"),f.prototype),P(f.prototype,"startClock",[p],Object.getOwnPropertyDescriptor(f.prototype,"startClock"),f.prototype),P(f.prototype,"stopClock",[m],Object.getOwnPropertyDescriptor(f.prototype,"stopClock"),f.prototype),P(f.prototype,"formatTime",[b],Object.getOwnPropertyDescriptor(f.prototype,"formatTime"),f.prototype),f)
e.default=S,Ember._setComponentTemplate(O,S)})),define("desktop-music-app/components/loading-outlet",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"DfKMo6Iy",block:'[[[10,0],[14,0,"loading-inner"],[12],[1,"\\n"],[1,"    "],[46,[28,[37,1],null,null],null,null,null],[1,"\\n"],[13],[1,"\\n"]],[],false,["component","-outlet"]]',moduleName:"desktop-music-app/components/loading-outlet.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/locale-switcher/banner",["exports","@amp/ember-ui-locale-switcher/components/locale-switcher/banner"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/locale-switcher/footer",["exports","@amp/ember-ui-locale-switcher/components/locale-switcher/footer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/locale-switcher/header",["exports","@amp/ember-ui-locale-switcher/components/locale-switcher/banner"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments)}}e.default=i})),define("desktop-music-app/components/locale-switcher/modal",["exports","@amp/ember-ui-locale-switcher/components/locale-switcher/modal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/locale-switcher/recommended-storefront",["exports","@amp/ember-ui-locale-switcher/components/locale-switcher/recommended-storefront"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/lockup-artwork-placeholder",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Mf9SIGAN",block:'[[[41,[28,[37,1],[[30,1,["kind"]],"artist"],null],[[[1,"    "],[10,0],[14,0,"artist-placeholder"],[12],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"lockup-artwork-placeholder"],[15,"aria-label",[30,2]],[12],[13],[1,"\\n"]],[]]]],["@lockup","@alt"],false,["if","eq"]]',moduleName:"desktop-music-app/components/lockup-artwork-placeholder.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/lockups/dt-playlist-lockup",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"ADc7sGrI",block:'[[[10,0],[15,0,[29,["dt-lockup--playlist ",[52,[30,1,["isPublic"]],"selected","disable-lockup"]]]],[12],[1,"\\n"],[41,[30,0,["artwork"]],[[[1,"        "],[8,[39,1],[[24,0,"dt-lockup__artwork media-artwork-v2--fullwidth"]],[["@artwork","@artworkProfile","@lazyLoad","@fallbackProfile","@lockup","@alt"],[[30,0,["artwork"]],[30,2],[30,3],[28,[37,2],[[30,1]],null],[30,1],[28,[37,3],[[30,1,["name"]],[30,1,["title"]]],null]]],[["default"],[[[[1,"\\n\\n            "],[8,[39,4],null,[["@lockup"],[[30,1]]],null],[1,"\\n\\n        "]],[]]]]],[1,"\\n"]],[]],[[[44,[[28,[37,6],[[30,1]],null]],[[[41,[28,[37,7],[[30,4,["value","length"]],1],null],[[[41,[28,[37,7],[[30,4,["value","length"]],4],null],[[[42,[28,[37,9],[[28,[37,9],[[30,4,["value"]]],null]],null],null,[[[1,"                        "],[8,[39,1],[[24,0,"dt-lockup__artwork media-artwork-v2--fullwidth media-artwork-v2--artwork-in-collage media-artwork-v2--not-round"]],[["@artwork","@artworkProfile","@lockup","@fallbackProfile","@alt"],[[30,5],"artwork-in-collage",[30,1],[28,[37,2],[[30,1]],null],[30,5,["name"]]]],null],[1,"\\n"]],[5]],null],[1,"\\n                    "],[8,[39,4],null,[["@lockup"],[[30,1]]],null],[1,"\\n"]],[]],[[[1,"                    "],[8,[39,1],[[24,0,"dt-lockup__artwork media-artwork-v2--fullwidth"]],[["@artwork","@artworkProfile","@lockup","@fallbackProfile","@alt"],[[30,4,["value","0"]],[30,2],[30,1],[28,[37,2],[[30,1]],null],[30,1,["name"]]]],[["default"],[[[[1,"\\n\\n                        "],[8,[39,4],null,[["@lockup"],[[30,1]]],null],[1,"\\n\\n                    "]],[]]]]],[1,"\\n"]],[]]]],[]],[[[1,"                "],[10,0],[14,0,"media-artwork-v2"],[12],[1,"\\n                    "],[1,[28,[35,10],["MissingArtworkMusic"],null]],[1,"\\n                "],[13],[1,"\\n"]],[]]]],[4]]]],[]]],[1,"\\n    "],[18,6,null],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@artworkProfile","@lazyLoad","collage","artwork","&default"],false,["if","amp-artwork/music","fallback-artwork","or","dt-profile-badges","let","fetch-collage","gte","each","-track-array","svg-jar","yield"]]',moduleName:"desktop-music-app/components/lockups/dt-playlist-lockup.hbs",isStrictMode:!1})
class r extends t.default{get artwork(){var e,t,i,r
return(null===(e=this.args.lockup)||void 0===e||null===(t=e.editorialArtwork)||void 0===t?void 0:t.subscriptionCover)||(null===(i=this.args)||void 0===i||null===(r=i.lockup)||void 0===r?void 0:r.artwork)}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-album",["exports","desktop-music-app/components/lockups/power-swoosh-base","desktop-music-app/utils/constants","desktop-music-app/utils/precision-date","desktop-music-app/helpers/get-year-from-date","desktop-music-app/utils/date-time"],(function(e,t,i,r,n,o){var l,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"V1v9w9D6",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,3],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,4],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,5],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-album"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,7],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[10,0],[14,0,"lockup__details-container"],[12],[1,"\\n                                "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title",[52,[30,0,["line3"]]," feature-recommended__title--clamp-1"]," typography-callout-emphasized"]]],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n\\n\\n"],[41,[30,0,["line2"]],[[[1,"                                    "],[8,[39,7],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["line2Url"]],[[[1,"                                            "],[10,3],[15,6,[30,0,["line2Url"]]],[14,0,"line2 feature-recommended__chin-link feature-recommended__short-notes feature-recommended__short-notes--clamp-1 typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                                "],[1,[28,[35,8],[[30,0,["line2"]]],null]],[1,"\\n                                            "],[13],[1,"\\n"]],[]],[[[1,"                                            "],[10,2],[14,0,"line2 feature-recommended__short-notes feature-recommended__short-notes--clamp-1 typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                                "],[1,[28,[35,8],[[30,0,["line2"]]],null]],[1,"\\n                                            "],[13],[1,"\\n"]],[]]],[1,"                                    "]],[4]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["line3"]],[[[1,"                                    "],[8,[39,7],null,[["@value"],[[30,0,["line3"]]]],[["default"],[[[[1,"\\n                                        "],[10,2],[14,0,"line3 feature-recommended__short-notes typography-callout"],[15,"dir",[30,5]],[12],[1,"\\n                                            "],[1,[28,[35,8],[[30,0,["line3"]]],null]],[1,"\\n                                        "],[13],[1,"\\n                                    "]],[5]]]]],[1,"\\n"]],[]],null],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"                        "],[8,[39,9],[[24,0,"small play-button--feature-recommended"]],[["@lockup","@songsContainer","@metricsLocation","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[30,0,["recommendationData"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,10],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,11],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,12],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction","direction"],false,["on","allow-drag","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","untrusted-html","dt-play-button","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-album.hbs",isStrictMode:!1})
let c=(l=Ember.inject.service,a=class extends t.default{constructor(...e){var t,i,r,n,o,l,a
super(...e),t=this,i="i18n",n=this,(r=s)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a="power-swoosh-album",(l="_componentIdentifier")in(o=this)?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a}get line2(){return this.lockupObj.artistName}get line2Url(){return this.lockupObj.artistUrl}get line3(){const{releaseDate:e}=this.lockupObj,t=new r.default(e),l=new r.default
return(0,o.isWithinPastRange)(l,t,30)?(0,r.format)(t,this.i18n,i.LN_RELEASE_DATE_FORMAT):(0,n.getYearFromDate)(t,this.i18n)}},d=a.prototype,p="i18n",m=[l],b={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(b).forEach((function(e){h[e]=b[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=m.slice().reverse().reduce((function(e,t){return t(d,p,e)||e}),h),f&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(f):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(d,p,h),h=null),s=h,a)
var d,p,m,b,f,h
e.default=c,Ember._setComponentTemplate(u,c)})),define("desktop-music-app/components/lockups/power-swoosh-artist",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"+dVk3yx0",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,2],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,4],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-artist"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,6],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,7],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n                                "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title typography-callout-emphasized"]]],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[1,"                        "],[8,[39,8],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,9],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,10],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction"],false,["on","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-artist.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-artist",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-auc",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"timciuy6",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,3],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,4],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,5],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-auc"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,7],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,8],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n                                "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title typography-callout-emphasized"]]],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n                    "],[8,[39,9],[[24,0,"play-button--feature-recommended"]],[["@lockup","@metricsLocation","@customMetrics","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[28,[37,10],null,[["targetType"],["PosterItem"]]],[30,0,["recommendationData"]]]],null],[1,"\\n"],[1,"                        "],[8,[39,11],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,12],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,13],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction"],false,["on","allow-drag","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","dt-play-button","hash","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-auc.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-auc",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-base",["exports","@glimmer/component","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/route","desktop-music-app/utils/recommendation-data","desktop-music-app/utils/is-playable","desktop-music-app/utils/editorial-video","desktop-music-app/utils/live-events","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let j=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember._tracked,h=Ember._action,g=Ember._action,y=class extends t.default{constructor(...e){var t,i,r
super(...e),S(this,"accessibility",v,this),S(this,"editorialVideoShelfMonitor",k,this),S(this,"metrics",w,this),S(this,"router",E,this),S(this,"storefront",_,this),S(this,"recoDataPlayContent",P,this),r=null,(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,S(this,"chinClasses",O,this)}get lockupObj(){return Ember.get(this,"args.lockup")}get altText(){return this.line1}get artworkObj(){return this.editorialVideoPreview||this.lockupObj.artwork}get dataSetId(){return Ember.get(this,"meta.metrics.reco_id")}get editorialVideoObj(){return Ember.get(this,"lockupObj.editorialVideo")||Ember.get(this,"lockupObj.editorialCard.editorialVideo")}get explanation(){return Ember.get(this,"lockupObj._meta.reason.stringForDisplay")}get line1(){return Ember.get(this,"lockupObj.name")}get lockupUrl(){return Ember.get(this,"lockupObj.url")}get meta(){return Ember.get(this,"lockupObj.meta")}get editorialVideoPreview(){if(this.editorialVideoObj){const e=(0,l.bestVideoAssetKey)(this._componentIdentifier,this.editorialVideoObj)
if(e)return this.editorialVideoObj[e].previewFrame}}get editorialVideo(){if(this.editorialVideoShelfMonitor.isEnabled)return this.editorialVideoObj}get recommendationData(){return(0,n.recommendationDataForVariant)(this.meta,this.dataSetId)}get dataMetricsClick(){const{id:e}=this.lockupObj,t=(0,s.getKind)(this.lockupObj),{dataMetricsLocation:r}=this,n="radioStation"===T(this.lockupObj)?"powerSwooshPlay":"linkToPowerSwooshItem",o={id:e,kind:t,location:r,actionDetails:this.actionDetails}
return JSON.parse((0,i.default)([n],o))}get actionDetails(){const e=T(this.lockupObj)
if("radioStation"===e)return{isLive:(0,a.isHappeningNow)(this.lockupObj)?"On":"Off",kind:e}}get dataMetricsLocation(){const{id:e,kind:t}=this.lockupObj
return[{locationType:"PosterItem",displayStyle:"small",id:e,locationPosition:this.args.index,name:this.line1,heading:this.explanation,description:this.line2,data:{reco:{dataSetId:this.dataSetId}},kind:t},{...this.parentMetricsLocation}]}get parentMetricsLocation(){return{data:{reco:{dataSetId:this.dataSetId}},id:this.args.id,locationType:"PowerSwoosh",name:this.args.title,locationPosition:this.args.shelfIndex}}get showPlayButton(){const{lockupObj:e}=this
return!!e.playParams&&(0,o.default)(e.playParams.kind)}onClick(e){if("BUTTON"===e.target.tagName||"A"===e.target.tagName)return
const{id:t}=this.lockupObj
if(this.recommendationData&&this.recoDataPlayContent.captureRecoData(t,this.recommendationData),this.metrics.recordClick(e,e.target,this.dataMetricsClick),this.lockupUrl){const{_routerMicrolib:e}=this.router._router,t=(0,r.normalizeURL)(this.lockupUrl,e,this.storefront.resolvedStorefront);(0,r.transitionToRoute)(this.router,t)}this.accessibility.focusOnPageContainer()}updateChinClasses(e){e.clientHeight>=48&&(this.chinClasses+=" has-three-lines")
const t=e.querySelector(".feature-recommended__title");(null==t?void 0:t.clientHeight)>=32&&(this.chinClasses+=" has-two-line-title")}},v=z(y.prototype,"accessibility",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(y.prototype,"editorialVideoShelfMonitor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(y.prototype,"metrics",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(y.prototype,"router",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(y.prototype,"storefront",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(y.prototype,"recoDataPlayContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(y.prototype,"chinClasses",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z(y.prototype,"onClick",[h],Object.getOwnPropertyDescriptor(y.prototype,"onClick"),y.prototype),z(y.prototype,"updateChinClasses",[g],Object.getOwnPropertyDescriptor(y.prototype,"updateChinClasses"),y.prototype),y)
function T(e){var t
let i=(0,s.getKind)(e)
return"editorialItem"===i&&null!==(t=e.contents)&&void 0!==t&&t[0]&&(i=(0,s.getKind)(e.contents[0])||i),i}e.default=j})),define("desktop-music-app/components/lockups/power-swoosh-default",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"ZZExkoDv",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,3],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,4],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,5],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-default"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,7],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,8],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n                                "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title typography-callout-emphasized"]]],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n\\n"],[41,[30,0,["line2"]],[[[1,"                                    "],[8,[39,7],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                                        "],[10,2],[14,0,"line2 feature-recommended__short-notes typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                            "],[1,[28,[35,9],[[30,0,["line2"]]],null]],[1,"\\n                                        "],[13],[1,"\\n                                    "]],[4]]]]],[1,"\\n"]],[]],null],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"                        "],[8,[39,10],[[24,0,"small play-button--feature-recommended"]],[["@lockup","@songsContainer","@metricsLocation","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[30,0,["recommendationData"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,11],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,12],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,13],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction"],false,["on","allow-drag","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","untrusted-html","dt-play-button","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-default.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-default",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get isCurator(){return["apple-curator","brand"].includes(this.lockupObj.kind)}get line1(){const{lockupObj:e}=this
return this.isCurator&&e.curatorName||e.name}get line2(){if(this.isCurator){var e
const{lockupObj:t}=this
return null===(e=t.editorialNotes||t.description)||void 0===e?void 0:e.short}}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-mix",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"SQWa2FeY",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["lockupObj","name"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,3],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,4],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,5],[[30,1]],null],[30,1],[30,2],[30,0,["lockupObj","name"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-mix"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,7],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[10,0],[14,0,"lockup__details-container has-three-lines has-no-line-one"],[12],[1,"\\n                                "],[8,[39,7],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                                    "],[10,2],[14,0,"line2 feature-recommended__short-notes typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                        "],[1,[28,[35,8],[[30,0,["line2"]]],null]],[1,"\\n                                    "],[13],[1,"\\n                                "]],[4]]]]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"                        "],[8,[39,9],[[24,0,"small play-button--feature-recommended"]],[["@lockup","@songsContainer","@metricsLocation","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[30,0,["recommendationData"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,10],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,11],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,12],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction"],false,["on","allow-drag","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","untrusted-html","dt-play-button","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-mix.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-mix",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get line2(){return Ember.get(this,"lockupObj.artistNames")||Ember.get(this,"lockupObj.curatorName")}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-playlist",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"IfUhNpO4",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,3],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,4],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,5],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,6],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-playlist"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,7],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,8],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n"],[41,[51,[30,0,["isChartOrReplay"]]],[[[1,"                                    "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title typography-callout-emphasized"]]],[12],[1,"\\n                                        "],[1,[30,0,["line1"]]],[1,"\\n                                    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["line2"]],[[[1,"                                    "],[8,[39,7],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                                        "],[10,2],[14,0,"line2 feature-recommended__short-notes typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                            "],[1,[28,[35,10],[[30,0,["line2"]]],null]],[1,"\\n                                        "],[13],[1,"\\n                                    "]],[4]]]]],[1,"\\n"]],[]],null],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"                        "],[8,[39,11],[[24,0,"small play-button--feature-recommended"]],[["@lockup","@songsContainer","@metricsLocation","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[30,0,["recommendationData"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,12],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,13],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,14],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction"],false,["on","allow-drag","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","unless","untrusted-html","dt-play-button","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-playlist.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-playlist",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get isChartOrReplay(){return"replay"===this.lockupObj.playlistType||this.lockupObj.isChart}get line2(){var e,t
const{lockupObj:i}=this
return this.isChartOrReplay?i.artistNames:(null===(e=i.editorialNotes)||void 0===e?void 0:e.short)||(null===(t=i.description)||void 0===t?void 0:t.short)||i.curatorName}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-radio",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"m2d70l5K",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,2],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,4],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-radio"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]," feature-recommended__chin--power-swoosh-radio"]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,6],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,7],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n                                "],[10,2],[15,0,[29,["line lockup__name",[52,[30,0,["hasAdjacentLink"]]," has-adjacent-link"]," feature-recommended__title typography-callout-emphasized"]]],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n\\n"],[41,[30,0,["line2"]],[[[1,"                                    "],[8,[39,6],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                                        "],[10,2],[14,0,"line2 feature-recommended__short-notes typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                            "],[1,[28,[35,8],[[30,0,["line2"]]],null]],[1,"\\n                                        "],[13],[1,"\\n                                    "]],[4]]]]],[1,"\\n"]],[]],null],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["showPlayButton"]],[[[1,"                        "],[10,0],[14,0,"lockup__controls__play-button-wrapper"],[12],[1,"\\n                            "],[8,[39,9],[[24,0,"play-button has-frosted-background play-button--feature-recommended large"]],[["@lockup","@metricsLocation","@customMetrics","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[28,[37,10],null,[["targetType","actionDetails"],["PosterItem",[30,0,["actionDetails"]]]]],[30,0,["recommendationData"]]]],null],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                        "],[8,[39,11],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,12],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,13],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n\\n"],[41,[28,[37,14],[[30,0,["lockupObj"]]],null],[[[1,"            "],[8,[39,15],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction"],false,["on","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","untrusted-html","dt-play-button","hash","dt-media-contextual-menu","dt-button-menu","dt-profile-badges","is-live-event","live-badge"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-radio.hbs",isStrictMode:!1})
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends t.default{constructor(...e){var t,i,r
super(...e),s(this,"playback",l,this),s(this,"metrics",a,this),r="power-swoosh-radio",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get isVideo(){return"video"===Ember.get(this,"lockupObj.mediaKind")}get line2(){return Ember.get(this,"lockupObj.editorialNotes.short")}onClick(e){if("BUTTON"===e.target.tagName)return
const t=this.playback.getPlaybackConfig(this.lockupObj,null,null,{recommendationData:this.recommendationData})
this.metrics.recordClick(e,e.target,this.dataMetricsClick),this.playback.play(t)}},l=u(o.prototype,"playback",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"metrics",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"onClick",[n],Object.getOwnPropertyDescriptor(o.prototype,"onClick"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("desktop-music-app/components/lockups/power-swoosh-room",["exports","desktop-music-app/components/lockups/power-swoosh-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"/RM+xTNq",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container"],[15,5,[28,[37,2],[[30,0,["artworkObj","url"]]],null]],[12],[1,"\\n        "],[10,0],[14,0,"feature-recommended__reflect-outer-wrapper"],[12],[1,"\\n            "],[10,0],[14,0,"feature-recommended__reflect-wrapper"],[12],[1,"\\n                "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--feature-recommended feature-recommended__artwork"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@lazyLoad","@alt"],[[30,0,["artworkObj"]],"powerSwooshLockup",[28,[37,4],[[30,1]],null],[30,1],[30,2],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                        "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-room"]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n\\n                "],[10,0],[15,0,[29,["feature-recommended__chin",[52,[30,0,["editorialVideo"]]," feature-recommended__chin--editorial-video"]]]],[12],[1,"\\n                    "],[10,0],[14,0,"media-artwork-v2 media-artwork-v2--feature-recommended-blur feature-recommended__artwork-blur"],[12],[13],[1,"\\n\\n                    "],[8,[39,6],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,3]],[12],[1,"\\n                            "],[11,0],[16,0,[29,["lockup__details-container",[30,0,["chinClasses"]]]]],[4,[38,7],[[30,0,["updateChinClasses"]]],null],[12],[1,"\\n                                "],[10,2],[14,0,"line lockup__name feature-recommended__title typography-callout-emphasized"],[12],[1,"\\n                                    "],[1,[30,0,["line1"]]],[1,"\\n                                "],[13],[1,"\\n\\n"],[41,[30,0,["line2"]],[[[1,"                                    "],[8,[39,6],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                                        "],[10,2],[14,0,"line2 feature-recommended__short-notes typography-callout"],[15,"dir",[30,4]],[12],[1,"\\n                                            "],[1,[28,[35,8],[[30,0,["line2"]]],null]],[1,"\\n                                        "],[13],[1,"\\n                                    "]],[4]]]]],[1,"\\n"]],[]],null],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "]],[3]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[1,"                        "],[8,[39,9],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                            "],[8,[39,10],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                        "]],[]]]]],[1,"\\n"],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n        "],[8,[39,11],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","@lazyLoad","direction","direction"],false,["on","if","blurred-background-image","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","did-insert","untrusted-html","dt-media-contextual-menu","dt-button-menu","dt-profile-badges"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-room.hbs",isStrictMode:!1})
class r extends t.default{constructor(...e){var t,i,r
super(...e),r="power-swoosh-room",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get artworkObj(){return Ember.get(this,"editorialVideoPreview")||Ember.get(this,"lockupObj.editorialArtwork.subscriptionCover")||Ember.get(this,"lockupObj.artwork")}get editorialNotes(){return Ember.get(this,"lockupObj.editorialNotes")}get line1(){return Ember.get(this,"editorialNotes.name")||Ember.get(this,"lockupObj.name")}get line2(){return Ember.get(this,"editorialNotes.short")}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/lockups/power-swoosh-super-hero",["exports","desktop-music-app/components/lockups/power-swoosh-base","desktop-music-app/utils/route"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"o8yflnoh",block:'[[[11,0],[24,0,"power-swoosh-lockup"],[16,"aria-label",[30,0,["altText"]]],[24,"tabindex","0"],[24,"data-context-menu-parent",""],[4,[38,0],["click",[30,0,["onClick"]]],null],[4,[38,1],null,[["dragData","dragImage"],[[30,1],".media-artwork-v2 picture"]]],[12],[1,"\\n\\n"],[41,[30,0,["explanation"]],[[[1,"        "],[10,0],[14,0,"typography-title-3-tall feature-recommended__lockup-explanation"],[12],[1,"\\n            "],[1,[30,0,["explanation"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"feature-recommended__lockup-container feature-recommended__lockup-container--superhero"],[12],[1,"\\n        "],[8,[39,3],[[24,0,"media-artwork-v2--fullwidth hero__artwork media-artwork-v2--fullwidth media-artwork-v2--variable media-artwork-v2--superhero"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@alt"],[[30,0,["artworkObj"]],"superHeroLockup",[28,[37,4],[[30,1]],null],[30,1],[30,0,["altText"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["editorialVideo"]],[[[1,"                "],[8,[39,5],[[24,0,"editorial-video__main-artwork"]],[["@lockup","@editorialVideo","@lockupTypeId"],[[30,1],[30,0,["editorialVideo"]],"power-swoosh-super-hero"]],null],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n\\n        "],[10,0],[14,0,"feature-recommended__superhero-details feature-recommended__superhero-details--legibility-gradient feature-recommended__superhero-details--in-power-swoosh"],[12],[1,"\\n            "],[8,[39,6],null,[["@value"],[[30,0,["line1"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"lockup__details"],[15,"dir",[30,2]],[12],[1,"\\n                    "],[10,0],[14,0,"lockup__lines"],[12],[1,"\\n                        "],[10,0],[14,0,"feature-recommended__short-notes typography-callout lockup__name"],[12],[1,"\\n                            "],[1,[28,[35,7],[[30,0,["line1"]]],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "]],[2]]]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[8,[39,8],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n\\n"],[41,[28,[37,9],[[30,0,["lockupObj"]]],null],[[[1,"            "],[8,[39,10],null,[["@lockup"],[[30,0,["lockupObj"]]]],null],[1,"\\n"]],[]],null],[1,"\\n        "],[10,0],[14,0,"feature-recommended__lockup-controls"],[12],[1,"\\n"],[41,[30,0,["hasDirectPlayContent"]],[[[1,"                "],[10,0],[14,0,"lockup__controls__play-button-wrapper"],[12],[1,"\\n                    "],[8,[39,11],[[24,0,"play-button has-frosted-background play-button--feature-recommended large"]],[["@lockup","@songsContainer","@metricsLocation","@customMetrics","@recommendationData"],[[30,0,["lockupObj"]],[30,0,["lockupObj"]],[30,0,["dataMetricsLocation"]],[28,[37,12],null,[["targetType","actionDetails"],["PosterItem",[30,0,["actionDetails"]]]]],[30,0,["recommendationData"]]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                "],[8,[39,13],null,[["@lockup","@listenTo"],[[30,0,["lockupObj"]],"click"]],[["default"],[[[[1,"\\n                    "],[8,[39,14],null,[["@lockups","@artworkInfo"],[[30,0,["lockupObj"]],[30,0,["artworkObj"]]]],null],[1,"\\n                "]],[]]]]],[1,"\\n"],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","direction"],false,["on","allow-drag","if","amp-artwork/music","fallback-artwork","dt-editorial-video","bidi-text","untrusted-html","dt-profile-badges","is-live-event","live-badge","dt-play-button","hash","dt-media-contextual-menu","dt-button-menu"]]',moduleName:"desktop-music-app/components/lockups/power-swoosh-super-hero.hbs",isStrictMode:!1})
let E=(r=Ember.inject.service,n=Ember.computed.or("editorialNotes.tagline","lockupObj.name"),o=Ember.computed.or("editorialVideoPreview","editorialArtwork.superHeroTall","lockupObj.artwork"),l=Ember.computed.readOnly("editorialCard.editorialArtwork"),a=Ember.computed.readOnly("lockupObj.editorialCard"),s=Ember.computed.readOnly("editorialCard.editorialNotes"),u=Ember.computed.or("editorialNotes.short","lockupObj.description.short","lockupObj.name"),c=Ember._action,d=class extends t.default{constructor(...e){var t,i,r
super(...e),v(this,"recoDataPlayContent",p,this),r="power-swoosh-super-hero",(i="_componentIdentifier")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,v(this,"altText",m,this),v(this,"artworkObj",b,this),v(this,"editorialArtwork",f,this),v(this,"editorialCard",h,this),v(this,"editorialNotes",g,this),v(this,"line1",y,this)}get explanation(){var e
return null===(e=this.editorialNotes)||void 0===e?void 0:e.tagline}get hasDirectPlayContent(){return["musicVideo","radioStation","tvEpisode","uploadedVideo"].includes(this.lockupObj.kind)||this.isLive}onClick(e){var t,r,n
if("BUTTON"===e.target.tagName)return
const{lockupUrl:o}=this,{id:l}=this.lockupObj,a=(null===(t=this.lockupObj)||void 0===t||null===(r=t.contents)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.id)||l
if(this.recommendationData&&a&&this.recoDataPlayContent.captureRecoData(a,this.recommendationData),this.metrics.recordClick(e,e.target,this.dataMetricsClick),o){const{_routerMicrolib:e}=this.router._router,t=(0,i.normalizeURL)(o,e,this.storefront.resolvedStorefront);(0,i.transitionToRoute)(this.router,t)}this.accessibility.focusOnPageContainer()}},p=k(d.prototype,"recoDataPlayContent",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k(d.prototype,"altText",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(d.prototype,"artworkObj",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(d.prototype,"editorialArtwork",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(d.prototype,"editorialCard",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(d.prototype,"editorialNotes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(d.prototype,"line1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(d.prototype,"onClick",[c],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),d)
e.default=E,Ember._setComponentTemplate(w,E)})),define("desktop-music-app/components/lockups/social-profile",["exports","@glimmer/component","desktop-music-app/config/artwork-profiles","desktop-music-app/utils/key-events","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/untrusted-html","desktop-music-app/decorators/lockup-context-menu","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"OXD7kha8",block:'[[[11,0],[16,0,[29,["lockup socialProfile lockup-social-profile",[52,[30,1,["isHidden"]]," is-hidden"],[52,[30,0,["linkable"]]," linkable"]]]],[16,"aria-label",[30,1,["name"]]],[16,"aria-describedBy",[30,0,["ariaDescribedby"]]],[24,"role","button"],[24,"tabindex","0"],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,1],["keydown",[30,0,["onKeyDown"]]],null],[4,[38,1],["contextmenu",[30,0,["onContextMenu"]]],null],[12],[1,"\\n\\n    "],[8,[39,2],[[24,0,"media-artwork-v2--round"]],[["@artwork","@artworkProfile","@fallbackProfile","@lockup","@alt"],[[30,0,["artwork"]],[30,0,["artworkConfigV2"]],[28,[37,3],[[30,1]],null],[30,1],[30,1,["title"]]]],null],[1,"\\n\\n    "],[10,0],[14,0,"lockup-details"],[12],[1,"\\n        "],[10,"ul"],[14,0,"lockup-lines"],[12],[1,"\\n            "],[10,"li"],[14,0,"lockup-name"],[12],[1,"\\n                "],[10,1],[14,0,"line"],[12],[1,[30,1,["name"]]],[13],[1,"\\n            "],[13],[1,"\\n"],[41,[30,0,["line2"]],[[[1,"                "],[10,"li"],[14,0,"line2"],[15,1,[29,["line2-",[30,0,["guid"]]]]],[12],[1,"\\n                    "],[1,[30,0,["line2"]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup"],false,["if","on","amp-artwork/music","fallback-artwork"]]',moduleName:"desktop-music-app/components/lockups/social-profile.hbs",isStrictMode:!1})
let E=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember._action,p=Ember._action,(0,l.default)((b=class extends t.default{constructor(){super(...arguments),y(this,"metrics",f,this),y(this,"router",h,this),y(this,"storefront",g,this),v(this,"artworkConfigV2",i.ARTWORK_V2_PRESETS.standardLockup.socialProfile),v(this,"guid",null),this.guid=Ember.guidFor(this)}get ariaDescribedby(){return`line2-${this.guid}`}get artwork(){const{lockup:e}=this.args
return e.avatarImage||e.avatarArtwork||e.artwork}get dataMetricsClick(){const{id:e,kind:t=""}=this.args.lockup,i=`linkTo${Ember.String.capitalize(t)}`
return JSON.parse((0,n.default)([i],{id:e,kind:t}))}get linkable(){const{url:e,socialProfileUrl:t}=this.args.lockup
return e||t}get line2(){if(this.args.showUserHandle)return(0,o.untrustedHtml)(`@${this.args.lockup.handle}`)}onClick(e){this.metrics.recordClick(e,e.target,this.dataMetricsClick)
const t=this.router.urlFor("profile.index",this.storefront.storefrontId,this.args.lockup.handle)
this.router.transitionTo(t)}onKeyDown(e){e.key===r.ENTER&&this.onClick()}},f=k(b.prototype,"metrics",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(b.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(b.prototype,"storefront",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(b.prototype,"onClick",[d],Object.getOwnPropertyDescriptor(b.prototype,"onClick"),b.prototype),k(b.prototype,"onKeyDown",[p],Object.getOwnPropertyDescriptor(b.prototype,"onKeyDown"),b.prototype),m=b))||m)
e.default=E,Ember._setComponentTemplate(w,E)})),define("desktop-music-app/components/maybe-in-element",["exports","ember-maybe-in-element/components/maybe-in-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/media-artwork",["exports","@ember-decorators/component","@amp/ember-ui-media-artwork/components/media-artwork","desktop-music-app/utils/constants"],(function(e,t,i,r){var n,o,l,a,s,u
function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=(0,t.classNameBindings)("crop"),o=Ember.inject.service("itunes-theme"),l=Ember.computed("artwork.bgColor","iTunesTheme.theme","lockup.kind"),n((s=class extends i.default{constructor(...e){var t,i,r,n
super(...e),t=this,i="iTunesTheme",n=this,(r=u)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),c(this,"inView",!0),c(this,"responsive",!0)}didEnterViewport(){}get bgColor(){if("socialProfile"===Ember.get(this,"lockup.kind"))return`#${r.SOCIAL_PROFILE_FALLBACK_COLOR}`
const e=Ember.get(this,"artwork.bgColor")
let t
if(Ember.isPresent(e))t=e
else switch(Ember.get(this,"iTunesTheme.theme")){case"default":t=r.DEFAULT_FALLBACK_COLOR
break
case"dark-mode":t=r.DEFAULT_FALLBACK_COLOR_DARK_MODE}return`#${t}`}},u=d(s.prototype,"iTunesTheme",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"bgColor",[l],Object.getOwnPropertyDescriptor(s.prototype,"bgColor"),s.prototype),a=s))||a)
e.default=p})),define("desktop-music-app/components/media-shelf-grid",["exports","@amp/ember-ui-media-shelf/components/media-shelf-grid"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("desktop-music-app/components/media-shelf-grid/body",["exports","@amp/ember-ui-media-shelf/components/media-shelf-grid/body"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/media-shelf-grid/list-item",["exports","@amp/ember-ui-media-shelf/components/media-shelf-grid/list-item"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/media-shelf-grid/nav",["exports","@amp/ember-ui-media-shelf/components/media-shelf-grid/nav"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/mixed-aspect-ratios",["exports","desktop-music-app/utils/dominant-aspect-ratio","@glimmer/component"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,m(e,t,"get"))}function p(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,m(e,t,"set"),i),i}function m(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(r=Ember._tracked,n=Ember._action,o=Ember._action,l=Ember._action,u=new WeakMap,a=class extends i.default{constructor(...e){var t,i,r,n
super(...e),c(this,"defaultToUniformAspectRatio",!0),c(this,"forceSingleAspectRatioValue",null),t=this,i="hasMixedAspectRatios",n=this,(r=s)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),u.set(this,{writable:!0,value:void 0})}get applyUniformRatio(){return this.args.applyUniformRatio??this.defaultToUniformAspectRatio}observeChildrenRatios(e){e.style.opacity="0",this.calculateRatios(e),p(this,u,new MutationObserver((()=>{this.calculateRatios(e)}))),d(this,u).observe(e,{childList:!0,subtree:!0})}stopObservingChildrenRatios(){d(this,u).disconnect(),p(this,u,void 0)}calculateRatios(e){const i=e.querySelectorAll("[data-aspect-ratio]")
if(!i.length)return void(e.style.opacity="")
const r=(0,t.countChildrenAspectRatios)(i),n=Object.keys(r)
let o=this.forceSingleAspectRatioValue||n[0]
n.length>1&&this.applyUniformRatio&&!this.forceSingleAspectRatioValue&&(o=(0,t.calculateDominantAspectRatio)(e,r),this.hasMixedAspectRatios=!0),o&&e.style.setProperty("--dominant-ratio",o),e.style.opacity=""}},s=b(a.prototype,"hasMixedAspectRatios",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(a.prototype,"observeChildrenRatios",[n],Object.getOwnPropertyDescriptor(a.prototype,"observeChildrenRatios"),a.prototype),b(a.prototype,"stopObservingChildrenRatios",[o],Object.getOwnPropertyDescriptor(a.prototype,"stopObservingChildrenRatios"),a.prototype),b(a.prototype,"calculateRatios",[l],Object.getOwnPropertyDescriptor(a.prototype,"calculateRatios"),a.prototype),a)
e.default=f})),define("desktop-music-app/components/modal-dialog",["exports","ember-modal-dialog/components/modal-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/personalization-upsell",["exports","@glimmer/component","ember-lifeline","desktop-music-app/utils/try-it-now","desktop-music-app/config/storefront-ids","desktop-music-app/config/environment","desktop-music-app/config","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o,l,a){var s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K
function W(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const q=Ember.HTMLBars.template({id:"QdNqayBR",block:'[[[11,0],[24,0,"personalization-upsell"],[4,[38,0],[[30,0,["hideUnpopulatedContent"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"personalization-upsell__content-container"],[12],[1,"\\n        "],[10,0],[14,0,"personalization-upsell__text"],[12],[1,"\\n"],[1,"                "],[10,0],[15,"aria-label",[28,[37,1],["FUSE.AppleMusic"],null]],[14,0,"personalization-upsell__logo"],[12],[1,"\\n                    "],[1,[28,[35,2],["general_AM_logo"],[["class","role"],["personalization-upsell__logo-vector","presentation"]]]],[1,"\\n                "],[13],[1,"\\n"],[1,"            "],[10,0],[14,0,"personalization-upsell__head typography-semibold-28_headline-elevated"],[12],[1,[30,0,["upsell","header"]]],[13],[1,"\\n            "],[10,0],[14,0,"personalization-upsell__subhead typography-body-tall_title-2-tall"],[12],[1,[30,0,["upsell","message"]]],[13],[1,"\\n"],[41,[30,0,["upsell","button"]],[[[1,"                "],[11,"button"],[24,0,"personalization-upsell__upsell-button button button-reset button--upsell typography-amweb-button"],[24,4,"button"],[4,[38,4],["click",[30,0,["onCtaClick"]]],null],[12],[1,[30,0,["upsell","button"]]],[13],[1,"\\n"]],[]],null],[41,[30,0,["upsell","learnMore"]],[[[1,"                "],[10,0],[14,0,"personalization-upsell__learn-more"],[12],[1,"\\n"],[1,"\\n"],[1,"                    "],[10,3],[14,"data-dt-link-to-exclude",""],[15,6,[30,0,["learnMoreUrl"]]],[14,"rel","noopener"],[14,"target","_blank"],[14,0,"personalization-upsell__learn-more-link icon-wrapper"],[12],[1,"\\n                        "],[10,1],[14,0,"icon-copy"],[12],[1,[30,0,["upsell","learnMore"]]],[13],[1,[28,[35,2],["chevron-right-regular"],[["class","role"],["personalization-upsell__chevron-right","presentation"]]]],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n        "],[10,"picture"],[14,0,"personalization-upsell__artwork"],[12],[1,"\\n"],[1,"                "],[10,"source"],[14,"media","(max-width: 359px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xsmall.webp 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xsmall@2x.webp 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n"],[1,"\\n            "],[10,"source"],[14,"media","(min-width: 360px) and (max-width: 919px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_small.webp 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_small@2x.webp 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 920px) and (max-width: 1149px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_medium.webp 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_medium@2x.webp 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 1150px) and (max-width: 1579px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_large.webp 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_large@2x.webp 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 1580px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xlarge.webp 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xlarge@2x.webp 2x"]]],[14,4,"image/webp"],[12],[13],[1,"\\n\\n"],[1,"                "],[10,"source"],[14,"media","(max-width: 359px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xsmall.png 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xsmall@2x.png 2x"]]],[14,4,"image/png"],[12],[13],[1,"\\n"],[1,"\\n            "],[10,"source"],[14,"media","(min-width: 360px) and (max-width: 919px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_small.png 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_small@2x.png 2x"]]],[14,4,"image/png"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 920px) and (max-width: 1149px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_medium.png 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_medium@2x.png 2x"]]],[14,4,"image/png"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 1150px) and (max-width: 1579px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_large.png 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_large@2x.png 2x"]]],[14,4,"image/png"],[12],[13],[1,"\\n\\n            "],[10,"source"],[14,"media","(min-width: 1580px)"],[15,"srcset",[29,[[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xlarge.png 1x, ",[30,0,["rootURL"]],"assets/upsell/web/",[30,0,["fy2020LocaleForImage"]],"/upsell_forYou_image_xlarge@2x.png 2x"]]],[14,4,"image/png"],[12],[13],[1,"\\n\\n            "],[10,"img"],[15,"src",[29,[[30,0,["rootURL"]],"assets/pixels/1x1.gif"]]],[14,"alt",""],[12],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,["did-insert","t","svg-jar","if","on"]]',moduleName:"desktop-music-app/components/personalization-upsell.hbs",isStrictMode:!1}),{DEFAULT_LANGUAGE:G,MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:$,FINANCE_DYNAMICAMSUI_OPTION_KEYS:Q,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:J}}=l.default,X=["de-de","en-ca","en-us","es-es","es-mx","fr-ca","fr-fr","hi","it","ja","ko","pt-br","ru","tr","zh-cn","zh-hk"],{COMMERCE_MODAL_OPEN:Z}=o.default.APP
let ee=(s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.computed.alias("upsellOfferDetails.basePriceString"),k=Ember.computed.alias("upsellOfferDetails.introPeriod"),w=Ember.computed.alias("upsellOfferDetails.isIntroOffer"),E=Ember.computed.alias("upsellOfferDetails.isFreeTrial"),_=Ember.computed.alias("upsellOfferDetails.introPrice"),P=Ember.computed.alias("upsellOfferDetails.isEligibleForWinbackOffer"),O=Ember._action,S=Ember._action,z=class extends t.default{constructor(...e){var t,i,r
super(...e),W(this,"user",j,this),W(this,"i18n",T,this),W(this,"finance",M,this),W(this,"router",C,this),W(this,"platform",x,this),W(this,"locale",D,this),W(this,"musickit",L,this),W(this,"storefront",A,this),W(this,"upsellOfferDetails",I,this),W(this,"commerceModalManager",N,this),W(this,"accessibility",R,this),t=this,i="rootURL",r=o.default.rootURL,i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,W(this,"basePriceString",F,this),W(this,"introPeriod",U,this),W(this,"isIntroOffer",B,this),W(this,"isFreeTrial",H,this),W(this,"introPrice",V,this),W(this,"isEligibleForWinbackOffer",K,this)}get upsell(){if(this.args.upsell)return this.args.upsell
const e=this.i18n,t=this.basePriceString,i=this.introPeriod,r=this.isFreeTrial
let n=Object.create(null)
return this.user.isSubscribed?this.args.needsOnboarding&&(n.header=e.t("FUSE.ForYou.Upsell.DT.NonTrial.Header"),n.message=e.t("FUSE.Upsell.Onboard.Description"),n.button=e.t("FUSE.Upsell.Onboard.CTA")):n=function(e,{price:t,introPrice:i,introPricingDuration:r,isIntroOffer:n,isFreeTrial:o,storefront:a}){const s=Object.create(null)
s.header=e.t("AMWeb.ForYouUpsell.Header.Trial"),l.default.NON_SOW_COUNTRIES.includes(a)?(s.message=e.t("FUSE.WEB.ForYou.Upsell.Generic.Description"),s.button=e.t("FUSE.WEB.ForYou.Upsell.Generic.CTA")):n?o?(s.message=e.t("AMWeb.ForYouUpsell.Description.PXM",{introPricingDuration:r,price:t}),s.button=e.t("AMWeb.ForYouUpsell.CTA.Free")):(s.message=e.t("AMWeb.ForYouUpsell.Description.PXMY",{introPricingDuration:r,introPrice:i}),s.button=e.t("AMWeb.ForYouUpsell.CTA.Paid")):(s.message=e.t("AMWeb.ForYouUpsell.Description.NonTrial",{price:t}),s.button=e.t("AMWeb.ForYouUpsell.CTA.NonTrail"))
return s}(e,{price:t,introPrice:this.introPrice,introPricingDuration:i,isIntroOffer:this.isIntroOffer,isFreeTrial:r,storefront:this.storefront.resolvedStorefront}),n.learnMore=e.t("FUSE.WEB.ForYou.Upsell.LearnMore"),n}get learnMoreUrl(){const e=this.storefront.resolvedStorefront,t=n.STOREFRONT_MAPPING[e]
return t?`https://www.apple.com/${t}/apple-music`:"https://www.apple.com/apple-music"}get fy2020LocaleForImage(){const{locale:e}=this.locale
return X.indexOf(e)>-1?e:G}willDestroy(){this.accessibility.setAriaHiddenToContent(!1),super.willDestroy(...arguments)}onCtaClick(){if(this.args.onClick)this.args.onClick()
else if(this.args.needsOnboarding){const{naiveQueryParams:e}=this.router
this.router.transitionTo("onboarding.labels",{queryParams:e})}else this._handleWebClick()}_handleDesktopClick(){if(this.isEligibleForWinbackOffer){const e={}
e[Q.OFFER_HINT]=$.OTHER,e.placement=J.LAUNCH_UPSELL,this.finance.openFinancePath("upsell-return",e)}else this.finance.musicInternal("upsellGeneric")}_handleWebClick(){l.default.NON_SOW_COUNTRIES.includes(this.storefront.resolvedStorefront)?(0,r.default)(this.router.currentURL,this.platform):(0,i.runTask)(this,(()=>{this.commerceModalManager.open("subscribe")}),Z)}hideUnpopulatedContent(){this.accessibility.setAriaHiddenToContent(!0,"upsell")}},j=Y(z.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Y(z.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=Y(z.prototype,"finance",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Y(z.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=Y(z.prototype,"platform",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Y(z.prototype,"locale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Y(z.prototype,"musickit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Y(z.prototype,"storefront",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=Y(z.prototype,"upsellOfferDetails",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Y(z.prototype,"commerceModalManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=Y(z.prototype,"accessibility",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Y(z.prototype,"basePriceString",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=Y(z.prototype,"introPeriod",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Y(z.prototype,"isIntroOffer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Y(z.prototype,"isFreeTrial",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Y(z.prototype,"introPrice",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Y(z.prototype,"isEligibleForWinbackOffer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y(z.prototype,"onCtaClick",[O],Object.getOwnPropertyDescriptor(z.prototype,"onCtaClick"),z.prototype),Y(z.prototype,"hideUnpopulatedContent",[S],Object.getOwnPropertyDescriptor(z.prototype,"hideUnpopulatedContent"),z.prototype),z)
e.default=ee,Ember._setComponentTemplate(q,ee)})),define("desktop-music-app/components/power-select-multiple",["exports","ember-power-select/components/power-select-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/power-select-multiple/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/power-select",["exports","ember-power-select/components/power-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/power-select/before-options",["exports","ember-power-select/components/power-select/before-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/power-select/options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/preview-button",["exports","@glimmer/component","desktop-music-app/utils/get-metrics-json"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"NAdEdn0j",block:'[[[11,"button"],[16,0,[29,["preview-button button-reset ",[52,[30,1],"songs-list-row__preview-button preview-button__tracklist typography-caption-1-emphasized","action-button typography-body-semibold-tall"]]]],[16,"aria-label",[28,[37,1],["FUSE.Preview"],null]],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,2],["click",[30,0,["onClick"]]],null],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[1,[28,[35,1],["FUSE.Preview.AllCaps"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,1],["FUSE.Preview"],null]],[1,"\\n"]],[]]],[13]],["@isOnTracklist"],false,["if","t","on"]]',moduleName:"desktop-music-app/components/preview-button.hbs",isStrictMode:!1})
let b=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){super(...e),d(this,"playback",s,this),d(this,"i18n",u,this),d(this,"musickit",c,this)}get dataMetricsClick(){const e=Ember.get(this,"args.lockup.id")||""
return(0,i.default)(["preview"],{id:e})}get playbackConfig(){return{items:this.args.songsList.map((e=>{let t={}
return Ember.get(e,"rawJSON")?t=Ember.get(e,"rawJSON"):Object.keys(e).forEach((i=>{t[i]=Ember.get(e,i)})),t})),container:Ember.get(this,"args.songsContainer.rawJSON")||{id:Ember.get(this,"args.songsContainer.id")}}}onClick(e){this.musickit.instance.continuous=!0,e.stopPropagation(),e.preventDefault(),this.playback.play(this.playbackConfig)}},s=p(a.prototype,"playback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"onClick",[l],Object.getOwnPropertyDescriptor(a.prototype,"onClick"),a.prototype),a)
e.default=b,Ember._setComponentTemplate(m,b)})),define("desktop-music-app/components/profile-not-logged-in",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Q8O0MRYa",block:'[[[8,[39,0],null,[["@artwork","@isPrivate","@alt","@class","@fallbackProfile"],[[30,1,["artwork"]],[30,2,["isPrivate"]],[30,1,["name"]],"profile-uber__artwork circular-artwork--profile",[28,[37,1],[[30,1]],null]]],null],[1,"\\n"],[10,0],[14,0,"profile-uber__details"],[12],[1,"\\n    "],[10,0],[14,0,"profile-uber__details-user"],[12],[1,"\\n        "],[10,"h1"],[14,0,"typography-header-emphasized profile-username"],[12],[1,[30,1,["name"]]],[13],[1,"\\n        "],[10,"h4"],[14,0,"profile-handle typography-title-2"],[12],[1,"@"],[1,[30,1,["handle"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@profile","@mprofile"],false,["dt-profile/circular-artwork","fallback-artwork"]]',moduleName:"desktop-music-app/components/profile-not-logged-in.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/pulse-loading",["exports","@glimmer/component","ember-lifeline","desktop-music-app/config/environment","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i,r,n){var o,l,a,s
function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"I0zKZrXJ",block:'[[[11,0],[17,1],[4,[38,0],[[30,0,["triggerLoadingTimer"]]],null],[12],[1,"\\n\\n"],[41,[30,0,["showLoadingSpinner"]],[[[1,"        "],[18,2,null],[1,"\\n"]],[]],null],[1,"\\n"],[13],[1,"\\n"]],["&attrs","&default"],false,["did-insert","if","yield"]]',moduleName:"desktop-music-app/components/pulse-loading.hbs",isStrictMode:!1}),{SPINNER_DELAY:d,FAIL_SPINNER_DELAY:p}=r.default.APP
let m=(o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){var t,i,r,n,o,l,a
super(...e),t=this,i="accessibility",n=this,(r=s)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a=!1,(l="showLoadingSpinner")in(o=this)?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a}get _delay(){return Number.isInteger(this.args.delay)?this.args.delay:d}triggerLoadingTimer(){(0,i.runTask)(this,(()=>{Ember.set(this,"showLoadingSpinner",!0),this.toggleAriaBusyOnContent(),(0,i.runTask)(this,(()=>{Ember.set(this,"showLoadingSpinner",!1),this.toggleAriaBusyOnContent()}),p)}),this._delay)}toggleAriaBusyOnContent(){this.accessibility.contentView&&(this.showLoadingSpinner?(this.accessibility.contentView.setAttribute("aria-busy",this.showLoadingSpinner.toString()),this.accessibility.contentView.setAttribute("aria-live","polite")):(this.accessibility.contentView.removeAttribute("aria-busy"),this.accessibility.contentView.removeAttribute("aria-live")))}willDestroy(){Ember.set(this,"showLoadingSpinner",!1),this.toggleAriaBusyOnContent(),super.willDestroy(...arguments)}},s=u(a.prototype,"accessibility",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"triggerLoadingTimer",[l],Object.getOwnPropertyDescriptor(a.prototype,"triggerLoadingTimer"),a.prototype),u(a.prototype,"toggleAriaBusyOnContent",[n.default],Object.getOwnPropertyDescriptor(a.prototype,"toggleAriaBusyOnContent"),a.prototype),a)
e.default=m,Ember._setComponentTemplate(c,m)})),define("desktop-music-app/components/pulse-spinner",["exports","@apple/pulse-spinner/components/pulse-spinner"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/radial-progress-loader-container",["exports","@glimmer/component","desktop-music-app/utils/trusted-css"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"DkWX9udB",block:'[[[10,"svg"],[14,"width","28"],[14,"height","28"],[14,"viewBox","0 0 28 28"],[14,0,"radial-progress-loader radial-progress-loader--album-action-button"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[15,5,[30,0,["radialProgressStyle"]]],[12],[1,"\\n    "],[10,"path"],[14,0,"radial-progress-loader__stop-glyph"],[14,"d","M11.694 17.5h4.612c.799 0 1.194-.395 1.194-1.179V11.68c0-.784-.395-1.18-1.194-1.18h-4.612c-.795 0-1.194.393-1.194 1.18v4.642c0 .787.4 1.179 1.194 1.179z"],[12],[13],[1,"\\n    "],[10,"g"],[14,0,"radial-progress-loader__group"],[12],[1,"\\n        "],[10,"path"],[14,0,"radial-progress-loader__queue-circle"],[14,"d","M14 28c7.659 0 14-6.355 14-14 0-7.659-6.355-14-14.014-14C6.341 0 0 6.341 0 14c0 7.645 6.355 14 14 14zm0-2.334A11.61 11.61 0 012.347 14c0-6.479 5.16-11.667 11.64-11.667A11.642 11.642 0 0125.666 14C25.68 20.478 20.478 25.666 14 25.666z"],[14,"fill-rule","nonzero"],[12],[13],[1,"\\n        "],[10,"circle"],[14,0,"radial-progress-loader__indicator"],[14,"cx","28"],[14,"cy","28"],[14,"r","11.95"],[14,"fill","none"],[14,"stroke-width","2.19"],[14,"stroke-dasharray","75"],[14,"transform","rotate(-90 14 30.07) scale(1.07389)"],[12],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,[]]',moduleName:"desktop-music-app/components/radial-progress-loader-container.hbs",isStrictMode:!1})
class n extends t.default{get radialProgressStyle(){const e=this.args.offset||0
return(0,i.trustedCss)(`--stroke-dashoffset:${75-.75*e};`)}}e.default=n,Ember._setComponentTemplate(r,n)})),define("desktop-music-app/components/radial-progress-loader-list",["exports","@glimmer/component","desktop-music-app/utils/trusted-css"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"Pq1ZmEJM",block:'[[[10,"svg"],[14,"width","16"],[14,"height","16"],[14,"viewBox","0 0 16 16"],[14,0,"radial-progress-loader radial-progress-loader--list-item"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[15,5,[30,0,["radialProgressStyle"]]],[12],[1,"\\n    "],[10,"g"],[14,0,"radial-progress-loader__group"],[12],[1,"\\n        "],[10,"path"],[14,0,"radial-progress-loader__queue-circle"],[14,"d","M8 1c3.84 0 7 3.16 7 7s-3.16 7-7 7-7-3.16-7-7 3.16-7 7-7zm0 1.5C4.983 2.5 2.5 4.983 2.5 8s2.483 5.5 5.5 5.5 5.5-2.483 5.5-5.5S11.017 2.5 8 2.5z"],[12],[13],[1,"\\n        "],[10,"circle"],[14,"cx","16"],[14,"cy","16"],[14,"r","11.95"],[14,"fill","none"],[14,"stroke-width","2.87"],[14,0,"radial-progress-loader__indicator"],[14,"stroke-dasharray","75"],[14,"transform","matrix(0 -.52301 .52301 0 -.368 16.368)"],[12],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,[]]',moduleName:"desktop-music-app/components/radial-progress-loader-list.hbs",isStrictMode:!1})
class n extends t.default{get radialProgressStyle(){const e=this.args.offset||0
return(0,i.trustedCss)(`--stroke-dashoffset:${75-.75*e};`)}}e.default=n,Ember._setComponentTemplate(r,n)})),define("desktop-music-app/components/radial-progress-player",["exports","@glimmer/component","desktop-music-app/utils/trusted-css"],(function(e,t,i){var r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"xCmdmage",block:'[[[10,"svg"],[14,"height","28"],[14,"width","28"],[14,"viewBox","0 0 28 28"],[14,1,"button"],[15,0,[29,["radial-progress-player",[52,[30,1]," radial-progress-player--playing"]]]],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[14,"stroke-linecap","round"],[12],[1,"\\n    "],[11,"circle"],[16,5,[30,0,["radialProgressStyle"]]],[24,0,"radial-progress-player__indicator"],[24,"cx","28"],[24,"cy","28"],[24,"r","11.95"],[24,"fill","none"],[24,"stroke-width","1.83"],[24,"stroke-dasharray","75"],[24,"transform","rotate(-90 14 30.465) scale(1.08801)"],[4,[38,1],[[30,0,["didInsertNode"]]],null],[12],[13],[1,"\\n    "],[10,"path"],[14,0,"radial-progress-player__pause-glyph"],[14,"d","M12.174 19c.545 0 .826-.294.826-.865v-8.27c0-.583-.281-.859-.826-.865h-1.348c-.545 0-.826.294-.826.865v8.27c-.006.571.275.865.826.865h1.348zm4.998 0c.546 0 .828-.294.828-.865v-8.27c0-.583-.282-.865-.828-.865h-1.344c-.552 0-.828.294-.828.865v8.27c0 .571.276.865.828.865h1.344z"],[12],[13],[1,"\\n    "],[10,"path"],[14,0,"radial-progress-player__play-glyph"],[14,"d","M10.958 20c.287 0 .54-.103.855-.287l8.08-4.673c.588-.342.834-.609.834-1.04 0-.431-.246-.691-.834-1.04l-8.08-4.673c-.315-.184-.568-.287-.855-.287-.561 0-.958.431-.958 1.108v9.784c0 .684.397 1.108.958 1.108z"],[12],[13],[1,"\\n    "],[10,"path"],[14,0,"radial-progress-player__buffering"],[14,"d","M14.005 27.995h-.01C6.317 27.995 0 21.678 0 14 0 6.322 6.317.005 13.995.005c3.316 0 6.526 1.18 9.054 3.324.34.224.546.603.546 1.01 0 .66-.546 1.206-1.207 1.206-.341 0-.666-.145-.896-.397a11.602 11.602 0 00-7.487-2.74c-6.362 0-11.598 5.235-11.598 11.597 0 6.364 5.236 11.598 11.598 11.598 6.363 0 11.598-5.234 11.598-11.598V14a1.216 1.216 0 011.199-1.062c.607 0 1.124.458 1.198 1.062 0 7.678-6.317 13.995-13.995 13.995"],[12],[13],[1,"\\n"],[13]],["@isPlaying"],false,["if","did-insert"]]',moduleName:"desktop-music-app/components/radial-progress-player.hbs",isStrictMode:!1})
let l=(r=Ember._action,n=class extends t.default{didInsertNode(e){this.circleEl=e}get radialProgressStyle(){if(this.circleEl&&!this.args.isPlaying&&!this.args.progressIsReset){var e
const t=null===(e=window.getComputedStyle(this.circleEl))||void 0===e?void 0:e.getPropertyValue("stroke-dashoffset")
return(0,i.trustedCss)(`stroke-dashoffset: ${t}`)}return(0,i.trustedCss)(`stroke-dashoffset: ${this.args.offset}`)}},a=n.prototype,s="didInsertNode",u=[r],c=Object.getOwnPropertyDescriptor(n.prototype,"didInsertNode"),d=n.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/radio-see-all",["exports","@glimmer/component","desktop-music-app/utils/route"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"AsSiTmk8",block:'[[[8,[39,0],[[24,0,"grid titled-box--radio-see-all"]],[["@title"],[[28,[37,1],[[28,[37,2],[[28,[37,3],[[30,1,["station","storeContentLink","name"]],[30,1,["station","name"]]],null]," ",[28,[37,4],["FUSE.Radio.Full.Schedule"],null]],null],"Apple Music "],null]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,6],[[28,[37,6],[[30,1,["upcomingShows"]]],null]],null],null,[[[1,"        "],[8,[39,7],[[24,0,"lockup lockup--radio-see-all-featured-lockup"]],[["@index","@artwork","@onClick","@badge","@title","@description","@lockup","@linkable","@playable"],[[30,3],[30,2,["artwork"]],[28,[37,8],[[30,0,["onClick"]],[30,2]],null],[28,[37,9],[[30,2,["startTime"]],[30,2,["endTime"]]],[["isLive"],[[52,[28,[37,11],[[30,3],0],null],true,false]]]],[30,2,["title"]],[30,2,["description"]],[28,[37,3],[[30,2,["curator"]],[30,2]],null],[30,2,["curator","url"]],false]],null],[1,"\\n"]],[2,3]],null],[1,"\\n"]],[]]]]],[1,"\\n"]],["@model","show","index"],false,["dt-titled-box","string-replace","concat","or","t","each","-track-array","dt-featured-lockup","fn","live-time","if","eq"]]',moduleName:"desktop-music-app/components/radio-see-all.hbs",isStrictMode:!1})
let b=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=class extends t.default{constructor(...e){super(...e),d(this,"router",s,this),d(this,"store",u,this),d(this,"storefront",c,this)}async onClick(e){const t=Ember.get(e,"curator.url")
if(t){const{_routerMicrolib:e}=this.router._router,r=(0,i.normalizeURL)(t,e,this.storefront.resolvedStorefront);(0,i.transitionToRoute)(this.router,r)}}},s=p(a.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"onClick",[l],Object.getOwnPropertyDescriptor(a.prototype,"onClick"),a.prototype),a)
e.default=b,Ember._setComponentTemplate(m,b)})),define("desktop-music-app/components/recently-played-shelf",["exports","@glimmer/component","desktop-music-app/controllers/listen-now","desktop-music-app/utils/constants","desktop-music-app/utils/playback"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.REFRESH_PERSO_OPTIONS=void 0
const h=Ember.HTMLBars.template({id:"JcfdAnfC",block:'[[[41,[30,0,["items","length"]],[[[1,"    "],[8,[39,1],[[17,1]],[["@id","@grid","@moduleType","@shelfIndex","@title","@items","@seeAllComponent","@itemComponent"],[[29,["recently-played-shelf-",[30,2]]],"G",[30,3],[30,4],[30,5],[30,0,["items"]],[50,"see-all/url",0,null,[["url","label"],[[30,6],[28,[37,3],["SeeAll.AriaLabel"],[["containerName"],[[30,5]]]]]]],[50,"dt-lockup",0,null,[["recommendationData"],[[30,7]]]]]],[["default"],[[[[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,8,["items"]]],null]],null],null,[[[1,"            "],[8,[30,8,["listItem"]],null,[["@index","@isLastItem"],[[30,10],[28,[37,6],[[30,8,["items"]],[30,10]],null]]],[["default"],[[[[1,"\\n                "],[8,[30,8,["itemComponent"]],null,[["@lazyLoad","@lockup"],[[28,[37,7],[[30,10],5],null],[30,9]]],null],[1,"\\n            "]],[]]]]],[1,"\\n"]],[9,10]],null],[1,"\\n    "]],[8]]]]],[1,"\\n"]],[]],null]],["&attrs","@id","@moduleType","@shelfIndex","@title","@seeAllUrl","@recommendationData","dts","lockup","index"],false,["if","dt-shelf","component","t","each","-track-array","is-last-array-index","gte"]]',moduleName:"desktop-music-app/components/recently-played-shelf.hbs",isStrictMode:!1}),g={...i.REFRESH_OPTIONS,"fields[albums]":["artistName","artistUrl","artwork","editorialArtwork","name","playParams","releaseDate","url"],types:i.REQUEST_TYPES}
e.REFRESH_PERSO_OPTIONS=g
let y=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,u=class extends t.default{constructor(){super(...arguments),b(this,"personalizationRefresh",c,this),b(this,"musickitData",d,this),b(this,"user",p,this),b(this,"updatedRecentlyPlayedList",m,this),this._setPersonalizationListeners()}get items(){return this.updatedRecentlyPlayedList||this.args.items}_setPersonalizationListeners(){this.personalizationRefresh.on("refresh",this,"_updateContent"),Ember._registerDestructor(this,(()=>{this.personalizationRefresh.off("refresh",this,"_updateContent")}))}async _updateContent(){if(this.user.isLoggedIn)try{const e=await this.musickitData.refreshPersonalRecommendation(this.args.id,g)
Array.isArray(e.contents)&&(this.updatedRecentlyPlayedList=e.contents.map((e=>({...e,kind:r.AMWEB_TYPE_TO_KIND_MAPPING[e.kind],rawJSON:(0,n.generateRawJSON)(e)}))))}catch(e){}}},c=f(u.prototype,"personalizationRefresh",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"musickitData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"user",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"updatedRecentlyPlayedList",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u)
e.default=y,Ember._setComponentTemplate(h,y)})),define("desktop-music-app/components/record-label",["exports","@glimmer/component","desktop-music-app/utils/artwork-config","desktop-music-app/config/artwork-profiles","desktop-music-app/config/environment"],(function(e,t,i,r,n){function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"PO+2Gc00",block:'[[[10,0],[14,0,"label-page"],[12],[1,"\\n"],[44,[[28,[37,1],["label"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/label"],[["model"],[[30,2]]]]],[[[1,"                "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"        "],[8,[39,3],null,[["@artwork","@artworkCrop","@product","@showName","@showEntityContextMenu"],[[30,2,["editorialArtwork"]],"fc",[30,2],true,true]],null],[1,"\\n\\n        "],[10,0],[14,0,"label-groups"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,2,["groups"]]],null]],null],null,[[[41,[28,[37,7],[[30,4,["id"]],"top-releases"],null],[[[1,"                    "],[8,[39,8],[[24,0,"divider-before label__shelf"]],[["@id","@title","@grid","@groupCount","@shelfIndex","@itemComponent","@items","@seeAllComponent"],[[29,["group-",[30,4,["id"]]]],[30,4,["sectionName"]],"G",2,[30,5],[50,"dt-lockup",0,null,null],[30,4,["data"]],[50,"see-all/url",0,null,[["url"],[[30,4,["seeAllUrl"]]]]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,4,["data"]]],null]],null],null,[[[44,[[28,[37,10],[[30,4,["data"]],[30,8]],null]],[[[1,"                                "],[8,[30,6,["listItem"]],null,[["@index","@isLastItem"],[[30,8],[30,9]]],[["default"],[[[[1,"\\n"],[44,[[28,[37,1],["music/album"],[["model"],[[30,7]]]]],[[[44,[[28,[37,11],[[30,8],[30,0,["initialRender"]]],null]],[[[1,"                                            "],[8,[39,12],null,[["@id","@index","@renderContent"],[[30,10,["id"]],[30,8],[28,[37,11],[[30,8],[30,0,["initialRender"]]],null]]],[["default"],[[[[1,"\\n                                                "],[8,[39,13],null,[["@lockup","@index","@artworkConfig","@artworkProfileV2","@lazyLoad"],[[30,10],[30,8],[30,0,["albumArtworkConfig"]],[30,0,["albumArtworkConfigV2"]],[52,[30,11],true]]],null],[1,"\\n                                            "]],[]]]]],[1,"\\n"]],[11]]]],[10]]],[1,"                                "]],[]]]]],[1,"\\n"]],[9]]]],[7,8]],null],[1,"                    "]],[6]]]]],[1,"\\n"]],[]],[[[41,[28,[37,7],[[30,4,["id"]],"latest-releases"],null],[[[1,"                    "],[8,[39,8],[[24,0,"dt-shelf--group-lockup-h-gap divider-before"]],[["@id","@grid","@title","@groupCount","@shelfIndex","@items","@itemComponent","@seeAllComponent"],[[29,["388-",[30,4,["id"]]]],"B",[30,4,["sectionName"]],2,[30,5],[30,4,["data"]],[50,"dt-featured-lockup",0,null,[["isForRecordLabel"],[true]]],[50,"see-all/url",0,null,[["url"],[[30,4,["seeAllUrl"]]]]]]],null],[1,"\\n                "]],[]],null]],[]]]],[4,5]],null],[1,"\\n\\n\\n        "],[13],[1,"\\n\\n"],[41,[30,2,["description"]],[[[1,"            "],[10,0],[14,0,"alt-section breakout-box"],[12],[1,"\\n                "],[8,[39,14],[[24,0,"label__description"]],[["@title"],[[28,[37,15],["FUSE.Bio.About"],null]]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"typography-body-tall"],[12],[1,"\\n                        "],[8,[39,16],null,[["@isInAltSection","@headline","@content","@lines","@maxLines"],[true,[30,2,["name"]],[28,[37,17],[[30,2,["description","standard"]]],null],8,10]],null],[1,"\\n                    "],[13],[1,"\\n                "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[2]]],[13]],["@model","recordLabel","recordLabelMeta","group","index","dts","lockup","index","isLast","album","renderContent"],false,["let","present","seo-tags","dt-uber","each","-track-array","if","is-equal","dt-shelf","component","is-last-array-index","lte","render-in-viewport","dt-lockup","dt-titled-box","t","dt-truncate","untrusted-html"]]',moduleName:"desktop-music-app/components/record-label.hbs",isStrictMode:!1})
class a extends t.default{constructor(...e){super(...e),o(this,"albumArtworkConfig",i.ARTWORK_PRESETS.standardLockup.album),o(this,"albumArtworkConfigV2",r.ARTWORK_V2_PRESETS.standardLockup.album)}get initialRender(){return n.default.APP.SHELF_ITEMS_UNTIL_LAZY}}e.default=a,Ember._setComponentTemplate(l,a)})),define("desktop-music-app/components/render-in-viewport",["exports","@glimmer/component"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"8RIXc4QM",block:'[[[11,0],[16,1,[30,0,["guid"]]],[24,0,"viewport-renderer"],[4,[38,0],[[30,0,["setupViewportListener"]]],null],[12],[1,"\\n"],[41,[28,[37,2],[[30,1],[30,0,["showYield"]]],null],[[[1,"        "],[18,2,null],[1,"\\n"]],[]],null],[13],[1,"\\n"]],["@renderContent","&default"],false,["did-insert","if","or","yield"]]',moduleName:"desktop-music-app/components/render-in-viewport.hbs",isStrictMode:!1}),m=new Set
let b=null,f=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._tracked,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),c(this,"inViewport",a,this),c(this,"routeHistory",s,this),c(this,"showYield",u,this),this.guid=Ember.guidFor(this)}setupViewportListener(e){if(this.args.renderContent)return
if(m.has(this.args.id))return void(this.showYield=!0)
let t
const i=function(e,t){if(!e)return null
let i=t
do{if(i.classList.contains(e)||i.id===e)return i}while(i=i.parentElement,i)}("shelf-grid__list",e)
t=i?{scrollableArea:i,viewportTolerance:{right:50,left:50,bottom:0}}:{viewportTolerance:{bottom:200}},b=window.requestAnimationFrame((()=>{const{onEnter:i}=this.inViewport.watchElement(e,t)
i(this.didEnterViewport.bind(this))}))}didEnterViewport(){this.isDestroyed||this.isDestroying||(this.args.id&&m.add(this.args.id),b=window.requestAnimationFrame((()=>{this.isDestroyed&&this.isDestroying||(this.showYield=!0)})))}willDestroy(){b&&window.cancelAnimationFrame(b),super.willDestroy(...arguments)}},a=d(l.prototype,"inViewport",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"showYield",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d(l.prototype,"setupViewportListener",[o],Object.getOwnPropertyDescriptor(l.prototype,"setupViewportListener"),l.prototype),l)
e.default=f,Ember._setComponentTemplate(p,f)})),define("desktop-music-app/components/search-box",["exports","web/components/search-box"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/search-hints",["exports","web/components/search-hints"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/search-landing",["exports","@glimmer/component","desktop-music-app/utils/feature-flags","ember-lifeline","desktop-music-app/utils/get-metrics-json","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/key-events","desktop-music-app/services/search","desktop-music-app/services/accessibility","desktop-music-app/config/environment"],(function(e,t,i,r,n,o,l,a,s,u){var c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W,Y,q,G,$,Q,J,X,Z,ee,te,ie,re,ne,oe,le,ae,se,ue,ce,de
function pe(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function me(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const be=Ember.HTMLBars.template({id:"NqUsaY4Q",block:'[[[11,0],[24,0,"search-landing"],[4,[38,0],[[30,0,["setupSearch"]]],null],[12],[1,"\\n"],[41,[28,[37,2],[[28,[37,3],[[30,0,["isMobile"]]],null],[30,0,["isLoading"]]],null],[[[1,"        "],[10,0],[14,0,"search__loading-state"],[12],[1,"\\n            "],[8,[39,4],null,null,[["default"],[[[[1,"\\n                "],[8,[39,5],null,null,null],[1,"\\n            "]],[]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"            "],[11,0],[24,0,"search__search-bar"],[4,[38,0],[[30,0,["setAriaOwns"]]],null],[12],[1,"\\n                "],[10,0],[14,0,"search__section-nav section-nav section-nav--align-center"],[12],[1,"\\n"],[1,"                    "],[8,[39,6],[[24,1,"search-landing-search-box"],[24,0,"search__search-box section-nav__main"],[4,[38,0],[[30,0,["setSearchBoxInput"]]],null]],[["@ariaControls","@onSearchFieldFocus","@onSearchFieldBlur","@onSearchFieldInput"],["search__search-hints-list",[30,0,["onSearchFieldFocus"]],[30,0,["onSearchFieldBlur"]],[30,0,["onSearchFieldInput"]]]],null],[1,"\\n\\n"],[41,[30,0,["shouldShowCancelButton"]],[[[1,"                        "],[10,0],[14,0,"section-nav__aux"],[12],[1,"\\n                            "],[11,"button"],[24,0,"link-button typography-search-aux"],[4,[38,7],["click",[30,0,["cancelSearch"]]],null],[12],[1,[28,[35,8],["FUSE.Search.Cancel"],null]],[13],[1,"\\n                        "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"],[41,[30,0,["shouldShowScopeBar"]],[[[1,"                    "],[8,[39,9],[[24,0,"search__scope-bar search-scope-bar--mobile-search"]],null,null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n"],[41,[28,[37,2],[[30,0,["isMobile"]],[30,0,["isLoading"]]],null],[[[1,"                "],[10,0],[14,0,"search__loading-state"],[12],[1,"\\n"],[1,"                    "],[8,[39,4],null,[["@delay"],[0]],[["default"],[[[[1,"\\n                        "],[8,[39,5],null,null,null],[1,"\\n                    "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[30,0,["shouldShowSearchHints"]],[[[1,"                    "],[10,0],[14,0,"search__search-hints"],[12],[1,"\\n                        "],[8,[39,10],[[24,1,"search__search-hints-list"]],[["@searchInput"],[[30,0,["searchBoxInput"]]]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null]],[]]],[1,"\\n"],[41,[28,[37,3],[[30,0,["isLoading"]]],null],[[[41,[30,0,["showSearchResults"]],[[[41,[30,0,["search","hasResults"]],[[[1,"                    "],[11,0],[24,0,"search__search-hits"],[4,[38,0],[[30,0,["recordPageData"]]],null],[12],[1,"\\n"],[41,[30,0,["isMobile"]],[[[1,"                            "],[8,[39,11],[[24,0,"search__tab-control"]],[["@tabPanels","@searchResultsMetricsClick","@filterCategoryMetricsClick","@onSelectTab"],[[30,0,["resultsAsTabs"]],[30,0,["mobileResultsMetricsClick"]],[30,0,["filterCategoryMetricsClick"]],[30,0,["onSelectTab"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["sidebarVisibleTopResults"]],[[[1,"                                "],[10,0],[14,0,"search__top-results"],[12],[1,"\\n                                    "],[10,"h2"],[14,0,"search__top-results-heading"],[12],[1,[28,[35,8],["FUSE.Search.BubbleHeader.topResults"],null]],[13],[1,"\\n                                    "],[10,0],[14,0,"search__grid"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,0,["sidebarVisibleTopResults"]]],null]],null],null,[[[44,[[28,[37,15],[[28,[37,16],[[30,1]],null]],[["model"],[[30,1]]]]],[[[1,"                                                "],[8,[39,17],[[24,0,"search-list-lockup--search-result"]],[["@showPlaybackControls","@metricsIndex","@lockup","@config","@trackSearchHistory"],[true,[30,2],[30,3],"top-result",true]],null],[1,"\\n"]],[3]]]],[1,2]],null],[1,"                                    "],[13],[1,"\\n                                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,0,["shelves"]]],null]],null],null,[[[1,"                                "],[8,[39,18],[[16,0,[29,["divider-before dt-shelf--search-",[30,4,["name"]]]]]],[["@id","@grid","@title","@items","@groupCount","@itemComponent","@seeAllComponent"],[[29,["search-recently-viewed",[30,4,["id"]]]],[28,[37,19],[[30,4,["name"]]],null],[28,[37,20],[[28,[37,21],[[30,0,["titleForShelf"]],[30,4,["name"]]],null]],null],[30,4,["swooshResults"]],[52,[28,[37,22],[[30,4,["name"]],"musicVideoShow"],null],1,[52,[30,4,["isSongList"]],3]],[50,[30,4,["itemComponent"]],0,null,[["config","showUserHandle","trackSearchHistory"],["search-swoosh",true,true]]],[50,"see-all/search-row",0,null,[["model","term","searchIn"],[[30,4],[30,0,["searchTerm"]],[30,0,["searchIn"]]]]]]],null],[1,"\\n"]],[4]],null]],[]]],[1,"                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,0],[14,0,"search__no-results"],[12],[1,"\\n                        "],[10,2],[14,0,"search__no-results-heading typography-large-title-emphasized"],[12],[1,"\\n                            "],[1,[28,[35,8],["SF.NoResultsFoundForTerm"],[["searchTerm"],[[30,0,["searchTerm"]]]]]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,2],[14,0,"search__no-results-text typography-title-3-tall"],[12],[1,"\\n                            "],[1,[28,[35,8],["FUSE.Error.TryAgain"],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["shouldShowRecentlyViewed"]],[[[1,"                    "],[10,0],[14,0,"search__recent"],[12],[1,"\\n                        "],[10,0],[14,0,"section-nav"],[12],[1,"\\n                            "],[10,0],[14,0,"section-nav__header"],[12],[1,"\\n                                "],[10,"h2"],[14,0,"typography-title-2-emphasized"],[12],[1,[30,0,["recentlyViewedHeading"]]],[13],[1,"\\n                            "],[13],[1,"\\n                            "],[10,0],[14,0,"section-nav__aux"],[12],[1,"\\n                                "],[11,"button"],[24,0,"link-button"],[4,[38,7],["click",[30,0,["clearRecentlySearched"]]],null],[12],[1,[28,[35,8],["FUSE.Search.Clear"],null]],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n\\n                        "],[10,0],[14,0,"search__grid"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,0,["recentlyViewed"]]],null]],null],null,[[[44,[[28,[37,15],[[28,[37,16],[[30,5,["lockup"]]],null]],[["model"],[[30,5,["lockup"]]]]]],[[[41,[30,7],[[[1,"                                        "],[8,[39,17],[[24,0,"search-list-lockup--recently-searched"],[16,"data-metrics-click",[28,[37,20],[[28,[37,21],[[30,0,["recentlySearchedMetricsClick"]],[28,[37,24],null,[["lockup","lockupIndex","sectionName"],[[30,7],[30,6],[30,0,["recentlyViewedHeading"]]]]]],null]],null]]],[["@showPlaybackControls","@artwork","@lockup","@lockupIndex","@clientPersistentID","@isRecentlySearched"],[true,[30,7,["artwork"]],[30,7],[30,6],[30,5,["persistentID"]],true]],null],[1,"\\n"]],[]],null]],[7]]]],[5,6]],null],[1,"                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["shouldShowCategories"]],[[[1,"                    "],[10,0],[14,0,"search__categories"],[12],[1,"\\n                        "],[10,0],[14,0,"search__nav section-nav"],[12],[1,"\\n                            "],[10,0],[14,0,"section-nav__header"],[12],[1,"\\n                                "],[10,"h2"],[14,0,"typography-title-2-emphasized"],[12],[1,[30,0,["browseCategoriesHeading"]]],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"search__grid"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,0,["recommendations"]]],null]],null],null,[[[42,[28,[37,13],[[28,[37,13],[[30,8,["contents"]]],null]],null],null,[[[44,[[28,[37,24],null,[["id","type","artwork","link","designBadge"],[[30,10,["id"]],[30,10,["type"]],[28,[37,25],[[30,10,["editorialArtwork","subscriptionHero"]],[30,10,["artwork"]],[30,8,["editorialArtwork","subscriptionHero"]],[30,8,["artwork"]]],null],[28,[37,24],null,[["url"],[[30,10,["url"]]]]],[28,[37,25],[[30,10,["shortName"]],[30,10,["editorialNotes","badge"]],[30,10,["name"]],[30,10,["editorialNotes","name"]]],null]]]]],[[[1,"                                        "],[10,0],[14,0,"brick-wrapper"],[12],[1,"\\n                                            "],[8,[39,26],[[24,0,"brick--self-contained search-landing__browse-category"],[24,"role","button"],[16,"aria-label",[30,12,["designBadge"]]],[16,"data-metrics-click",[28,[37,20],[[28,[37,21],[[30,0,["categoryMetricsClick"]],[28,[37,24],null,[["category","categoryIndex","section","sectionIndex","sectionName"],[[30,12],[30,11],[30,8],[30,9],[30,0,["browseCategoriesHeading"]]]]]],null]],null]]],[["@lazyLoad","@lockup","@isSearchCategoryBrick","@artworkProfile"],[false,[30,12],true,"search-category"]],null],[1,"\\n                                        "],[13],[1,"\\n"]],[12]]]],[10,11]],null]],[8,9]],null],[1,"                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],null]],[]]]],[]],null]],[]]],[13],[1,"\\n"]],["topResult","topResultIndex","result","shelf","item","itemIndex","lockup","section","sectionIndex","category","categoryIndex","categoryLockup"],false,["did-insert","if","and","not","pulse-loading","pulse-spinner","search-box","on","t","search-scope-bar","search-hints","tablist","each","-track-array","let","present","presenter-name-for","search-list-lockup","dt-shelf","search-shelf-grid","call","fn","eq","component","hash","or","dt-brick"]]',moduleName:"desktop-music-app/components/search-landing.hbs",isStrictMode:!1}),{SEARCH_METRICS_DELAY:fe}=u.default.APP,he={am:null,library:null}
let ge=(c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.computed.alias("search.shelves"),E=Ember.computed.alias("search.hints"),_=Ember.computed.alias("search.topHits"),P=Ember.computed.alias("search.topResults"),O=Ember.computed.alias("search.results"),S=Ember.computed.alias("searchScopeBarVisibility.scope"),z=Ember._tracked,j=Ember._tracked,T=(0,o.default)({defaultValue:!1}),M=Ember._action,C=Ember._action,x=Ember._action,D=Ember._action,L=Ember._action,A=Ember._action,I=Ember._action,N=Ember._action,R=Ember._action,F=Ember._action,U=Ember._action,B=Ember._action,H=Ember._action,V=Ember._action,K=Ember._action,W=Ember._action,Y=class extends t.default{constructor(){super(...arguments),pe(this,"musickitData",q,this),pe(this,"searchHistory",G,this),pe(this,"i18n",$,this),pe(this,"metrics",Q,this),pe(this,"router",J,this),pe(this,"searchScopeBarVisibility",X,this),pe(this,"fastboot",Z,this),pe(this,"search",ee,this),pe(this,"playback",te,this),pe(this,"recoDataPlayContent",ie,this),pe(this,"user",re,this),pe(this,"shelves",ne,this),pe(this,"searchHints",oe,this),pe(this,"hintsTopHits",le,this),pe(this,"topResults",ae,this),pe(this,"results",se,this),pe(this,"searchScope",ue,this),pe(this,"recommendations",ce,this),pe(this,"_isSearchFieldFocused",de,this),this.fastboot.isFastBoot||(this.getSearchLandingReco(),this.search.setupResponsiveListener())}get sidebarVisibleTopResults(){var e,t,i
return null===(e=this.topResults)||void 0===e||null===(t=e.swooshResults)||void 0===t||null===(i=t.slice)||void 0===i?void 0:i.call(t,0,3)}get isLoading(){return this.search.isPerformingSearch}get shouldShowCancelButton(){return this._isSearchFieldFocused||this.showSearchResults||this.shouldShowSearchHints}get isMobile(){return this.search.isMobile}get recentlyViewed(){return this.searchHistory.recentlyViewed}get resultsAsTabs(){if(!this.results||!this.results.length)return[]
const e=this.results.map((e=>(Ember.set(e,"id",Ember.guidFor(e)),e)))
return e.find((e=>!!e.isSelected||(he[this.searchIn]===e.name?(e.isSelected=!0,!0):void 0)))||(e[0].isSelected=!0),e}get shouldShowSearchHints(){return this.isMobile&&this.search.hasHints}get showSearchResults(){return this.search.didPerformSearch&&!this.shouldShowSearchHints}get shouldShowScopeBar(){return(this.search.hasHints||this.showSearchResults)&&this.searchScopeBarVisibility.displaySearchScopeBar}get isSearchMode(){return this.showSearchResults||this.search.hasHints}get shouldShowRecentlyViewed(){var e,t
return this.isMobile?!this.showSearchResults&&!this.search.hasHints&&(null===(t=this.recentlyViewed)||void 0===t?void 0:t.length)>0:!this.showSearchResults&&(null===(e=this.recentlyViewed)||void 0===e?void 0:e.length)>0}get shouldShowCategories(){var e
return!(null===(e=this.recommendations)||void 0===e||!e.length)&&(this.isMobile?!this.showSearchResults&&!this.search.hasHints:!this.showSearchResults)}get recentlyViewedHeading(){return this.i18n.t("FUSE.Search.RecentlySearched")}get browseCategoriesHeading(){return this.i18n.t("FUSE.Search.BrowseCategories")}get searchTerm(){return this.search.term}get searchIn(){return this.search.searchIn}async getSearchLandingReco(){this.recommendations=await this.musickitData.storefrontRecommendations("",{name:"search-landing",platform:"web",extend:"editorialArtwork","art[url]":"f,c",types:["editorial-items","apple-curators","activities"]})}trackActiveDescendant(e){e.addEventListener("itemselected",(e=>{const t=document.querySelector("#search-landing-search-box input")
t&&t.setAttribute("aria-activedescendant",e.target.id)}))}setupSearch(){(0,r.runTask)(this,(()=>{this._recordDefaultPageData()}),fe),this.searchHistory.loadHistory()}setAriaOwns(){let e
e=document.querySelector(".page-container h2"),e&&e.setAttribute("id",s.PAGE_FIRST_LINKED_ELEMENT)}setSearchBoxInput(e){this.searchBoxInput=e.querySelector("input")}cancelSearch(){this.metrics.recordEvent("click",{targetId:"cancelQuery",actionType:"cancel",targetType:"button",searchTerm:this.searchTerm}),this.search.resetAll()}clearRecentlySearched(){this.searchHistory.clearRecentlyViewed()}onSearchFieldFocus(e){this._recordDefaultPageData(),this._isSearchFieldFocused=!0,(this.shouldShowRecentlyViewed||e.target.value)&&document.body.classList.add("has-search-focused")}onSearchFieldBlur(){this._isSearchFieldFocused=!1,(0,r.runTask)(this,(()=>{document.body.classList.remove("has-search-focused")}),200)}onSearchFieldInput(e){"insertText"!==!e.inputType&&("deleteContentBackward"!==e.inputType||e.target.value||this.shouldShowRecentlyViewed||document.body.classList.remove("has-search-focused"))}onSelectTab(e){he[this.searchIn]=e.name,this.resultsAsTabs.forEach((t=>{t.isSelected&&Ember.set(t,"isSelected",!1),t.name===e.name&&(Ember.set(t,"isSelected",!0),"library"!==this.searchIn&&(0,a.decorateWithLibraryState)(this.musickitData,e.results))})),this._updatePageDataOnTabChange(e)}filterCategoryMetricsClick(e){const t=[{id:e.name,locationType:"filter",name:this.i18n.t(`FUSE.Search.BubbleHeader.${e.name}`)}]
return(0,n.default)(["categoryFilterClick"],{targetId:e.name,location:t})}recentlySearchedMetricsClick({lockup:e,lockupIndex:t,sectionName:i}){if(!e)return
const{isMobile:r}=this,o=[{id:e.id,locationPosition:t,locationType:"ContentListItem",name:e.name,kind:e.kind}]
r||o.push({locationType:"grid",locationPosition:0,name:i})
const{pageId:l,pageType:a}=this.metrics.ownerRoute||{}
return(0,n.default)(["searchRecentClick"],{id:e.id,targetType:"ContentListItem",page:`${a}_${l}`,pageId:l,pageType:a,location:o})}mobileResultsMetricsClick({lockup:e,lockupIndex:t}){if(!e)return
const i=[{id:e.id,locationType:"SearchResultItem",locationPosition:t,name:e.name,kind:e.kind}]
return(0,n.default)(["mobileSearchResultsClick"],{targetId:e.id,location:i})}categoryMetricsClick({category:e,categoryIndex:t,section:i,sectionName:r,sectionIndex:o}){if(!e)return
const l=[{id:e.id,locationPosition:t,locationType:"brick",name:e.designBadge}]
var a
i&&l.push({id:i.id,locationType:"grid",locationPosition:o,name:r,"data.reco.dataSetId":null===(a=i._meta.metrics)||void 0===a?void 0:a.reco_id})
return(0,n.default)(["searchCategoryClick"],{id:e.id,location:l})}recordPageData(){this.search.rawResults&&this._updatePageDataOnSearch(this.search.rawResults)}onKeyboardNavigation(e){const t=new l.KeyEvent(e)
if(!t.isNavigation||t.isEscape)return function(){const e=document.querySelector("#search-landing-search-box input")
e&&e.focus()}(),!1}titleForShelf(e){return"station"===e?this.i18n.t("FUSE.Search.BubbleHeader.station.other"):this.i18n.t(`FUSE.Search.BubbleHeader.${e}`)}_getPageId(e){var t,i
return this._hasMobileTabList()?null===(t=e.bubbles)||void 0===t||null===(i=t.firstObject)||void 0===i?void 0:i.name:e.bubbles.length?"searchResultsMain":"NoResults"}_updatePageDataOnSearch(e){var t
const{ownerRoute:i}=this.metrics,r=this._getPageId(e)
let n={}
null!==(t=e.meta)&&void 0!==t&&t.metrics&&(n={search:{dataSetId:e.meta.metrics.dataSetId}})
const o={pageId:r,page:`${i.pageType}_${r}`,pageUrl:window.location.href,searchTerm:e.term,pageDetails:{hasResults:!!e.bubbles.length},data:n}
this.metrics.updatePageData(o)}_updatePageDataOnTabChange(e){const t={page:`Search_${e.name}`,pageId:e.name}
this.metrics.updatePageData(t)}_recordDefaultPageData(){var e
const t="Search",i=this.results?"recent":"coldstart"
let r={}
this.recommendations&&null!==(e=this.recommendations[0])&&void 0!==e&&e._meta&&(r={reco:{dataSetId:this.recommendations[0]._meta.metrics.reco_id}})
const n={pageContext:"Search",pageId:i,pageType:t,page:`Search_${i}`,data:r}
this.metrics.updatePageData(n)}_hasMobileTabList(){return!!document.querySelector(".search__tab-control")}willDestroy(){this.fastboot.isFastBoot||(document.body.classList.remove("has-search-focused"),this.search.destroyResponsiveListener()),super.willDestroy(...arguments)}},q=me(Y.prototype,"musickitData",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=me(Y.prototype,"searchHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=me(Y.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=me(Y.prototype,"metrics",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=me(Y.prototype,"router",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=me(Y.prototype,"searchScopeBarVisibility",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=me(Y.prototype,"fastboot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=me(Y.prototype,"search",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=me(Y.prototype,"playback",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=me(Y.prototype,"recoDataPlayContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=me(Y.prototype,"user",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=me(Y.prototype,"shelves",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=me(Y.prototype,"searchHints",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=me(Y.prototype,"hintsTopHits",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=me(Y.prototype,"topResults",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=me(Y.prototype,"results",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=me(Y.prototype,"searchScope",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=me(Y.prototype,"recommendations",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=me(Y.prototype,"_isSearchFieldFocused",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me(Y.prototype,"isMobile",[T],Object.getOwnPropertyDescriptor(Y.prototype,"isMobile"),Y.prototype),me(Y.prototype,"trackActiveDescendant",[M],Object.getOwnPropertyDescriptor(Y.prototype,"trackActiveDescendant"),Y.prototype),me(Y.prototype,"setupSearch",[C],Object.getOwnPropertyDescriptor(Y.prototype,"setupSearch"),Y.prototype),me(Y.prototype,"setSearchBoxInput",[x],Object.getOwnPropertyDescriptor(Y.prototype,"setSearchBoxInput"),Y.prototype),me(Y.prototype,"cancelSearch",[D],Object.getOwnPropertyDescriptor(Y.prototype,"cancelSearch"),Y.prototype),me(Y.prototype,"clearRecentlySearched",[L],Object.getOwnPropertyDescriptor(Y.prototype,"clearRecentlySearched"),Y.prototype),me(Y.prototype,"onSearchFieldFocus",[A],Object.getOwnPropertyDescriptor(Y.prototype,"onSearchFieldFocus"),Y.prototype),me(Y.prototype,"onSearchFieldBlur",[I],Object.getOwnPropertyDescriptor(Y.prototype,"onSearchFieldBlur"),Y.prototype),me(Y.prototype,"onSearchFieldInput",[N],Object.getOwnPropertyDescriptor(Y.prototype,"onSearchFieldInput"),Y.prototype),me(Y.prototype,"onSelectTab",[R],Object.getOwnPropertyDescriptor(Y.prototype,"onSelectTab"),Y.prototype),me(Y.prototype,"filterCategoryMetricsClick",[F],Object.getOwnPropertyDescriptor(Y.prototype,"filterCategoryMetricsClick"),Y.prototype),me(Y.prototype,"recentlySearchedMetricsClick",[U],Object.getOwnPropertyDescriptor(Y.prototype,"recentlySearchedMetricsClick"),Y.prototype),me(Y.prototype,"mobileResultsMetricsClick",[B],Object.getOwnPropertyDescriptor(Y.prototype,"mobileResultsMetricsClick"),Y.prototype),me(Y.prototype,"categoryMetricsClick",[H],Object.getOwnPropertyDescriptor(Y.prototype,"categoryMetricsClick"),Y.prototype),me(Y.prototype,"recordPageData",[V],Object.getOwnPropertyDescriptor(Y.prototype,"recordPageData"),Y.prototype),me(Y.prototype,"onKeyboardNavigation",[K],Object.getOwnPropertyDescriptor(Y.prototype,"onKeyboardNavigation"),Y.prototype),me(Y.prototype,"titleForShelf",[W],Object.getOwnPropertyDescriptor(Y.prototype,"titleForShelf"),Y.prototype),Y)
e.default=ge,Ember._setComponentTemplate(be,ge)})),define("desktop-music-app/components/search-list-lockup",["exports","@glimmer/component","desktop-music-app/utils/playlist-curator","desktop-music-app/decorators/lockup-click","desktop-music-app/decorators/lockup-attributes","desktop-music-app/decorators/playback-states","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/media-type","desktop-music-app/utils/constants","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o,l,a,s,u){var c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S
function z(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function j(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VIDEO_KINDS=void 0
const T=Ember.HTMLBars.template({id:"DqQFfhGK",block:'[[[11,0],[16,0,[29,["search-list-lockup typography-body-tall ",[30,0,["lockupKind"]],[52,[30,0,["isPlaying"]]," playing"],[52,[30,0,["isPaused"]]," paused"],[52,[30,0,["isLoading"]]," loading"],[52,[30,1,["isNotStreamable"]]," disabled"],[52,[30,0,["linkable"]]," linkable"]]]],[24,"tabindex","0"],[16,"aria-label",[28,[37,1],[[28,[37,2],["AMWEB.ContentA.Middot.ContentB"],[["contentA","contentB"],[[28,[37,3],[[30,1,["name"]]],null],[28,[37,3],[[30,0,["line2"]]],null]]]]],null]],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[24,"data-context-menu-parent",""],[17,2],[4,[38,4],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"search-list-lockup__content"],[12],[1,"\\n        "],[8,[39,5],[[16,0,[29,["search-list-lockup__artwork",[52,[30,0,["isHuman"]]," search-list-lockup__artwork--artist"],[52,[30,0,["isBrand"]]," search-list-lockup__artwork--brand"],[52,[30,0,["isVideo"]]," search-list-lockup__artwork--video"],[52,[30,0,["isLabel"]]," search-list-lockup__artwork--label"]]]]],[["@artwork","@lazyLoad","@lockup","@artworkProfile","@fallbackProfile","@alt"],[[30,0,["artwork"]],[28,[37,6],[[30,3],12],null],[30,1],[30,0,["artworkProfile"]],[28,[37,7],[[30,1]],null],[30,1,["title"]]]],[["default"],[[[[1,"\\n"],[41,[28,[37,8],[[30,4],[30,0,["playable"]]],null],[[[1,"                "],[10,0],[14,0,"artwork-overlay search-list-lockup__artwork-overlay"],[12],[1,"\\n                    "],[8,[39,9],[[24,0,"search-list-lockup__play-button"]],[["@lockup","@playlist","@isPlaying","@maybeLoadingSpinner","@isListItem","@trackSearchHistory"],[[30,1],[30,5],[30,0,["isPlaying"]],[30,0,["maybeLoadingSpinner"]],true,[30,6]]],null],[1,"\\n                    "],[8,[39,10],[[24,0,"search-list-lockup__playback-bars"]],null,null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"        "]],[]]]]],[1,"\\n\\n        "],[10,"ul"],[14,0,"search-list-lockup__description"],[14,"role","button"],[12],[1,"\\n            "],[8,[39,11],null,[["@value"],[[30,1,["name"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["isExplicit"]],[[[1,"                    "],[10,"li"],[14,0,"search-list-lockup__explicit-wrapper"],[15,"dir",[30,7]],[12],[1,"\\n                        "],[10,1],[14,0,"search-list-lockup__primary"],[14,"dir","auto"],[12],[1,"\\n                            "],[1,[30,1,["name"]]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,1],[14,0,"search-list-lockup__explicit-text"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Explicit"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[8,[39,12],[[24,0,"search-list-lockup__icon search-list-lockup__icon--explicit badge--large"]],null,null],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[10,"li"],[14,0,"search-list-lockup__primary"],[15,"dir",[30,7]],[12],[1,"\\n                        "],[1,[30,1,["name"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]]],[1,"            "]],[7]]]]],[1,"\\n\\n            "],[8,[39,11],null,[["@value"],[[30,0,["line2"]]]],[["default"],[[[[1,"\\n                "],[10,"li"],[14,0,"search-list-lockup__secondary typography-title-3-tall_callout"],[15,"dir",[30,8]],[12],[1,"\\n                    "],[1,[28,[35,3],[[30,0,["line2"]]],null]],[1,"\\n                "],[13],[1,"\\n            "]],[8]]]]],[1,"\\n\\n"],[41,[30,0,["showFromYourLibrary"]],[[[1,"                "],[8,[39,11],null,[["@value"],[[30,1,["name"]]]],[["default"],[[[[1,"\\n                    "],[10,"li"],[14,0,"search-list-lockup__line3 typography-subhead"],[15,"dir",[30,9]],[12],[1,"\\n                        "],[1,[28,[35,2],["Fuse.Music.Search.FromYourLibrary"],null]],[1,"\\n                    "],[13],[1,"\\n                "]],[9]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["lyricSnippet"]],[[[1,"                "],[8,[39,11],null,[["@value"],[[30,0,["lyricSnippet"]]]],[["default"],[[[[1,"\\n                    "],[10,"li"],[14,0,"search-list-lockup__lyrics typography-title-3-tall"],[15,"dir",[30,10]],[12],[1,"\\n                        "],[10,1],[14,0,"search__hint-text"],[12],[1,"\\n                            "],[10,1],[14,0,"search__hint-autocomplete"],[12],[1,"\\n                                "],[1,[28,[35,3],[[28,[37,2],["FUSE.DT.Search.LyricsColon.Raw"],[["lyricSnippet"],[[30,0,["lyricSnippet","displayTerm"]]]]]],null]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "]],[10]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["isExplicit"]],[[[1,"            "],[8,[39,12],[[24,0,"search-list-lockup__icon search-list-lockup__icon--explicit"]],null,null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n    "],[10,0],[14,0,"search-list-lockup__icons"],[12],[1,"\\n"],[41,[30,0,["showChevron"]],[[[1,"            "],[10,1],[14,"role","presentation"],[14,0,"search-list-lockup__icon search-list-lockup__icon--chevron"],[12],[1,"\\n                "],[1,[28,[35,13],["menu-chevron-right"],[["class"],["chevron-glyph"]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showAddToLibrary"]],[[[1,"                "],[10,1],[14,0,"search-list-lockup__icon search-list-lockup__icon--add-to-library"],[12],[1,"\\n                    "],[8,[39,14],null,[["@description","@isHintTopHit","@isListItem","@lockup","@lockupIndex","@onAdd"],[[30,0,["line2"]],[30,11],true,[30,1],[30,3],[30,12]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showContextMenu"]],[[[1,"                "],[8,[39,15],[[24,0,"search-list-lockup__menu-wrapper"]],[["@lockup","@listenTo"],[[30,1],"click"]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"action-menu search-list-lockup__menu"],[14,"tabindex","0"],[12],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[13],[1,"\\n"]],["@lockup","&attrs","@lockupIndex","@showPlaybackControls","@playlist","@trackSearchHistory","direction","direction","direction","direction","@isHintTopHit","@onAdd"],false,["if","text-content","t","untrusted-html","on","amp-artwork/music","gt","fallback-artwork","and","dt-play-button","dt-playback-bars","bidi-text","explicit-badge","svg-jar","dt-web-add-to-library","dt-media-contextual-menu"]]',moduleName:"desktop-music-app/components/search-list-lockup.hbs",isStrictMode:!1}),M=["musicVideo","tvEpisode","uploadedVideo"]
e.VIDEO_KINDS=M
const C=["activity","grouping","multiRoom","room"]
let x=(0,r.default)(c=(0,n.default)(c=(0,o.default)(c=class extends t.default{})||c)||c)||c,D=(d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember._action,k=j((v=class extends x{constructor(...e){super(...e),z(this,"user",k,this),z(this,"locale",w,this),z(this,"router",E,this),z(this,"playback",_,this),z(this,"storefront",P,this),z(this,"musickitData",O,this),z(this,"search",S,this)}get lockupKind(){return(0,a.getKind)(this.args.lockup)}get isSong(){return"song"===this.lockupKind}get isHuman(){return"artist"===this.lockupKind||"socialProfile"===this.lockupKind}get isBrand(){return"brand"===this.lockupKind||"apple-curator"===this.lockupKind}get isRecordLabel(){return"label"===this.lockupKind}get isVideo(){return M.includes(this.lockupKind)}get isLabel(){return"label"===this.lockupKind}get artwork(){var e,t
return this.isBrand&&null!==(e=this.args.lockup)&&void 0!==e&&null!==(t=e.editorialArtwork)&&void 0!==t&&t.brandLogo?this.args.lockup.editorialArtwork.brandLogo:this.args.lockup.artwork}get artworkProfile(){return this.isVideo?"search-top-hits-video-lockup":"search-top-hits-square-lockup"}get line2LinkUrl(){const{lockup:e}=this.args
return"tv-episodes"===e.type?this.router.urlFor("show",{id:e.get("showBrandId")}):"playlists"===e.type?(0,i.getPlaylistCuratorUrl)(this.router,this.user,e,this.storefront.resolvedStorefront):e.artistUrl}get line2(){let e=(0,n.normalizeIXKind)(this.lockupKind)
var t,i
if("editorialItem"===this.lockupKind)if(null!==(t=this.args.lockup.contents)&&void 0!==t&&t[0])e=(0,n.normalizeIXKind)((0,a.getKind)(this.args.lockup.contents[0]))
else{if(null===(i=this.args.lockup.link)||void 0===i||!i.feature)return""
e=(0,a.getKind)({type:this.args.lockup.link.feature})}if(C.includes(e))return this.i18n.t("FUSE.Search.Category")
if("socialProfile"===e)return this.i18n.t("FUSE.Social.Profile")
if("show"===e)return this.i18n.t("IXDisplayableKind.iTunesBrand.Show.one")
let{displayableKind:r}=this
if("radioStation"===e&&(r=this.i18n.t("IXDisplayableKind.station.one")),this.isHuman||this.isBrand)return r
const{artistName:o,curatorName:l,isPlaylist:s,stationProviderName:u}=this.args.lockup
let c
return c="radioStation"===e&&u?this.i18n.t("FUSE.Radio.From.Provider",{provider:u}):s?l:o,[r,c].filter(Boolean).join("&#8196;&middot;&#8196;")}get lyricSnippet(){let e
return this.isSong&&this.args.lockup.snippets&&(e=this.args.lockup.snippets),e&&Object.keys(e).forEach((t=>{e[t]=e[t]||"&#8202;"})),e}get isExplicit(){return(0,a.isExplicit)(this.args.lockup)}get showAddToLibrary(){return!this.showChevron&&this.user.isSubscribed&&s.CAN_ADD_TO_LIBRARY_TYPES.includes(this.lockupKind)}get showChevron(){return this.isHuman||this.isBrand||this.isInLibrary}get showContextMenu(){return!this.showLibraryIcon&&this.playable}get isInLibrary(){return this.musickitData.isInLibrary(this.args.lockup)||this.args.clientPersistentID}get showFromYourLibrary(){return!this.lyricSnippet&&(this.args.isRecentlySearched?this.musickitData.isLibraryItem(this.args.lockup)||this.args.clientPersistentID:this.musickitData.isInLibrary(this.args.lockup))}get dataMetricsClick(){const{id:e,name:t}=this.args.lockup,i=(0,a.getKind)(this.args.lockup),r=[{id:e,locationType:"SearchResultItem",locationPosition:this.args.metricsIndex,name:t,kind:i}],{pageId:n,pageType:o}=this.metrics.ownerRoute||{}
return n&&r.push({id:n}),(0,l.default)(["linkToInlineMetricsShelfItem"],{id:e,location:r,pageId:n,pageType:o,page:`${o}_${n}`,targetType:"ListItem"})}onClick(e){const{lockup:t}=this.args
if(this.search.isMobile&&"song"===(0,a.getKind)(t)){const e=t.album,i=(null==e?void 0:e.tracks)||[t],r=this.playback.getPlaybackConfig(t,e,i)
this.playback.play(r)}else this.args.clientPersistentID?window.iTunes.revealLibrarySearchResult({persistentID:this.args.clientPersistentID,type:this.args.lockup.type}):this.click(e,{recordMetrics:!1})}}).prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j(v.prototype,"locale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(v.prototype,"router",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=j(v.prototype,"playback",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=j(v.prototype,"storefront",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=j(v.prototype,"musickitData",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=j(v.prototype,"search",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j(v.prototype,"onClick",[y],Object.getOwnPropertyDescriptor(v.prototype,"onClick"),v.prototype),v)
e.default=D,Ember._setComponentTemplate(T,D)})),define("desktop-music-app/components/search-scope-bar",["exports","@glimmer/component","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"BmD75GQs",block:'[[[41,[30,0,["searchScopeBarShouldBeVisible"]],[[[1,"    "],[11,0],[24,0,"search-scope-bar"],[17,1],[12],[1,"\\n        "],[10,0],[14,0,"search-scope-bar__container"],[12],[1,"\\n            "],[10,0],[14,0,"search-scope-bar__pill-container typography-body-tall"],[12],[1,"\\n                "],[10,0],[15,0,[29,["search-scope-bar__pill-option",[52,[30,0,["appleMusicIsSelected"]]," search-scope-bar__pill-option--selected"]]]],[12],[1,"\\n                    "],[11,"input"],[16,"aria-label",[28,[37,1],["FUSE.Search.In.Apple.Music"],null]],[24,3,"searchIn"],[24,1,"searchInAppleMusic"],[24,2,"searchInAppleMusic"],[16,"checked",[30,0,["appleMusicIsSelected"]]],[24,4,"radio"],[4,[38,2],["change",[28,[37,3],[[30,0,["setSearchIn"]],"am"],null]],null],[12],[13],[1,"\\n                    "],[10,"label"],[14,"aria-hidden","true"],[14,"for","searchInAppleMusic"],[12],[1,[28,[35,1],["FUSE.AppleMusic"],null]],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[15,0,[29,["search-scope-bar__pill-option",[52,[30,0,["libraryIsSelected"]]," search-scope-bar__pill-option--selected"]]]],[12],[1,"\\n                    "],[11,"input"],[16,"aria-label",[28,[37,1],["FUSE.Search.In.Library"],null]],[24,3,"searchIn"],[24,1,"searchInLibrary"],[24,2,"searchInLibrary"],[16,"checked",[30,0,["libraryIsSelected"]]],[24,4,"radio"],[4,[38,2],["change",[28,[37,3],[[30,0,["setSearchIn"]],"library"],null]],null],[12],[13],[1,"\\n                    "],[10,"label"],[14,"aria-hidden","true"],[14,"for","searchInLibrary"],[12],[1,"\\n                        "],[1,[28,[35,1],["FUSE.Your.Library"],null]],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],["&attrs"],false,["if","t","on","fn"]]',moduleName:"desktop-music-app/components/search-scope-bar.hbs",isStrictMode:!1})
let g=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=(0,i.default)({defaultValue:!1}),s=Ember._action,u=class extends t.default{constructor(...e){super(...e),b(this,"fastboot",c,this),b(this,"search",d,this),b(this,"searchScopeBarVisibility",p,this),b(this,"metrics",m,this)}get searchScopeBarShouldBeVisible(){const e=this.searchScopeBarVisibility.displaySearchScopeBar,t=document.querySelector("body")
return e?t.classList.add("search-scope-bar--visible"):t.classList.remove("search-scope-bar--visible"),e}get libraryIsSelected(){return"library"===this.search.searchIn}get appleMusicIsSelected(){return!this.libraryIsSelected}setSearchIn(e){this.searchScopeBarVisibility.scope=e,this.search.searchIn=e,this.search.perform(),this.metrics.scopeBarMetricsClick&&this.metrics.scopeBarMetricsClick(e)}},c=f(u.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"search",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"searchScopeBarVisibility",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"metrics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(u.prototype,"searchScopeBarShouldBeVisible",[a],Object.getOwnPropertyDescriptor(u.prototype,"searchScopeBarShouldBeVisible"),u.prototype),f(u.prototype,"setSearchIn",[s],Object.getOwnPropertyDescriptor(u.prototype,"setSearchIn"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(h,g)})),define("desktop-music-app/components/see-all/browse-top-charts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"nuguRNO8",block:'[[[10,0],[14,0,"see-all"],[12],[1,"\\n    "],[8,[39,0],null,[["@route","@model"],["browse.top-charts.see-all",[30,1]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,1],["See All"],null]],[1,"\\n    "]],[]]]]],[1,"\\n"],[13],[1,"\\n"]],["@roomId"],false,["link-to","t"]]',moduleName:"desktop-music-app/components/see-all/browse-top-charts.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/see-all/profile-page",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ShbRNeOE",block:'[[[10,0],[14,0,"see-all"],[12],[1,"\\n    "],[8,[39,0],[[16,"data-dt-link-to-exclude",true]],[["@route","@model","@query"],[[30,1],[30,2],[28,[37,1],null,[["userId"],[[30,3]]]]]],[["default"],[[[[1,"\\n        "],[1,[28,[35,2],["See All"],null]],[1,"\\n    "]],[]]]]],[1,"\\n"],[13],[1,"\\n"]],["@routeName","@id","@userId"],false,["link-to","hash","t"]]',moduleName:"desktop-music-app/components/see-all/profile-page.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i}))
define("desktop-music-app/components/see-all/search-row",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"pbVAPsDk",block:'[[[41,[30,0,["shouldDisplaySeeAll"]],[[[1,"    "],[10,0],[14,0,"see-all"],[12],[1,"\\n        "],[8,[39,1],[[16,"data-dt-link-to-exclude",true],[16,"data-metrics-click",[28,[37,2],["seeAll"],[["sectionName"],[[52,true,[30,1,["name"]],[30,1,["hintsEntity"]]]]]]]],[["@route","@model","@query"],["search.see-all",[30,1,["name"]],[28,[37,3],null,[["term","searchIn"],[[30,2],[30,3]]]]]],[["default"],[[[[1,"\\n            "],[1,[28,[35,4],["See All"],null]],[1,"\\n        "]],[]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],["@model","@term","@searchIn"],false,["if","link-to","metrics-json-data","hash","t"]]',moduleName:"desktop-music-app/components/see-all/search-row.hbs",isStrictMode:!1})
class r extends t.default{get shouldDisplaySeeAll(){var e
const t=(null===(e=this.args.model.swooshResults)||void 0===e?void 0:e.length)??0
return this.args.model.totalResultCount>t}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/see-all/url",["exports","@glimmer/component","desktop-music-app/utils/route","desktop-music-app/utils/get-metrics-json"],(function(e,t,i,r){var n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"nLVJtBtJ",block:'[[[41,[28,[37,1],[[30,1],[30,0,["displaySeeAllLink"]]],null],[[[1,"    "],[10,0],[14,0,"see-all"],[12],[1,"\\n"],[1,"            "],[11,3],[16,6,[30,1]],[16,"data-metrics-click",[30,0,["dataMetricsClick"]]],[4,[38,2],["click",[30,0,["handleClick"]]],null],[12],[1,"\\n                "],[1,[28,[35,3],["See All"],null]],[1,"\\n            "],[13],[1,"\\n"],[1,"    "],[13],[1,"\\n"]],[]],null]],["@url"],false,["if","and","on","t"]]',moduleName:"desktop-music-app/components/see-all/url.hbs",isStrictMode:!1})
let f=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(){var e,t,i
super(...arguments),p(this,"router",u,this),p(this,"storefront",c,this),p(this,"metrics",d,this),i=void 0,(t="displaySeeAllLink")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.displaySeeAllLink="boolean"!=typeof this.args.displaySeeAllLink||this.args.displaySeeAllLink}get dataMetricsClick(){const{label:e,dataMetricsLocation:t}=this.args
return(0,r.default)(["seeAll"],{sectionName:e,location:t})}handleClick(e){e.preventDefault(),e.stopPropagation(),this.metrics.recordEvent("click",JSON.parse(this.dataMetricsClick),e.target)
const{_routerMicrolib:t}=this.router._router,r=(0,i.normalizeURL)(this.args.url,t,this.storefront.resolvedStorefront)
this.router.transitionTo(r)}},u=m(s.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"metrics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(s.prototype,"handleClick",[a],Object.getOwnPropertyDescriptor(s.prototype,"handleClick"),s.prototype),s)
e.default=f,Ember._setComponentTemplate(b,f)})),define("desktop-music-app/components/seo-tags",["exports","web/components/seo-tags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/song-stats",["exports","@glimmer/component","desktop-music-app/utils/are-all-music-videos","desktop-music-app/utils/duration-from-offers"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"wIQJS3Sw",block:'[[[10,0],[12],[41,[28,[37,1],[[30,1],[30,0,["contentDuration"]]],null],[[[1,[28,[35,2],["WEA.Common.SeparatorGeneric"],[["string1","string2"],[[30,0,["numberOfSongsLabel"]],[28,[37,3],[[30,0,["contentDuration"]]],null]]]]]],[]],[[[41,[30,1],[[[1,[30,0,["numberOfSongsLabel"]]]],[]],[[[41,[30,0,["contentDuration"]],[[[1,[28,[35,3],[[30,0,["contentDuration"]]],null]]],[]],null]],[]]]],[]]],[13],[1,"\\n"]],["@numberOfSongs"],false,["if","and","t","duration-summary"]]',moduleName:"desktop-music-app/components/song-stats.hbs",isStrictMode:!1})
let p=(n=Ember.inject.service,o=Ember.inject.service,l=class extends t.default{constructor(...e){super(...e),u(this,"i18n",a,this),u(this,"locale",s,this)}get contentDuration(){const e=this.args.tracks||{}
return Object.keys(e).reduce(((t,i)=>{const n=e[i]
if(n.duration)return t+n.duration
return t+(0,r.default)(Ember.get(n,"offers"))}),0)}get localizedNumberOfSongs(){return this.locale.localizeNumber(this.args.numberOfSongs)}get numberOfSongsLabel(){const e=(0,i.default)(this.args.songsList)?"FUSE.NoOfVideos":"FUSE.NoOfSongs"
return this.i18n.t(e,{count:this.localizedNumberOfSongs,_pluralize:this.localizedNumberOfSongs})}},a=c(l.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"locale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p,Ember._setComponentTemplate(d,p)})),define("desktop-music-app/components/songs-list-footer",["exports","@glimmer/component"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"EcxJY9oO",block:'[[[10,0],[14,0,"product-footer"],[12],[1,"\\n    "],[10,0],[14,0,"bottom-metadata typography-body-tall"],[12],[1,"\\n"],[41,[28,[37,1],[[30,1,["releaseDate"]],[28,[37,2],[[30,1,["isPreorder"]]],null]],null],[[[1,"            "],[10,2],[14,0,"song-released-container"],[12],[1,"\\n"],[41,[30,1,["isPreRelease"]],[[[1,"                    "],[10,1],[12],[1,[28,[35,3],["FUSE.PreRelease"],null]],[13],[1,"\\n"]],[]],null],[1,"                "],[1,[30,1,["releaseDate"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,2],[14,0,"song-stats-container"],[12],[1,"\\n                "],[8,[39,4],null,[["@tracks","@songsList","@numberOfSongs"],[[30,1,["children"]],[30,2],[30,2,["length"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[8,[39,4],null,[["@tracks","@songsList","@numberOfSongs"],[[30,1,["children"]],[30,2],[30,2,["length"]]]],null],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,1,["copyright"]],[[[1,"            "],[10,2],[14,0,"song-copyright"],[12],[1,[30,1,["copyright"]]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["recordLabels","length"]],[[[1,"            "],[10,0],[14,0,"songs-list-footer__record-labels"],[12],[1,"\\n                "],[10,"h2"],[14,0,"typography-subhead-emphasized songs-list-footer__record-labels-title"],[12],[1,"\\n                    "],[1,[28,[35,3],["AMWeb.Label.Module.Record.Label"],[["count"],[[30,1,["recordLabels","length"]]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"ul"],[14,0,"songs-list-footer__record-labels-list typography-body"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,1,["recordLabels"]]],null]],null],null,[[[1,"                        "],[10,"li"],[12],[1,"\\n                            "],[10,3],[14,0,"link-to"],[15,6,[30,3,["url"]]],[15,"data-metrics-click",[28,[37,7],["linkToLabelButton"],[["id"],[[30,3,["id"]]]]]],[12],[1,"\\n                                "],[1,[30,3,["name"]]],[1,[28,[35,8],["chevron-right-regular"],[["class","aria-hidden"],["songs-list-footer__chevron","true"]]]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[3]],null],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,1],[[30,4],[30,1]],null],[[[41,[28,[37,1],[[28,[37,2],[[30,1,["isPlaylist"]]],null],[28,[37,2],[[30,1,["availableForSubscriptionOnly"]]],null],[28,[37,2],[[30,1,["isAUC"]]],null]],null],[[[1,"                "],[8,[39,9],[[24,0,"link-button typography-body-tall"]],[["@isPillButton","@locKeyActionText","@locKeyAriaLabel","@type","@url"],[false,[30,1,["footerStoreCTALoc"]],[30,1,["footerStoreCTALoc"]],[30,1,["type"]],[30,1,["url"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[41,[30,0,["profileRelationships","socialProfile","isSocialEnabled"]],[[[44,[[28,[37,11],[[30,5]],null]],[[[41,[30,6,["value","length"]],[[[1,"                "],[10,0],[14,0,"product-footer__friends"],[12],[1,"\\n                    "],[8,[39,12],[[24,0,"product-lockup__friends-list"]],[["@friends"],[[30,6,["value"]]]],null],[1,"\\n\\n                    "],[10,0],[14,0,"product-lockup__friends-meta-info typography-body"],[12],[1,"\\n                        "],[10,1],[12],[1,[28,[35,3],["FUSE.Social.Friends.Listening"],[["count"],[[30,6,["value","length"]]]]]],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null]],[6]]]],[]],null],[13],[1,"\\n"]],["@songsContainer","@songsList","label","@isAMWEB","@inYourNetwork","inYourNetwork"],false,["if","and","not","t","song-stats","each","-track-array","metrics-json-data","svg-jar","web-to-native-cta/store","let","await","dt-friends"]]',moduleName:"desktop-music-app/components/songs-list-footer.hbs",isStrictMode:!1})
let l=(i=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,r,o
super(...e),t=this,i="profileRelationships",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}},a=r.prototype,s="profileRelationships",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n=p,r)
var a,s,u,c,d,p
e.default=l,Ember._setComponentTemplate(o,l)})),define("desktop-music-app/components/split-view",["exports","web/components/split-view"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/stretched-artwork",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"1llbglUw",block:'[[[8,[39,0],[[24,0,"stretched-artwork"]],[["@artwork","@height","@width","@crop","@imageWidth","@artworkContentWidth","@artworkContentHeight","@placeholderWidth"],[[30,1],[30,2],[30,3],[30,4],"100%","100%","100%","100%"]],null],[1,"\\n"]],["@artwork","@height","@width","@crop"],false,["media-artwork"]]',moduleName:"desktop-music-app/components/stretched-artwork.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/tablist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"bsP/ovTV",block:'[[[11,0],[24,0,"tab-control"],[17,1],[12],[1,"\\n    "],[10,0],[14,0,"tab-control__tabs"],[12],[1,"\\n        "],[10,"ul"],[14,0,"tab-control__tablist"],[14,"role","tablist"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,2]],null]],null],null,[[[1,"                "],[11,"li"],[24,0,"typography-body-tall tab-control__tab"],[16,"data-metrics-click",[28,[37,2],[[28,[37,3],[[30,4],[30,3]],null]],null]],[24,"role","tab"],[16,1,[30,3,["id"]]],[16,"aria-selected",[52,[30,3,["isSelected"]],"true","false"]],[4,[38,5],["click",[28,[37,3],[[30,5],[30,3]],null]],null],[12],[1,"\\n                    "],[1,[28,[35,6],[[28,[37,7],["FUSE.Search.BubbleHeader.",[30,3,["name"]]],null]],null]],[1,"\\n                "],[13],[1,"\\n"]],[3]],null],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,2]],null]],null],null,[[[1,"        "],[10,0],[15,"aria-expanded",[52,[30,6,["isSelected"]],"true","false"]],[15,"aria-labelledby",[30,6,["id"]]],[14,0,"tab-control__tabpanel"],[14,"role","tabpanel"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,6,["results"]]],null]],null],null,[[[44,[[28,[37,9],[[28,[37,10],[[30,7]],null]],[["model"],[[30,7]]]]],[[[41,[30,9],[[[1,"                        "],[8,[39,11],[[16,"data-metrics-click",[28,[37,2],[[28,[37,3],[[30,10],[28,[37,12],null,[["lockup","lockupIndex"],[[30,9],[30,8]]]]],null]],null]]],[["@artwork","@lockup","@lockupIndex","@trackSearchHistory"],[[30,9,["artwork"]],[30,9],[30,8],true]],null],[1,"\\n"]],[]],null]],[9]]]],[7,8]],null],[41,[28,[37,13],[[30,6,["isSelected"]],[30,6,["next"]]],null],[[[1,"                "],[8,[39,14],null,[["@hasMore","@isFetching","@action"],[[30,6,["next"]],[30,6,["isFetchingNext"]],[30,6,["next"]]]],[["default"],[[[[1,"\\n                    "],[8,[39,15],null,null,[["default"],[[[[1,"\\n                        "],[8,[39,16],null,null,null],[1,"\\n                    "]],[]]]]],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[6]],null],[13]],["&attrs","@tabPanels","panel","@filterCategoryMetricsClick","@onSelectTab","panel","result","itemIndex","item","@searchResultsMetricsClick"],false,["each","-track-array","call","fn","if","on","t","concat","let","present","presenter-name-for","search-list-lockup","hash","and","infinite-scroll","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/components/tablist.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/top-charts-see-all",["exports","@glimmer/component","desktop-music-app/decorators/memoize-combined-list","desktop-music-app/utils/musickit-data","desktop-music-app/presenters/music/track","desktop-music-app/utils/constants","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v,k
function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"crwGorie",block:'[[[11,0],[4,[38,0],[[30,0,["updateChartItems"]],[30,1]],null],[12],[1,"\\n    "],[8,[39,1],[[16,0,[52,[30,0,["shouldAddRankedClassName"]],"ranked"]]],[["@title","@lockups","@isSongList","@selectOptions","@selectionId","@changeSelection","@loadNext","@hasMoreLockups","@isFetchingLockups","@showRanking"],[[30,2,["title"]],[30,0,["chartItems"]],[28,[37,3],[[28,[37,4],[[30,2]],null],"song"],null],[52,[30,0,["shouldAllowGenreFiltering"]],[30,3]],[30,1],[52,[30,0,["shouldAllowGenreFiltering"]],[30,4]],[30,0,["loadNextPage"]],[30,0,["hasMoreItems"]],[30,0,["isFetchingLockups"]],[30,0,["shouldAddRankedClassName"]]]],null],[1,"\\n"],[13]],["@genreId","@chart","@selectableGenres","@changeGenre"],false,["did-update","dt-room","if","eq","get-kind"]]',moduleName:"desktop-music-app/components/top-charts-see-all.hbs",isStrictMode:!1})
let P=(a=Ember.inject.service,s=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=(0,i.memoizeCombinedList)("internalItems","lazyLoadedLockups"),m=Ember._action,b=Ember._action,f=class extends t.default{constructor(){super(...arguments),w(this,"locale",h,this),w(this,"musickitData",g,this),w(this,"isFetchingCharts",y,this),w(this,"lazyLoadedLockups",v,this),w(this,"_next",k,this),this.internalItems=this.args.chart.fullList,this._next=this.args.chart.next}get hasMoreItems(){return Boolean(this._next)}get isConnectContent(){return"uploadedAudio"===(0,l.getKind)(this.args.chart)||"uploadedVideo"===(0,l.getKind)(this.args.chart)}get isPlaylistsKind(){return"playlist"===(0,l.getKind)(this.args.chart)}get isGlobalChartsRoom(){return this.args.chart.id===o.GLOBAL_HITS_TOP_CHART_ID}get isWebMusicGlobalChartsRoom(){return"top-100"===this.args.chart.type}get isWebMusicPlaylistsKind(){return"playlists"===this.args.chart.type}get isCityCharts(){return"cityCharts"===this.args.chart.type}get shouldAddRankedClassName(){return!(this.isCityCharts||this.isConnectContent||this.isGlobalChartsRoom||this.isWebMusicGlobalChartsRoom)}get shouldAllowGenreFiltering(){return!(this.isCityCharts||this.isConnectContent||this.isPlaylistsKind||this.isWebMusicPlaylistsKind||this.isWebMusicGlobalChartsRoom)}get chartItems(){const{internalItems:e}=this
return e.push(...this.lazyLoadedLockups),e}updateChartItems(){this.internalItems=[],this.lazyLoadedLockups=this.args.chart.fullList}async loadNextPage(){var e
if(this.hasMoreItems)try{var t,i
this.isFetchingCharts=!0
const o=null===(t=(await this.musickitData.collectionForPagination((e=this._next,`/${e.split("/").splice(2).join("/")}`),{returnRawJSONApiRecords:!0,includePagination:!0}))[this.args.chart.type])||void 0===t?void 0:t.data
null!=o&&null!==(i=o[0])&&void 0!==i&&i.data?(this._next=o[0].next,this.lazyLoadedLockups=(0,r.flattenMusickitObjects)(o[0].data).map((e=>"song"===e.kind?(0,n.processTrack)(e,null,this.locale.locale):e))):this._next=null}catch(o){this._next=null}finally{this.isFetchingCharts=!1}}},h=E(f.prototype,"locale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(f.prototype,"musickitData",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(f.prototype,"isFetchingCharts",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=E(f.prototype,"lazyLoadedLockups",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=E(f.prototype,"_next",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(f.prototype,"chartItems",[p],Object.getOwnPropertyDescriptor(f.prototype,"chartItems"),f.prototype),E(f.prototype,"updateChartItems",[m],Object.getOwnPropertyDescriptor(f.prototype,"updateChartItems"),f.prototype),E(f.prototype,"loadNextPage",[b],Object.getOwnPropertyDescriptor(f.prototype,"loadNextPage"),f.prototype),f)
e.default=P,Ember._setComponentTemplate(_,P)})),define("desktop-music-app/components/upload-avatar-prompt-image",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"UdQ4g4u5",block:'[[[10,0],[14,0,"upload-avatar-prompt-image"],[12],[13]],[],false,[]]',moduleName:"desktop-music-app/components/upload-avatar-prompt-image.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/components/user-monogram",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"EbPPkjTg",block:'[[[41,[30,0,["initials"]],[[[1,"    "],[10,0],[14,0,"user-monogram placeholder social"],[15,"aria-label",[30,1]],[12],[1,"\\n        "],[10,1],[14,0,"user-monogram__initials"],[12],[1,[30,0,["initials"]]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],["@alt"],false,["if"]]',moduleName:"desktop-music-app/components/user-monogram.hbs",isStrictMode:!1})
class r extends t.default{get initials(){const e=this.args.name
if(!e)return
const t=String(e).match(/([a-zA-Z-]+)/g)
if(!t||!t.length)return
const i=t[0]
let r=""
t.length>1&&(r=t[t.length-1])
return[i.slice(0,1),r.slice(0,1)].join("").toUpperCase()}}e.default=r,Ember._setComponentTemplate(i,r)})),define("desktop-music-app/components/video-progress",["exports","@glimmer/component","desktop-music-app/services/playback"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"16VxOoKn",block:'[[[10,0],[15,0,[29,["video-progress",[52,[30,0,["productWatched"]]," watched"]]]],[12],[1,"\\n"],[41,[30,0,["showProgress"]],[[[1,"        "],[10,0],[14,0,"outer-bar"],[12],[1,"\\n            "],[10,0],[14,0,"inner-bar"],[15,5,[28,[37,1],[[28,[37,2],["width: ",[30,0,["productProgress"]],"%"],null]],null]],[12],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[13],[1,"\\n"]],[],false,["if","trusted-css","concat"]]',moduleName:"desktop-music-app/components/video-progress.hbs",isStrictMode:!1})
let b=(r=Ember.inject.service("itunes-playback"),n=Ember._tracked,o=Ember._tracked,l=Ember._action,a=class extends t.default{get showProgress(){return!this.productWatched&&this.productProgress>0}constructor(){super(...arguments),d(this,"playback",s,this),d(this,"productProgress",u,this),d(this,"productWatched",c,this),this.getPlaybackPosition(),this.playback.on(i.PLAYBACK_CHANGED_EVENT,this.getPlaybackPosition)}willDestroy(){super.willDestroy(...arguments),this.playback.off(i.PLAYBACK_CHANGED_EVENT,this.getPlaybackPosition)}getPlaybackPosition(){const e=this.args.product,t=(e.offers||[]).find((e=>e.durationInMilliseconds))
if(!t)return
const i=t.durationInMilliseconds/1e3
this.playback.playbackPosition([e.id],(e=>{if(!e)return
const t=e[0]
if(t){const e=t.position,r=parseInt(e/i*100)
r>97?this.productWatched=!0:(this.productProgress=r,this.productWatched=!1)}}))}},s=p(a.prototype,"playback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"productProgress",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=p(a.prototype,"productWatched",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p(a.prototype,"getPlaybackPosition",[l],Object.getOwnPropertyDescriptor(a.prototype,"getPlaybackPosition"),a.prototype),a)
e.default=b,Ember._setComponentTemplate(m,b)})),define("desktop-music-app/components/web-error-dialog",["exports","web/components/web-error-dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/web-to-native-cta",["exports","web/components/web-to-native-cta"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/web-to-native-cta/apple-music",["exports","web/components/web-to-native-cta/apple-music"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/web-to-native-cta/base",["exports","web/components/web-to-native-cta/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/web-to-native-cta/store",["exports","web/components/web-to-native-cta/store"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/web-video-player",["exports","web/components/web-video-player"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/components/works-list-header",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"QBgZxYFv",block:'[[[10,0],[14,0,"songs-list-row songs-list-row--works-list-header"],[14,"role","row"],[14,"dir","auto"],[12],[1,"\\n    "],[10,0],[14,0,"songs-list__col songs-list__col--shim"],[12],[13],[1,"\\n    "],[10,0],[14,"role","columnheader"],[14,0,"songs-list__col songs-list__col--song songs-list__col--work-header typography-body-emphasized-tall"],[12],[1,[30,1]],[13],[1,"\\n    "],[10,0],[14,"role","columnheader"],[14,0,"songs-list__col songs-list__col--time"],[12],[13],[1,"\\n"],[13]],["@workHeader"],false,[]]',moduleName:"desktop-music-app/components/works-list-header.hbs",isStrictMode:!1})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("desktop-music-app/config/artwork-fallbacks",["exports","desktop-music-app/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{rootURL:i}=t.default,r={isVector:!0,url:`${i}assets/product/MissingArtworkMusic.svg`,urlDark:`${i}assets/product/MissingArtworkMusic_dark.svg`,aspectRatio:1}
var n={default:r,"missing-music":r,"missing-playlist":r,"missing-song":r,"missing-artist":{isVector:!1,url:`${i}assets/artist/placeholder-a7aeddcf900403db17f85b3569ae4405.png`,urlDark:`${i}assets/artist/placeholder-a7aeddcf900403db17f85b3569ae4405.png`,aspectRatio:1},"missing-avatar":{isVector:!0,url:`${i}assets/account/user.svg`,urlDark:`${i}assets/account/user.svg`,aspectRatio:1},"sharing-default":{isVector:!1,url:`${i}assets/meta/apple-music-4d84eb1deedb9217bf940603688603b0.png`,aspectRatio:2,width:1200,height:630}}
e.default=n})),define("desktop-music-app/config/artwork-profiles",["exports","@amp/ember-ui-media-artwork/utils/build-img-options","@amp/ember-ui-media-artwork/utils/srcset"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.findNearestArtworkConfig=function(e,i){const r=a[i]||0,n=(0,t.buildImgOptions)(u[e]),o=Object.keys(n).reverse().find((e=>{const t=a[e]
return"number"==typeof t&&(t<r||t===r)}))
return n[o]},e.ARTWORK_META_TAG_DEFAULTS=e.ARTWORK_V2_PRESETS=e.default=e.EFFECT_ID_REGEX=e.ARTIST_VIDEO_TALL_BREAKPOINT_WIDTH=e.LN_TALL_BREAKPOINT_WIDTH=void 0
const r=16/9,n=16/9,o=3/4,l=7/4
e.LN_TALL_BREAKPOINT_WIDTH=729
e.ARTIST_VIDEO_TALL_BREAKPOINT_WIDTH=674
const a={large:0,medium:1,small:2,xsmall:3},s=new RegExp(`${i.widthHeightRegex.source}(${i.effectCropCodeRegex.source})\\.(${i.fileTypeRegex.source})`)
e.EFFECT_ID_REGEX=s
const u={brick:[[340,290,290],n,"sr"],friend:[[100],1,"cc"],"product-rectangle":[[500,300,270],1,"bf"],"product-standard":[[500,300,270],1,"bb"],"playlist-product":[[305,270,200],1,"cc"],"profile-edit":[[130],1,"sr"],"profile-uber":[[128],1,"cc"],"profile-badge":[[64],1,"cc"],"profile-button":[[36],1,"cc"],"profile-badge-tracklist":[[27],1,"cc"],"profile-badge-webchrome":[[24],1,"cc"],"profile-recommendation":[[88],1,"cc"],"profile-request-avatar":[[40],1,"cc"],"profile-playlist-share":[[40],1,"cc"],"featured-episode":[[257,228,211,176],1,"cc"],playlist:[[257,228,211,176],1,"cc"],"find-friends-social-icon":[[40],1,"cc"],"brand-logo":[[80],1,"cc"],"profile-row":[[50],1,"cc"],episode:[[330,305,295],n,"sr"],hero:[[530,600,450],68/39,"sr"],heroLockup:[[60],1,"cc"],heroLockupVideo:[[88],r,"mv"],powerSwooshLockup:[[300],1,"cc"],superHeroLockup:[[330,305,295],o,"bb"],superHeroTall:[[600,450],o,"sr"],superHeroWide:[[1200,900,600,450],22/9,"sr"],songTracklist:[[40],1,"bb",50],songTracklistDecorated:[[32],1,"bb",50],movie:[[330,305,295],.65,"bb"],"music-video-detail":[[700,560,355],l,"sr"],"music-movie-detail":[[700,560,355],l,"sr"],musicVideoTracklist:[[71],r,"mv"],uber:[[1200],4,"bb"],"radio-station-lockup":[[97],1,"cc"],"episode-lockup":[[316,296,296],1,"cc"],"mixed-radio-episode-lockup":[[161],1,"cc"],"library-albums-lockup":[[208,184,174],1,"cc"],"library-playlists-lockup":[[208,184,174],1,"cc"],lcdNowPlaying:[[44],1,"bb"],lcdNowPlayingVideo:[[88],r,"mv"],lcdNowPlayingStation:[[44],1,"cc"],inlineUpsell:[[88,44],1,"bb"],"facehole-uber":[[190],1,"cc"],"artwork-in-collage":[[120],1,"cc"],mixGridLarge:[[320,190],1,"cc"],mixGridSmall:[[88],1,"cc"],"web-station":[[216,216,380],1,"sr"],"search-category":[[520,340,290],3,"sr"],"recently-searched-square-lockup":[[110],1,"sr"],"recently-searched-video-lockup":[[196],n,"bb"],"search-top-hits-square-lockup":[[110],1,"sr"],"search-top-hits-video-lockup":[[196],n,"bb"],standardDimensions:[[243,220,190,160],1,"bb"],standardDimensionsCC:[[257,228,211,176],1,"cc"],"welcome-screen-artwork":[[375],466/293,"bb"]}
var c=u
e.default=c
const d=[[243,220,190,160],1,"bb"],p=[[257,228,211,176],1,"cc"],m=[[340],n,"mv"],b=[[340],n,"sr"],f=[[44],1,"bb"],h=[[44],1,"cc"],g=[[70],l,"bb"],y=[[160],1,"bb"],v=[[120],o,"bb"],k=[[70],l,"sr"],w=[[160],1,"bb"],E=[[380,300,225,200],1,"cc"],_=[[80],1,"bb"],P=[[80],1,"cc"],O=[[124],n,"mv"],S={standardLockup:{album:d,"apple-curator":p,socialProfile:[[160],1,"cc"],artist:p,brand:d,activity:d,default:d,iTunesBrand:d,linear:y,nonLinear:y,radioStation:p,"radio-station":p,playlist:p,"playlist-content":p,song:d,uploadedAudio:p,movie:[[330,305,295],r,"sr"],"music-movie":[[340],n,"mv",null,"editorialArtwork.browseCover"],musicVideo:m,"music-video":m,moreToSeeMovie:[[400,370,340],n,"mv",null,"editorialArtwork.browseCover"],streaming:p,uploadedVideo:m,"uploaded-video":m,tvEpisode:b,"tv-episode":b,showBrand:d,customPlaylist:E,label:p},standardListLockup:{album:f,artist:h,brand:f,activity:f,default:f,iTunesBrand:f,movie:v,radioStation:h,playlist:h,song:f,showBrand:w,tvEpisode:k,uploadedAudio:h,musicVideo:g,uploadedVideo:g,label:h},artistListLockup:{album:f,artist:h,brand:f,activity:f,default:f,iTunesBrand:f,movie:v,radioStation:h,playlist:h,song:[[48],1,"bb"],showBrand:w,tvEpisode:k,uploadedAudio:h,musicVideo:g,uploadedVideo:g,label:h},topResultsArtworkConfig:{activity:_,album:_,artist:P,brand:P,iTunesBrand:_,musicVideo:O,radioStation:P,playlist:P,song:_,uploadedAudio:P,uploadedVideo:O,linear:O,nonLinear:O,movie:[[52],.65,"bb"],showBrand:_,socialProfile:P,tvEpisode:O,tvShow:_,"apple-curator":P,label:P},productLockup:{default:[[500,300,270],1,"bb"],playlist:E},masterLockup:{default:[[340],1,"cc"],musicVideo:[[520],n,"mv"]}}
e.ARTWORK_V2_PRESETS=S
e.ARTWORK_META_TAG_DEFAULTS={cropCode:"bb",fileType:"png",height:630,width:1200,quality:60}})),define("desktop-music-app/config/grid-config",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={A:{xsmall:1,small:2,medium:2,large:3},B:{xsmall:1,small:2,medium:3,large:5},C:{xsmall:2,small:3,medium:4,large:5},D:{xsmall:3,small:4,medium:5,large:8},E:{xsmall:2,small:5,medium:9,large:10},F:{xsmall:1,small:2,medium:3,large:3},G:{xsmall:2,small:4,medium:5,large:6},H:{xsmall:3,small:6,medium:8,large:10},"1-1-2-3":{xsmall:1,small:1,medium:2,large:3},"2-2-3-4":{xsmall:2,small:2,medium:3,large:4},"music-radio":{xsmall:3,small:3,medium:3,large:3}}})),define("desktop-music-app/config/index",["exports","desktop-music-app/config/artwork-profiles","desktop-music-app/config/artwork-fallbacks","desktop-music-app/config/grid-config","desktop-music-app/config/environment","desktop-music-app/utils/breakpoints"],(function(e,t,i,r,n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l={"ign-itscg":"itscg","ign-itsct":"itsct",mttnact:"mttnact",mttnadvid:"mttnadvid",mttnagencyid:"mttnagencyid",mttncc:"mttncc",mttncmpid:"mttncmpid",mttncost:"mttncost",mttncostmdl:"mttncostmdl",mttngadurl:"mttngadurl",mttngd:"mttngd",mttngmo:"mttngmo",mttnmyad:"mttnmyad",mttnmyadg:"mttnmyadg",mttnmycmp:"mttnmycmp",mttnmykw:"mttnmykw",mttnmypub:"mttnmypub",mttnmysite:"mttnmysite",mttnpid:"mttnpid",mttnrefid:"mttnrefid",mttnresformat:"mttnresformat",mttnsiteid:"mttnsiteid",mttnsub1:"mttnsub1",mttnsub2:"mttnsub2",mttnsub3:"mttnsub3",mttnsubad:"mttnsubad",mttnsubadgp:"mttnsubadgp",mttnsubadgpname:"mttnsubadgpname",mttnsubadgpref:"mttnsubadgpref",mttnsubadname:"mttnsubadname",mttnsubadref:"mttnsubadref",mttnsubcmp:"mttnsubcmp",mttnsubcmpname:"mttnsubcmpname",mttnsubcmpref:"mttnsubcmpref",mttnsubkw:"mttnsubkw",mttnsubpid:"mttnsubpid",mttnsubplmnt:"mttnsubplmnt",mttnsubsite:"mttnsubsite",mttnuid:"mttnuid"},a={l:"l",...l}
var s={DEFAULT_STOREFRONT:"US",DEFAULT_LANGUAGE:"en-us",DEV_LANGUAGE:"dev",NON_SOW_COUNTRIES:["cn","kr","jp"],WEB_HELP_PAGE:"https://support.apple.com/guide/music-web",SUPPORT_DND_VERSION:"1.1",ARTWORK_FALLBACKS:i.default,ARTWORK_PROFILES:t.default,VOLUME_RANGE_STEP_FOR_PC:.01,VOLUME_RANGE_STEP_FOR_AT:.05,gridConfig:r.default,editorialVideoFPSThreshold:30,launchNativeParameters:l,searchVersionQuery:"Music Version?",launchQueryParameters:Object.keys(l),applicationQueryParameters:Object.keys(a),tryAppleMusicCTA:"https://music.apple.com/deeplink?app=music&p=subscribe",viewports:(0,o.createViewports)(n.default.APP.BREAKPOINTS,{only:["xsmall","small","medium","large"]}),MUSIC:{DEFAULT_TRANSITION:"index",APP_TAB_NAV_URL:"https://itunes.apple.com/WebObjects/MZStore.woa/wa/musicBrowseNavigation",FINANCE_DEEP_LINKS:["subscribe","subscribe-activate","subscribe-family","subscribe-individual","subscribe-student","studentVerified","upsell","upsell-return","subscribe-annual"],FINANCE_DYNAMICAMSUI_OPTION_KEYS:{OFFER_HINT:"offerHints"},FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:{LAUNCH_UPSELL:"musicAppLaunch",LISTEN_NOW:"musicListenNowUpsell",PLAYBACK_UPSELL:"musicPlaybackUpsell",MUSIC_PRE_BUY:"musicPreBuyFlow"},FINANCE_DYNAMIC_AMSUIURL_PLACEMENT_TYPES:{CONTEXTUAL:"CONTEXTUAL"},FINANCE_DYNAMICAMSUI_OFFER_HINTS:{HOME_POD:"HOMEPOD",WIN_BACK:"WINBACK",RETAIL:"RETAIL",OTHER:"OTHER"},FINANCE_WEB_DEEPLINKS_MAPPING_FOR_TYPE:{subscribe:null,"subscribe-activate":"activate","subscribe-family":"family","subscribe-individual":"individual","subscribe-student":"student",studentVerified:null,upsell:null,"upsell-return":null,"subscribe-annual":"annual"},BAG_DEEP_LINKS:["redeem"],SOCIAL:{apiVersion:"1",DEEP_LINKS:["sharing"],profileImageCaptureSize:260},NAV_TABS:{browse:"/browse",listenNow:"/listen-now","browse-newMusic":"/browse",connect:!0,radio:"/radio"},IN_LIBRARY_TYPES:["songs","albums","playlists","music-videos"],LOCAL_STORAGE_KEYS:{notifications:"music-app-pref:social-notifications-displayed"},APPLE_AMF_IDENTIFIER:"com.apple.onboarding.applemusicfriends"}}
e.default=s})),define("desktop-music-app/config/launch-native",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={"ign-itscg":"itscg","ign-itsct":"itsct",mttnact:"mttnact",mttnadvid:"mttnadvid",mttnagencyid:"mttnagencyid",mttncc:"mttncc",mttncmpid:"mttncmpid",mttncost:"mttncost",mttncostmdl:"mttncostmdl",mttngadurl:"mttngadurl",mttngd:"mttngd",mttngmo:"mttngmo",mttnmyad:"mttnmyad",mttnmyadg:"mttnmyadg",mttnmycmp:"mttnmycmp",mttnmykw:"mttnmykw",mttnmypub:"mttnmypub",mttnmysite:"mttnmysite",mttnpid:"mttnpid",mttnrefid:"mttnrefid",mttnresformat:"mttnresformat",mttnsiteid:"mttnsiteid",mttnsub1:"mttnsub1",mttnsub2:"mttnsub2",mttnsub3:"mttnsub3",mttnsubad:"mttnsubad",mttnsubadgp:"mttnsubadgp",mttnsubadgpname:"mttnsubadgpname",mttnsubadgpref:"mttnsubadgpref",mttnsubadname:"mttnsubadname",mttnsubadref:"mttnsubadref",mttnsubcmp:"mttnsubcmp",mttnsubcmpname:"mttnsubcmpname",mttnsubcmpref:"mttnsubcmpref",mttnsubkw:"mttnsubkw",mttnsubpid:"mttnsubpid",mttnsubplmnt:"mttnsubplmnt",mttnsubsite:"mttnsubsite",mttnuid:"mttnuid"}})),define("desktop-music-app/config/metrics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={clickEvents:{actionSheet:{actionType:"select",targetType:"button",targetId:"@@id@@"},addToLibrary:{actionType:"select",targetType:"button",targetId:"@@id@@",actionDetails:{details:"addToLibrary"}},linkTo:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkTo@@id@@",location:[]},linkToActivity:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToActivity@@id@@",location:[]},linkToAlbum:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkToAlbum@@id@@",location:[]},linkToAppleCurator:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkToAppleCurator@id@@",location:[]},linkToArtist:{actionType:"navigate",targetType:"button",targetId:"@@id@@"},linkToBrand:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToBrand@@id@@",location:[]},linkToShowBrand:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToShowBrand@@id@@",location:[]},linkToLabelButton:{actionType:"navigate",targetType:"button",targetId:"@@id@@"},linkToShow:{actionType:"navigate",actionUrl:"@@url@@",targetType:"ShelfItem",targetId:"ShowPage",location:[]},linkToGooglePlay:{actionType:"navigate",targetType:"button",targetId:"openGooglePlay"},linkToLaunchApp:{actionType:"navigate",targetType:"button",targetId:"launchApp"},linkToDownloadAppleMusic:{actionType:"navigate",targetType:"button",targetId:"downloadAppleMusic"},linkToGenre:{actionType:"navigate",actionUrl:"@@url@@",targetType:"ShelfItem",targetId:"GenrePage",location:[]},linkToITunesBrand:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToITunesBrand@@id@@",location:[]},linkToMovie:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToMovie@@id@@",location:[]},linkToMusicVideo:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToMusicVideo@@id@@",location:[]},linkToPlaylist:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkToPlaylist@@id@@",location:[]},linkToPowerSwooshItem:{actionType:"navigate",targetType:"@@kind@@",targetId:"@@id@@",location:[]},linkToPowerSwooshUpsellItem:{actionType:"navigate",targetType:"@@kind@@",targetId:"@@id@@",data:{},location:[]},linkToProfileEditPage:{actionType:"navigate",targetType:"button",targetId:"LinkToProfileEditPage"},linkToRadioStation:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkToRadioStation@@id@@",location:[]},linkToSocialProfile:{actionType:"navigate",targetType:"ShelfItem",targetId:"LinkToSocialProfile@@id@@",location:[]},linkToSong:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToSong@@id@@",location:[]},linkToTvEpisode:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToTvEpisode@@id@@",location:[]},linkToUploadedAudio:{actionType:"navigate",targetType:"button",targetId:"ShelfItem@@id@@"},linkToUploadedVideo:{actionType:"navigate",targetType:"ShelfItem",targetId:"linkToUploadedVideo@@id@@",location:[]},linkToInlineMetricsShelfItem:{actionType:"navigate",targetType:"ShelfItem",targetId:"@@targetId@@",pageId:"@@pageId@@",pageType:"@@pageType@@",page:"@@page@@",location:[]},linkToShelfItem:{actionType:"navigate",targetType:"ShelfItem",targetId:"@@targetId@@",location:[]},mobileSearchResultsClick:{targetType:"ListItem",actionType:"navigate"},playShelfItem:{targetType:"ShelfItem",targetId:"@@id@@",actionType:"play",actionUrl:"@@url@@",location:[]},play:{targetType:"button",targetId:"@@id@@",actionType:"play",actionUrl:"@@url@@",location:[]},playBySelection:{targetType:"button",targetId:"@@id@@",actionType:"play",actionDetails:{actionSubType:"trackSelection"}},powerSwooshPlay:{targetType:"PosterItem",targetId:"@@id@@",actionDetails:{isLive:"@@isLive@@",kind:"@@kind@@"},actionType:"play",location:[]},playAll:{targetType:"button",targetId:"@@id@@",actionType:"play"},searchCategoryClick:{targetType:"Category",actionContext:"Category",targetId:"@@id@@",actionType:"navigate",location:[]},searchRecentClick:{targetType:"@@targetType@@",targetId:"@@id@@",pageId:"@@pageId@@",pageType:"@@pageType@@",page:"@@page@@",actionType:"navigate",location:[]},radioSeeAll:{actionType:"navigate",targetType:"button",targetId:"FullSchedule",location:[],actionDetails:{},actionUrl:"@@url@@"},seeAll:{actionType:"navigate",targetType:"button",targetId:"SeeAll",location:[]},searchHint:{targetId:"@@targetId@@",targetType:"HintListItem",actionType:"hint",location:[]},searchTopHints:{targetId:"@@targetId@@",targetType:"ContentListItem",actionType:"play",location:[],actionDetails:{}},searchScopeBar:{targetId:"@@targetId@@",targetType:"button",actionType:"navigate"},selectMenuItem:{targetType:"button",targetId:"@@id@@",actionType:"navigate"},hideNotInLibrary:{actionType:"select",targetType:"button",targetId:"@@id@@",actionDetails:{actionSubType:"HideNotInLibrary"}},showCompleteAlbum:{actionType:"select",targetType:"button",targetId:"@@id@@",actionDetails:{actionSubType:"ShowCompleteAlbum"}},showMore:{actionType:"select",targetType:"button",targetId:"More",actionDetails:{section:"More"}},shuffle:{targetType:"button",targetId:"@@id@@",actionType:"play",actionUrl:"@@url@@",actionDetails:{actionSubType:"Shuffle"}},preview:{targetType:"button",targetId:"@@id@@",actionType:"preview"},webToNativeStoreCTA:{actionType:"open",targetType:"button",targetId:"OpenInItunesStore"},webToNativeMusicCTA:{actionType:"open",targetType:"button",targetId:"OpenInMusic"},webNavigationLibraryPlaylistTab:{targetType:"tab",targetId:"@@id@@",actionType:"navigate",actionUrl:"@@url@@"},upsellBannerTrial:{targetType:"button",actionType:"navigate",actionDetails:{itscg:50200,itsct:"banner_trial"}},upsellBannerWinback:{targetType:"button",actionType:"navigate",actionDetails:{itscg:50200,itsct:"banner_winback"}},categoryFilterClick:{targetType:"filter",actionType:"navigate"},searchInput:{actionType:"input",targetType:"key",actionContext:"keyboard",searchTerm:"@@searchTerm@@"},seeAllLocation:{locationType:"button",id:"SeeAll",name:"See All",locationPosition:0},seeAllParentLocation:{id:"@@id@@",locationType:"shelf",locationPosition:"@@locationPosition@@",name:"@@name@@"}}}})),define("desktop-music-app/config/storefront-ids",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.STOREFRONT_MAPPING=void 0
const t="la",i="lae",r={us:null,do:t,ar:t,ai:i,ag:i,bb:i,fr:"fr",mc:"fr",de:"de",uk:"uk",at:"at",be:"benl",fi:"fi",gr:"gr",ie:"ie",it:"it",lu:"lu",nl:"nl",pt:"pt",es:"es",ca:"ca",se:"se",no:"no",dk:"dk",ch:"chde",au:"au",nz:"nz",jp:"jp",hk:"hk",sg:"sg",cn:"cn",kr:"kr",in:"in",mx:"mx",ru:"ru",tw:"tw",vn:"vn",za:"za",my:"my",ph:"ph",th:"th",id:"id",pk:null,pl:"pl",sa:"sa",tr:"tr",ae:"ae",hu:"hu",cl:"cl",np:null,pa:t,lk:null,ro:"ro",mv:null,cz:"cz",bd:null,il:"il",ua:null,kw:null,hr:null,cr:null,sk:"sk",lb:null,qa:null,si:"si",rs:null,co:"co",ve:t,br:"br",gt:t,sv:t,pe:t,ec:t,hn:t,jm:i,ni:t,py:t,uy:t,mo:"mo",eg:"eg",kz:null,ee:"ee",lv:"lv",lt:"lt",mt:"mt",li:null,md:"md",am:"am",bw:"bw",bg:"bg",ci:null,jo:"jo",ke:"ke",mk:null,mg:null,ml:null,mu:"mu",ne:"ne",sn:null,tn:null,ug:"ug",bs:null,bm:i,vg:i,ky:i,dm:i,gd:i,ms:i,kn:i,lc:i,vc:i,tt:i,tc:i,gy:i,sr:i,bz:i,bo:t,cy:null,is:null,bh:"bh",bn:null,ng:"ng",dz:null,ao:null,by:null,uz:null,ly:null,az:null,et:null,mm:null,ye:null,tz:null,gh:null,cm:null,al:null,bj:null,bt:null,bf:null,kh:null,cv:null,td:null,cg:null,fj:null,gm:null,gw:"gw",kg:null,la:t,lr:null,mw:null,mr:null,fm:null,mn:null,mz:null,na:null,pw:null,ps:null,pg:null,st:null,sc:null,sl:null,sb:null,sz:null,tj:null,tm:null,zw:null}
e.STOREFRONT_MAPPING=r})),define("desktop-music-app/controllers/album",["exports"],(function(e){var t,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.computed("i","selectedTrack"),i=class extends Ember.Controller{constructor(...e){var t,i,r
super(...e),r=["i","selectedTrack"],(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get selectedTrackId(){const{i:e,selectedTrack:t}=this,i=parseInt(e||t,10)
return i?`${i}`:""}},n=i.prototype,o="selectedTrackId",l=[t],a=Object.getOwnPropertyDescriptor(i.prototype,"selectedTrackId"),s=i.prototype,u={},Object.keys(a).forEach((function(e){u[e]=a[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=l.slice().reverse().reduce((function(e,t){return t(n,o,e)||e}),u),s&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(s):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(n,o,u),u=null),i)
var n,o,l,a,s,u
e.default=r})),define("desktop-music-app/controllers/application",["exports","desktop-music-app/config/environment","desktop-music-app/utils/constants","@amp/affiliate-util"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(n=Ember.inject.service("itunes-playback"),o=Ember.inject.service("music-features"),l=Ember.inject.service,a=Ember.inject.service,s=Ember.computed,u=Ember.computed.alias("musickit.privacyInformationShouldDisplay"),c=class extends Ember.Controller{constructor(...e){super(...e),h(this,"playback",d,this),h(this,"features",p,this),h(this,"musickit",m,this),h(this,"storefront",b,this),g(this,"queryParams",["l",...r.KNOWN_CAMPAIGN_AND_AFFILIATE_QUERY_PARAMS,...r.KNOWN_MARKETING_QUERY_PARAMS,...i.REDIRECTED_CAMPAIGN_QUERY_PARAMS,...i.MTT_QUERY_PARAMS]),g(this,"l",null),g(this,"isDevelopment","development"===t.default.environment),h(this,"privacyInformationShouldDisplay",f,this)}get developerToolsEnabled(){return this.features.getByKey("showDevTools")}},d=y(c.prototype,"playback",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(c.prototype,"features",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(c.prototype,"musickit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(c.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(c.prototype,"developerToolsEnabled",[s],Object.getOwnPropertyDescriptor(c.prototype,"developerToolsEnabled"),c.prototype),f=y(c.prototype,"privacyInformationShouldDisplay",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
e.default=v})),define("desktop-music-app/controllers/artist/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{constructor(...e){var t,i,r
super(...e),r=["section"],(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get records(){var e
return null===(e=this.model)||void 0===e?void 0:e.record.lockups}get sectionName(){return this.model.section||this.model.record.sectionName}get artist(){var e
return null===(e=this.model)||void 0===e?void 0:e.artist}get displayName(){return Ember.get(this,"artist.name")}get seeAllPageTitle(){var e
let t=""
return this.displayName&&(t=`${this.displayName} - `),`${t}${null===(e=this.model.record)||void 0===e?void 0:e.title}`}}e.default=t})),define("desktop-music-app/controllers/browse/top-charts/index",["exports","desktop-music-app/utils/constants"],(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{id:r,genreId:n,cc:o,popId:l}=t.DEFAULT_TOP_CHART_PARAMS
class a extends Ember.Controller{constructor(...e){super(...e),i(this,"queryParams",["id","cc","genreId","popId"]),i(this,"id",r),i(this,"genreId",n),i(this,"cc",o),i(this,"popId",l)}}e.default=a}))
define("desktop-music-app/controllers/browse/top-charts/see-all",["exports","desktop-music-app/utils/constants"],(function(e,t){var i,r
function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{id:o,genreId:l,cc:a,popId:s}=t.DEFAULT_TOP_CHART_PARAMS
let u=(i=Ember._action,r=class extends Ember.Controller{constructor(...e){super(...e),n(this,"queryParams",["id","cc","genreId","popId"]),n(this,"id",o),n(this,"genreId",l),n(this,"cc",a),n(this,"popId",s)}changeGenre(e){Ember.set(this,"genreId",e)}},c=r.prototype,d="changeGenre",p=[i],m=Object.getOwnPropertyDescriptor(r.prototype,"changeGenre"),b=r.prototype,f={},Object.keys(m).forEach((function(e){f[e]=m[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=p.slice().reverse().reduce((function(e,t){return t(c,d,e)||e}),f),b&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(b):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(c,d,f),f=null),r)
var c,d,p,m,b,f
e.default=u})),define("desktop-music-app/controllers/dev-test-page",["exports","desktop-music-app/config"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:v,FINANCE_DYNAMICAMSUI_OPTION_KEYS:k,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:w}}=t.default
let E=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=class extends Ember.Controller{constructor(...e){var t,i,r
super(...e),g(this,"musickit",m,this),g(this,"router",b,this),g(this,"modal",f,this),g(this,"finance",h,this),r="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sed turpis tortor. Vivamus in purus volutpat, feugiat nisi congue, pretium ante. Curabitur non eros sed urna eleifend fringilla. Nulla facilisi. Nullam finibus ex sed eros blandit volutpat. Fusce eu faucibus erat, accumsan pretium mi. Quisque cursus dui ac ex pretium placerat. Aliquam sit amet sem et enim efficitur placerat vel nec arcu. Aliquam ornare lectus nec porta egestas. Nunc ac erat arcu. Phasellus facilisis euismod consequat. Phasellus neque quam, convallis ut fringilla sit amet, dapibus egestas ex. Ut ut lorem vel diam vulputate pharetra vel non augue. In hac habitasse platea dictumst. Phasellus nec orci quam.",(i="text")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}openModal(e){Ember.run.later(this,(()=>{this.modal.open(e)}),1e3)}signInMK(){this.musickit.signIn()}transitionToSearchLanding(){this.router.transitionTo("/us/search")}openFinanceSheet(){const e={}
e[k.OFFER_HINT]=v.OTHER,e.placement=w.MUSIC_PRE_BUY,this.finance.openFinancePath("upsell-return",e)}transitionToLabelPage(){this.router.transitionTo("/us/label/record-label-name/1419052942")}transitionToLyricSharingPage(){this.router.transitionTo("/us/lyrics/1275000012?ts=12&te=25&l=en-us")}},m=y(p.prototype,"musickit",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"finance",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"openModal",[l],Object.getOwnPropertyDescriptor(p.prototype,"openModal"),p.prototype),y(p.prototype,"signInMK",[a],Object.getOwnPropertyDescriptor(p.prototype,"signInMK"),p.prototype),y(p.prototype,"transitionToSearchLanding",[s],Object.getOwnPropertyDescriptor(p.prototype,"transitionToSearchLanding"),p.prototype),y(p.prototype,"openFinanceSheet",[u],Object.getOwnPropertyDescriptor(p.prototype,"openFinanceSheet"),p.prototype),y(p.prototype,"transitionToLabelPage",[c],Object.getOwnPropertyDescriptor(p.prototype,"transitionToLabelPage"),p.prototype),y(p.prototype,"transitionToLyricSharingPage",[d],Object.getOwnPropertyDescriptor(p.prototype,"transitionToLyricSharingPage"),p.prototype),p)
e.default=E})),define("desktop-music-app/controllers/error-controller",["exports","ember-lifeline"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let k=(i=Ember.inject.service("itunes-router"),r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,u=Ember._action,c=class extends Ember.Controller{constructor(...e){super(...e),y(this,"itunesRouter",d,this),y(this,"router",p,this),y(this,"routeHistory",m,this),y(this,"storefront",b,this),y(this,"i18n",f,this),y(this,"fastboot",h,this),y(this,"errorText",g,this)}init(){super.init(...arguments),this.fastboot.isFastBoot||(this.initOfflineListener(),navigator.onLine||(this.errorText=this.i18n.t("FUSE.Error.NotConnected")))}initOfflineListener(){(0,t.addEventListener)(this,window,"online",(()=>{this.errorText=this.i18n.t("FUSE.Error.AnErrorOccurred"),this.pressOK()})),(0,t.addEventListener)(this,window,"offline",(()=>{this.errorText=this.i18n.t("FUSE.Error.NotConnected")}))}pressOK(){const[e,t]=this.routeHistory.getLastValidRoute()||[]
if(e&&t){const{naiveQueryParams:i}=this.router,r=this.router.urlFor(e,...t,{queryParams:i})
this.router.transitionTo(r)}else{const e=this.router.urlFor("browse",this.storefront.resolvedStorefront)
this.router.transitionTo(e)}}},d=v(c.prototype,"itunesRouter",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"routeHistory",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(c.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(c.prototype,"errorText",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.i18n.t("FUSE.Error.AnErrorOccurred")}}),v(c.prototype,"pressOK",[u],Object.getOwnPropertyDescriptor(c.prototype,"pressOK"),c.prototype),c)
e.default=k})),define("desktop-music-app/controllers/error",["exports","desktop-music-app/controllers/error-controller"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("desktop-music-app/controllers/genre-stations",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{constructor(...e){var t,i,r
super(...e),r=["genres","eras","moods","tags"],(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=t})),define("desktop-music-app/controllers/label/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{constructor(...e){var t,i,r
super(...e),r=[{section:{refreshModel:!0}}],(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=t})),define("desktop-music-app/controllers/library-error",["exports","desktop-music-app/controllers/error-controller"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("desktop-music-app/controllers/library/albums/album",["exports","desktop-music-app/controllers/album","desktop-music-app/services/local-state","desktop-music-app/presenters/music/track"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._tracked,s=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=class extends t.default{constructor(...e){super(...e),g(this,"locale",m,this),g(this,"musickit",b,this),g(this,"localState",f,this),g(this,"albumTracks",h,this)}onLibraryAdd(){const e=this.model.promise
Ember.set(e,"trackCount",e.trackCount+1),Ember.set(this,"model",{promise:e})}async onLibraryDelete(e){var t
const i=await this.model.promise,r=this.albumTracks||i.tracks,n=(null===(t=i.catalog)||void 0===t?void 0:t.length)>0
let o
Ember.set(i,"trackCount",i.trackCount-1),o=n&&r.length===i.catalog[0].tracks.length?r.map((t=>e!==t.id?t:i.catalog[0].tracks.find((e=>e.id===t.catalog[0].id)))):r.filter((t=>e!==t.id)),this.albumTracks=o.map((e=>this._processTracks(e,i.id)))}async showCompleteAlbum(){const e=await this.model.promise,t=new Set
for(const r of e.catalog[0].tracks){let n=r
if(this.localState.get(r.id,i.TYPE_LIBRARY)!==i.ITEM_WAS_DELETED){const t=e.tracks.find((e=>{var t
return r.id===(null===(t=e.catalog)||void 0===t?void 0:t[0].id)}))
if(t){this.localState.get(t.id,i.TYPE_LIBRARY)!==i.ITEM_WAS_DELETED&&(n=t)}}t.add(n)}this.albumTracks=k(Array.from(t)).map((t=>this._processTracks(t,e.id))),this._playbackQueueUpdate()}showOnlyLibraryTracks(){const e=this.model.promise,t=this.albumTracks||e.tracks,r=new Set
for(const n of t){const e=this.localState.get(n.id,i.TYPE_LIBRARY)
"library-songs"===n.type?e!==i.ITEM_WAS_DELETED&&r.add(n):e===i.ITEM_WAS_ADDED&&r.add(n)}this.albumTracks=k(Array.from(r)).map((t=>this._processTracks(t,e.id))),this._playbackQueueUpdate()}_playbackQueueUpdate(){this.musickit.queueIsEmpty||this.musickit._setQueueMultipleItems(this.albumTracks,0)}_processTracks(e,t){return(0,r.processTrack)(e,t,this.locale.locale)}},m=y(p.prototype,"locale",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"localState",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"albumTracks",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"onLibraryAdd",[s],Object.getOwnPropertyDescriptor(p.prototype,"onLibraryAdd"),p.prototype),y(p.prototype,"onLibraryDelete",[u],Object.getOwnPropertyDescriptor(p.prototype,"onLibraryDelete"),p.prototype),y(p.prototype,"showCompleteAlbum",[c],Object.getOwnPropertyDescriptor(p.prototype,"showCompleteAlbum"),p.prototype),y(p.prototype,"showOnlyLibraryTracks",[d],Object.getOwnPropertyDescriptor(p.prototype,"showOnlyLibraryTracks"),p.prototype),p)
function k(e){return Array.from(e).sort(((e,t)=>e.discNumber-t.discNumber||e.trackNumber-t.trackNumber))}e.default=v})),define("desktop-music-app/controllers/library/artists/index",["exports","desktop-music-app/utils/key-events","ember-lifeline"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._action,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=class extends Ember.Controller{constructor(...e){super(...e),m(this,"musickitData",d,this),m(this,"router",p,this),b(this,"idToName",{}),b(this,"listViewScrollPosition",0),b(this,"selectedArtistId",null),b(this,"isHidden",!1)}updateIdToName(e,t){this.idToName[e]||(this.idToName[e]=t)}async getArtistContent(e){return await this.getRelatedAlbumForArtist(e)}async getRelatedAlbumForArtist(e){return await this.musickitData.getArtistLibraryAlbums(e)}selectItemById(e){this.selectedArtistId!==e&&this.set("selectedArtistId",e)}getListScrollPosition(e){this.set("listViewScrollPosition",e)}transitionToHandler(e){this.router.transitionTo("library.artists.index.artist",e)}onKeyDownHandler(e,r){const n=new t.KeyEvent(e);(n.isArrowDown||n.isArrowUp)&&e.preventDefault(),(0,i.debounceTask)(this,"_onKeyDownHandler",n,r,50)}_onKeyDownHandler(e,i){const r=i.findIndex((e=>(null==e?void 0:e.id)===this.selectedArtistId))
switch(e.key){case t.ARROW_UP:{const e=i[Math.max(r-1,0)]
this.selectItemById(e.id),this.router.transitionTo("library.artists.index.artist",e.id)
break}case t.ARROW_DOWN:{const e=i[Math.min(r+1,i.length)]
this.selectItemById(e.id),this.router.transitionTo("library.artists.index.artist",e.id)
break}}}showDetailsView(){this.isMobile&&(this.set("isHidden",!0),this.detailViewController.set("isHidden",!1))}showListView(){this.isMobile&&(this.set("isHidden",!1),this.detailViewController.set("isHidden",!0))}},d=f(c.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(c.prototype,"updateIdToName",[o],Object.getOwnPropertyDescriptor(c.prototype,"updateIdToName"),c.prototype),f(c.prototype,"selectItemById",[l],Object.getOwnPropertyDescriptor(c.prototype,"selectItemById"),c.prototype),f(c.prototype,"getListScrollPosition",[a],Object.getOwnPropertyDescriptor(c.prototype,"getListScrollPosition"),c.prototype),f(c.prototype,"transitionToHandler",[s],Object.getOwnPropertyDescriptor(c.prototype,"transitionToHandler"),c.prototype),f(c.prototype,"onKeyDownHandler",[u],Object.getOwnPropertyDescriptor(c.prototype,"onKeyDownHandler"),c.prototype),c)
e.default=h})),define("desktop-music-app/controllers/library/artists/index/artist",["exports"],(function(e){var t,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.computed("isMobile"),i=class extends Ember.Controller{get isHidden(){return this.isMobile}},n=i.prototype,o="isHidden",l=[t],a=Object.getOwnPropertyDescriptor(i.prototype,"isHidden"),s=i.prototype,u={},Object.keys(a).forEach((function(e){u[e]=a[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=l.slice().reverse().reduce((function(e,t){return t(n,o,e)||e}),u),s&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(s):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(n,o,u),u=null),i)
var n,o,l,a,s,u
e.default=r})),define("desktop-music-app/controllers/library/made-for-you/index",["exports"],(function(e){var t,i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,r=Ember._action,n=class extends Ember.Controller{constructor(...e){super(...e),a(this,"i18n",o,this),a(this,"musickitData",l,this),s(this,"queryParams",["sort"]),s(this,"selectOptions",[{selectId:"type",name:this.i18n.t("FUSE.Sorts.PlaylistType")},{selectId:"name",name:this.i18n.t("FUSE.Sorts.Title")},{selectId:"-dateAdded",name:this.i18n.t("FUSE.Playlists.RecentlyAdded")}])}get playlistsInLibrary(){var e
return null===(e=this.model)||void 0===e?void 0:e.filter((e=>this.musickitData.isInLibrary(e)&&"library-playlists"===e.type))}changeSelection(e){Ember.set(this,"sort",e)}},o=u(n.prototype,"i18n",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(n.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(n.prototype,"changeSelection",[r],Object.getOwnPropertyDescriptor(n.prototype,"changeSelection"),n.prototype),n)
e.default=c})),define("desktop-music-app/controllers/library/playlist",["exports","desktop-music-app/controllers/playlist"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("desktop-music-app/controllers/listen-now",["exports","desktop-music-app/config/environment","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/feature-flags","desktop-music-app/utils/logger","ember-lifeline","desktop-music-app/config","desktop-music-app/utils/constants","desktop-music-app/utils/live-events"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F
function U(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function B(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.REFRESH_OPTIONS=e.REQUEST_TYPES=void 0
const{APP:{PLAYBACK_DELAY:H,REPLAY_LATEST_YEAR:V}}=t.default,{MUSIC:{FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:K}}=l.default,W=["artists","albums","editorial-items","library-albums","library-playlists","music-movies","music-videos","playlists","stations","uploaded-audios","uploaded-videos","activities","apple-curators","curators","tv-shows"]
e.REQUEST_TYPES=W
const Y={action:"refresh",name:"listen-now","omit[resource]":"autos","include[albums]":"artists","include[songs]":"artists","include[music-videos]":"artists","fields[artists]":["name","url"],"art[url]":"c,f"}
e.REFRESH_OPTIONS=Y
let q=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,_=Ember.computed("user.{isLoggedIn,isSubscribed,isOnboarded,profile.discoverabilityConsentVersion}"),P=Ember._action,O=class extends Ember.Controller{constructor(...e){super(...e),U(this,"fastboot",S,this),U(this,"personalizationRefresh",z,this),U(this,"modal",j,this),U(this,"metrics",T,this),U(this,"musickit",M,this),U(this,"musickitData",C,this),U(this,"musicFeatures",x,this),U(this,"recommendedFriends",D,this),U(this,"user",L,this),U(this,"accessibility",A,this),U(this,"socialProfile",I,this),U(this,"storefront",N,this),U(this,"contextMenu",R,this),U(this,"finance",F,this)}init(){super.init(...arguments),this.fastboot.isFastBoot||(this.displayMessageConsent&&(0,o.runTask)(this,(()=>{this.modal.open("message-consent-modal")}),1e3),Promise.resolve(this.user.profile).then((e=>{this.user.checkDiscoverFriendsForProfile(e)})))}get displayMessageConsent(){return!1}get shouldShowProfileImage(){return!1}setPersonalizationListeners(){this.personalizationRefresh.on("refresh-friends",this,"updateFriends"),Ember._registerDestructor(this,(()=>{this.personalizationRefresh.off("refresh-friends",this,"updateFriends")}))}updateFriends(){(0,o.debounceTask)(this,"_updateRecommendedFriendsData",H)}async _updateRecommendedFriendsData(){const e=this.user.userDSID
localStorage.getItem(`UPDATE-RECOMMENDED-FRIENDS-MODULE-${e}`)&&localStorage.removeItem(`UPDATE-RECOMMENDED-FRIENDS-MODULE-${e}`)
const t=await this.model.promise,i=t.data.findIndex((e=>"recommended-friends"===e.kind))
if(i){const{id:e}=t.data[i]
let n
try{n=await this.musickitData.refreshPersonalRecommendation(e,Y)}catch(r){return}t.data[i]=n,Ember.set(this,"model",{promise:t})}}async loadListenNowData(){const e=["friendsMix","library"],t=[...W],i={}
this.socialProfile.isSocialEnabled&&this.user.isOnboarded&&(e.push("social"),t.push("social-profiles","social-upsells"),i["art[social-profiles:url]"]="c")
const r={with:e,...i,name:"listen-now","art[url]":"c,f","omit[resource]":"autos","relate[editorial-items]":"contents",extend:["editorialCard","editorialVideo"],"extend[albums]":["artistUrl"],"extend[playlists]":["artistNames","editorialArtwork"],"extend[social-profiles]":"topGenreNames","include[albums]":"artists","include[songs]":"artists","include[music-videos]":"artists","fields[albums]":["artistName","artistUrl","artwork","editorialArtwork","name","playParams","releaseDate","url"],"fields[artists]":["name","url"],"extend[stations]":["airDate","supportsAirTimeUpdates"],"meta[stations]":"inflectionPoints",types:t}
r.relate="catalog"
try{const e=await this.musickitData.personalRecommendations("",r,{includeResponseMeta:!0,reload:!0})
try{await async function(e,t){const i=[]
for(const n of t.data)for(const e of n.contents)(0,s.isLiveEvent)(e)&&i.push(e)
if(i.length){const t=await e.getCatalogContents({stations:i.map((e=>e.id))},{"omit[resource]":"autos","meta[stations]":"inflectionPoints"})
for(const e of t){var r
i.find((t=>t.id===e.id)).inflectionPoints=null===(r=e.meta)||void 0===r?void 0:r.call(e,"inflectionPoints")}}}(this.musickitData,e)}catch(o){(0,n.log)("AM: listen-now route - recommendations error",o)}return this.personalizationRefresh.performPlaybackRefresh(!0),this._addReplayData(e),e}catch(o){if((0,n.log)("AM: listen-now route - recommendations error",o),"CONTENT_UNAVAILABLE"===o.name)return{data:{needsOnboarding:!0},promise:Promise.resolve()}
throw o}}async _addUpsellsData(){var e
const t={},i={serviceType:"music",platform:"mac"}
let r
i.placement=K.LISTEN_NOW
try{r=await this.musickitData.getMarketingItems(i)}catch(o){}return(0,n.log)("AM: listen-now route - marketing items",r),t.data=[],null===(e=r)||void 0===e||e.forEach((e=>{const[i]=e.offers.filter((e=>e.url||e.callToActionLabel));(0,n.log)("AM: listen-now route - marketing items filteredOffer",i)
const r={offers:e.offers,title:e.title,artwork:e.marketingArtwork||e.marketingVideo,url:i&&i.url,callToActionLabel:i&&i.callToActionLabel,resourceTypes:["music-upsell"],metricsData:e.meta()}
r.metricsData&&(this.metrics.precedingMarketing=r.metricsData)
const o={title:e.title,display:{kind:"musicUpsell"},id:e.id,contents:[],upsellData:[r],type:"personal-recommendation",isGroupRecommendation:!0}
t.data.push(o)})),t}async _addReplayData(e){let t=[]
const i=this.musicFeatures.getByKey("chameleon")
if(i)try{t=await this.musickitData.musicSummarySearch()}catch(l){(0,n.log)("AM: listen-now route - music summaries error",l)}const r=await this.musickit.instance.musicUserToken,o=localStorage.getItem(`music-app-pref:replay-upsell-dismissed-${r}`)
if(i&&!o&&t.length){let i
const r=t.filter((e=>(i=Ember.get(e,"_meta.latestYear")||V,Ember.get(e,"year")===i)))
if(r.length&&e.length){const t={type:"personal-recommendation",isGroupRecommendation:!1,resourceTypes:["replay-upsell"],contents:[],summary:r,latestYear:i}
e.data.splice(4,0,t)}}}setServerRecommendedFriendsData(e){const t=e.find((e=>"recommended-friends"===e.kind))
return t&&(this.recommendedFriends.set("serverRecommendations",t.children),this.recommendedFriends.getRecommendedFriendsFromContacts()),e}transitionToUser(e,t){this.transitionToRoute(e,t)}},S=B(O.prototype,"fastboot",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B(O.prototype,"personalizationRefresh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=B(O.prototype,"modal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(O.prototype,"metrics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B(O.prototype,"musickit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B(O.prototype,"musickitData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(O.prototype,"musicFeatures",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B(O.prototype,"recommendedFriends",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=B(O.prototype,"user",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B(O.prototype,"accessibility",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=B(O.prototype,"socialProfile",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B(O.prototype,"storefront",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=B(O.prototype,"contextMenu",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=B(O.prototype,"finance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B(O.prototype,"displayMessageConsent",[_],Object.getOwnPropertyDescriptor(O.prototype,"displayMessageConsent"),O.prototype),B(O.prototype,"_addUpsellsData",[i.default],Object.getOwnPropertyDescriptor(O.prototype,"_addUpsellsData"),O.prototype),B(O.prototype,"transitionToUser",[P],Object.getOwnPropertyDescriptor(O.prototype,"transitionToUser"),O.prototype),O)
e.default=q})),define("desktop-music-app/controllers/message-consent-modal",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.computed.alias("user.profile.profileImage"),s=Ember._action,u=class extends Ember.Controller{constructor(...e){super(...e),g(this,"i18n",c,this),g(this,"itunesSocial",d,this),g(this,"itunesVersion",p,this),g(this,"user",m,this),g(this,"modal",b,this),g(this,"socialProfile",f,this),g(this,"profileImage",h,this)}setUserPreference(e){const t={owner:{type:"user",id:Ember.get(this,"user.userDSID")},isContactsCheckAllowed:e,discoverabilityConsentVersion:1,isDiscoverableByContact:e}
this.itunesSocial.updateSocialProfile(t).then((e=>{e&&this.modal.close()}))}},c=y(u.prototype,"i18n",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y(u.prototype,"itunesSocial",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(u.prototype,"itunesVersion",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(u.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(u.prototype,"modal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(u.prototype,"socialProfile",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(u.prototype,"profileImage",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(u.prototype,"setUserPreference",[s],Object.getOwnPropertyDescriptor(u.prototype,"setUserPreference"),u.prototype),u)
e.default=v})),define("desktop-music-app/controllers/modals/apps-access",["exports","desktop-music-app/config/environment","desktop-music-app/utils/fetch-json"],(function(e,t,i){var r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{APP:{revokeMusicSDKAuthorizationSrv:m}}=t.default
let b=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._action,l=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(...e){var t,i,r
super(...e),d(this,"modal",u,this),d(this,"store",c,this),r=[],(i="apps")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}loadApps(){const e={timeStamp:(new Date).getMilliseconds()}
this.store.queryRecord("account.music-sdk-authorizations",e).then((e=>{Ember.set(this,"apps",Ember.get(e,"appList"))}))}closeModal(){this.modal.close()}revokeApp(e){const t=Ember.get(e,"id"),r=new URL(m),n=JSON.stringify({musicId:t})
return(0,i.default)(r,{method:"POST",headers:{"content-type":"application/json"},body:n}).then((()=>this.loadApps()))}},u=p(s.prototype,"modal",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(s.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(s.prototype,"loadApps",[o],Object.getOwnPropertyDescriptor(s.prototype,"loadApps"),s.prototype),p(s.prototype,"closeModal",[l],Object.getOwnPropertyDescriptor(s.prototype,"closeModal"),s.prototype),p(s.prototype,"revokeApp",[a],Object.getOwnPropertyDescriptor(s.prototype,"revokeApp"),s.prototype),s)
e.default=b})),define("desktop-music-app/controllers/modals/find-friends",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let k=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service("itunes-social"),n=Ember.inject.service("itunes-dialog"),o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=Ember._action,c=Ember._action,d=class extends Ember.Controller{constructor(...e){super(...e),g(this,"modal",p,this),g(this,"user",m,this),g(this,"social",b,this),g(this,"dialog",f,this),g(this,"socialProfile",h,this),y(this,"enableContactsConsent",!1),y(this,"enableDiscoverableByContact",!1)}socialNetworkConnections(e){this.social.getSocialNetworkConnections(e).then((e=>{e&&Ember.set(this,"networkConnections",e)}))}async loadSocialNetworkContact(){const e=await this.social.getOAuthSocialNetworks(),{socialNetworks:t=[]}=e
Ember.set(this,"socialNetworks",t),t.forEach((e=>{e.isAuthenticated&&this.socialNetworkConnections({network:e.name})}))}getProfileSettings(){Ember.RSVP.resolve(Ember.get(this,"user.profile")).then((e=>{const t=Ember.get(e,"isContactsCheckAllowed"),i=Ember.get(e,"isDiscoverableByContact")
Ember.set(this,"enableContactsConsent",t),Ember.set(this,"enableDiscoverableByContact",i)}))}select(e){Ember.set(this,e,!Ember.get(this,e))}closeModal(){const e={isContactsCheckAllowed:Ember.get(this,"enableContactsConsent"),discoverabilityConsentVersion:1,isDiscoverableByContact:Ember.get(this,"enableDiscoverableByContact")}
this.social.updateSocialProfile(e).then(((e,t)=>{if(e)this.modal.close()
else{let e
const i=Ember.get(t,"message")
e=i||this.i18n.t("FUSE.Error.AnErrorOccurred"),alert(e)}}))}modalRendered(){this.loadSocialNetworkContact(),this.getProfileSettings()}disconnect(e){const t=Ember.get(e,"name"),i=Ember.get(e,"nameForDisplay"),r=this.i18n.t("FUSE.Social.LinkedAccounts.Dialog.Header",{name:i}),n=this.i18n.t("FUSE.Social.LinkedAccounts.Dialog.Description",{name:i}),o=this.i18n.t("FUSE.CancelButton"),l=this.i18n.t("FUSE.Social.LinkedAccounts.Disconnect"),a={okButtonAction:Ember.run.bind(this,(()=>{const e={network:t}
Ember.get(this,"social").disconnectLinkedAccount(e).then((()=>{this.loadSocialNetworkContact()}))}))}
Ember.get(this,"dialog").showDialog(r,n,l,a,o)}signIn(e){const t={oAuthUrl:Ember.get(e,"oauth_url"),redirectUrl:Ember.get(e,"redirectUrl")}
this.social.showOAuthDialog(t).then((()=>{this.loadSocialNetworkContact()}))}},p=v(d.prototype,"modal",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(d.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(d.prototype,"social",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(d.prototype,"dialog",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(d.prototype,"socialProfile",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(d.prototype,"select",[l],Object.getOwnPropertyDescriptor(d.prototype,"select"),d.prototype),v(d.prototype,"closeModal",[a],Object.getOwnPropertyDescriptor(d.prototype,"closeModal"),d.prototype),v(d.prototype,"modalRendered",[s],Object.getOwnPropertyDescriptor(d.prototype,"modalRendered"),d.prototype),v(d.prototype,"disconnect",[u],Object.getOwnPropertyDescriptor(d.prototype,"disconnect"),d.prototype),v(d.prototype,"signIn",[c],Object.getOwnPropertyDescriptor(d.prototype,"signIn"),d.prototype),d)
e.default=k})),define("desktop-music-app/controllers/onboarding",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.getPreferenceDelta=function(e){if(!e)return void Ember.debug("Onboarding Controller: No data.")
return[...e].map((e=>{const{id:t,type:i,preference:r}=e
return{id:t,type:i,attributes:{preference:r}}}))},e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Controller{constructor(...e){super(...e),l(this,"musickitData",n,this),l(this,"router",o,this)}refresh(){this.shouldRefresh=!1
const e=this.router.urlFor("onboarding")
window.location.href=e}},n=a(r.prototype,"musickitData",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/controllers/onboarding/artists",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/controllers/onboarding","desktop-music-app/utils/personalization"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._action,c=class extends Ember.Controller{constructor(...e){super(...e),h(this,"musickit",d,this),h(this,"musickitData",p,this),h(this,"router",m,this),h(this,"storefront",b,this),h(this,"user",f,this)}get axId(){return`${Ember.guidFor(this)}-heading`}saveOnboarding(){this._saveOnboarding()}async savePreferences(e){return await this.musickitData.saveTastePreferences(e)}async _saveOnboarding(){Ember.get(this,"model.onboarding")
const e=Ember.get(this,"model.artists"),t=(0,r.personalizedRouteName)()
try{const r=(0,i.getPreferenceDelta)(e)
await this.savePreferences(r),Ember.set(this,"user.needsWebOnboarding",!1),await this.musickit.instance.me(),Ember.set(this,"user.onboardingCompleted",!0)
const n=this.router.urlFor(t,this.storefront.resolvedStorefront,{queryParams:this.router.naiveQueryParams})
this.transitionToRoute(n)}catch(n){this.handleFailure(n)}}handleFailure(e){403===e.status&&this.user.login((()=>{this.user.isLoggedIn&&this.saveOnboarding()}),!0)}},d=g(c.prototype,"musickit",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(c.prototype,"musickitData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(c.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(c.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g(c.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"saveOnboarding",[u],Object.getOwnPropertyDescriptor(c.prototype,"saveOnboarding"),c.prototype),c)
e.default=y})),define("desktop-music-app/controllers/onboarding/labels",["exports","desktop-music-app/controllers/onboarding","desktop-music-app/utils/feature-flags","desktop-music-app/utils/personalization"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let k=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.computed("model.genres.@each.preference"),c=Ember.computed("selectedGenreCount"),d=Ember._action,p=class extends Ember.Controller{constructor(...e){super(...e),y(this,"i18n",m,this),y(this,"musickitData",b,this),y(this,"router",f,this),y(this,"storefront",h,this),y(this,"user",g,this)}get selectedGenreCount(){var e,t
return null===(e=this.model)||void 0===e||null===(t=e.genres)||void 0===t?void 0:t.getEach("preference").filter((e=>e>0)).length}get submitDisabled(){return this.selectedGenreCount<1}get axId(){return`${Ember.guidFor(this)}-heading`}async savePreferences(e){return await this.musickitData.saveTastePreferences(e)}async goToOnboardingArtists(){const e=Ember.get(this,"model.onboarding"),i=Ember.get(this,"model.genres")
e.labels=i
const r=(0,t.getPreferenceDelta)(i)
try{const t=await this.savePreferences(r)
e.artists=t,this.replaceRoute("onboarding.artists")}catch(n){this.handleFailure()}}handleFailure(e){if(e.status||Array.isArray(e.errors)&&e.errors[0].status)this.user.login((()=>{this.user.isLoggedIn&&this.refresh()}),!0)
else{const e=this.router.urlFor((0,r.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.transitionToRoute(e)}}},m=v(p.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"musickitData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(p.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"storefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"selectedGenreCount",[u],Object.getOwnPropertyDescriptor(p.prototype,"selectedGenreCount"),p.prototype),v(p.prototype,"submitDisabled",[c],Object.getOwnPropertyDescriptor(p.prototype,"submitDisabled"),p.prototype),v(p.prototype,"goToOnboardingArtists",[d],Object.getOwnPropertyDescriptor(p.prototype,"goToOnboardingArtists"),p.prototype),p)
e.default=k})),define("desktop-music-app/controllers/personal-mix",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends Ember.Controller{constructor(...e){super(...e),s(this,"storefront",l,this),s(this,"user",a,this)}get metaTitle(){return function(e){switch(e){case"chill-mix":return"PersonalMix.Chill"
case"favorites-mix":return"PersonalMix.Favorites"
case"friends-mix":return"PersonalMix.Friends"
case"get-up-mix":return"PersonalMix.GetUp"
case"new-music-mix":return"PersonalMix.NewReleases"
default:return"PersonalMix.ReplayMix"}}(this.model.name)}toPersoRoute(){this.transitionToRoute((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)}},l=u(o.prototype,"storefront",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"toPersoRoute",[n],Object.getOwnPropertyDescriptor(o.prototype,"toPersoRoute"),o.prototype),o)
e.default=c})),define("desktop-music-app/controllers/playlist",["exports"],(function(e){var t,i,r
function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,o,l
super(...e),t=this,i="socialProfile",l=this,(o=r)&&Object.defineProperty(t,i,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(l):void 0}),n(this,"queryParams",["i","selectedTrack","editTitle"]),n(this,"editTitle",void 0)}get selectedTrackId(){return this.i||this.selectedTrack}},l=i.prototype,a="socialProfile",s=[t],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),r=d,i)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/controllers/profile-edit",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/format-user-handle","desktop-music-app/utils/personalization","desktop-music-app/config"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U
function B(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{SOCIAL:{profileImageCaptureSize:K}}}=n.default
let W=(o=Ember.inject.service,l=Ember.inject.service("itunes-social"),a=Ember.inject.service("itunes-dialog"),s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,b=Ember._tracked,f=Ember._tracked,h=Ember._tracked,g=Ember.computed("playlists.[]"),y=Ember._tracked,v=Ember._action,k=Ember._action,w=Ember._action,E=Ember._action,_=Ember._action,P=Ember._action,O=Ember._action,S=Ember._action,z=class extends Ember.Controller{constructor(...e){super(...e),B(this,"i18n",j,this),B(this,"itunesSocial",T,this),B(this,"iTunesDialog",M,this),B(this,"modal",C,this),B(this,"router",x,this),B(this,"store",D,this),B(this,"storefront",L,this),B(this,"user",A,this),H(this,"playlistIds",[]),H(this,"profile",null),H(this,"playlists",null),B(this,"isPrivateProfile",I,this),B(this,"profileHandle",N,this),B(this,"profileName",R,this),B(this,"profileImage",F,this),B(this,"playlistPrivacyChanged",U,this),H(this,"current",null),H(this,"actions",{closeModal(){this.modal.close()}})}get hasPlaylists(){const{playlists:e}=this
return e&&e.length>0}addPlaylistPrivacyChangedObserver(){Ember.addObserver(this,"playlists.@each.isPublic",this,"playlistPrivacyChangedObserver")}playlistPrivacyChangedObserver(){this.playlistPrivacyChanged=!0}removePlaylistPrivacyChangedObserver(){Ember.removeObserver(this,"playlists.@each.isPublic",this,"playlistPrivacyChangedObserver")}get userInputChanged(){const e={profileImage:this.profileImage,profileName:this.profileName,profileHandle:(0,i.default)(this.profileHandle),isPrivateProfile:this.isPrivateProfile}
return JSON.stringify(e)!==JSON.stringify(this.current)}get isDirty(){return this.userInputChanged||this.playlistPrivacyChanged}getPublicPlaylistIds(){return this.playlists.filter((e=>Ember.get(e,"isPublic"))).map((e=>Ember.get(e,"libraryPlaylistId")))}navigateToMainView(){this.itunesSocial.offboardProfile().then((()=>{const{i18n:e}=this,t=e.t("FUSE.Social.DeleteProfile.Success.Header"),i=e.t("FUSE.Social.DeleteProfile.Success.Description")
this.iTunesDialog.showDialog(t,i,"",{})})).catch((e=>{(0,t.log)("Edit Profile Page: offboardProfile: Error:",e)})).finally((()=>{const e=this.router.urlFor((0,r.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.transitionToRoute(e)}))}cancelEditProfile(){this.transitionToRoute("profile",this.storefront.resolvedStorefront,this.profile.id)}saveProfile(){var e,t,r
this.profileHandle=(0,i.default)(this.profileHandle)
const n={owner:{type:"user",id:Ember.get(this,"user.userDSID")},name:this.profileName,handle:this.profileHandle,isPrivate:this.isPrivateProfile,options:{includeHandleSuggestion:!0}},o=null===(e=this.profileImage)||void 0===e?void 0:e.url
o&&o!==(null===(t=this.current)||void 0===t||null===(r=t.profileImage)||void 0===r?void 0:r.url)&&o.startsWith("data:")&&(n.profileImage=o),this.itunesSocial.updateSocialProfile(n).then((e=>{if(!this.isDestroying&&!this.isDestroyed&&e){this.playlistPrivacyChanged=!1,this.current={profileImage:this.profileImage,profileName:this.profileName,profileHandle:this.profileHandle,isPrivateProfile:this.isPrivateProfile},this.profile.isPrivate=this.isPrivateProfile
const e=()=>{this.transitionToRoute("profile",this.storefront.resolvedStorefront,this.profileHandle)}
if(this.hasPlaylists){const t=this.getPublicPlaylistIds()
this.itunesSocial.setUserPlaylists(t).then((t=>{t&&e()}))}else e()}})).catch((()=>{}))}offboardProfile(){const{i18n:e}=this,t=e.t("FUSE.Social.DeleteProfile.Header"),i=e.t("FUSE.Social.DeleteProfile.Description"),r=e.t("FUSE.Social.DeleteProfile.DeleteProfile.CTA"),n=e.t("FUSE.CancelButton"),o={okButtonAction:Ember.run.bind(this,this.navigateToMainView)}
this.iTunesDialog.showDialog(t,i,r,o,n)}openProfileSettings(){this.modal.open("profile-settings-modal")}editProfileImage(e){const t=e.target,i={maxHeight:K,maxWidth:K,mimeType:"image/jpeg",anchor:t}
this.itunesSocial.openImageSelector(i,(e=>{e&&(this.profileImage={...this.profileImage,url:e})}))}editProfilePrivacy(e){this.isPrivateProfile=JSON.parse(e.target.value)}setProfileName(e){this.profileName=e.target.value}onHandleChange(e){this.profileHandle=e.detail.handle}},j=V(z.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V(z.prototype,"itunesSocial",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=V(z.prototype,"iTunesDialog",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=V(z.prototype,"modal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=V(z.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=V(z.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=V(z.prototype,"storefront",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=V(z.prototype,"user",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=V(z.prototype,"isPrivateProfile",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=V(z.prototype,"profileHandle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=V(z.prototype,"profileName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=V(z.prototype,"profileImage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V(z.prototype,"hasPlaylists",[g],Object.getOwnPropertyDescriptor(z.prototype,"hasPlaylists"),z.prototype),U=V(z.prototype,"playlistPrivacyChanged",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V(z.prototype,"cancelEditProfile",[v],Object.getOwnPropertyDescriptor(z.prototype,"cancelEditProfile"),z.prototype),V(z.prototype,"saveProfile",[k],Object.getOwnPropertyDescriptor(z.prototype,"saveProfile"),z.prototype),V(z.prototype,"offboardProfile",[w],Object.getOwnPropertyDescriptor(z.prototype,"offboardProfile"),z.prototype),V(z.prototype,"openProfileSettings",[E],Object.getOwnPropertyDescriptor(z.prototype,"openProfileSettings"),z.prototype),V(z.prototype,"editProfileImage",[_],Object.getOwnPropertyDescriptor(z.prototype,"editProfileImage"),z.prototype),V(z.prototype,"editProfilePrivacy",[P],Object.getOwnPropertyDescriptor(z.prototype,"editProfilePrivacy"),z.prototype),V(z.prototype,"setProfileName",[O],Object.getOwnPropertyDescriptor(z.prototype,"setProfileName"),z.prototype),V(z.prototype,"onHandleChange",[S],Object.getOwnPropertyDescriptor(z.prototype,"onHandleChange"),z.prototype),z)
e.default=W})),define("desktop-music-app/controllers/profile-page-see-all-room",["exports","desktop-music-app/utils/url-parser","desktop-music-app/decorators/cached-setter"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,n=Ember.computed("model.roomType"),o=Ember._action,l=class extends Ember.Controller{constructor(...e){var t,i,r,n
super(...e),t=this,i="i18n",n=this,(r=a)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),s(this,"queryParams",["userId"]),s(this,"_roomLockups",void 0)}get roomTitle(){const e=Ember.get(this,"model.roomType")
let t
switch(e){case"USER_PLAYLISTS":t="FUSE.Social.Playlist"
break
case"USER_ENGAGEMENT":t="FUSE.Social.ListeningTo"
break
case"USER_FOLLOWEES":t="FUSE.Social.Following"
break
case"USER_FOLLOWERS":t="FUSE.Social.Followers"
break
default:t=e}return this.i18n.t(t)}get roomLockups(){return[]}_loadNext(e){if(Ember.get(this,"model.meta.next")){const i=(0,t.default)(Ember.get(this,"model.meta.next")),r=this.store.queryRecord("profile-page-see-all-room",i.query).then((e=>{Ember.set(this,"model.meta.next",Ember.get(e,"meta.next"))
const t=e.lockups.toArray(),i=this.roomLockups,r=Ember.A()
return r.pushObjects(i),r.pushObjects(t),Ember.set(this,"roomLockups",r),e}))
e&&e(r)}}loadNext(e){this._loadNext(e)}},a=u(l.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(l.prototype,"roomTitle",[n],Object.getOwnPropertyDescriptor(l.prototype,"roomTitle"),l.prototype),u(l.prototype,"roomLockups",[i.default],Object.getOwnPropertyDescriptor(l.prototype,"roomLockups"),l.prototype),u(l.prototype,"loadNext",[o],Object.getOwnPropertyDescriptor(l.prototype,"loadNext"),l.prototype),l)
e.default=c})),define("desktop-music-app/controllers/profile-page/pending-approval-modal",["exports"],(function(e){var t,i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,i=Ember.inject.service,r=Ember._action,n=Ember._action,o=class extends Ember.Controller{constructor(...e){super(...e),s(this,"itunesSocial",l,this),s(this,"modal",a,this),u(this,"queryParams",["model"]),u(this,"requests",[])}init(){super.init(...arguments),this.loadFollowRequests()}loadFollowRequests(){this.itunesSocial.followRequests().then((e=>{if(0===Ember.get(e,"followRequests.length"))return void this.modal.close()
const t=e.followRequests.map((t=>Ember.get(e,"storePlatformData.lockup.results")[Ember.get(t,"followerProfileId")]))
Ember.set(this,"requests",t)}))}acceptRequest(e){const t={actionType:"approve",id:Ember.get(e,"socialProfileId")}
this.itunesSocial.followRequestAction(t).then((()=>{this.loadFollowRequests(),Ember.getOwner(this).lookup("controller:profile").send("reloadModules")}))}declineRequest(e){const t={actionType:"decline",id:Ember.get(e,"socialProfileId")}
this.itunesSocial.followRequestAction(t).then((()=>{this.loadFollowRequests(),Ember.getOwner(this).lookup("controller:profile").send("reloadModules")}))}},l=c(o.prototype,"itunesSocial",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"modal",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"acceptRequest",[r],Object.getOwnPropertyDescriptor(o.prototype,"acceptRequest"),o.prototype),c(o.prototype,"declineRequest",[n],Object.getOwnPropertyDescriptor(o.prototype,"declineRequest"),o.prototype),o)
e.default=d})),define("desktop-music-app/controllers/profile-settings-modal",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(t=Ember.inject.service("itunes-social"),i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=Ember._action,l=Ember._action,a=class extends Ember.Controller{constructor(...e){var t,i,r
super(...e),d(this,"itunesSocial",s,this),d(this,"user",u,this),d(this,"socialProfile",c,this),r=!1,(i="listeningToSetting")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}loadSettings(){this.itunesSocial.getListeningToSettings().then((e=>{const t=!Ember.get(e,"listeningToSettings.hideListeningTo")
this.isDestroyed||this.isDestroying||Ember.set(this,"listeningToSetting",t)}))}toggleListeningToSetting(e){const t=e.target.checked
Ember.set(this,"listeningToSetting",t)}setListeningToSettings(){const e={listeningToSettings:{hideListeningTo:!Ember.get(this,"listeningToSetting")}}
this.itunesSocial.setListeningToSettings(e).finally((()=>{Ember.getOwner(this).lookup("route:application").send("closeModal")}))}},s=p(a.prototype,"itunesSocial",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(a.prototype,"socialProfile",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"loadSettings",[n],Object.getOwnPropertyDescriptor(a.prototype,"loadSettings"),a.prototype),p(a.prototype,"toggleListeningToSetting",[o],Object.getOwnPropertyDescriptor(a.prototype,"toggleListeningToSetting"),a.prototype),p(a.prototype,"setListeningToSettings",[l],Object.getOwnPropertyDescriptor(a.prototype,"setListeningToSettings"),a.prototype),a)
e.default=m})),define("desktop-music-app/controllers/profile",["exports","ember-lifeline","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let T=(r=Ember.inject.service("itunes-social"),n=Ember.inject.service,o=Ember.inject.service("recommendedFriends"),l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service("itunes-menu-item-interaction"),u=Ember.inject.service("itunes-dialog"),c=Ember.inject.service,d=Ember._tracked,p=Ember._action,m=Ember._action,b=Ember._action,f=Ember._action,h=class extends Ember.Controller{constructor(...e){super(...e),z(this,"queryParams",["handle","eventUrl"]),S(this,"social",g,this),S(this,"modal",y,this),S(this,"recommendedFriendsService",v,this),S(this,"i18n",k,this),S(this,"store",w,this),S(this,"menuInteraction",E,this),S(this,"dialog",_,this),S(this,"user",P,this),z(this,"displayYouMayLike",!1),S(this,"recommendedFriends",O,this)}init(){super.init(...arguments)}get isNotLoggedIn(){return!this.user.isLoggedIn}handleMenuItemSelection(e){const{id:t,menuItemId:i}=e
if(!i)return
const r=iTunes.ActionMenuItem
switch(i){case r.HideFromListeningTo:{const e={actionType:"hide",ids:[t.toString()]}
this.social.updateListeningToPreferences(e).then((e=>{"success"===e.status&&this._reloadModules()}))
break}case r.UnhideFromListeningTo:{const e={actionType:"unhide",ids:[t.toString()]}
this.social.updateListeningToPreferences(e).then((e=>{"success"===e.status&&this._reloadModules()}))
break}case r.FollowUser:this.social.followUser(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))
break
case r.UnfollowUser:this.social.unFollowUser(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))
break
case r.BlockUser:{const e=Ember.get(this,"menuInteraction.selectedItemJSON.name"),i=this.i18n.t("FUSE.Social.Block.Alert.Title",{name:e}),r=this.i18n.t("FUSE.Social.Block.Alert.Description"),n=this.i18n.t("FUSE.CancelButton"),o=this.i18n.t("FUSE.Social.Block"),l={okButtonAction:Ember.run.bind(this,(()=>{this.social.blockUser(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))}))}
this.dialog.showDialog(i,r,o,l,n)
break}case r.UnblockUser:this.social.unblockUser(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))
break
case r.RemoveFollower:{const e=Ember.get(this,"menuInteraction.selectedItemJSON.name"),i=this.i18n.t("FUSE.Social.Remove.Alert.Title",{name:e}),r=this.i18n.t("FUSE.Social.Remove.Alert.Description"),n=this.i18n.t("FUSE.CancelButton"),o=this.i18n.t("FUSE.Social.Remove.Alert.RemoveFollowerButton"),l=this.i18n.t("FUSE.Social.Block"),a={okButtonAction:Ember.run.bind(this,(()=>{this.social.blockUser(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))})),cancelButtonAction:Ember.run.bind(this,(()=>{this.social.removeFollower(t).then((e=>{"success"===e.status&&this._reloadModules([t])}))}))}
this.dialog.showDialog(i,r,l,a,o,n)
break}}}_reloadModules(e){const i={v:"1",id:e?e[0]:this.get("user.profile.socialProfileId")};(0,t.runTask)(this,(()=>{this.store.queryRecord("profile",i)}),1e3)}openSocialOnboardingModal(){this.modal.open("social-onboarding.index")}findFriends(){this.modal.open("social-onboarding.find-friends",{location:"profilePage"})}reloadModules(e){this._reloadModules(e)}loadRecommendations(e,t){this.recommendedFriendsService.getRecommendedFriendsForProfile(t).then((i=>{t===Ember.get(e,"profile.socialProfileId")&&Ember.set(this,"displayYouMayLike",!0),i&&(this.recommendedFriends=i)}))}},g=j(h.prototype,"social",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(h.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(h.prototype,"recommendedFriendsService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=j(h.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j(h.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(h.prototype,"menuInteraction",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=j(h.prototype,"dialog",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=j(h.prototype,"user",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=j(h.prototype,"recommendedFriends",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j(h.prototype,"openSocialOnboardingModal",[p],Object.getOwnPropertyDescriptor(h.prototype,"openSocialOnboardingModal"),h.prototype),j(h.prototype,"findFriends",[m],Object.getOwnPropertyDescriptor(h.prototype,"findFriends"),h.prototype),j(h.prototype,"reloadModules",[b],Object.getOwnPropertyDescriptor(h.prototype,"reloadModules"),h.prototype),j(h.prototype,"loadRecommendations",[f],Object.getOwnPropertyDescriptor(h.prototype,"loadRecommendations"),h.prototype),h)
e.default=T})),define("desktop-music-app/controllers/radio-page/beats1",["exports","desktop-music-app/utils/find-index","desktop-music-app/utils/precision-date","desktop-music-app/utils/time-range"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,o=Ember.computed("model.upcomingShows.[]"),l=Ember.computed("model.allShows"),a=class extends Ember.Controller{constructor(...e){var t,i,r,n
super(...e),t=this,i="i18n",n=this,(r=s)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}get nextShows(){const e=Ember.get(this,"model.upcomingShows"),i=(0,t.default)(e,(e=>{const t=new Date
return t>=new Date(Ember.get(e,"startTime"))&&t<=new Date(Ember.get(e,"endTime"))}))+1,n=i+6
return e.slice(i,n).map((e=>{const t=Ember.get(e,"startTime"),i=Ember.get(e,"endTime")
let n
if(t&&i){const e=(0,r.default)(new Date(t),new Date(i),this.i18n.t("TimeRange.Digits"))
n=this.i18n.t(...e)}const o=Ember.get(e,"curator.id")
return{artwork:Ember.Object.create({url:Ember.get(e,"artworkUrl"),height:320,width:320}),badge:n,title:Ember.get(e,"title"),description:Ember.get(e,"description"),curator:o?Ember.get(e,"curator"):null}}))}get allShows(){const e=[],t=Ember.get(this,"model.allShows").map((e=>{const t={lockup:Ember.get(e,"curator"),showHost:Ember.get(e,"showHost")}
if(Ember.get(e,"nextStartTime")){const r=new i.default(Ember.get(e,"nextStartTime"))
t.nextStartDate=(0,i.format)(r,this.i18n,{month:"short",day:"numeric"}),t.nextStartTime=(0,i.format)(r,this.i18n,{hour:"numeric"})}return t})).filter((t=>{const{lockup:i}=t
return i.isFulfilled||e.push(i.then),i.isFulfilled}))
return Promise.all(e).then((e=>{e.length>0&&Ember.run.later(this,(function(){this.notifyPropertyChange("allShows")}),1e3)})),t}},s=u(a.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"nextShows",[o],Object.getOwnPropertyDescriptor(a.prototype,"nextShows"),a.prototype),u(a.prototype,"allShows",[l],Object.getOwnPropertyDescriptor(a.prototype,"allShows"),a.prototype),a)
e.default=c})),define("desktop-music-app/controllers/replay",["exports","ember-lifeline","desktop-music-app/utils/route"],(function(e,t,i){var r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=class extends Ember.Controller{constructor(...e){super(...e),p(this,"locale",s,this),p(this,"routeHistory",u,this),p(this,"router",c,this),p(this,"storefront",d,this)}addNavigateEventListener(e,[i]){const r=e.querySelector("apple-music-replay");(0,t.addEventListener)(i,r,"navigate",i.handleReplayNavigateEvent)}handleReplayNavigateEvent(e){const t=Ember.get(e,"detail.url"),{_routerMicrolib:r}=this.router._router,n=(0,i.normalizeURL)(t,r,this.storefront.resolvedStorefront);(0,i.transitionToRoute)(this.router,n)}get featureName(){const{featureName:e}=this.routeHistory
if(e&&e.indexOf("/ playlist_detail")>=0){const t=e.split(" / ")[0]
return t?`${t} / replay`:"replay"}return e&&"replay"!==e?`${e} / replay`:"replay"}},s=m(a.prototype,"locale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(a.prototype,"routeHistory",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(a.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(a.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=b})),define("desktop-music-app/controllers/search",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,n,o,l,a,s
super(...e),t=this,i="search",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),s=["term","searchIn","hintsEntity","lyrics"],(a="queryParams")in(l=this)?Object.defineProperty(l,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[a]=s}get term(){return this.search.term}set term(e){this.search.term=e}get searchIn(){return this.search.searchIn}set searchIn(e){this.search.searchIn=e}},o=i.prototype,l="search",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/controllers/social-network-connections/revoke",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember._action,l=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(...e){super(...e),m(this,"itunesSocial",u,this),m(this,"itunesDialog",c,this),m(this,"i18n",d,this),m(this,"modal",p,this)}init(){super.init(...arguments),this.loadSocialNetworkContact()}loadSocialNetworkContact(){Ember.get(this,"itunesSocial").getOAuthSocialNetworks().then((e=>{const t=Ember.get(e,"socialNetworks")
Ember.set(this,"socialNetworks",t),t.forEach((e=>{e.isAuthenticated&&this.socialNetworkConnections({network:e.name})}))}))}socialNetworkConnections(e){Ember.get(this,"itunesSocial").getSocialNetworkConnections(e).then((e=>{e&&Ember.set(this,"networkConnections",e)}))}disconnect(e){const t=Ember.get(e,"name"),i=Ember.get(e,"nameForDisplay"),r=this.i18n.t("FUSE.Social.LinkedAccounts.Dialog.Header",{name:i}),n=this.i18n.t("FUSE.Social.LinkedAccounts.Dialog.Description",{name:i}),o=this.i18n.t("FUSE.CancelButton"),l=this.i18n.t("FUSE.Social.LinkedAccounts.Disconnect"),a={okButtonAction:Ember.run.bind(this,(()=>{const e={network:t}
Ember.get(this,"itunesSocial").disconnectLinkedAccount(e).then((()=>{this.loadSocialNetworkContact()}))}))}
Ember.get(this,"itunesDialog").showDialog(r,n,l,a,o)}signIn(e){const t={oAuthUrl:Ember.get(e,"oauth_url"),redirectUrl:Ember.get(e,"redirectUrl")}
Ember.get(this,"itunesSocial").showOAuthDialog(t).then((()=>{this.loadSocialNetworkContact()}))}},u=b(s.prototype,"itunesSocial",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(s.prototype,"itunesDialog",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(s.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(s.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(s.prototype,"loadSocialNetworkContact",[o],Object.getOwnPropertyDescriptor(s.prototype,"loadSocialNetworkContact"),s.prototype),b(s.prototype,"disconnect",[l],Object.getOwnPropertyDescriptor(s.prototype,"disconnect"),s.prototype),b(s.prototype,"signIn",[a],Object.getOwnPropertyDescriptor(s.prototype,"signIn"),s.prototype),s)
e.default=f}))
define("desktop-music-app/controllers/social-onboarding/find-friends",["exports","desktop-music-app/mixins/user-cloud-library","desktop-music-app/utils/logger"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P
function O(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let j=(r=Ember.inject.service,n=Ember.inject.service("itunes-dialog"),o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember._action,u=Ember._action,c=Ember.computed,d=Ember.computed,p=Ember.computed("invites.length","onboardedContacts.length","isInitializing"),m=Ember.computed("onboardedContacts","invites"),b=Ember.computed("socialNetworks"),f=Ember.computed.equal("model.location","profilePage"),h=Ember.computed("contacts","networkConnections"),g=Ember._action,y=class extends(Ember.Controller.extend(t.default)){constructor(...e){super(...e),O(this,"itunesSocial",v,this),O(this,"itunesDialog",k,this),O(this,"i18n",w,this),O(this,"modal",E,this),O(this,"socialProfile",_,this),S(this,"isLoading",!1),S(this,"isInitializing",!0),S(this,"showPopover",!1),S(this,"searchTerm",""),S(this,"socialNetworks",null),S(this,"networkConnections",[]),O(this,"isModalLocationFromProfilePage",P,this)}loadData(){Ember.RSVP.all([this.loadSocialNetworkContact(),this.loadAddressBookContact()]).finally((()=>{Ember.set(this,"isInitializing",!1)}))}setSearchTerm(e){this.set("searchTerm",e.target.value)}loadSocialNetworkContact(){return this.itunesSocial.getOAuthSocialNetworks().then((e=>{const t=e.socialNetworks
Ember.set(this,"socialNetworks",t),t.forEach((e=>{e.isAuthenticated&&this.socialNetworkConnections(e)}))})).catch((e=>{(0,i.error)("Find Friends: loadSocialNetworkContact Error:",e)}))}loadAddressBookContact(){return this.itunesSocial.findSubscribers().then((({status:e,contacts:t,invites:i})=>{e&&(Ember.set(this,"contacts",t),Ember.set(this,"invites",i))})).catch((e=>{(0,i.error)("Find Friends: loadAddressBookContact Error:",e)}))}socialNetworkConnections(e){this.itunesSocial.getSocialNetworkConnections({network:e.name}).then((t=>{t&&t.length&&(t.forEach((t=>{Ember.set(t,"network",e)})),this.networkConnections.addObjects(t),Ember.set(this,"isInitializing",!1))})).catch((e=>{(0,i.error)("Find Friends: socialNetworkConnections Error:",e)}))}appendSocialProfileKindToArray(e){return e.forEach((e=>Ember.set(e,"kind","socialProfile"))),e}get contacts(){return[]}set contacts(e){return this.appendSocialProfileKindToArray(e)}get invites(){return[]}set invites(e){return this.appendSocialProfileKindToArray(e)}get hasFriends(){return!1===this.isInitializing&&(this.invites.length>0||this.onboardedContacts.length>0)}get showTitle(){return Ember.get(this,"onboardedContacts.length")>0||Ember.get(this,"invites.length")>0}get shouldDisplayNetworkList(){const{socialNetworks:e=[]}=this
return!(e&&e.every((e=>e.isAuthenticated)))}get onboardedContacts(){const{contacts:e,networkConnections:t}=this,i=Ember.A()
return i.pushObjects(e.toArray()),i.pushObjects(t.toArray()),i}connectNetwork(e){const t={oAuthUrl:Ember.get(e,"oauth_url"),redirectUrl:Ember.get(e,"redirectUrl")}
this.itunesSocial.showOAuthDialog(t).then((()=>{this.loadSocialNetworkContact()}))}},v=z(y.prototype,"itunesSocial",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(y.prototype,"itunesDialog",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(y.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(y.prototype,"modal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(y.prototype,"socialProfile",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(y.prototype,"loadData",[s],Object.getOwnPropertyDescriptor(y.prototype,"loadData"),y.prototype),z(y.prototype,"setSearchTerm",[u],Object.getOwnPropertyDescriptor(y.prototype,"setSearchTerm"),y.prototype),z(y.prototype,"contacts",[c],Object.getOwnPropertyDescriptor(y.prototype,"contacts"),y.prototype),z(y.prototype,"invites",[d],Object.getOwnPropertyDescriptor(y.prototype,"invites"),y.prototype),z(y.prototype,"hasFriends",[p],Object.getOwnPropertyDescriptor(y.prototype,"hasFriends"),y.prototype),z(y.prototype,"showTitle",[m],Object.getOwnPropertyDescriptor(y.prototype,"showTitle"),y.prototype),z(y.prototype,"shouldDisplayNetworkList",[b],Object.getOwnPropertyDescriptor(y.prototype,"shouldDisplayNetworkList"),y.prototype),P=z(y.prototype,"isModalLocationFromProfilePage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(y.prototype,"onboardedContacts",[h],Object.getOwnPropertyDescriptor(y.prototype,"onboardedContacts"),y.prototype),z(y.prototype,"connectNetwork",[g],Object.getOwnPropertyDescriptor(y.prototype,"connectNetwork"),y.prototype),y)
e.default=j})),define("desktop-music-app/controllers/social-onboarding/index",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(t=Ember.inject.service("itunes-social"),i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember.computed("pageData.welcomeScreen.viewType"),s=Ember._action,u=class extends Ember.Controller{constructor(...e){super(...e),f(this,"social",c,this),f(this,"i18n",d,this),f(this,"metrics",p,this),f(this,"modal",m,this),f(this,"socialProfile",b,this),h(this,"isLoading",!0),h(this,"pageData",null)}getABTestingData(){this.social.getWelcomeScreenData().then((e=>{Ember.set(this,"pageData",e)})).finally((()=>{Ember.set(this,"isLoading",!1)}))}get viewType(){const e=Ember.get(this,"pageData.welcomeScreen.viewType")||""
return Ember.String.dasherize(e)}goToSetupProfile(){this.modal.open("social-onboarding.setup-profile")}},c=g(u.prototype,"social",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"i18n",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"metrics",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"modal",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(u.prototype,"socialProfile",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"getABTestingData",[l],Object.getOwnPropertyDescriptor(u.prototype,"getABTestingData"),u.prototype),g(u.prototype,"viewType",[a],Object.getOwnPropertyDescriptor(u.prototype,"viewType"),u.prototype),g(u.prototype,"goToSetupProfile",[s],Object.getOwnPropertyDescriptor(u.prototype,"goToSetupProfile"),u.prototype),u)
e.default=y})),define("desktop-music-app/controllers/social-onboarding/notifications",["exports","desktop-music-app/config"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{LOCAL_STORAGE_KEYS:{notifications:h}}}=t.default
let g=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(...e){super(...e),m(this,"fastboot",u,this),m(this,"itunesSocial",c,this),m(this,"user",d,this),m(this,"socialProfile",p,this),b(this,"isLoading",!1),b(this,"notifications",null)}init(){if(super.init(...arguments),this.fastboot.isFastBoot)return
const e=this.user.isOnboarded,t=Ember.get(this,"userDSID")
localStorage.setItem(`${h}-${t}`,!0),e?this.setPushNotificationPref():(Ember.set(this,"enableFriendsNotifications",!0),Ember.set(this,"enableArtistsNotifications",!0))}setPushNotificationPref(){Ember.get(this,"itunesSocial").getPushNotifications().then((e=>{Ember.get(e,"response.pushNotificationSettings").forEach((e=>{const t=Ember.get(e,"isEnabled"),i=Ember.get(e,"name"),r={"notifications.music.account.friends":"enableFriendsNotifications","notifications.music.account.artistsAndShows":"enableArtistsNotifications"}
r[i]&&Ember.set(this,r[i],t)}))}))}select(e){Ember.set(this,e,!Ember.get(this,e))}setupNotifications(){Ember.set(this,"isLoading",!0),Ember.set(this,"errorMessage",null)
const e={pushNotificationSettings:[{name:"notifications.music.account.artistsAndShows",isEnabled:Ember.get(this,"enableArtistsNotifications")},{name:"notifications.music.account.friends",isEnabled:Ember.get(this,"enableFriendsNotifications")}]}
this.itunesSocial.setPushNotifications(e).then((()=>{Ember.set(this,"isLoading",!0)
const e=Ember.get(this,"model.location")
if(!Ember.isPresent(e)||"needsContent"!==e)return this.itunesSocial.onboardProfile().then((()=>{Ember.get(this,"target").send("closeModal")
const e=Ember.get(this,"user.profile.socialProfileId")
this.router.transitionTo("profile",e),Ember.set(this,"isLoading",!1)})).catch((e=>{if(e){const t=Ember.get(e,"serviceErrorMessage")
Ember.set(this,"errorMessage",t)}}))
this.target.send("closeModal")})).finally((()=>{Ember.set(this,"isLoading",!1),this.target.send("closeModal")}))}},u=f(s.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(s.prototype,"itunesSocial",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(s.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(s.prototype,"socialProfile",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(s.prototype,"select",[l],Object.getOwnPropertyDescriptor(s.prototype,"select"),s.prototype),f(s.prototype,"setupNotifications",[a],Object.getOwnPropertyDescriptor(s.prototype,"setupNotifications"),s.prototype),s)
e.default=g})),define("desktop-music-app/controllers/social-onboarding/setup-profile",["exports","desktop-music-app/config","desktop-music-app/utils/format-user-handle"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x
function D(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{APPLE_AMF_IDENTIFIER:I,SOCIAL:{profileImageCaptureSize:N}}}=t.default
let R=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service("itunes-router"),s=Ember.inject.service,u=Ember.inject.service,c=Ember.computed.alias("user.profile.profileImage"),d=Ember.computed.alias("user.profile.name"),p=Ember.computed.alias("user.profile.handle"),m=Ember.computed.or("isInvalidInput","isLoading"),b=Ember.computed("profileHandle"),f=Ember.computed("isInvalidHandle","profileName"),h=Ember._action,g=Ember._action,y=Ember._action,v=Ember._action,k=Ember._action,w=class extends Ember.Controller{constructor(...e){super(...e),D(this,"user",E,this),D(this,"itunesDialog",_,this),D(this,"i18n",P,this),D(this,"itunesSocial",O,this),D(this,"iTunesRouter",S,this),D(this,"modal",z,this),D(this,"socialProfile",j,this),L(this,"isLoading",!1),L(this,"errorMessage",null),L(this,"findFriendsParam",{location:"forYou",isOnboarding:!0}),D(this,"profileImage",T,this),D(this,"profileName",M,this),D(this,"profileHandle",C,this),D(this,"disableNextButton",x,this)}get profileArtwork(){return"string"==typeof this.profileImage?{url:this.profileImage}:this.profileImage}get isInvalidHandle(){return Ember.isBlank((0,i.default)(this.profileHandle))}get isInvalidInput(){return this.isInvalidHandle||Ember.isBlank(this.profileName)}editProfileImage(e){const t=e.target,i={maxHeight:N,maxWidth:N,mimeType:"image/jpeg",anchor:t}
this.itunesSocial.openImageSelector(i,(e=>{e&&Ember.set(this,"profileImage",e)}))}handleGDPRLink(){if(Ember.isPresent(window.iTunes.presentPrivacySplash))window.iTunes.presentPrivacySplash(I)
else{const e=this.i18n.t("FUSE.Social.GDPR.LinkNameUrl")
this.iTunesRouter.openExternalUrl(e)}}onHandleChange(e){Ember.set(this,"profileHandle",e.detail.handle)}setupProfile(){if(Ember.set(this,"errorMessage",null),Ember.set(this,"isLoading",!0),this.isInvalidHandle)return
const e=(0,i.default)(this.profileHandle),t={owner:{type:"user",id:Ember.get(this,"user.userDSID")},profileImage:this.profileImage,name:this.profileName,handle:e,options:{includeHandleSuggestion:!0}}
this.itunesSocial.updateSocialProfile(t).then((e=>{if(e){const e="social-onboarding.find-friends",t={location:"forYou",isOnboarding:!0}
this.modal.open(e,t)}})).finally((()=>{Ember.set(this,"isLoading",!1)}))}modalRendered(){this.isInvalidHandle&&this.itunesSocial.getSuggestedHandles("").then((e=>{const[t]=Ember.get(e,"suggestions")
this.isDestroyed||this.isDestroying||Ember.set(this,"profileHandle",t)}))}},E=A(w.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(w.prototype,"itunesDialog",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(w.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(w.prototype,"itunesSocial",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(w.prototype,"iTunesRouter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(w.prototype,"modal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(w.prototype,"socialProfile",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(w.prototype,"profileImage",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(w.prototype,"profileName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=A(w.prototype,"profileHandle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(w.prototype,"disableNextButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(w.prototype,"isInvalidHandle",[b],Object.getOwnPropertyDescriptor(w.prototype,"isInvalidHandle"),w.prototype),A(w.prototype,"isInvalidInput",[f],Object.getOwnPropertyDescriptor(w.prototype,"isInvalidInput"),w.prototype),A(w.prototype,"editProfileImage",[h],Object.getOwnPropertyDescriptor(w.prototype,"editProfileImage"),w.prototype),A(w.prototype,"handleGDPRLink",[g],Object.getOwnPropertyDescriptor(w.prototype,"handleGDPRLink"),w.prototype),A(w.prototype,"onHandleChange",[y],Object.getOwnPropertyDescriptor(w.prototype,"onHandleChange"),w.prototype),A(w.prototype,"setupProfile",[v],Object.getOwnPropertyDescriptor(w.prototype,"setupProfile"),w.prototype),A(w.prototype,"modalRendered",[k],Object.getOwnPropertyDescriptor(w.prototype,"modalRendered"),w.prototype),w)
e.default=R})),define("desktop-music-app/controllers/social-onboarding/sharing-configuration",["exports","desktop-music-app/mixins/user-cloud-library"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,s=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=class extends(Ember.Controller.extend(t.default)){constructor(...e){super(...e),y(this,"itunesSocial",m,this),y(this,"user",b,this),y(this,"itunesDialog",f,this),y(this,"modal",h,this),y(this,"socialProfile",g,this),v(this,"selectedOption","public"),v(this,"isLoading",!1),v(this,"enableContactsConsent",!0),v(this,"enableDiscoverableByContact",!0),v(this,"hasPlaylists",null)}init(){super.init(...arguments),this.store.findRecord("private-social-playlists","private-social-playlists").then((e=>{const t=e.get("ids"),i=t&&t.length
this.set("hasPlaylists",i)}))}onboardUserProfile(){Ember.set(this,"isLoading",!0),this.itunesSocial.onboardProfile().then((()=>{let e="social-onboarding.notifications"
this.hasPlaylists&&this.isCloudLibraryEnabled&&(e="social-onboarding.sharing-playlists"),this.modal.open(e,{location:"forYou",isOnboarding:!0})})).catch((e=>{if(e){const t=Ember.get(e,"serviceErrorMessage")
Ember.set(this,"errorMessage",t)}}))}handleOnboardingResponse(e,t){if(e)this.onboardUserProfile()
else{let e=""
const i=this.i18n.t("FUSE.Error.AnErrorOccurred"),r=Ember.get(t,"message")
e=r||i,this.itunesDialog.showDialog(e)}}paramForConsent(){return{isContactsCheckAllowed:this.enableContactsConsent,discoverabilityConsentVersion:1,isDiscoverableByContact:this.enableDiscoverableByContact}}setPublic(){this.set("selectedOption","public")}setPrivate(){this.set("selectedOption","private")}goToFindFriends(){this.modal.open("social-onboarding.find-friends",this.findFriendsParams)}setupSharing(){Ember.set(this,"isLoading",!0)
let e={owner:{type:"user",id:Ember.get(this,"user.userDSID")},isPrivate:"private"===this.selectedOption}
const t=this.paramForConsent()
e=Object.assign(t,e),this.itunesSocial.updateSocialProfile(e).then(((e,t)=>{this.handleOnboardingResponse(e,t)})).finally((()=>{Ember.set(this,"isLoading",!1)}))}toggleProperty(e){Ember.set(this,e,!this[e])}},m=k(p.prototype,"itunesSocial",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(p.prototype,"itunesDialog",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"modal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"socialProfile",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(p.prototype,"setPublic",[a],Object.getOwnPropertyDescriptor(p.prototype,"setPublic"),p.prototype),k(p.prototype,"setPrivate",[s],Object.getOwnPropertyDescriptor(p.prototype,"setPrivate"),p.prototype),k(p.prototype,"goToFindFriends",[u],Object.getOwnPropertyDescriptor(p.prototype,"goToFindFriends"),p.prototype),k(p.prototype,"setupSharing",[c],Object.getOwnPropertyDescriptor(p.prototype,"setupSharing"),p.prototype),k(p.prototype,"toggleProperty",[d],Object.getOwnPropertyDescriptor(p.prototype,"toggleProperty"),p.prototype),p)
e.default=w})),define("desktop-music-app/controllers/social-onboarding/sharing-playlists",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._action,a=Ember._action,s=Ember._action,u=class extends Ember.Controller{constructor(...e){super(...e),f(this,"itunesSocial",c,this),f(this,"modal",d,this),f(this,"store",p,this),f(this,"user",m,this),f(this,"socialProfile",b,this),h(this,"isLoading",!1),h(this,"isInitializing",!0),h(this,"playlistsReference",null),h(this,"playlists",null)}getPlaylists(){return this.user.isCloudLibraryEnabled?this.store.findRecord("private-social-playlists","private-social-playlists").then((e=>{const t=Ember.get(e,"ids")
if(!t.length)return Ember.RSVP.Promise.resolve([])
return e.hasMany("playlists").load({adapterOptions:{profile:"lockup",isPersonalized:!0}}).then(this.processLibraryPlaylists.bind(this,t))})):Ember.RSVP.Promise.resolve([])}processLibraryPlaylists(e,t){if(window.iTunes.findPlaylistsByUniversalLibraryIDs){const i=Object.create(null)
window.iTunes.findPlaylistsByUniversalLibraryIDs(e).forEach((e=>{i[e.universalLibraryID]={url:e.artworkURL}})),t.forEach((e=>{const t=i[e.get("id")]
t&&Ember.set(e,"artwork",t)}))}return t}modalRendered(){this.getPlaylists().then((e=>{Ember.set(this,"playlists",e),Ember.set(this,"isInitializing",!1)}))}savePlaylistsState(){Ember.set(this,"isLoading",!0)
const e=this.playlists.filter((e=>Ember.get(e,"isPublic"))).map((e=>Ember.get(e,"id"))),t={location:"forYou",isOnboarding:!0}
this.itunesSocial.setUserPlaylists(e).then((e=>{e&&this.modal.open("social-onboarding.notifications",t)})).finally((()=>{Ember.set(this,"isLoading",!1)}))}hideAllPlaylists(){this.playlists.forEach((e=>{Ember.set(e,"isPublic",!1)}))}},c=g(u.prototype,"itunesSocial",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"modal",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g(u.prototype,"socialProfile",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"modalRendered",[l],Object.getOwnPropertyDescriptor(u.prototype,"modalRendered"),u.prototype),g(u.prototype,"savePlaylistsState",[a],Object.getOwnPropertyDescriptor(u.prototype,"savePlaylistsState"),u.prototype),g(u.prototype,"hideAllPlaylists",[s],Object.getOwnPropertyDescriptor(u.prototype,"hideAllPlaylists"),u.prototype),u)
e.default=y})),define("desktop-music-app/controllers/terms",["exports","desktop-music-app/utils/fetch-json","desktop-music-app/utils/personalization","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E
function _(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let O=(n=Ember.inject.service,o=Ember.inject.service("itunes-bag"),l=Ember.inject.service("itunes-router"),a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.computed("model.isCurrent"),d=Ember.computed.not("termsAgreed"),p=Ember._action,m=Ember._action,b=Ember._action,f=class extends Ember.Controller{constructor(...e){super(...e),_(this,"ajax",h,this),_(this,"bag",g,this),_(this,"itunesRouter",y,this),_(this,"i18n",v,this),_(this,"router",k,this),_(this,"storefront",w,this),_(this,"hasNotAgreed",E,this)}get termsAgreed(){return!1}set termsAgreed(e){return e}goBack(){const e=Ember.get(this,"itunesRouter.historyImplementation")
if(e&&e.length>1)this.history.back()
else{const e=this.router.urlFor((0,i.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.router.replaceWith(e)}}agree(){const e=this.bag.getFromBag("terms-check")
if(!e)return void this.goBack()
const i={id:Ember.get(this,"user.userDSID"),accepted:Ember.get(this.modelFor("terms"),"latestTermsVersionId")},r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)}
return(0,t.default)(e,r).then((()=>this.user.updateSubscriptionStatus())).finally(this.goBack())}cancel(){this.goBack()}printableTermsLink(e){e.preventDefault()
const t=this.i18n.t("MZStore.termsOfServiceURL")
window.open(t,"_blank")}},h=P(f.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(f.prototype,"bag",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(f.prototype,"itunesRouter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(f.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P(f.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(f.prototype,"storefront",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(f.prototype,"termsAgreed",[c],Object.getOwnPropertyDescriptor(f.prototype,"termsAgreed"),f.prototype),E=P(f.prototype,"hasNotAgreed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(f.prototype,"agree",[p],Object.getOwnPropertyDescriptor(f.prototype,"agree"),f.prototype),P(f.prototype,"cancel",[m],Object.getOwnPropertyDescriptor(f.prototype,"cancel"),f.prototype),P(f.prototype,"printableTermsLink",[b],Object.getOwnPropertyDescriptor(f.prototype,"printableTermsLink"),f.prototype),f)
e.default=O})),define("desktop-music-app/countries",["exports","desktop-music-app/countries/africa","desktop-music-app/countries/asia","desktop-music-app/countries/europe","desktop-music-app/countries/lat-am","desktop-music-app/countries/us"],(function(e,t,i,r,n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_COUNTRIES=e.US_COUNTRIES=e.LATIN_AMERICA_CARIBBEAN_COUNTRIES=e.EUROPE_COUNTRIES=e.ASIA_PACIFIC_COUNTRIES=e.AFRICA_MIDDLE_EAST_INDIA_COUNTRIES=void 0
const l=t.default
e.AFRICA_MIDDLE_EAST_INDIA_COUNTRIES=l
const a=i.default
e.ASIA_PACIFIC_COUNTRIES=a
const s=r.default
e.EUROPE_COUNTRIES=s
const u=n.default
e.LATIN_AMERICA_CARIBBEAN_COUNTRIES=u
const c=o.default
e.US_COUNTRIES=c
const d={...l,...a,...s,...u,...c}
e.ALL_COUNTRIES=d})),define("desktop-music-app/countries/africa",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={dz:{name:"Algeria",value:"dz"},ao:{name:"Angola",value:"ao"},az:{name:"Azerbaijan",value:"az"},bh:{name:"Bahrain",value:"bh"},bj:{name:"Benin",value:"bj"},bw:{name:"Botswana",value:"bw"},cm:{name:"Cameroon",value:"cm"},cv:{name:"Cape Verde",value:"cv"},td:{name:"Chad",value:"td"},cd:{name:"Congo, Democratic Republic of The",value:"cd"},ci:{name:"Cote d'Ivoire",value:"ci"},eg:{name:"Egypt",value:"eg"},ga:{name:"Gabon",value:"ga"},gh:{name:"Ghana",value:"gh"},gm:{name:"Gambia",value:"gm"},gw:{name:"Guinea Bissau",value:"gw"},il:{name:"Israel",value:"il"},in:{name:"India",value:"in"},"in-hi":{name:"India (Hindi)",value:"in",language:"hi"},iq:{name:"Iraq",value:"iq"},jo:{name:"Jordan",value:"jo"},ke:{name:"Kenya",value:"ke"},kw:{name:"Kuwait",value:"kw"},lb:{name:"Lebanon",value:"lb"},lr:{name:"Liberia",value:"lr"},ly:{name:"Libya",value:"ly"},lk:{name:"Sri Lanka",value:"lk"},mg:{name:"Madagascar",value:"mg"},mw:{name:"Malawi",value:"mw"},ml:{name:"Mali",value:"ml"},mr:{name:"Mauritania",value:"mr"},mu:{name:"Mauritius",value:"mu"},ma:{name:"Morocco",value:"ma"},mz:{name:"Mozambique",value:"mz"},na:{name:"Namibia",value:"na"},ne:{name:"Niger",value:"ne"},ng:{name:"Nigeria",value:"ng"},om:{name:"Oman",value:"om"},qa:{name:"Qatar",value:"qa"},sa:{name:"Saudi Arabia",value:"sa"},cg:{name:"Republic of Congo",value:"cg"},rw:{name:"Rwanda",value:"rw"},sn:{name:"Senegal",value:"sn"},sc:{name:"Seychelles",value:"sc"},sl:{name:"Sierra Leone",value:"sl"},za:{name:"South Africa",value:"za"},sz:{name:"Swaziland",value:"sz"},tj:{name:"Tajikistan",value:"tj"},tz:{name:"Tanzania",value:"tz"},tn:{name:"Tunisia",value:"tn"},ug:{name:"Uganda",value:"ug"},ae:{name:"United Arab Emirates",value:"ae"},ye:{name:"Yemen",value:"ye"},zm:{name:"Zambia",value:"zm"},zw:{name:"Zimbabwe",value:"zw"}}})),define("desktop-music-app/countries/asia",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={au:{name:"Australia",value:"au"},bt:{name:"Bhutan",value:"bt"},cn:{name:"China",value:"cn"},fj:{name:"Fiji",value:"fj"},fm:{name:"Micronesian, Federated States of",value:"fm"},hk:{name:"Hong Kong",value:"hk"},id:{name:"Indonesia",value:"id"},jp:{name:"Japan",value:"jp"},kr:{name:"Korea",value:"kr"},"jp-en":{name:"Japan (English)",value:"jp",language:"en"},kh:{name:"Cambodia",value:"kh"},kz:{name:"Kazakhstan",value:"kz"},kg:{name:"Kyrgyzstan",value:"kg"},la:{name:"Laos",value:"la"},mn:{name:"Mongolia",value:"mn"},mo:{name:"Macau",value:"mo"},my:{name:"Malaysia",value:"my"},mv:{name:"Maldives",value:"mv"},mm:{name:"Myanmar",value:"mm"},np:{name:"Nepal",value:"np"},nz:{name:"New Zealand",value:"nz"},pg:{name:"Papua New Guinea",value:"pg"},ph:{name:"Philippines",value:"ph"},sg:{name:"Singapore",value:"sg"},sb:{name:"Solomon Islands",value:"sb"},th:{name:"Thailand",value:"th"},tw:{name:"Taiwan",value:"tw"},to:{name:"Tonga",value:"to"},tm:{name:"Turkmenistan",value:"tm"},uz:{name:"Uzbekistan",value:"uz"},vu:{name:"Vanuatu",value:"vu"},vn:{name:"Vietnam",value:"vn"}}})),define("desktop-music-app/countries/europe",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={at:{name:"Austria",value:"at"},am:{name:"Armenia",value:"am"},"be-nl":{name:"Belgium (Dutch)",value:"be",language:"nl"},"be-fr":{name:"Belgium (French)",value:"be",language:"fr"},be:{name:"Belgium (English)",value:"be"},bg:{name:"Bulgaria",value:"bg"},by:{name:"Belarus",value:"by"},ba:{name:"Bosnia and Herzegovina",value:"ba"},hr:{name:"Croatia",value:"hr"},cy:{name:"Cyprus",value:"cy"},cz:{name:"Czech Republic",value:"cz"},de:{name:"Germany",value:"de"},dk:{name:"Denmark",value:"dk"},ee:{name:"Estonia",value:"ee"},es:{name:"Spain",value:"es"},fi:{name:"Finland",value:"fi"},fr:{name:"France",value:"fr"},ge:{name:"Georgia",value:"ge"},gr:{name:"Greece",value:"gr"},hu:{name:"Hungary",value:"hu"},is:{name:"Iceland",value:"is"},ie:{name:"Ireland",value:"ie"},it:{name:"Italy",value:"it"},xk:{name:"Kosovo",value:"xk"},lt:{name:"Lithuania",value:"lt"},"lu-fr":{name:"Luxembourg (French)",value:"lu",language:"fr"},"lu-de":{name:"Luxembourg (German)",value:"lu",language:"de"},lu:{name:"Luxembourg (English)",value:"lu"},lv:{name:"Latvia",value:"lv"},md:{name:"Moldova",value:"md"},me:{name:"Montenegro",value:"me"},mt:{name:"Malta, Republic of",value:"mt"},nl:{name:"Netherlands",value:"nl"},no:{name:"Norway",value:"no"},mk:{name:"North Macedonia",value:"mk"},pl:{name:"Poland",value:"pl"},pt:{name:"Portugal",value:"pt"},ro:{name:"Romania",value:"ro"},ru:{name:"Russia",value:"ru"},rs:{name:"Serbia",value:"rs"},se:{name:"Sweden",value:"se"},si:{name:"Slovenia",value:"si"},sk:{name:"Slovakia",value:"sk"},ch:{name:"Switzerland (German)",value:"ch"},"ch-fr":{name:"Switzerland (French)",value:"ch",language:"fr"},"ch-it":{name:"Switzerland (Italian)",value:"ch",language:"it"},tr:{name:"Turkey",value:"tr"},ua:{name:"Ukraine",value:"ua"},gb:{name:"United Kingdom",value:"gb"}}})),define("desktop-music-app/countries/lat-am",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={ag:{name:"Antigua & Barbuda",value:"ag"},ai:{name:"Anguilla",value:"ai"},ar:{name:"Argentina",value:"ar"},bs:{name:"Bahamas",value:"bs"},bb:{name:"Barbados",value:"bb"},bm:{name:"Bermuda",value:"bm"},bo:{name:"Bolivia",value:"bo"},br:{name:"Brazil",value:"br"},bz:{name:"Belize",value:"bz"},cl:{name:"Chile",value:"cl"},co:{name:"Colombia",value:"co"},cr:{name:"Costa Rica",value:"cr"},dm:{name:"Dominica",value:"dm"},do:{name:"Dominican Republic",value:"do"},ec:{name:"Ecuador",value:"ec"},gd:{name:"Grenada",value:"gd"},gt:{name:"Guatemala",value:"gt"},gy:{name:"Guyana",value:"gy"},hn:{name:"Honduras",value:"hn"},jm:{name:"Jamaica",value:"jm"},kn:{name:"St. Kitts & Nevis",value:"kn"},ky:{name:"Cayman Islands",value:"ky"},mx:{name:"Mexico",value:"mx"},ms:{name:"Montserrat",value:"ms"},ni:{name:"Nicaragua",value:"ni"},pa:{name:"Panama",value:"pa"},pe:{name:"Peru",value:"pe"},py:{name:"Paraguay",value:"py"},lc:{name:"Saint Lucia",value:"lc"},vc:{name:"Saint Vincent and The Grenadines",value:"vc"},sv:{name:"El Salvador",value:"sv"},sr:{name:"Suriname",value:"sr"},tt:{name:"Trinidad & Tobago",value:"tt"},tc:{name:"Turks and Caicos",value:"tc"},uy:{name:"Uruguay",value:"uy"},ve:{name:"Venezuela",value:"ve"},vg:{name:"British Virgin Islands",value:"vg"}}})),define("desktop-music-app/countries/us",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={us:{name:"United States",value:"us"},"ca-en":{name:"Canada (English)",value:"ca",language:"en"},"ca-fr":{name:"Canada (French)",value:"ca",language:"fr"}}})),define("desktop-music-app/decorators/cached-setter",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,i){const r=i.get
return{...i,get(){const e=this[`_${t}`]
return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?e:r.call(this)},set(e){this[`_${t}`]=e}}}})),define("desktop-music-app/decorators/fastboot-guard",["exports"],(function(e){function t(e,t,i){const r=Object.getPrototypeOf(e.constructor).prototype||{},n=Object.getOwnPropertyDescriptor(r,t)
if(!n)return
const o=n.value||n.get||n.set
return o?o.apply(e,i):void 0}function i(e){return"function"==typeof e.value}function r(e){return"function"==typeof e.get}function n(e){return"function"==typeof e.set}function o(e,i,r,n){return function(){if("undefined"!=typeof FastBoot){let i
return r&&(i=t(this,e,arguments)),"function"==typeof n?i=n(i):void 0!==n&&(i=n),i}return i.apply(this,arguments)}}function l(){return 3===arguments.length&&("object"==typeof arguments[0]||"function"==typeof arguments[0])&&"string"==typeof arguments[1]&&"object"==typeof arguments[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e={}){const t="boolean"==typeof e.callSuper&&e.callSuper,a=e.defaultValue,s=function(e,l,s){const u={...s}
return i(u)?"init"===l||(u.value=o(l,u.value,t,a)):r(u)?u.get=o(l,u.get,t,a):n(u)&&(u.set=o(l,u.set,t,a)),u}
return l(...arguments)?s(...arguments):s}})),define("desktop-music-app/decorators/launch-client",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/launch-client","@amp/util"],(function(e,t,i,r,n){function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,n,a
return t=Ember.inject.service,a=o((n=class extends e{constructor(...e){super(...e),function(e,t,i,r){if(!i)return
Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"platform",a,this)}_onRouteDidChange(){super._onRouteDidChange(...arguments),this._checkLaunchNative()}_checkLaunchNative(){if(this.shouldLaunchNativeClient){const e=(0,r.getLaunchUrl)(window.location.href)
this.platform.launch(e,this.queryParamsForNativeClientURL,(()=>{})),l.set({name:"ls",expires:"Thu, 01 Jan 1970 00:00:00 GMT",namespace:document})}}get queryParamsForNativeClientURL(){let e={}
const t=this.requestedApp
return t&&(e={app:t}),e}get requestedApp(){return Ember.get(this,"router.currentRoute.queryParams.app")}get shouldLaunchNativeClient(){const{queryParams:e}=this.router.currentRoute,t=e.ls
return["1","true"].includes(t)}}).prototype,"platform",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(n.prototype,"_checkLaunchNative",[i.default],Object.getOwnPropertyDescriptor(n.prototype,"_checkLaunchNative"),n.prototype),n}
const{cookie:l}=n.default})),define("desktop-music-app/decorators/lockup-attributes",["exports","desktop-music-app/utils/is-various-artist","desktop-music-app/utils/is-playable","desktop-music-app/utils/format-lyric-snippet","desktop-music-app/utils/constants","desktop-music-app/utils/feature-flags","desktop-music-app/utils/media-type","desktop-music-app/helpers/get-year-from-date","desktop-music-app/services/musickit","desktop-music-app/decorators/cached-setter"],(function(e,t,i,r,n,o,l,a,s,u){function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function m(e){return"apple-curator"===e?"brand":"tvShow"===e?"showBrand":e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var o,b,f,h,g,y,v
return o=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,g=p((h=class extends e{constructor(...e){super(...e),c(this,"i18n",g,this),c(this,"user",y,this),c(this,"locale",v,this),d(this,"_artworkConfig",void 0),d(this,"_artworkConfigV2",void 0),d(this,"_linkable",void 0),d(this,"_line1",void 0),d(this,"_line2",void 0),d(this,"_line3",void 0)}get artworkProfileV2(){return this.artworkConfigV2}get artworkCrop(){var e
return null===(e=this.artworkConfig)||void 0===e?void 0:e.crop}get artworkHeight(){var e
return null===(e=this.artworkConfig)||void 0===e?void 0:e.height}get artworkWidth(){var e
return null===(e=this.artworkConfig)||void 0===e?void 0:e.width}get stationProviderName(){return this.args.lockup.stationProviderName}get lockupClasses(){const e=[this.args.config,this.brandType]
return this.args.lockup.isNotStreamable&&e.push("disabled"),this.linkable&&e.push("linkable"),e.join(" ").trim()}get lockupKind(){return(0,l.getKind)(this.args.lockup)||""}get shouldDisplayEntityContextMenu(){const e=(0,l.getKind)(this.args.lockup)
return["artist","brand","uploaded-video","label"].includes(e)}get brandType(){const{iTunesBrandType:e}=this.args.lockup
return e&&Ember.String.dasherize(e)}get line1(){var e
if(this._line1)return this._line1
if(this.args.line1)return this.args.line1
let t=this.args.lockup.name||(null===(e=this.args.lockup.editorialNotes)||void 0===e?void 0:e.name)
return"iTunesBrand"===(0,l.getKind)(this.args.lockup)&&(t=this.args.lockup.shortName),t}set line1(e){return this._line1=e}get line2(){if(this._line2)return this._line2
if(this.args.line2)return this.args.line2
let e
if(this.args.config&&(e=this._getLine2FromConfig(this.args.config)),!e){const t=function(e){if("movie"===e)return"title-year"
if("playlist"===e)return"curator-name"
if("showBrand"===e)return"episode-count"
if("socialProfile"===e)return"profile-handle"
if(["iTunesBrand","apple-curator"].includes(e))return"curator-desc"
if("editorialItem"===e)return"editorial-notes"
if("radioStation"===e)return"other-swoosh"
return null}((0,l.getKind)(this.args.lockup))
e=this._getLine2FromConfig(t)}return e||this.defaultDesc}get isAriaArtist(){return"playlist"===(0,l.getKind)(this.args.lockup)||this.line2===this.args.lockup.artistName}get ariaLabel(){const{line1:e,line2:t,line3:i,i18n:r,isAriaArtist:n}=this,o=[e,(n&&t?r.t("FUSE.SongsList.ByComposerName",{composerName:t}):null)||t,i].filter(Boolean),a=this.args.lockup.inLibrary?r.t("FUSE.Aria.Label.Library.Item"):"",s=(0,l.isExplicit)(this.args.lockup)?`${r.t("FUSE.Explicit")}: `:""
let u=""
if(1===o.length)u=o[0]
else if(o.length>1){const[e,t,i]=o
let r="AMWEB.ContentA.Comma.ContentB"
3===o.length&&(r="AMWEB.ContentA.Comma.ContentB.Comma.ContentC"),u=this.i18n.t(r,{contentA:e,contentB:t,contentC:i})}return`${s}${a}${u}`}get defaultDesc(){var e
const{lockup:t}=this.args
return t.artistName||t.curatorName||t.broadcastLocation||(null===(e=t.itunesNotes)||void 0===e?void 0:e.tagline)}get hasAdjacentLink(){var e
return this.isLine2Link&&(this.creatorUrl||(null===(e=this.creatorLinks)||void 0===e?void 0:e.length))}get creatorLinks(){var e
if(this.creatorUrl||!this.isLine2Link)return
const i=null===(e=this.args.lockup.artists)||void 0===e?void 0:e.filter((e=>e.name&&e.url))
if(null!=i&&i.length)return i
const{artistUrl:r,artistName:n}=this.args.lockup
if(r&&n){const[e]=r.match(/\d+$/)||[]
if(!(0,t.default)(e))return[{name:n,url:r}]}}get displayableKind(){const{i18n:e}=this,t=m((0,l.getKind)(this.args.lockup)),i=this.args.lockup.iTunesBrandType
return"socialProfile"===t?e.t("FUSE.Social.Profile"):"tvShow"===this.args.lockup.kind?e.t(`IXDisplayableKind.${t}.Linear.one`):i?e.t(`IXDisplayableKind.${t}.${i}.one`):e.t(`IXDisplayableKind.${t}.one`)}get line3(){var e
if(this._line3)return this._line3
if(this.args.line3)return this.args.line3
let t
const{i18n:i}=this,{lockup:n}=this.args,o=m((0,l.getKind)(n))
switch(this.args.config){case"top-result":{var a,s,u
t=this.displayableKind
const e=n.lyricSnippet||(null===(a=n._meta)||void 0===a||null===(s=a.snippets)||void 0===s||null===(u=s[0])||void 0===u?void 0:u.text)
e&&"song"===o&&(t=i.t("FUSE.DT.Search.LyricsColon.Raw",{lyricSnippet:(0,r.default)(e,18)}))
break}case"description":t=n.artistName
break
case"itunes-notes":t=null===(e=n.itunesNotes)||void 0===e?void 0:e.short
break
case"search-swoosh":{var c,d,p
const e=n.lyricSnippet||(null===(c=n._meta)||void 0===c||null===(d=c.snippets)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.text)
e&&"song"===o?t=i.t("FUSE.DT.Search.LyricsColon.Raw",{lyricSnippet:(0,r.default)(e,100)}):"radioStation"===o&&!this.line2IsStationProviderName&&this.stationProviderName&&(t=i.t("FUSE.Radio.From.Provider",{provider:this.stationProviderName}))
break}}return t}set line3(e){return this._line3=e}get linkable(){if("boolean"==typeof this._linkable)return this._linkable
if("boolean"==typeof this.args.linkable)return this.args.linkable
if(this.args.lockup){if(this.isEditing)return!1
if(["library-albums","library-playlists","library-artists"].includes(this.args.lockup.type))return!0
return!(!this.lockupUrl&&!this.args.lockup.socialProfileUrl)||!!this.args.lockup.cloudItem}return!1}set linkable(e){return this._linkable=e}get isLine2Link(){const{lockup:e}=this.args,i=(0,l.getKind)(e)
return("iTunesBrand"!==i||"apple-music"!==this.brandType)&&("playlist"===i?e.isSharedPlaylist?!!e.username:!(!e.cloudItem||e.curatorName)||this.line2===e.curatorName&&!!e.curatorUrl:this.line2===e.artistName&&!(0,t.default)(e.artistId))}get prependHandle(){return`@${this.args.lockup.handle}`}get isRadioStation(){return"radioStation"===(0,l.getKind)(this.args.lockup)}get isUploadedContent(){return(0,l.isUploaded)(this.args.lockup)}get playable(){const e=(0,l.getKind)(this.args.lockup)
return("radioStation"!==e||!(0,s.isAOD)(this.args.lockup))&&(0,i.default)(e)}get artwork(){var e,t,i,r,n,o,a,s
const{lockup:u}=this.args
if(u.cloudItem)return{url:u.artworkURL,isCloudArtwork:!0}
let c
switch((0,l.getKind)(u)){case"socialProfile":c=u.avatarImage||u.avatarArtwork||u.artwork
break
case"tvEpisode":c=u.screenshots||(null===(e=u.previews)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.artwork)
break
case"movie":c=(null===(i=u.editorialArtwork)||void 0===i?void 0:i.subscriptionCover)||(null===(r=u.movieClips)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.previewArtwork)||u.artwork
break
case"editorialItem":c=(null===(o=u.editorialArtwork)||void 0===o?void 0:o.brandLogo)||(null===(a=u.artwork)||void 0===a?void 0:a.brandLogo)||u.artwork
break
default:c=Ember.get(u,(null===(s=this.artworkProfileV2)||void 0===s?void 0:s.artworkPath)||"artwork")||u.artworkURL||u.artwork}return c}get artworkConfig(){if(this._artworkConfig)return this._artworkConfig
const e=(0,l.getKind)(this.args.lockup)||"default"
return this.artworkPresetObject[e]||this.artworkPresetObject.default}set artworkConfig(e){return this._artworkConfig=e}get artworkConfigV2(){if(this._artworkConfigV2)return this._artworkConfigV2
const e=(0,l.getKind)(this.args.lockup)||"default"
return this.artworkPresetObjectV2[e]||this.artworkPresetObjectV2.default}set artworkConfigV2(e){return this._artworkConfigV2=e}get lockupUrl(){var e
const{lockup:t}=this.args,i=(null===(e=t.catalog)||void 0===e?void 0:e.length)&&t.catalog[0]
return i?i.url:this.isUploadedContent?t.postUrl:t.url}_getLine2FromConfig(e){var t,i,r,o,s,u,c,d,p
const{lockup:m}=this.args
let b=null
switch(e){case"artist-name":b=m.artistName
break
case"other-versions":{const e=m.trackCount
e&&(b=this.i18n.t("FUSE.NoOfSongs",{count:this.locale.localizeNumber(e)}))
break}case"title-year":{const e=m.releaseYear,t=m.releaseDate
b=e||(0,a.getYearFromDate)(t,this.i18n)
break}case"radio-station-standard-notes":b=(null===(t=m.itunesNotes)||void 0===t?void 0:t.tagline)||(null===(i=m.itunesNotes)||void 0===i?void 0:i.short)||(null===(r=m.itunesNotes)||void 0===r?void 0:r.standard)
break
case"audio-extras":b=(null===(o=m.itunesNotes)||void 0===o?void 0:o.standard)||m.uploadingBrandShortName||m.uploadingBrandName||m.artistName
break
case"song-album":b=m.collectionName
break
case"title-description":b=(null===(s=m.description)||void 0===s?void 0:s.short)||(null===(u=m.description)||void 0===u?void 0:u.standard)
break
case"flat-playlist":b=(null===(c=m.itunesNotes)||void 0===c?void 0:c.short)||(null===(d=m.itunesNotes)||void 0===d?void 0:d.standard)
break
case"playlist-desc":b="musicVideo"===(0,l.getKind)(m)?this.defaultDesc:null===(p=m.itunesNotes)||void 0===p?void 0:p.short
break
case"uploading-brand-name":b=m.uploadingBrandShortName||m.uploadingBrandName||m.artistName
break
case"library-albums":{var f
const e=m.releaseDate||(null===(f=m.model)||void 0===f?void 0:f.releaseDate)
b=(0,a.getYearFromDate)(e,this.i18n)
break}case"curator-name":var h
if(m.cloudItem)b=m.curatorName||(null===(h=this.user.profile)||void 0===h?void 0:h.name)
else b=m.curatorName||n.DEFAULT_PLAYLIST_PROVIDER
break
case"episode-count":{const e=m.episodeCount
e&&(b=this.i18n.t("FUSE.OC.NumberOfEpisodes",{count:this.locale.localizeNumber(e)}))
break}case"profile-handle":{const e=document.querySelector("body")
b=e.classList.contains("search")||e.classList.contains("profile-index")?this.stringForDisplay||this.prependHandle:this.stringForDisplay||m.commaSeparatedGenres||this.prependHandle
break}case"curator-desc":var g,y,v
b=(null===(g=m.itunesNotes)||void 0===g?void 0:g.tagline)||(null===(y=m.itunesNotes)||void 0===y?void 0:y.short)||(null===(v=m.itunesNotes)||void 0===v?void 0:v.standard)
break
case"editorial-notes":var k,w,E
b=(null===(k=m.editorialNotes)||void 0===k?void 0:k.tagline)||(null===(w=m.editorialNotes)||void 0===w?void 0:w.short)||(null===(E=m.editorialNotes)||void 0===E?void 0:E.standard)
break
case"other-swoosh":{var _,P
const e=(null===(_=m.editorialNotes)||void 0===_?void 0:_.short)||(null===(P=m.editorialNotes)||void 0===P?void 0:P.tagline)
let t
this.stationProviderName&&(t=this.i18n.t("FUSE.Radio.From.Provider",{provider:this.stationProviderName})),t?(b=t,this.line2IsStationProviderName=!0):b=e
break}case"search-swoosh":{let e
var O,S
if("playlist"===(0,l.getKind)(m))e=m.curatorName
else e=(null===(O=m.editorialNotes)||void 0===O?void 0:O.short)||(null===(S=m.editorialNotes)||void 0===S?void 0:S.tagline)
let t
this.stationProviderName&&(t=this.i18n.t("FUSE.Radio.From.Provider",{provider:this.stationProviderName})),e?b=e:t&&(b=t,this.line2IsStationProviderName=!0)
break}}return b}}).prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=p(h.prototype,"user",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=p(h.prototype,"locale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(h.prototype,"line2",[u.default],Object.getOwnPropertyDescriptor(h.prototype,"line2"),h.prototype),h},e.normalizeIXKind=m})),define("desktop-music-app/decorators/lockup-click",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/route","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/url-parser","desktop-music-app/utils/logger"],(function(e,t,i,r,n,o){function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S
return t=Ember.inject.service("itunes-cloud"),s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service("search"),h=Ember._action,y=a((g=class extends e{constructor(...e){super(...e),l(this,"cloud",y,this),l(this,"playback",v,this),l(this,"searchHistory",k,this),l(this,"router",w,this),l(this,"storefront",E,this),l(this,"accessibility",_,this),l(this,"recoDataPlayContent",P,this),l(this,"metrics",O,this),l(this,"searchService",S,this)}get dataMetricsClick(){const e=Ember.get(this,"args.lockup.kind")||"",t=Ember.get(this,"args.lockup.id"),i=(0,r.default)(["linkToShelfItem"],{id:t,location:this.location})
if(i)return JSON.parse(i);(0,o.warn)(`Unable to determine metrics for lockup ${t}:${e} with metrics config linkToShelfItem`,{id:"click-metrics-lockup"})}click(e,{recordMetrics:t=!0}={}){var r
if(function(e){let t=e
do{if("A"===t.tagName)return t}while(t=t.parentElement,t)
return!1}(e.target)||!this.linkable)return
t&&this.metrics.recordClick(e,e.target,this.dataMetricsClick)
const o=this.args.lockup,{id:l,type:a}=o,s=/^library-/.test(a)||this.linkable
if((this.trackSearchHistory||null!==(r=this.args)&&void 0!==r&&r.trackSearchHistory)&&s&&this.searchHistory.storeRecentlyViewed(o),this.recommendationData&&this.recoDataPlayContent.captureRecoData(l,this.recommendationData),this.accessibility.focusOnPageContainer(),"library-albums"===a)return this.router.transitionTo("library.albums.album",l),!1
if("library-playlists"===a)return"library.made-for-you.index"===this.router.currentRouteName?this.router.transitionTo("library.made-for-you.playlist",l):this.router.transitionTo("library.playlist",l),!1
if("library-artists"===a)return this.router.transitionTo("library.artists.index.artist",l),!1
if(Ember.get(o,"cloudItem"))return void this.cloud.revealCloudLibraryItem(o)
let{lockupUrl:u}=this
const c=u,d=Ember.get(this,"storefront.resolvedStorefront"),{protocol:p,host:m,pathname:b,search:f}=(0,n.default)(c),h=new RegExp(`^/[a-z]{${d.length}}/`)
if(b){u=`${p}//${m}${b.replace(h,`/${d}/`)}${f}`}if(!u)return
const{_routerMicrolib:g}=this.router._router,y=(0,i.normalizeURL)(u,g,this.storefront.resolvedStorefront);(0,i.transitionToRoute)(this.router,y)}}).prototype,"cloud",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=a(g.prototype,"playback",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=a(g.prototype,"searchHistory",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=a(g.prototype,"router",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=a(g.prototype,"storefront",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=a(g.prototype,"accessibility",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=a(g.prototype,"recoDataPlayContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=a(g.prototype,"metrics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=a(g.prototype,"searchService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(g.prototype,"click",[h],Object.getOwnPropertyDescriptor(g.prototype,"click"),g.prototype),g}})),define("desktop-music-app/decorators/lockup-context-menu",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/social-profile","desktop-music-app/utils/media-type"],(function(e,t,i,r){function n(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,l,a,s,u,c,d,p,m,b
return t=Ember.inject.service("itunes-menus"),l=Ember.inject.service("itunes-menu-item-interaction"),a=Ember.inject.service("itunes-social"),s=Ember.inject.service(),u=Ember._action,d=o((c=class extends e{constructor(...e){super(...e),n(this,"menus",d,this),n(this,"menuInteraction",p,this),n(this,"social",m,this),n(this,"user",b,this)}contextMenu(e){e.stopPropagation()}async triggerActionMenuForSocialProfile(e,t,n){const o=await this.social.getFollowStates([t.id])
if("success"!==Ember.get(o,"status"))return
const l={id:Ember.get(n,"id"),type:(0,r.getType)(n),kind:(0,r.getKind)(n)},a=Ember.get(this,"user.profile.isPrivate"),s=Ember.get(o,"followStates").findBy("id",t.id),u=Ember.get(s,"followState")
Ember.set(t,"followState",u),(0,i.assignFollowStateProperties)(l,u,a),this.triggerItunesContextMenu(e,l)}triggerItunesContextMenu(e,t){document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="lockup-target-node" style="display:block; opacity:0; position:absolute; width:20px; min-height:20px;"></div>')
const{pageX:i,pageY:r}=e,n=document.querySelector(".lockup-target-node")
n.style.left=`${i}px`,n.style.top=`${r}px`,this.menus.showActionMenu(n,t),this.menuInteraction.setSelectedItemJSON(t),n.remove()}onContextMenu(){this.contextMenu(...arguments)}}).prototype,"menus",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=o(c.prototype,"menuInteraction",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o(c.prototype,"social",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=o(c.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(c.prototype,"onContextMenu",[u],Object.getOwnPropertyDescriptor(c.prototype,"onContextMenu"),c.prototype),c}})),define("desktop-music-app/decorators/memoize-combined-list",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.memoizeCombinedList=function(e,i){return function(r,n,o){const l=o.get
return{...o,get(){var r,n,o,a
const s=this[t]||[],u=this[e]||[],c=this[i]||[]
if(s.length>0&&(null===(r=s[0])||void 0===r?void 0:r.id)===(null===(n=u[0])||void 0===n?void 0:n.id)&&(null===(o=s.slice(-1)[0])||void 0===o?void 0:o.id)===(null===(a=c.slice(-1)[0])||void 0===a?void 0:a.id))return s
const d=l.call(this)
return this[t]=d,d}}}}
const t=Symbol()})),define("desktop-music-app/decorators/playback-states",["exports","desktop-music-app/utils/media-type","ember-lifeline","desktop-music-app/config/environment"],(function(e,t,i,r){function n(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var l,a,s,u,c,d
return l=Ember.inject.service,a=Ember._tracked,s=Ember._action,c=o((u=class extends e{constructor(...e){super(...e),n(this,"playback",c,this),n(this,"_showLoadingSpinner",d,this)}get isCurrentTrack(){const e=this.args.lockup||this.args.song
if(!e)return
if("song"!==(0,t.getKind)(e))return
const{playParams:i,id:r}=e,{currentTrackId:n}=this.playback
return null!=i&&i.isLibrary?i.id===n||i.catalogId===n||i.purchaseId===n:r.replace("ra.")===n}get isPlaying(){return!!this.playback.isPlaying&&this.isCurrentTrack}get isPaused(){return!!this.playback.isPaused&&this.isCurrentTrack}get isLoading(){return this._showLoadingSpinner&&this.playback.isLoading&&this.isCurrentTrack}maybeLoadingSpinner(){this._showLoadingSpinner=!1,(0,i.runTask)(this,(()=>{this._showLoadingSpinner=!0}),r.default.APP.PLAY_SPINNER_DELAY)}}).prototype,"playback",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=o(u.prototype,"_showLoadingSpinner",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o(u.prototype,"maybeLoadingSpinner",[s],Object.getOwnPropertyDescriptor(u.prototype,"maybeLoadingSpinner"),u.prototype),u}})),define("desktop-music-app/decorators/route-metrics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return Object.defineProperty(e.prototype,"getMetricsData",{configurable:!0,value(){const e=Ember.getOwner(this).lookup("service:route-history"),t=Ember.getOwner(this).lookup("service:search"),i={pageId:this.pageId,pageType:this.pageType,pageContext:e.pageContext||"Browse",page:this.page,pageDetails:this.pageDetails,data:this.data,searchTerm:t.term}
return Object.keys(i).map((e=>{void 0===i[e]&&delete i[e]})),i}}),e}})),define("desktop-music-app/decorators/runloop",["exports","@ember/test-waiters"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.floatingPromise=function(e,i,r){const n=r.value
r.value=function(...e){const i=new Ember.RSVP.Promise(((t,i)=>{n.call(this,...e).then(t).catch(i)}))
return(0,t.waitForPromise)(i),i}}})),define("desktop-music-app/decorators/throttle",["exports","desktop-music-app/decorators/utils"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(...e){return(0,t.decorate)(i,e)}
function i(e,i,r,[n=400]){const o=r.value
if("function"!=typeof o)throw new SyntaxError("Only functions can be throttled")
return{...r,value(){const e=(0,t.metaFor)(this),{throttleTimeoutIds:r,throttlePreviousTimestamps:l}=e,a=r[i],s=l[i]||0,u=Date.now()
n-(u-s)<=0?(clearTimeout(a),delete r[i],l[i]=u,o.apply(this,arguments)):l[i]=u}}}})),define("desktop-music-app/decorators/tracking",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.trackedGetter=function(e,t,i){const r={...i},n=`__DIRTY_KEY_${t}__`
r.get&&(r.get=function(){return Ember.get(this,n),i.get.apply(this,arguments)})
return r},e.trackedSetter=function(e,t,i){const r={...i},n=`__DIRTY_KEY_${t}__`
r.set&&(r.set=function(){i.set.apply(this,arguments),Ember.notifyPropertyChange(this,n)})
return r}})),define("desktop-music-app/decorators/utils",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.metaFor=function(e){!1===e.hasOwnProperty(t)&&Object.defineProperty(e,t,{value:{throttlePreviousTimestamps:{},throttleTimeoutIds:{}}})
return e[t]},e.decorate=function(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1
const t=["value","initializer","get","set"]
for(const i of t)if(e.hasOwnProperty(i))return!0
return!1}(t[t.length-1])?e(...t,[]):function(){return e(...Array.prototype.slice.call(arguments),t)}},e.isDecorating=function(){return 3===arguments.length&&("object"==typeof arguments[0]||"function"==typeof arguments[0])&&"string"==typeof arguments[1]&&"object"==typeof arguments[2]}
const t="function"==typeof Symbol?Symbol("__DMA_decorators__"):"__DMA_decorators__"})),define("desktop-music-app/ext/link-to",[],(function(){Ember.LinkComponent.reopen({attributeBindings:["role"]})})),define("desktop-music-app/helpers/-element",["exports","ember-element-helper/helpers/-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/and",["exports","ember-truth-helpers/helpers/and"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return t.and}})})),define("desktop-music-app/helpers/app-version",["exports","desktop-music-app/config/environment","ember-cli-app-version/utils/regexp"],(function(e,t,i){function r(e,r={}){const n=t.default.APP.version
let o=r.versionOnly||r.hideSha,l=r.shaOnly||r.hideVersion,a=null
return o&&(r.showExtended&&(a=n.match(i.versionExtendedRegExp)),a||(a=n.match(i.versionRegExp))),l&&(a=n.match(i.shaRegExp)),a?a[0]:n}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=r,e.default=void 0
var n=Ember.Helper.helper(r)
e.default=n}))
define("desktop-music-app/helpers/artist-shelf-grid",["exports","desktop-music-app/utils/constants"],(function(e,t){function i([e]){return e&&t.ARTIST_SHELVES_GRID_MAP[e]?t.ARTIST_SHELVES_GRID_MAP[e]:"G"}Object.defineProperty(e,"__esModule",{value:!0}),e.artistShelfGrid=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("desktop-music-app/helpers/assign",["exports","ember-assign-helper/helpers/assign"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"assign",{enumerable:!0,get:function(){return t.assign}})})),define("desktop-music-app/helpers/await",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(t=Ember._tracked,i=Ember._tracked,r=Ember._tracked,o=m((n=class{constructor(e){d(this,"_state",o,this),d(this,"_value",l,this),d(this,"_error",a,this),e&&(this._value=[])}get state(){return this._state}get value(){return this._value}get error(){return this._error}get isLoading(){return"LOADING"===this.state}get isLoaded(){return"LOADED"===this.state}get isError(){return"ERROR"===this.state}resolveWith(e){this._state="LOADED",this._value=e}rejectWith(e){this._state="ERROR",this._error=e}}).prototype,"_state",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"LOADING"}}),l=m(n.prototype,"_value",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=m(n.prototype,"_error",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
class f{constructor(e){p(this,"state","LOADED"),p(this,"isLoading",!1),p(this,"isLoaded",!0),p(this,"isError",!1),this._value=e}get value(){return this._value}}const h=new WeakMap
let g=(s=Ember.inject.service,u=class extends Ember.Helper{constructor(...e){super(...e),d(this,"router",c,this)}compute([e],{list:t=!1}){const i=h.get(e)
if(i)return i
if(!e||"function"!=typeof e.then)return new f(e)
const r=new b(t,this.router)
return h.set(e,r),e.then((e=>r.resolveWith(e)),(e=>{r.rejectWith(e),this.isDestroyed||this.isDestroying||this.router._router.outstandingTransitions.length||this.router.transitionTo("error")})),r}},c=m(u.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g})),define("desktop-music-app/helpers/blurred-background-image",["exports","desktop-music-app/helpers/blurred-background-src","desktop-music-app/utils/trusted-css"],(function(e,t,i){function r([e],r){const n=(0,t.blurredBackgroundSrc)([e],r)
if(n)return(0,i.trustedCss)(`--background-image: url(${n})`)}Object.defineProperty(e,"__esModule",{value:!0}),e.blurredBackgroundImage=r,e.default=void 0
var n=Ember.Helper.helper(r)
e.default=n})),define("desktop-music-app/helpers/blurred-background-src",["exports","desktop-music-app/helpers/image-url"],(function(e,t){function i([e],i={}){const r={...i}
if(i.width||i.height||(r.width=44,r.height=44),e)return(0,t.imageUrl)([e],{format:"jpg",quality:60,cropCode:"br",...r})}Object.defineProperty(e,"__esModule",{value:!0}),e.blurredBackgroundSrc=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("desktop-music-app/helpers/bull-separator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function(e){return e.filter(Boolean).join(" · ")}))
e.default=t})),define("desktop-music-app/helpers/call",["exports"],(function(e){function t([e,t]){if(e)return t?e.apply(t):e()}Object.defineProperty(e,"__esModule",{value:!0}),e.call=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/chunk",["exports"],(function(e){function t(e,{items:t=[],chunkLength:i=2}){return t.reduce(((e,r,n)=>(n%i==0&&e.push(t.slice(n,n+i)),e)),[])}Object.defineProperty(e,"__esModule",{value:!0}),e.chunk=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/contains",["exports","ember-composable-helpers/helpers/contains"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"contains",{enumerable:!0,get:function(){return t.contains}})})),define("desktop-music-app/helpers/deprecate-block-syntax",["exports","@amp/ember-ui-media-artwork/helpers/deprecate-block-syntax"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"deprecateBlockSyntax",{enumerable:!0,get:function(){return t.deprecateBlockSyntax}})})),define("desktop-music-app/helpers/direction-marker",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.directionMarker=d,e.default=e.RTL_MARK=e.LTR_MARK=void 0
e.LTR_MARK="‎"
e.RTL_MARK="‏"
let n=(t=Ember.inject.service("-document"),i=class extends Ember.Helper{constructor(...e){var t,i,n,o
super(...e),t=this,i="document",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}compute(){return d(this.document)}},o=i.prototype,l="document",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
function d(e){return"ltr"===(e.documentElement.dir||"ltr")?"‎":"‏"}e.default=n})),define("desktop-music-app/helpers/divide-by",["exports"],(function(e){function t([e,t]){return e/t}Object.defineProperty(e,"__esModule",{value:!0}),e.divideBy=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/duration-summary",["exports"],(function(e){var t,i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.deriveDuration=c,e.default=void 0
let u=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.computed("i18n.locale"),n=class extends Ember.Helper{constructor(...e){super(...e),a(this,"i18n",o,this),a(this,"locale",l,this)}compute([e],t){return c(e,this.locale,this.i18n)}get retranslate(){this.recompute()}},o=s(n.prototype,"i18n",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"locale",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(n.prototype,"retranslate",[r],Object.getOwnPropertyDescriptor(n.prototype,"retranslate"),n.prototype),n)
function c(e,t,i){if(0===e)return
let r=e
e<60&&(r=60)
const n=r/3600
let o=Math.floor(n)
const l=r%3600
let a=Math.round(l/60)
60===a&&(o+=1,a=0)
const s=i.t("FUSE.Hours",{count:o.toLocaleString(t.locale)}),u=i.t("FUSE.Minutes",{count:a.toLocaleString(t.locale)})
let c
return c=o>0&&a>0?i.t("FUSE.TotalTime.Format",{countHour:s,countMin:u}):o>0?s:u,c}e.default=u})),define("desktop-music-app/helpers/ember-power-select-is-group",["exports","ember-power-select/helpers/ember-power-select-is-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsGroup",{enumerable:!0,get:function(){return t.emberPowerSelectIsGroup}})})),define("desktop-music-app/helpers/ember-power-select-is-selected",["exports","ember-power-select/helpers/ember-power-select-is-selected"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsSelected",{enumerable:!0,get:function(){return t.emberPowerSelectIsSelected}})})),define("desktop-music-app/helpers/eq",["exports","ember-truth-helpers/helpers/equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"equal",{enumerable:!0,get:function(){return t.equal}})})),define("desktop-music-app/helpers/fallback-artwork",["exports","desktop-music-app/utils/media-type","desktop-music-app/config/artwork-fallbacks","desktop-music-app/utils/generate-monogram"],(function(e,t,i,r){function n(e){switch("string"==typeof e?e:e&&(0,t.getKind)(e)){case"artist":case"brand":return i.default["missing-artist"]
case"playlist":return i.default["missing-playlist"]
case"song":return i.default["missing-song"]
case"socialProfile":return o(e)||i.default["missing-avatar"]
default:return i.default.default}}function o(e){if(e&&Ember.get(e,"name"))return(0,r.default)(Ember.get(e,"name"))}Object.defineProperty(e,"__esModule",{value:!0}),e.generateFallbackArtwork=n,e.generateFallbackUserArtwork=o,e.default=void 0
var l=Ember.Helper.helper((([e])=>n(e)))
e.default=l})),define("desktop-music-app/helpers/fetch-collage",["exports"],(function(e){var t,i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,p(e,t,"get"))}function d(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,p(e,t,"set"),i),i}function p(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=new WeakMap
let f=(l=Ember.inject.service,a=class extends Ember.Helper{constructor(...e){super(...e),u(this,"musickitData",s,this)}compute([e]){if(b.has(e))return b.get(e)
const t=new h(e,this.musickitData)
return b.set(e,t),t.getArtwork(),t}},s=m(a.prototype,"musickitData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=f
let h=(t=Ember._tracked,n=new WeakMap,o=new WeakMap,r=m((i=class{constructor(e,t){u(this,"value",r,this),n.set(this,{writable:!0,value:void 0}),o.set(this,{writable:!0,value:void 0}),d(this,n,e),d(this,o,t)}async getArtwork(){if(this.value)return
const e=c(this,n)
let t
if(e.artworkTracks?t=Object.entries(e.artworkTracks).map((([,e])=>e.artwork)):e.tracks&&(t=e.tracks.map((e=>e.artwork))),!t){const i=await c(this,o).getLibraryPlaylistTracks(e.id,{"fields[library-songs]":"id,artwork"})
t=i.map((e=>e.artwork))}window.requestAnimationFrame((()=>{this.value=t.reduce(((e,t)=>(e.some((e=>e.url===t.url))||e.push(t),e)),[]).slice(0,4)}))}}).prototype,"value",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i)})),define("desktop-music-app/helpers/filter",["exports","ember-composable-helpers/helpers/filter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/get-kind",["exports","desktop-music-app/utils/media-type"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e]){return(0,t.getKind)(e)}))
e.default=i})),define("desktop-music-app/helpers/get-list-delimiters",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=["ar"],u="TEXT"
let c=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Helper{constructor(...e){super(...e),l(this,"i18n",n,this),l(this,"locale",o,this)}compute([e]){return s.includes(this.locale.languageCode)&&/[a-zA-Z0-9]/.test(e[0])?d(e.length,"en",", "):d(e.length,this.i18n.locale,this.i18n.t("FUSE.Common.ListDelimiter"))}},n=a(r.prototype,"i18n",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"locale",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
function d(e,t,i){var r,n
if(null===(r=Intl)||void 0===r||!r.ListFormat||"function"!=typeof(null===(n=Intl)||void 0===n?void 0:n.ListFormat))return new Array(e-1).fill(i)
const o=new Array(e).fill(u)
return new Intl.ListFormat(t,{style:"short"}).format(o).split(u).slice(1,-1)}e.default=c})),define("desktop-music-app/helpers/get-localized-text",["exports","@amp/ember-ui-locale-switcher/helpers/get-localized-text"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"getLocalizedText",{enumerable:!0,get:function(){return t.getLocalizedText}})})),define("desktop-music-app/helpers/get-year-from-date",["exports","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i){function r(e,r){const n=new t.default(e)
return n.setPrecision(t.RESOLUTION.YEAR),(0,t.format)(n,r,i.RELEASE_DATE_FORMAT)}Object.defineProperty(e,"__esModule",{value:!0}),e.getYearFromDate=r,e.default=void 0
var n=Ember.Helper.helper(r)
e.default=n})),define("desktop-music-app/helpers/gt",["exports","ember-truth-helpers/helpers/gt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gt",{enumerable:!0,get:function(){return t.gt}})})),define("desktop-music-app/helpers/gte",["exports","ember-truth-helpers/helpers/gte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gte",{enumerable:!0,get:function(){return t.gte}})})),define("desktop-music-app/helpers/human-duration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatDuration=n,e.default=void 0
const t={hour:"FUSE.Hours",minute:"FUSE.Minutes",second:"FUSE.Seconds"},i={hour:3600,minute:60,second:1}
var r=Ember.Helper.helper((([e],{i18n:t})=>n(e,t)))
function n(e,r){const n=[]
if(0===e)return r.t(t.second,{count:"0"})
let o=e
for(const l in i)if(o>=i[l]){const e=Math.floor(o/i[l])
n.push(r.t(t[l],{count:e})),o%=i[l]}return n.length>1?n.join(", ").replace(/,([^,]*)$/," and$1"):n[0]}e.default=r})),define("desktop-music-app/helpers/ignore-children",["exports","ember-ignore-children-helper/helpers/ignore-children"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"ignoreChildren",{enumerable:!0,get:function(){return t.ignoreChildren}})})),define("desktop-music-app/helpers/image-url",["exports","@amp/ember-ui-media-artwork/utils/srcset"],(function(e,t){function i(e,i){let[r]=e
if(!r)return
const{width:n,height:o,cropCode:l,extension:a="jpg",quality:s}=i||{}
return n&&o?(l&&(r=(0,t.replaceCropCode)(r,l)),r=(0,t.replaceQualityParam)(r,s),r.replace(/\{h\}/,Math.round(o)).replace(/\{w\}/,Math.round(n)).replace(/\{c\}/,l).replace(/\{q\}/,s).replace(/\{f\}/,a)):r}Object.defineProperty(e,"__esModule",{value:!0}),e.imageUrl=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("desktop-music-app/helpers/inc",["exports","ember-composable-helpers/helpers/inc"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"inc",{enumerable:!0,get:function(){return t.inc}})}))
define("desktop-music-app/helpers/is-aod",["exports","desktop-music-app/services/musickit"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Helper{compute([e]){return!!e&&(0,t.isAOD)(e)}}e.default=i})),define("desktop-music-app/helpers/is-array",["exports","ember-truth-helpers/helpers/is-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}})})),define("desktop-music-app/helpers/is-empty",["exports","ember-truth-helpers/helpers/is-empty"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return t.isEqual}})})),define("desktop-music-app/helpers/is-explicit",["exports","desktop-music-app/utils/media-type"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e]){return(0,t.isExplicit)(e)}))
e.default=i})),define("desktop-music-app/helpers/is-fastboot",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Helper{constructor(...e){var t,i,n,o
super(...e),t=this,i="fastboot",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}compute(){return this.fastboot.isFastBoot}},o=i.prototype,l="fastboot",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/helpers/is-in-library",["exports","desktop-music-app/utils/media-type"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service,r=class extends Ember.Helper{constructor(...e){var t,i,r,o
super(...e),t=this,i="musickitData",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}compute([e]){if(this.musickitData.isInLibrary(e))return"album"!==(0,t.getKind)(e)||e.trackCount>0}},l=r.prototype,a="musickitData",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/helpers/is-last-array-index",["exports","@amp/ember-ui-media-shelf/helpers/is-last-array-index"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isLastArrayIndex",{enumerable:!0,get:function(){return t.isLastArrayIndex}})})),define("desktop-music-app/helpers/is-live-event",["exports","desktop-music-app/utils/live-events"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e]){return(0,t.isLiveEvent)(e)}))
e.default=i})),define("desktop-music-app/helpers/is-ranked",["exports","desktop-music-app/utils/constants"],(function(e,t){function i([e]){return!t.TOP_CHARTS_UNRANKED_CHART_IDS.includes(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isRanked=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("desktop-music-app/helpers/item-component-chooser",["exports","@amp/ember-ui-media-shelf/helpers/item-component-chooser"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"itemComponentChooser",{enumerable:!0,get:function(){return t.itemComponentChooser}})})),define("desktop-music-app/helpers/live-time",["exports","desktop-music-app/utils/time-range"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service,r=class extends Ember.Helper{constructor(...e){var t,i,r,o
super(...e),t=this,i="i18n",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}compute([e,i],{isLive:r=!0}){const n=this.i18n.t("FUSE.Live")
if(e&&i){const o=(0,t.default)(new Date(e),new Date(i),this.i18n.t("TimeRange.Digits")),l=this.i18n.t(...o)
return r?`${n} · ${l}`:l}return n}},l=r.prototype,a="i18n",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/helpers/localize-number",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Helper{constructor(...e){super(...e),l(this,"fastboot",n,this),l(this,"locale",o,this)}compute([e]){return this.fastboot.isFastBoot?e:this.locale.localizeNumber(e)}},n=a(r.prototype,"fastboot",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"locale",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/helpers/loose-eq",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((([e,t])=>`${e}`==`${t}`))
e.default=t})),define("desktop-music-app/helpers/lt",["exports","ember-truth-helpers/helpers/lt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t.lt}})})),define("desktop-music-app/helpers/lte",["exports","ember-truth-helpers/helpers/lte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lte",{enumerable:!0,get:function(){return t.lte}})})),define("desktop-music-app/helpers/map-by",["exports","ember-composable-helpers/helpers/map-by"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/map",["exports","ember-composable-helpers/helpers/map"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/media",["exports","ember-responsive/helpers/media"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"media",{enumerable:!0,get:function(){return t.media}})})),define("desktop-music-app/helpers/metrics-json-data",["exports","desktop-music-app/utils/get-metrics-json"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper(t.default)
e.default=i})),define("desktop-music-app/helpers/mzstatic-image-url",["exports","@amp/ember-ui-media-artwork/helpers/mzstatic-image-url"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"mzstaticImageUrl",{enumerable:!0,get:function(){return t.mzstaticImageUrl}})})),define("desktop-music-app/helpers/not-eq",["exports","ember-truth-helpers/helpers/not-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"notEq",{enumerable:!0,get:function(){return t.notEq}})})),define("desktop-music-app/helpers/not",["exports","ember-truth-helpers/helpers/not"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return t.not}})})),define("desktop-music-app/helpers/object-at",["exports","ember-composable-helpers/helpers/object-at"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"objectAt",{enumerable:!0,get:function(){return t.objectAt}})})),define("desktop-music-app/helpers/or",["exports","ember-truth-helpers/helpers/or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return t.or}})})),define("desktop-music-app/helpers/perform",["exports","ember-concurrency/helpers/perform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/helpers/present",["exports","desktop-music-app/utils/has-property"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Helper{init(){super.init(...arguments),this.name=null,this.presenter=null,Ember._registerDestructor(this,(()=>this.destroyPresenter()))}createPresenter(e){const t=Ember.getOwner(this).factoryFor(`presenter:${e}`),i=new t.class
return Ember.setOwner(i,Ember.getOwner(this)),i}destroyPresenter(){var e
null!==(e=this.presenter)&&void 0!==e&&e.destroy&&this.presenter.destroy()}compute([e],i={}){if(!this.isDestroyed&&!this.isDestroying)return this.name!==e&&(this.name=e,this.destroyPresenter(),this.presenter=this.createPresenter(e)),Ember.setProperties(this.presenter,i),new Proxy(this.presenter,{get(e,i){var r
return(0,t.objectHasProperty)(e,i)?e[i]:null===(r=e.model)||void 0===r?void 0:r[i]}})}}e.default=i})),define("desktop-music-app/helpers/presenter-name-for",["exports","desktop-music-app/utils/media-type"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i={albums:"music/album",songs:"music/songs",playlists:"music/playlist","music-videos":"music/music-video",artists:"artist",episodes:"episode",curators:"curator","apple-curators":"curator","record-labels":"label","editorial-items":"editorial-item",posts:"post"}
var r=Ember.Helper.helper((function([e]){const r=(0,t.getCatalogType)(e),n=i[r]
return n||"music/base"}))
e.default=r})),define("desktop-music-app/helpers/route-idle",["exports","ember-app-scheduler/helpers/route-idle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"routeIdle",{enumerable:!0,get:function(){return t.routeIdle}})}))
define("desktop-music-app/helpers/search-by",["exports"],(function(e){function t([e,t,i]){let r,n=i,o=t
return!Array.isArray(i)&&Array.isArray(t)&&(n=t,o=null),e.length&&n&&n.length?(r=o?"function"==typeof o?t=>o(Ember.get(t,e)):t=>Ember.get(t,e).toLowerCase().includes(o.toLowerCase()):t=>!!Ember.get(t,e),n.filter(r)):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.searchBy=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/search-shelf-grid",["exports","desktop-music-app/utils/constants"],(function(e,t){function i(e){const[i]=e
return i&&t.SEARCH_SHELVES_MAP[i]?t.SEARCH_SHELVES_MAP[i]:"C"}Object.defineProperty(e,"__esModule",{value:!0}),e.searchShelfGrid=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("desktop-music-app/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/helpers/slice-rendered-shelves",["exports"],(function(e){function t([e,t],{lazy:i=!1}){const{length:r}=e
if(i){const i=Math.round(r*t)
return e.slice(r-i)}const n=Math.round(r*(1-t))
return e.slice(0,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.sliceRenderedShelves=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/sort-by",["exports","ember-composable-helpers/helpers/sort-by"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/string-replace",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function([e,t,i=""]){return e&&"string"==typeof e?e.replace(t,i):e}))
e.default=t})),define("desktop-music-app/helpers/sub",["exports"],(function(e){function t(e){return e.reduce(((e,t)=>Number(e)-Number(t)))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("desktop-music-app/helpers/svg-jar",["exports","ember-svg-jar/utils/make-helper","ember-svg-jar/utils/make-svg"],(function(e,t,i){function r(e){try{return require(`ember-svg-jar/inlined/${e}`).default}catch(t){return null}}function n(e,t){return(0,i.default)(e,t,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.svgJar=n,e.default=void 0
var o=(0,t.default)(n)
e.default=o})),define("desktop-music-app/helpers/t",["exports","ember-i18n/helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/task",["exports","ember-concurrency/helpers/task"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/helpers/text-content",["exports","desktop-music-app/utils/text-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e]){if("string"==typeof e)return(0,t.getTextContent)(e)}))
e.default=i})),define("desktop-music-app/helpers/themed-asset",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.extend({themeService:Ember.inject.service("itunes-theme"),compute(e){return`${[e]}-${this.themeService.theme}`}})
e.default=t})),define("desktop-music-app/helpers/trusted-css",["exports","desktop-music-app/utils/trusted-css"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((([e])=>(0,t.trustedCss)(e)))
e.default=i})),define("desktop-music-app/helpers/untrusted-html",["exports","desktop-music-app/utils/untrusted-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=/\r?\n/g
var r=Ember.Helper.helper((([e],r)=>(0,t.untrustedHtml)(`${e}`.replace(i,"<br>"),r)))
e.default=r})),define("desktop-music-app/helpers/uppercase",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.uppercaseLocaleAware=o,e.default=void 0
const n=[{find:"άἀἁἂἃἄἅἆἇὰάᾀᾁᾂᾃᾄᾅᾆᾇᾰᾱᾲᾳᾴᾶᾷ",replace:"α"},{find:"ΆἈἉἊἋἌἍἎἏᾈᾉᾊᾋᾌᾍᾎᾏᾸᾹᾺΆᾼ",replace:"Α"},{find:"έἐἑἒἓἔἕὲέ",replace:"ε"},{find:"ΈἘἙἚἛἜἝ",replace:"Ε"},{find:"ήἠἡἢἣἤἥἦἧῆὴῇ",replace:"η"},{find:"ΉἨἩἪἫἬἭἮἯ",replace:"Η"},{find:"ίἰἱἲἳἴἵὶῖ",replace:"ι"},{find:"ΊἶἷἸἹἺἻἼἽἾἿ",replace:"Ι"},{find:"όὀὁὂὃὄὅὸ",replace:"ο"},{find:"ΌὈὉὊὋὌὍ",replace:"Ο"},{find:"ύὐὑὒὓὔὕὖὗ",replace:"υ"},{find:"ΎὙὛὝὟ",replace:"Υ"},{find:"ώὠὡὢὣὤὥὦὧῶ",replace:"ω"},{find:"ΏὨὩὪὫὬὭὮὯ",replace:"Ω"},{find:"ς",replace:"Σ"}]
function o(e,t){let i=(e||"").toLocaleUpperCase(t)
return/^el\b/i.test(t)&&n.forEach((e=>{i=i.replace(new RegExp(`[${e.find}]`,"g"),e.replace)})),i}let l=(t=Ember.inject.service,i=class extends Ember.Helper{constructor(...e){var t,i,n,o
super(...e),t=this,i="i18n",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}compute([e],{locale:t}){return o(e,t||this.i18n.locale)}},a=i.prototype,s="i18n",u=[t],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),r=p,i)
var a,s,u,c,d,p
e.default=l})),define("desktop-music-app/helpers/version",["exports","desktop-music-app/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{searchVersionQuery:i}=t.default
let r
var n=Ember.Helper.helper((function([e]){if(e===i)return r||(r=`${window.MusicApp.version}, ${window.MusicKit.version}`),r}))
e.default=n})),define("desktop-music-app/helpers/xor",["exports","ember-truth-helpers/helpers/xor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"xor",{enumerable:!0,get:function(){return t.xor}})})),define("desktop-music-app/initializers/add-modals-container",["exports","ember-modal-dialog/initializers/add-modals-container"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"add-modals-container",initialize:t.default}
e.default=i})),define("desktop-music-app/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","desktop-music-app/config/environment"],(function(e,t,i){let r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i.default.APP&&(r=i.default.APP.name,n=i.default.APP.version)
var o={name:"App Version",initialize:(0,t.default)(r,n)}
e.default=o})),define("desktop-music-app/initializers/body-class",["exports","ember-body-class/initializers/body-class"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"container-debug-adapter",initialize(){let e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}
e.default=i})),define("desktop-music-app/initializers/deprecations",["exports","desktop-music-app/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=function(){const e=["ember-component.is-visible","@amp/ember-ui-media-artwork.amp-artwork-music-block-syntax"]
"test"===t.default.environment&&e.push("computed-property.override","ember-i18n.reserve-htmlSafe")
Ember.Debug.registerDeprecationHandler(((t,i,r)=>{e.includes(i.id)||r(t,i)}))}})),define("desktop-music-app/initializers/ember-cli-mirage",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-cli-mirage",initialize(){}}
e.default=t})),define("desktop-music-app/initializers/ember-concurrency",["exports","ember-concurrency/initializers/ember-concurrency"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/initializers/ember-i18n",["exports","ember-i18n/initializers/ember-i18n"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/initializers/ember-localizer",["exports","@amp/ember-localizer/initializers/ember-localizer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/initializers/ember-responsive-breakpoints",["exports","ember-responsive/initializers/responsive"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/initializers/export-application-global",["exports","desktop-music-app/config/environment"],(function(e,t){function i(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var i
if("undefined"!=typeof window)i=window
else if("undefined"!=typeof global)i=global
else{if("undefined"==typeof self)return
i=self}var r,n=t.default.exportApplicationGlobal
r="string"==typeof n?n:Ember.String.classify(t.default.modulePrefix),i[r]||(i[r]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete i[r]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"export-application-global",initialize:i}
e.default=r})),define("desktop-music-app/initializers/grid-config",["exports","@amp/ember-ui-media-shelf/initializers/grid-config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/initializers/includes-polyfill",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}})
var t={initialize(){}}
e.default=t}))
define("desktop-music-app/initializers/route-class-name",["exports"],(function(e){function t(){Ember.Route.reopen({classNames:Ember.computed("routeName",(function(){const e=this.routeName
if("application"!==e)return[e.replace(/\./g,"-")]}))})}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=t,e.default=void 0
var i={initialize:t}
e.default=i})),define("desktop-music-app/initializers/router-service-queryparams",["exports"],(function(e){function t(e){const t=e.resolveRegistration("service:router")
Object.defineProperty(t.prototype,"naiveQueryParams",{configurable:!0,get(){return Ember.get(this,"_router.currentRoute.queryParams")||Ember.get(this,"_router.currentState.router.activeTransition.to.queryParams")||{}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=t,e.default=void 0
var i={name:"router-service-queryparams",initialize:t}
e.default=i})),define("desktop-music-app/initializers/scroll-by-polyfill",["exports","@amp/ember-ui-media-shelf/initializers/scroll-by-polyfill"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/initializers/viewport-config",["exports","ember-in-viewport/initializers/viewport-config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/initializers/warnings",["exports","desktop-music-app/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=function(){const e=[]
"test"===t.default.environment&&e.push("missing-delegateApp")
Ember.Debug.registerWarnHandler(((t,i,r)=>{e.includes(i.id)||r(t,i)}))}})),define("desktop-music-app/instance-initializers/clear-double-boot",["exports","ember-cli-fastboot/instance-initializers/clear-double-boot"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/instance-initializers/css-body-hooks",["exports"],(function(e){function t(e){if("undefined"!=typeof FastBoot)return void e.lookup("service:-document").body.setAttribute("class","no-js")
document.body.classList.remove("no-js"),document.body.classList.add("has-js")
emberAutoImportDynamic("@marcom/feature-detect").then((e=>{var t
t="touch",e.touchAvailable()?document.body.classList.add(`has-${t}`):document.body.classList.add(`no-${t}`)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=t,e.default=void 0
var i={name:"browser/css-body-hooks",initialize:t}
e.default=i})),define("desktop-music-app/instance-initializers/css-supports-logical",["exports","desktop-music-app/config/environment","desktop-music-app/utils/css-supports-logical"],(function(e,t,i){function r(){if("undefined"!=typeof FastBoot)return
if((0,i.default)())return
const e=document.createElement("link")
e.setAttribute("rel","stylesheet"),e.setAttribute("href",`${t.default.rootURL}assets/desktop-music-app-legacy-logical-properties-01339ad57cc58e54fb8be82a56ca07d6.css`),document.head.appendChild(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default=void 0
var n={initialize:r}
e.default=n})),define("desktop-music-app/instance-initializers/ember-i18n",["exports"],(function(e){function t(){Ember.debug("ember-i18n has been deprecated in favor of ember-intl")}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=t,e.default=void 0
var i={name:"ember-i18n",initialize:t}
e.default=i})),define("desktop-music-app/instance-initializers/ember-localizer",["exports","@amp/ember-localizer/instance-initializers/ember-localizer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/instance-initializers/ember-router-scroll",["exports","ember-router-scroll/instance-initializers/ember-router-scroll"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/instance-initializers/error-logger",["exports"],(function(e){function t(e={}){const{message:t,column:i,line:r,sourceURL:n,stack:o}=e
return[`Message: ${t}`,`URL: ${n}`,`Line: ${r}`,`Stack: ${o}`,`Column: ${i}`,`Error object: ${JSON.stringify(e)}`].join(" - ")}function i(e){const i=e.lookup("service:error")
e.lookup("service:music-features").getByKey("captureLogs")&&(Ember.RSVP.on("error",(e=>{i.add(t(e))})),Ember.Logger.error=function(e,r,n){const o=[`Message: ${e}`,`Cause: ${r}`,`Stack: ${n}`].join("-")
i.add(t(o))})}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/focus-manager",["exports","@marcom/ac-headjs/FocusManager"],(function(e,t){let i
function r(){"undefined"!=typeof FastBoot||i||(i=new t.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default=void 0
var n={name:"focus-manager",initialize:r}
e.default=n})),define("desktop-music-app/instance-initializers/itunes-body-decoration",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){if("undefined"!=typeof FastBoot)return
const t=e.lookup("service:platform"),i=e.lookup("service:itunes-version")
t.isWindows&&(document.body.dataset.ms=!0),i.canUseWebKit2Features()||(document.body.dataset.legacywk=!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"itunes-body-decoration",initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/itunes-fire-pending-events",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"itunes-fire-pending-events",initialize:i,after:["itunes-sharing","itunes-parental-cookie"]}
e.default=r})),define("desktop-music-app/instance-initializers/itunes-language",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
const t=["zh-tw","zh-cn","zh-hk","zh-sg","th","ja","ar-sa","ar-iq","ar-eg","ar-ly","ar-dz","ar-ma","ar-tn","ar-om","ar-ye","ar-sy","ar-jo","ar-lb","ar-kw","ar-ae","ar-bh","ar-qa"]
function i(){"undefined"==typeof FastBoot&&t.includes(navigator.language)&&document.querySelector("body").classList.add("special-char-lang")}var r={name:"itunes-language",initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/itunes-parental-cookie",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"itunes-parental-cookie",initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/itunes-sharing",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"itunes-sharing",initialize:i,after:["web-store"]}
e.default=r})),define("desktop-music-app/instance-initializers/itunes-variant",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){if("undefined"!=typeof FastBoot)return
if(!window.matchMedia)return
const t=e.lookup("service:itunes-theme")||{},i=window.matchMedia("screen and (prefers-color-scheme: dark)")
function r(e){let i,r
e.matches?(i="dark-mode",r="light-mode"):(i="light-mode",r="dark-mode"),document.body.classList.add(i),document.body.classList.remove(r),t.theme=i}i.addListener(r),r(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/media-query-listener",["exports","@amp/ember-ui-media-shelf/instance-initializers/media-query-listener"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/instance-initializers/metrics-initializer",["exports","@amp/ember-metrics/instance-initializers/metrics-initializer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("desktop-music-app/instance-initializers/mt-errorkit",["exports","desktop-music-app/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"mt-errorkit",async initialize(){if("production"===t.default.environment&&"undefined"==typeof FastBoot){const{MTErrorKit:{default:e},integrations:{Ember:i}}=await Ember.RSVP.hash({MTErrorKit:emberAutoImportDynamic("@amp-metrics/mt-errorkit"),integrations:emberAutoImportDynamic("@sentry/integrations")})
e.init({project:t.default.features.AMWEB?"music_web":"music_desktop",environment:t.default.CARRY?"qa":"prod",release:t.default.APP.version,integrations:[new i]})}}}
e.default=i})),define("desktop-music-app/instance-initializers/music-app-api",["exports","desktop-music-app/config/environment"],(function(e,t){function i(){"undefined"==typeof FastBoot&&(window.MusicApp={get version(){const e=document.querySelector("meta[name=version]")
return`Music Version: ${null==e?void 0:e.content}`},get devFeatures(){return t.default.MUSIC.FEATURES},get features(){return t.default.features},get enableLogs(){localStorage.setItem("music-app-pref:show-logs",!0)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={name:"music-app-api",initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/route-listeners",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={initialize:i}
e.default=r})),define("desktop-music-app/instance-initializers/web-store",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){function i(e){e.register("service:store",Ember.Service.extend())}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.default=void 0
var r={initialize:i}
e.default=r})),define("desktop-music-app/locales/ar/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/ca/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/config",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={pluralForm:e=>1===e?"one":"other"}
e.default=t})),define("desktop-music-app/locales/dev/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={rtl:!1,...t.default}
e.default=i})),define("desktop-music-app/locales/el/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i}))
define("desktop-music-app/locales/fi/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/hr/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/hu/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/nb/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/pl/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locales/ru/config",["exports","desktop-music-app/locales/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/locations/history",["exports","desktop-music-app/utils/location-url-normalization"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.addUrlNormalization)(Ember.HistoryLocation)
e.default=i})),define("desktop-music-app/locations/none",["exports","ember-cli-fastboot/locations/none","desktop-music-app/utils/location-url-normalization"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,i.addUrlNormalization)(t.default)
e.default=r})),define("desktop-music-app/macros/style-string",["exports","@amp/ember-macro-inline-styles/macros/style-string"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/mixins/social-contacts-upload",["exports","date-fns"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i="music-app-pref:last-date-discover-friends-request"
var r=Ember.Mixin.create({social:Ember.inject.service("itunes-social"),bag:Ember.inject.service("itunes-bag"),isLoadingDiscoverFriends:!1,personalizationRefresh:Ember.inject.service("personalization-refresh"),async requestDiscoverFriends(){const e=(new Date).toISOString(),{social:t,userDSID:r}=this
if(!this.isLoadingDiscoverFriends){Ember.set(this,"isLoadingDiscoverFriends",!0)
try{await t.discoverFriends()}catch(n){}Ember.set(this,"isLoadingDiscoverFriends",!1),localStorage.setItem(`${i}-${r}`,e)}},checkDiscoverFriendsForProfile(e){const{bag:r}=this,n=r.getFromBag("musicFriends.friendsDiscoveryEnabled"),o=!!e&&e.isContactsCheckAllowed
if(n&&o){const{bag:e,userId:r}=this,n=e.getFromBag("musicFriends.friendsDiscoveryInterval"),o=localStorage.getItem(`${i}-${r}`)
if(o){const e=(0,t.subSeconds)(new Date,n)
new Date(o)<e&&this.requestDiscoverFriends()}else this.requestDiscoverFriends()}},verifyUserProfileDiscoverFriendsElegibility:Ember.observer("profile",(function(){"0"!==this.userDSID&&Ember.RSVP.resolve(this.profile).then((e=>{this.checkDiscoverFriendsForProfile(e)}))}))})
e.default=r})),define("desktop-music-app/mixins/user-cloud-library",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Mixin.create({library:Ember.inject.service("itunes-library"),turnCloudLibraryOn(){window.iTunes.turnCloudLibraryOn(),this.notifyPropertyChange("subscriptionStatus")},isSubscribedToCloudLibrary:Ember.computed("isCloudLibraryEnabled","isCloudLibraryPresent","subscriptionStatus",(function(){const e=Ember.get(this,"isCloudLibraryEnabled")
return!!Ember.get(this,"isCloudLibraryPresent")&&e})),isCloudLibraryPresent:Ember.computed((function(){return Ember.isPresent(window.iTunes.subscriptionStatus.subscribedToCloudLibrary)})),isCloudLibraryEnabled:Ember.computed("subscriptionStatus",(function(){return window.iTunes.subscriptionStatus.subscribedToCloudLibrary})),cloudLibraryIsLoaded:Ember.computed("isSubscribedToCloudLibrary",{get(){return Ember.get(this,"isCloudLibraryEnabled")},set:(e,t)=>t}),notifyCloudLibraryLoaded(e){e.libraryKind===window.iTunes.CloudLibraryKind.CloudMusic&&Ember.set(this,"cloudLibraryIsLoaded",!0)}})
e.default=t})),define("desktop-music-app/mixins/user-grace-period",["exports","desktop-music-app/utils/date-time","fetch"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r="music-app-pref:last-day-grace-period-dialog-shown"
var n=Ember.Mixin.create({fastboot:Ember.inject.service(),init(){this._super(...arguments),this.fastboot.isFastBoot||this.getGracePeriodStatus()},displayGracePeriodDialog(){const e=this.bag.getFromBag("grace-period-dialog-shown")
new Ember.RSVP.Promise((t=>{(0,i.default)(e).then(t)})).then(Ember.run.bind(this,(e=>{this.set("gracePeriodDisplayedDialogResult",e)})))
const t=this.i18n.t("ManageSubscription.GracePeriod.dialog.RenewalReminder_message"),n=this.i18n.t("ManageSubscription.GracePeriod.dialog.RenewalReminder_explanation"),o=this.i18n.t("MZFinance.dialog.button.AccountInfo"),l=this.i18n.t("FUSE.CancelButton"),a={okButtonAction:Ember.run.bind(this,this.modifyAccountSettings)},s=Date.now()
localStorage.removeItem(r)
const u=this.userDSID
localStorage.setItem(`${r}-${u}`,s),this.iTunesDialog.showDialog(t,n,o,a,l)},getGracePeriodStatus:Ember.observer("userDSID",(function(){const e=this.userDSID,n=this.bag.getFromBag("musicCommon.isGracePeriodEnabled")
if("0"===e)return
const o=Date.now(),l=localStorage.getItem(`${r}-${e}`),a=l?new Date(parseInt(l)):null
if(!(!!a&&(0,t.isSameDate)(a,o))&&n){const t=this.bag.getFromBag("getSubscriptionStatusSrv")
new Ember.RSVP.Promise((e=>{(0,i.default)(t).then(e)})).then(Ember.run.bind(this,(t=>{localStorage.setItem(`${r}-${e}`,o),this.verifyGracePeriodStatus(t)})))}})),verifyGracePeriodStatus(e){const i=Ember.get(e,"music.gracePeriodExpirationDate")||!1
if(i){const n=Date.now(),o=this.userDSID,l=localStorage.getItem(`${r}-${o}`),a=l?new Date(parseInt(l)):null
if(!(!!a&&(0,t.isSameDate)(a,n))){const r=parseInt(Ember.get(e,"music.gracePeriodDialogCount"))
if(0===r&&Ember.run.debounce(this,this.displayGracePeriodDialog,200),1===r){const e=(0,t.getEpochDate)(parseInt(i/1e3)),r=(0,t.daysBefore)(e,1);(0,t.isBetween)(r,e,n)&&Ember.run.debounce(this,this.displayGracePeriodDialog,200)}}}}})
e.default=n})),define("desktop-music-app/mixins/user-student-verification",["exports","desktop-music-app/utils/date-time","desktop-music-app/config"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:r,FINANCE_DYNAMICAMSUI_OPTION_KEYS:n,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:o}}=i.default,l="music-app-pref:last-day-verified-student"
var a=Ember.Mixin.create({finance:Ember.inject.service(),displayStudentVerificationModal(){const e=window.iTunes,t=Ember.get(this,"userDSID"),i=Date.now(),a=this.finance,s=a.pathForKey("musicDeeplinks","studentreverification"),u={}
u[n.OFFER_HINT]=r.OTHER,u.placement=o.LAUNCH_UPSELL,a.openFinancePath(s,u,!0),e.localStorage.setItem(`${l}-${t}`,i)},getStudentVerification:Ember.on("init",Ember.observer("subscriptionStatus.userInfo.account.studentExpirationDate",(function(){if(Ember.get(this,"isLoggedIn")){const e=Ember.get(this,"subscriptionStatus.userInfo.account.studentExpirationDate")
if(e){const i=Ember.get(this,"userDSID"),r=Date.now(),n=new Date,o=window.iTunes,a=(0,t.getEpochDate)(parseInt(e/1e3)),s=parseInt(o.localStorage.getItem(`${l}-${i}`)),u=(0,t.daysBefore)(a,28),c=(0,t.isBetween)(u,a,n)
if(isNaN(s)&&c)return void this.displayStudentVerificationModal()
if(c){const e=(0,t.daysBefore)(a,7),i=(0,t.isBetween)(e,a,s),o=(0,t.daysBefore)(r,1),l=(0,t.isBetween)(o,n,s)
if(i&&!l)return void this.displayStudentVerificationModal()
const u=(0,t.daysBefore)(n,7)
if(!(0,t.isBetween)(u,n,s))return void this.displayStudentVerificationModal()}}}})))})
e.default=a})),define("desktop-music-app/mixins/user-subscription",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/fetch-json"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r="subscribed"
var n=Ember.Mixin.create({itunesStorefront:Ember.inject.service(),musickit:Ember.inject.service(),storefront:Ember.inject.service(),upsellBanner:Ember.inject.service(),metrics:Ember.inject.service(),user:Ember.inject.service(),subscriptionInfo:null,musicSubscriptionOffersForStorefront:null,storeSupportsSubscriptions:Ember.computed.alias("subscriptionStatus.storeSupportsSubscriptions"),accountStatus:Ember.computed.alias("subscriptionStatus.accountStatus"),isMinor:Ember.computed.bool("subscriptionStatus.userInfo.account.isMinor"),hasFamilySubscription:Ember.computed.equal("subscriptionStatus.userInfo.music.reason","Family"),isOptedOut:Ember.computed.equal("subscriptionStatus.optedInMode","optedOutOfSubscriptions"),isPurchaser:Ember.computed.alias("subscriptionStatus.userInfo.music.isPurchaser"),isAutoRenewEnabled:Ember.computed.alias("subscriptionInfo.isAutoRenewEnabled"),membershipExpirationDate:Ember.computed.alias("subscriptionInfo.expireDateInMillis"),subscriptionStatus:Ember.computed("subscriptionInfo",(function(){if(Ember.testing)return window.iTunes.subscriptionStatus
{var e,t,i,n,o,l,a
let s={}
return null!==(e=this.subscriptionInfo)&&void 0!==e&&e.isActive&&(null===(t=window.iTunes)||void 0===t||null===(i=t.subscriptionStatus)||void 0===i?void 0:i.accountStatus)!==r&&(s={accountStatus:r}),0===(null===(n=this.subscriptionInfo)||void 0===n?void 0:n.status)&&0!==!(null!==(o=window.iTunes)&&void 0!==o&&null!==(l=o.subscriptionStatus)&&void 0!==l&&null!==(a=l.userInfo)&&void 0!==a&&a.status)&&(s.userInfo=Object.assign({},window.iTunes.subscriptionStatus.userInfo,{status:0})),Object.assign({},window.iTunes.subscriptionStatus,s)}})),notifySubscriptionChanges(){this.notifyPropertyChange("subscriptionStatus"),this.isCloudLibraryEnabled||Ember.set(this,"cloudLibraryIsLoaded",!1),this.upsellBanner.toggleBodyClasses(),this.metrics.addBaseData({userType:this.user.metricsUserType})},isSubscribed:Ember.computed("accountStatus",(function(){return this.accountStatus===r})),subscriptionOffers:Ember.computed({get:()=>({}),set:(e,t)=>t}),userChanged:Ember.observer("userDSID",(function(){this.notifySubscriptionChanges(),this.isSubscribed&&(this.updateSubscriptionOffers(),this.getSubscriptionInfo())})),async updateSubscriptionOffers(){try{const e=this.bag.getFromBag("getSubscriptionOffersSrv"),t=await(0,i.default)(e)
Ember.set(this,"subscriptionOffers",t)}catch(e){return(0,t.log)("AM Error - user-subscription:updateSubscriptionOffers",e),{}}},async getSubscriptionOffersForStorefront(){try{const e=this.bag.getFromBag("musicSubscriptionOffersForStorefront"),t=await(0,i.default)(e),r=Ember.get(t,"offers")
return this.set("musicSubscriptionOffersForStorefront",r),r}catch(e){return(0,t.log)("AM Error - user-subscription:getSubscriptionOffersForStorefront",e),{}}},async getSubscriptionInfo(){try{const e=this.bag.getFromBag("getSubscriptionInfoSrv"),t="subscriptionType=music&detail=lite",r=await(0,i.default)(`${e}?${t}`)
return this.set("subscriptionInfo",r),r}catch(e){return(0,t.log)("AM Error - user-subscription:getSubscriptionInfo",e),{}}finally{const e=this.itunesStorefront.getStorefrontCountryCode()
this.storefront.setSubscriptionStorefront(e)}},isEligibleForTrial:Ember.computed("subscriptionOffers","isLoggedIn",(function(){const e=Ember.get(this,"subscriptionOffers")
let t=!0
return e&&Ember.get(this,"isLoggedIn")&&(t=Ember.get(e,"userInfo.isEligibleForFreeTrial")),t})),isTrialBannerEnabled:Ember.computed("subscriptionOffers",(function(){const e=Ember.get(this,"subscriptionOffers")
if(e)return!Ember.get(e,"isBannerDisabled")||!1})),termsAreCurrent:Ember.computed("subscriptionStatus",(function(){const e=Ember.get(Ember.get(this,"subscriptionStatus"),"userInfo.terms.firstObject")
return!e||e.agreedToTerms===e.latestTerms}))})
e.default=n})),define("desktop-music-app/mixins/user-winback-sheet",["exports","desktop-music-app/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:i,FINANCE_DYNAMICAMSUI_OPTION_KEYS:r,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:n}}=t.default,o="music-app-pref:has-display-winback-dialog"
var l=Ember.Mixin.create({finance:Ember.inject.service(),displayWinbackModal(){const e=Ember.get(this,"userDSID"),t=this.finance,l={}
l[r.OFFER_HINT]=i.WIN_BACK,l.placement=n.LAUNCH_UPSELL,t.openFinancePath("upsell-return",l),localStorage.setItem(`${o}-${e}`,!0)},getUserWinbackOffer:Ember.on("init",Ember.observer("subscriptionOffers.eligibleOffer",(function(){if(Ember.get(this,"isLoggedIn")&&!Ember.get(this,"isSubscribed")){const e=Ember.get(this,"subscriptionOffers.eligibleOffer"),t=!!e&&e.includes("WIN_BACK"),i=Ember.get(this,"userDSID"),r=localStorage.getItem(`${o}-${i}`)
t&&!Ember.isPresent(r)&&this.displayWinbackModal()}})))})
e.default=l})),define("desktop-music-app/modifiers/allow-drag",["exports","ember-modifier","desktop-music-app/utils/media-type","desktop-music-app/utils/feature-flags","desktop-music-app/config"],(function(e,t,i,r,n){var o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{SUPPORT_DND_VERSION:b}=n.default,f=["song","playlist","album"]
let h=(o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,s=Ember._action,u=class extends t.default{constructor(...e){super(...e),p(this,"itunesVersion",c,this),p(this,"playback",d,this)}get dragEnabled(){return("boolean"!=typeof this.args.named.dragEnabled||this.args.named.dragEnabled)&&this.shouldSupportDnD&&!!this.filteredDragData}get filteredDragData(){const e=this.args.named.dragData
if(Array.isArray(e)){const t=e.filter((e=>f.includes((0,i.getKind)(e))))
if(t.length)return t}else if(f.includes((0,i.getKind)(e)))return e}get shouldSupportDnD(){return!1}didReceiveArguments(){this.dragEnabled?this.element.hasAttribute("draggable")||(this.element.style.WebkitUserDrag="element",this.element.setAttribute("draggable",!0),this.element.addEventListener("dragstart",this._onDragStart),this.element.addEventListener("dragend",this._removeDragImages)):this.removeEventListeners()}removeEventListeners(){this.element.removeAttribute("draggable"),this.element.removeEventListener("dragstart",this._onDragStart),this.element.removeEventListener("dragend",this.removeDragImages)}willDestroy(){this.removeEventListeners()}_setDragData(){const e=this.filteredDragData
if(!e)return
let t
t=Array.isArray(e)?1===e.length?this.playback.getPlaybackConfig(e[0]):this.playback.getPlaybackConfig(null,null,e):this.playback.getPlaybackConfig(e)
const r=t.items[0]
return r&&(e.tracks&&r.id===e.id&&!r.tracks&&(r.tracks=e.tracks.map((({id:e,type:t})=>({id:e,type:t})))),!r.name&&e.name&&(r.name=e.name)),t.items.forEach((e=>{!e.kind&&(0,i.getKind)(e)&&(e.kind=(0,i.getKind)(e))})),this.dragData=t,t}get badgeCount(){return this.dragData.items.reduce(((e,t)=>{let r=0
var n,o
"song"===(0,i.getKind)(t)?r=1:r=(null===(n=t.tracks)||void 0===n?void 0:n.length)||t.trackCount||(null===(o=t.rawJSON)||void 0===o?void 0:o.trackCount)
return e+(r||0)}),0)}_createBadgedDragImage(){this._removeDragImages()
const e=this.args.named.dragImage
let t=e
if("string"==typeof e&&(t=this.element.querySelector(e)),t||(t=document.querySelector(".fallback-drag-image svg")),!t)return
const r=this.dragData.items.any((e=>["album","playlist"].includes((0,i.getKind)(e)))),n=document.createElement("div")
n.classList.add("drag-image"),n.setAttribute("aria-hidden","true"),r&&n.classList.add("drag-image--container")
const o=t.cloneNode(!0)
if(n.appendChild(o),this.badgeCount>1||r&&this.badgeCount>0){const e=document.createElement("div")
e.classList.add("track-count-badge"),e.textContent=this.badgeCount,n.appendChild(e)}return document.body.insertAdjacentElement("beforeend",n),this._dragImage=n,n}_onDragStart(e){if(!e.dataTransfer||!this.dragEnabled)return
if(this._setDragData(),!this.dragData.items.length)return
const t=this._createBadgedDragImage()
if(t){const{width:i,height:r,clientWidth:n,clientHeight:o}=t,l=n||i,a=o||r
e.dataTransfer.setDragImage(t,l/2,a/2),setTimeout((()=>this._removeDragImages()),1)}e.dataTransfer.setData("text/plain",JSON.stringify(this.dragData)),e.dataTransfer.effectAllowed="copy"}_removeDragImages(){document.querySelectorAll(".drag-image").forEach((e=>{e.remove()})),this._dragImage=null}},c=m(u.prototype,"itunesVersion",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(u.prototype,"playback",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(u.prototype,"_onDragStart",[a],Object.getOwnPropertyDescriptor(u.prototype,"_onDragStart"),u.prototype),m(u.prototype,"_removeDragImages",[s],Object.getOwnPropertyDescriptor(u.prototype,"_removeDragImages"),u.prototype),u)
e.default=h})),define("desktop-music-app/modifiers/allow-drop",["exports","ember-modifier","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c="is-drop-area",d="is-drag-over"
let p=(r=Ember._action,n=Ember._action,o=Ember._action,l=Ember._action,a=Ember._action,u((s=class extends t.default{get allowsDrop(){}didReceiveArguments(){this.allowsDrop?this.element.classList.contains(c)||(this.element.classList.add(c),this.element.addEventListener("dragenter",this._onDragEnter),this.element.addEventListener("dragover",this._onDragOver),this.element.addEventListener("dragleave",this._onDragLeave),this.element.addEventListener("drop",this._onDrop)):this.removeEventListeners()}removeEventListeners(){this.element.classList.remove(c),this.element.classList.remove(d),this.element.removeEventListener("dragenter",this._onDragEnter),this.element.removeEventListener("dragover",this._onDragOver),this.element.removeEventListener("dragleave",this._onDragLeave),this.element.removeEventListener("drop",this._onDrop)}willDestroy(){this.removeEventListeners()}_updateDraggingOver(e){e?this.element.classList.contains(d)||this.element.classList.add(d):(this.enterTarget=null,this.element.classList.remove(d))}_onDragLeave(e){e.target===this.enterTarget&&this._updateDraggingOver(!1)}_onDragEnter(e){this.allowsDrop&&(this.enterTarget=e.target,this._updateDraggingOver(!0))}_onDragOver(e){this.allowsDrop&&e.preventDefault()}_onDrop(e){if(!this.allowsDrop)return
this._updateDraggingOver(!1)
const t=JSON.parse(e.dataTransfer.getData("text/plain"))
this.args.named.onDrop(t)}}).prototype,"_updateDraggingOver",[r],Object.getOwnPropertyDescriptor(s.prototype,"_updateDraggingOver"),s.prototype),u(s.prototype,"_onDragLeave",[n],Object.getOwnPropertyDescriptor(s.prototype,"_onDragLeave"),s.prototype),u(s.prototype,"_onDragEnter",[o],Object.getOwnPropertyDescriptor(s.prototype,"_onDragEnter"),s.prototype),u(s.prototype,"_onDragOver",[l],Object.getOwnPropertyDescriptor(s.prototype,"_onDragOver"),s.prototype),u(s.prototype,"_onDrop",[a],Object.getOwnPropertyDescriptor(s.prototype,"_onDrop"),s.prototype),s)
e.default=p})),define("desktop-music-app/modifiers/body-scroll-lock",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember._setModifierManager((()=>({capabilities:Ember._modifierManagerCapabilities("3.13"),createModifier(){},installModifier(){if("undefined"!=typeof FastBoot)return
const e=document.body.clientWidth
document.body.classList.add("body-scroll-lock")
const t=document.body.clientWidth
document.body.style.setProperty("--scrollbar-width",t-e+"px")},updateModifier(){},destroyModifier(){"undefined"==typeof FastBoot&&document.body.classList.remove("body-scroll-lock")}})),class{})
e.default=t})),define("desktop-music-app/modifiers/did-insert",["exports","@ember/render-modifiers/modifiers/did-insert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/did-update",["exports","@ember/render-modifiers/modifiers/did-update"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/in-parent-scrollport",["exports","@amp/ember-ui-media-shelf/modifiers/in-parent-scrollport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/in-viewport",["exports","ember-in-viewport/modifiers/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/reset-scroll",["exports","@amp/ember-ui-media-shelf/modifiers/reset-scroll"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/scroll-to-child-start",["exports","@amp/ember-ui-media-shelf/modifiers/scroll-to-child-start"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/modifiers/will-destroy",["exports","@ember/render-modifiers/modifiers/will-destroy"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/presenters/activity",["exports","desktop-music-app/presenters/grouping/musickit","desktop-music-app/utils/constants"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=class{get artwork(){return this.model.editorialArtwork}get product(){return this.model.kind=i.AMWEB_TYPE_TO_KIND_MAPPING[this.model.type],this.model}get featuredContent(){var e,i,r,n
if(null!==(e=this.model)&&void 0!==e&&null!==(i=e.grouping)&&void 0!==i&&i[0])return new t.default(null===(r=this.model)||void 0===r||null===(n=r.grouping)||void 0===n?void 0:n[0]).featuredContentList}}})),define("desktop-music-app/presenters/artist",["exports","desktop-music-app/utils/musickit-data","desktop-music-app/utils/constants","desktop-music-app/utils/media-type","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h={playlistsLocKey:"FUSE.Social.Playlist",songsLocKey:"FUSE.Artist.Top.Songs"}
let g=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.computed.or("model.artistContainerUrl","model.url"),s=Ember.computed.or("model.editorialNotes.standard","model.editorialNotes.short"),c=f((u=class{constructor(){var e,t,i
b(this,"i18n",c,this),b(this,"router",d,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,b(this,"artistContainerUrl",p,this),b(this,"description",m,this)}get id(){return this.model.id}get artwork(){return this.model.artwork}get uber(){return this.model.uber}get artistContemporaries(){if(this.similarArtists)return y(this.similarArtists,"similarArtists",this.i18n,this.router,this.name)}get artistBio(){return this.model.artistBio}get bornOrFormed(){return this.model.bornOrFormed}get bornOrFormedDate(){return this.model.bornOrFormedDate}get editorialNotes(){return this.model.editorialNotes}get editorialArtwork(){return this.model.editorialArtwork}get editorialVideo(){return this.model.editorialVideo}get isGroup(){return this.model.isGroup}get genre(){var e,t
return null===(e=this.genres)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.name}get genres(){return this.model.genres}get genreNames(){return this.model.genreNames}get href(){return this.model.href}get url(){return this.model.url}get hero(){var e,t
return(null===(e=this.model.hero)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.content[0].artwork)||this.artwork}get kind(){return"artist"}get rawJSON(){return{...this.model,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[this.type]}}get name(){return this.model.name}get origin(){return this.model.origin}get type(){return this.model.type}get songs(){return this.model.songs}get topSongs(){return(0,t.getViewDataFromModel)(this.model,"top-songs","song")}get albums(){return(0,t.getViewDataFromModel)(this.model,"full-albums","album")}get appearsOnAlbums(){return(0,t.getViewDataFromModel)(this.model,"appears-on-albums","album")}get compilationAlbums(){return(0,t.getViewDataFromModel)(this.model,"compilation-albums","album")}get featuredAlbums(){return(0,t.getViewDataFromModel)(this.model,"featured-albums","album")}get featuredOnAlbums(){return(0,t.getViewDataFromModel)(this.model,"featured-on-albums","album")}get featuredRelease(){return(0,t.getViewDataFromModel)(this.model,"featured-release","album")}get latestRelease(){return(0,t.getViewDataFromModel)(this.model,"latest-release","album")}get hasHighlightedRelease(){var e,t
return!!(null!==(e=this.featuredRelease)&&void 0!==e&&e.data||null!==(t=this.latestRelease)&&void 0!==t&&t.data)}get liveAlbums(){return(0,t.getViewDataFromModel)(this.model,"live-albums","album")}get musicVideos(){return(0,t.getViewDataFromModel)(this.model,"top-music-videos","musicVideo")}get playlists(){if(this.model&&this.model.playlists)return(0,t.getViewDataFromModel)(this.model,"playlists","playlist")}get similarArtists(){return(0,t.getViewDataFromModel)(this.model,"similar-artists","artist")}get singles(){return(0,t.getViewDataFromModel)(this.model,"singles","album")}get moreToHear(){return(0,t.getViewDataFromModel)(this.model,"more-to-hear","stations")}get moreToSee(){return(0,t.getViewDataFromModel)(this.model,"more-to-see","uploaded-videos")}get artistGroups(){const e=[]
for(const t of i.AMWEB_ARTIST_SHELF_ORDER){const i=this[t]
if(i){const r=y(i,t,this.i18n,this.router,this.name)
r&&e.push(r)}}return e.filter((e=>!!Ember.get(e,"storeContent.length")))}get topSongsShelf(){if(this.topSongs)return function(e,t){if(null!=e&&e.storeContent){const i=e.storeContent.map((e=>{const i={...e}
return i.rawJSON||(i.rawJSON={...i}),i.kind||(i.kind=(0,r.getKind)(i)),i.releaseYear||(i.releaseYear=(0,n.getYearFromDate)(i.releaseDate,t)),i}))
return Object.assign(e,{storeContent:i})}}(y(this.topSongs,"topSongs",this.i18n,this.router,this.name),this.i18n)}}).prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"artistContainerUrl",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"description",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
function y(e,t,i,r,n){if(Array.isArray(e)&&e.length)return{title:i.t(h[`${t}LocKey`]),storeContent:[...e],sectionName:t}
if(e.title){const i=r.urlFor("artist.see-all",{queryParams:{section:e.id}}).split("/")
return i.length<6&&i.splice(3,0,n.toLowerCase().replace(" ","-")),{title:e.title,storeContent:[...e.data],seeAllUrl:i.join("/"),sectionName:t}}}e.default=g})),define("desktop-music-app/presenters/bubbles",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.setUserPreference=function(e,t){Ember.set(e,"preference",t),Ember.set(e,"userPreference",t)},e.default=void 0
let u=(i=Ember.inject.service,r=Ember.computed("selectedArtistCount"),n=Ember.computed("artists.@each.preference"),o=Ember.computed("selectedArtistCount"),a=s((l=class{constructor(){var e,t,i,r
e=this,t="i18n",r=this,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}get genres(){return this.processBubbles(this.model.genres)||[]}get artists(){return this.processBubbles(this.model.artists)||[]}get artistHeaderMessage(){const{i18n:e}=this
let t
const i=this.selectedArtistCount
return t=0===i?e.t("FUSE.Onboarding.ChooseArtistsYouLove"):i>0&&i<3?e.t("FUSE.Onboarding.ChooseMore",{count:3-i}):e.t("FUSE.Onboarding.CompletedMessage"),t}get selectedArtistCount(){return this.artists.filter((e=>e.preference>0)).length}get submitDisabled(){return this.selectedArtistCount<3}processBubbles(e){return e}}).prototype,"i18n",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(l.prototype,"artistHeaderMessage",[r],Object.getOwnPropertyDescriptor(l.prototype,"artistHeaderMessage"),l.prototype),s(l.prototype,"selectedArtistCount",[n],Object.getOwnPropertyDescriptor(l.prototype,"selectedArtistCount"),l.prototype),s(l.prototype,"submitDisabled",[o],Object.getOwnPropertyDescriptor(l.prototype,"submitDisabled"),l.prototype),l)
e.default=u})),define("desktop-music-app/presenters/curator",["exports","desktop-music-app/utils/media-type","desktop-music-app/presenters/grouping/musickit"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,n=Ember.inject.service,l=u((o=class{constructor(){s(this,"router",l,this),s(this,"storefront",a,this)}get id(){return this.model.id}get artwork(){return Ember.get(this,"model.artwork")}get editorialArtwork(){return Ember.get(this,"model.editorialArtwork")}get type(){return(0,t.getType)(this.model)}get url(){return this.model.url}get editorialNotes(){return this.model.editorialNotes}get name(){return this.model.name}get playlists(){var e
return null!==(e=this.model)&&void 0!==e&&e.playlists?this.model.playlists.map((e=>{var t
return Ember.set(e,"kind",null===(t=e.playParams)||void 0===t?void 0:t.kind),Ember.set(e,"rawJSON",{id:e.id,playParams:e.playParams,kind:e.kind,type:e.type}),e})):[]}get product(){return this.model.brand?this.model.brand:{...this.model,kind:(0,t.getKind)(this.model)}}get isExpanded(){return this.playlists.length>8}get grouping(){var e,i
if(null===(e=this.model)||void 0===e||null===(i=e.grouping)||void 0===i||!i.length)return[]
for(const r of this.model.grouping)for(const e of r.tabs)return e.children.map((e=>{const{name:i,contents:r}=e
if(!i||!r)return
return{name:i,contents:r.map((e=>{const i=(0,t.getKind)(e)
return i?{...e,kind:i}:e}))}})).filter(Boolean)}get featuredContent(){var e,t,r,n
if(null!==(e=this.model)&&void 0!==e&&null!==(t=e.grouping)&&void 0!==t&&t[0])return new i.default(null===(r=this.model)||void 0===r||null===(n=r.grouping)||void 0===n?void 0:n[0]).featuredContentList}get isGenrePage(){var e
return"Genre"===(null===(e=this.model)||void 0===e?void 0:e.kind)}get kind(){return(0,t.getKind)(this.model)}get seeAllPlaylistsUrl(){return this.router.urlFor("curator.playlists",this.storefront.resolvedStorefront,this.name.toLowerCase(),this.id)}}).prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=c})),define("desktop-music-app/presenters/editorial-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=class{constructor(){var e,t,i
i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}get id(){return this.model.id}get kind(){return"editorialItem"}get type(){return"editorial-items"}get name(){var e
return this.model.name||(null===(e=this.model.editorialNotes)||void 0===e?void 0:e.name)}get editorialNotes(){return this.model.editorialNotes}get contents(){return this.model.contents}get description(){var e,t
return(null===(e=this.editorialNotes)||void 0===e?void 0:e.short)||(null===(t=this.editorialNotes)||void 0===t?void 0:t.standard)}get link(){return this.model.link}get url(){return this.model.url}get artwork(){var e
return null===(e=this.model.editorialArtwork)||void 0===e?void 0:e.subscriptionCover}get editorialArtwork(){return this.model.editorialArtwork}}}))
define("desktop-music-app/presenters/episode",["exports","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants","desktop-music-app/utils/duration-from-offers"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k
function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let _=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.computed.readOnly("model.show.0.url"),a=Ember.computed.readOnly("model.show.0.id"),s=Ember.computed.or("model.supportedLocales.primary","model.languages.primary"),u=Ember.computed.or("model.supportedLocales","model.languages"),c=Ember.computed.or("model.previews.0.artwork","model.artwork"),d=Ember.computed.readOnly("model.featuredContent"),m=E((p=class{constructor(){var e,t,i
w(this,"i18n",m,this),w(this,"platform",b,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,w(this,"showUrl",f,this),w(this,"showId",h,this),w(this,"primaryLanguage",g,this),w(this,"languages",y,this),w(this,"previewArtwork",v,this),w(this,"featuredContent",k,this)}get artistName(){return this.model.artistName}get artwork(){return this.model.artwork}get contentRatingsBySystem(){return this.model.contentRatingsBySystem}get credits(){return this.model.credits}get description(){return this.model.description}get episodeNumber(){return this.model.episodeNumber}get episodeSeasonNumber(){return this.model.episodeSeasonNumber}get genreNames(){return this.model.genreNames}get hasHD(){var e
return null===(e=this.model.capabilities)||void 0===e?void 0:e.hasHD}get name(){return this.model.name}get releaseDate(){return this.model.releaseDate}get offers(){return this.model.offers}get type(){return this.model.type}get kind(){return this.model.kind}get videoAsset(){const{id:e,previews:t,type:i}=this.model
if(e&&t&&i)return{id:e,previews:t,type:i}}get webClientLaunchURL(){let e=Ember.get(this,"model.url")
return this.platform.isAtLeastMojavePlusOne&&(e=e.replace(/^https?/,"musics")),e}get rating(){const e=Ember.get(this,"model.contentRatingsBySystem")
if(e){const[t]=Object.keys(e)
return t?e[t]:null}}get episodeDuration(){const e=Ember.get(this,"offers")
if(e){if(Ember.get(e,"firstObject.durationInMilliseconds")){return Ember.get(e,"firstObject.durationInMilliseconds")/1e3}return(0,r.default)(e)}}get episodeDate(){const e=new t.default(this.releaseDate)
return(0,t.format)(e,this.i18n,i.RELEASE_DATE_FORMAT)}get episodeTrackData(){if(this.episodeSeasonNumber)return this.episodeDate.toLocaleUpperCase(this.i18n.locale)
{const{i18n:e}=this
switch(this.type){case"tvtrailer":return e.t("FUSE.OC.Show.Trailer.cap")
case"tv-episodes":case"episode":{const t=this.episodeNumber||0
if(0===t){return e.t("FUSE.OC.Show.Trailer.cap")}const i={seasonNumber:this.episodeSeasonNumber,trackNumber:t}
return e.t("FUSE.OC.Show.EpisodeTrack.cap",i)}case"episodebonus":{const t={name:this.name}
return e.t("FUSE.OC.Episode.Extra",t)}}}}get songsList(){if(Ember.get(this,"model.tracks")){return Ember.get(this,"model.tracks").map((e=>({...e,rawJSON:{...e,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}})))}}get moreFromShowTitle(){const e={curator:Ember.get(this,"artistName")}
return this.i18n.t("FUSE.moreFromCurator",e)}get otherEpisodes(){const e=Ember.get(this,"model.other-episodes")
if(!e)return
const{data:t}=e
return t.map((e=>({...e,seasonNumber:e.episodeSeasonNumber,videoSubType:e.kind,trackNumber:e.episodeNumber})))}get musicArtists(){const e=Ember.get(this,"model.music-artists")
if(!e)return
const{data:t}=e
return t.map((e=>{const{type:t}=e
return{...e,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[t]}}))}get lockupJSON(){const{model:e}=this
return{...e,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}}}).prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"platform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(p.prototype,"showUrl",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"showId",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"primaryLanguage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(p.prototype,"languages",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(p.prototype,"previewArtwork",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=E(p.prototype,"featuredContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=_})),define("desktop-music-app/presenters/grouping/base",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(t=Ember.computed.alias("model.artwork"),i=Ember.computed.alias("model.id"),r=Ember.computed.alias("model.chatUrl"),n=Ember.computed.alias("model.genreName"),o=Ember.computed.alias("model.name"),l=Ember.computed("model.curator.0"),s=b((a=class{constructor(){var e,t,i
i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,m(this,"artwork",s,this),m(this,"id",u,this),m(this,"chartUrl",c,this),m(this,"genreName",d,this),m(this,"name",p,this)}get product(){const e=this.model&&this.model.curator&&this.model.curator[0]
if(e)return{name:e.name,itunesNotes:e.editorialNotes}}}).prototype,"artwork",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=b(a.prototype,"id",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(a.prototype,"chartUrl",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(a.prototype,"genreName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(a.prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(a.prototype,"product",[l],Object.getOwnPropertyDescriptor(a.prototype,"product"),a.prototype),a)
e.default=f})),define("desktop-music-app/presenters/grouping/editorial-element",["exports","ember-inflector","desktop-music-app/decorators/cached-setter"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H
function V(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function W(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let Y=(r=Ember.computed.alias("model.children"),n=Ember.computed.alias("model.contents"),o=Ember.computed.readOnly("contents"),l=Ember.computed("contents.0"),a=Ember.computed.alias("model.id"),s=Ember.computed("model.id"),u=Ember.computed.alias("model.artwork"),c=Ember.computed.alias("model.designBadge"),d=Ember.computed.alias("model.designTag"),p=Ember.computed("model.{fcKind,model.editorialElementKind}"),m=Ember.computed.alias("model.doNotFilter"),b=Ember.computed.alias("model.displayStyle"),f=Ember.computed.alias("model.featureFirstElement"),h=Ember.computed.alias("storeContentLink.itunesNotes"),g=Ember.computed.alias("storeContentLink.editorialNotes"),y=Ember.computed("type","storeContentLink.kind"),v=Ember.computed.alias("model.link"),k=Ember.computed.alias("model.links"),w=Ember.computed.alias("model.name"),E=Ember.computed("model.rawJSON"),_=Ember.computed.alias("model.supportedSorts"),P=Ember.computed.alias("model.type"),S=W((O=class{constructor(e,t){K(this,"model",void 0),K(this,"parentFcKind",void 0),V(this,"_children",S,this),V(this,"_contents",z,this),V(this,"storeContent",j,this),V(this,"id",T,this),V(this,"artwork",M,this),V(this,"designBadge",C,this),V(this,"designTag",x,this),V(this,"doNotFilter",D,this),V(this,"displayStyle",L,this),V(this,"featureFirstElement",A,this),V(this,"itunesNotes",I,this),V(this,"editorialNotes",N,this),V(this,"link",R,this),V(this,"links",F,this),V(this,"name",U,this),V(this,"supportedSorts",B,this),V(this,"type",H,this),this.model=e,this.parentFcKind=t}get children(){return this._children}get contents(){return this._contents}get featuredContent(){return this.children&&this.children.length?this.children:this.contents&&this.contents.length?this.contents:void 0}get storeContentLink(){var e
return null===(e=this.contents)||void 0===e?void 0:e[0]}get isDefault(){return"default"===this.id}get fcKind(){return this.model.fcKind||parseInt(this.model.editorialElementKind,10)}get kind(){return(0,t.singularize)(this.type)}get rawJSON(){return this.model.rawJSON?this.model.rawJSON:Object.assign({},this.model)}get upcomingShows(){const{events:e=[]}=this.featuredContent[0]
return[...e].map((e=>{var t
const i={...e}
return"object"==typeof i.description&&(i.description=i.description.standard),i.curator=null===(t=i.curator)||void 0===t?void 0:t[0],i}))}}).prototype,"_children",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=W(O.prototype,"_contents",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"children",[i.default],Object.getOwnPropertyDescriptor(O.prototype,"children"),O.prototype),W(O.prototype,"contents",[i.default],Object.getOwnPropertyDescriptor(O.prototype,"contents"),O.prototype),j=W(O.prototype,"storeContent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"storeContentLink",[l],Object.getOwnPropertyDescriptor(O.prototype,"storeContentLink"),O.prototype),T=W(O.prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"isDefault",[s],Object.getOwnPropertyDescriptor(O.prototype,"isDefault"),O.prototype),M=W(O.prototype,"artwork",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=W(O.prototype,"designBadge",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=W(O.prototype,"designTag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"fcKind",[p],Object.getOwnPropertyDescriptor(O.prototype,"fcKind"),O.prototype),D=W(O.prototype,"doNotFilter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=W(O.prototype,"displayStyle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=W(O.prototype,"featureFirstElement",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=W(O.prototype,"itunesNotes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=W(O.prototype,"editorialNotes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"kind",[y],Object.getOwnPropertyDescriptor(O.prototype,"kind"),O.prototype),R=W(O.prototype,"link",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=W(O.prototype,"links",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=W(O.prototype,"name",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(O.prototype,"rawJSON",[E],Object.getOwnPropertyDescriptor(O.prototype,"rawJSON"),O.prototype),B=W(O.prototype,"supportedSorts",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=W(O.prototype,"type",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O)
e.default=Y})),define("desktop-music-app/presenters/grouping/musickit",["exports","desktop-music-app/presenters/grouping/base","desktop-music-app/presenters/grouping/editorial-element","desktop-music-app/utils/artwork","desktop-music-app/utils/constants"],(function(e,t,i,r,n){var o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(o=Ember.inject.service,l=Ember.inject.service,a=class extends t.default{constructor(...e){super(...e),c(this,"router",s,this),c(this,"storefront",u,this),this.model=this.model||e[0]||[]}processEditorialElements(){if(!this.model||this.model&&!this.model.tabs)return[]
const e=this.model,t=e.tabs[0]
if(t&&"382"===t.editorialElementKind){const e=(e,t)=>{const i=this._processChildren(t)
return(i.contents||i.children||i.links)&&e.push(i),e},i=t.children.findIndex((e=>"488"===e.editorialElementKind))
if(i>-1){const[r]=t.children.splice(i,1)
return t.children.splice(0,0,r),t.children.filter((e=>"316"!==e.editorialElementKind)).reduce(e,[])}return t.children.reduce(e,[])}return e.tabs.map((e=>this._processChildren(e)))}_processChildren(e){let t,r
return e.contents&&e.contents.length&&(t=this.processContents(e.contents)),e.children&&e.children.length&&(r=e.children.map((t=>{let r=[]
if(t.contents&&t.contents.length&&(r=this.processContents(t.contents)),r.length||t.artwork)return new i.default({...t,contents:r},e.editorialElementKind)})).filter(Boolean)),new i.default({...e,children:r,contents:t})}processContents(e){let t=[]
return e&&e.length&&(t=e.filter((e=>!("playlists"===e.type&&!e.playParams))).map((e=>{const t={...e}
return t.kind=n.AMWEB_TYPE_TO_KIND_MAPPING[t.type],/uploaded-/.test(t.type)&&(t.playParams={id:t.id,kind:t.kind}),e.artists&&e.artists.length&&(t.artistUrl=e.artists[0].url),t.itunesNotes={...t.editorialNotes||t.description},t.rawJSON={...t},"object"==typeof t.artwork&&(t.editorialArtwork=t.editorialArtwork||{subscriptionHero:{...t.artwork,height:1080,width:4320,url:(0,r.addCropCodePlaceholder)(t.artwork.url)},subscriptionCover:{...t.artwork,height:1080,width:4320,url:(0,r.addCropCodePlaceholder)(t.artwork.url)}}),t}))),t}get featuredContentList(){return this.processEditorialElements()}},s=d(a.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("desktop-music-app/presenters/label",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,n=a((r=class{constructor(){var e,t,i
l(this,"i18n",n,this),l(this,"router",o,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}get id(){return this.model.id}get kind(){return"label"}get description(){return this.model.description}get name(){return this.model.name}get url(){return this.model.url}get latestReleases(){return this.model["latest-releases"]}get topReleases(){return this.model["top-releases"]}get groups(){const{latestReleases:e,topReleases:t}=this
return[t,e].filter((e=>{var t
return null==e||null===(t=e.data)||void 0===t?void 0:t.length})).map((e=>function(e,t,i){if(!e)return
const{data:r,id:n}=e,o="latest-releases"===n?"Latest.Releases":"Top.Releases",l=t.t(`AMWeb.Label.Module.${o}`),a=i.urlFor("label.see-all",{queryParams:{section:n}})
return{id:n,title:o,data:r,sectionName:l,seeAllUrl:a}}(e,this.i18n,this.router)))}get artwork(){return this.model.artwork}get editorialArtwork(){const e={...this.model.editorialArtwork}
return e.bannerUber&&this.artwork.bgColor&&(e.bannerUber.bgColor=this.artwork.bgColor),e}get rawJSON(){const{kind:e}=this
return{...this.model,kind:e}}}).prototype,"i18n",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/presenters/listen-now",["exports","desktop-music-app/utils/constants","desktop-music-app/utils/playback","desktop-music-app/utils/media-type"],(function(e,t,i,r){var n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a="SINGLE_ROW",s="NEW_RELEASES",u="RECENTLY_PLAYED"
function c(e,t){return e&&1===e.length||!t.length?"WITHOUT_DECORATIONS":"explanation"===t[0]?"WITH_EXPLANATION":"WITHOUT_EXPLANATION"}function d(e){if(e.recommendations&&!e.contents){const t=e.recommendations.map((e=>e.contents?d(e):e))
return Object.assign({},e,{viewType:"GROUP_ALBUM",moduleType:s,recommendations:t})}if(function(e){const{contents:t=[],display:i}=e
return t.length||"musicUpsell"===(null==i?void 0:i.kind)}(e)){var n,o
const{viewType:d,moduleType:m}=function(e){if(!e.display)return
const t=new Set(e.resourceTypes),{decorations:i,kind:r}=e.display
let n,o
switch(r){case"MusicSuperHeroShelf":n=c(t,i),o="SUPERHERO_SWOOSH"
break
case"MusicNotesHeroShelf":n=c(t,i),o="POWER_SWOOSH"
break
case"musicUpsell":n=a,o="SUPERHERO_UPSELL"
break
default:{const[r]=t
if("recently-played"===e.kind)return{viewType:u,moduleType:u}
if("albums"===r)return{viewType:a,moduleType:s}
if("stations"===r)return{viewType:a,moduleType:"LISTEN_NOW_STATIONS"}
if("replay-upsell"===r)return{viewType:"UPSELL",moduleType:"REPLAY_UPSELL"}
if("playlists"===r)return{viewType:"FLAT_PLAYLIST",moduleType:"ARTIST_PLAYLISTS"}
if(t.has("social-profiles"))return{viewType:c(t,i),moduleType:"RECOMMEND_FRIENDS"}}}return{viewType:n,moduleType:o}}(e),b=null===(n=e.meta)||void 0===n?void 0:n.call(e),f=function(e=[],n){return e.map((e=>{var o
const l=t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]
let a
var s
null!==(o=e.artists)&&void 0!==o&&o.length&&(e.artistUrl=e.artists[0].url),e.editorialCard&&(a=null!==(s=e.meta)&&void 0!==s&&s.call(e).editorialCard?e.editorialCard[e.meta().editorialCard]:e.editorialCard[Object.entries(e.editorialCard)[0][0]]),void 0!==e.playParams||e.type.includes("library")||(e.isNotStreamable=!0)
const u=(0,i.generateRawJSON)(e),c=e.inflectionPoints||"function"==typeof e.meta?e.meta("inflectionPoints"):[],d=Object.assign({},e,{kind:l,editorialCard:a,isPlaylist:"playlist"===(0,r.getKind)(e),inflectionPoints:c,meta:n,rawJSON:u})
return Object.assign({},e,{kind:l,storeContent:d,rawJSON:u})})).filter((e=>{var t
return e.type.includes("library")?!(null===(t=e.catalog)||void 0===t||!t.length):"social-profiles"!==e.type||!!e.name}))}(e.contents,b),h=null==b||null===(o=b.metrics)||void 0===o?void 0:o.reco_id
if("SUPERHERO_SWOOSH"===m&&f.length){var l,p
const t=null===(l=f[0])||void 0===l?void 0:l.editorialCard
if(!t)return
const i=t[Object.keys(t)[0]]
e.title={stringForDisplay:null===(p=i.editorialNotes)||void 0===p?void 0:p.tagline}}return Object.assign({},e,{viewType:d,moduleType:m,children:f,recoId:h,meta:b})}}let p=(n=Ember.computed.alias("model.needsOnboarding"),o=class{constructor(){var e,t,i,r,n,o,a
i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,r=this,n="needsOnboarding",a=this,(o=l)&&Object.defineProperty(r,n,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}get recommendations(){const{model:e}=this
if(Array.isArray(e)&&e.length){return e.map((e=>d(e))).filter(Boolean)}return(null==e?void 0:e.recommendations)||[]}},m=o.prototype,b="needsOnboarding",f=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:null},y={},Object.keys(h).forEach((function(e){y[e]=h[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=f.slice().reverse().reduce((function(e,t){return t(m,b,e)||e}),y),g&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(g):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(m,b,y),y=null),l=y,o)
var m,b,f,h,g,y
e.default=p})),define("desktop-music-app/presenters/meta/activity",["exports","desktop-music-app/presenters/meta/base"],(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{constructor(...e){super(...e),i(this,"cropCode","sr"),i(this,"twitterCropCode","sr")}get artwork(){const{artwork:e,editorialArtwork:t}=this.model
return(null==t?void 0:t.subscriptionHero)||e}get socialTitle(){return this.title}get title(){const{name:e}=this.model
if(e)return this.i18n.t("FUSE.Meta.Genre.Title",{genreName:e})}}e.default=r})),define("desktop-music-app/presenters/meta/album",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/config/artwork-profiles","@amp/ember-ui-media-artwork/utils/srcset","desktop-music-app/utils/image-url-seo","desktop-music-app/utils/format-duration","desktop-music-app/utils/seo-loc-key-modifier"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v,k,w
function E(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let O=(a=Ember.computed.readOnly("model.name"),s=Ember.computed.readOnly("model.artistName"),u=Ember.computed.readOnly("model.artistUrl"),c=Ember.computed.readOnly("model.releaseDateIso"),d=Ember.computed.bool("selectedSongId"),p=Ember.computed.readOnly("selectedSong.id"),m=Ember.computed.readOnly("model.availableForPurchaseOnly"),b=class extends t.default{constructor(...e){super(...e),_(this,"fileType","jpg"),_(this,"selectedId",null),_(this,"twitterCardType","summary"),_(this,"twitterHeight",600),_(this,"twitterWidth",600),_(this,"twitterCropCode","bf"),E(this,"albumName",f,this),E(this,"artistName",h,this),E(this,"artistUrl",g,this),E(this,"musicReleaseDate",y,this),E(this,"noIndex",v,this),E(this,"selectedSongId",k,this),E(this,"storeOnlyAlbum",w,this),_(this,"schemaName","music-album")}get cropCode(){return this.selectedSongId?"wp":"bf"}get height(){return this.selectedSongId?i.ARTWORK_META_TAG_DEFAULTS.height:1200}get appleContentId(){return this.selectedSongId||this.model.id}get appleTitle(){return this.selectedSong?this.selectedSong.name:this.albumName}get albumPrice(){if(this.storeOnlyAlbum)return this._getBuyOffer(this.model).priceFormatted}get cheapestSong(){if(!this.storeOnlyAlbum)return
const{songsWithBuyOffers:e}=this
if(e.length){return e.sort(((e,t)=>{const i=this._getBuyOffer(e),r=this._getBuyOffer(t)
return i.price>r.price?1:-1}))[0]}}get cheapestTrackPrice(){if(!this.storeOnlyAlbum)return
const{cheapestSong:e}=this
return e?this._getBuyOffer(e).priceFormatted:void 0}get description(){const{model:{releaseYear:e,songs:t},albumName:i,artistName:r,selectedSong:n}=this
if(n){if(this.isSelectedSongStoreOnly)return this._getiTunesDescriptionForSong()
const t=this.i18n.t("FUSE.Meta.Common.Description.Subscription")
return this.i18n.t("FUSE.Meta.Track.Description",{year:e,duration:n.formattedDuration,upsell:t})}if(this.storeOnlyAlbum)return this._getiTunesDescriptionForAlbum()
const o=t.slice(0,3).map((e=>e.name))
return this.i18n.t(`FUSE.Meta.Album.Description${(0,l.default)(o)}`,{albumName:i,artistName:r,listing1:o[0],listing2:o[1]})}get isSelectedSongStoreOnly(){const{selectedSong:e}=this
return!(!e||e.playParams)&&!!this._getBuyOffer(e)}get keywords(){const{albumName:e,artistName:t,genreName:i,i18n:r}=this
return r.t(this._namespaceKey("Album.PageKeywords"),{albumName:e,artistName:t,genreName:i})}get selectedSong(){const{selectedId:e,model:{songs:t}={}}=this
if(e&&null!=t&&t.length)return t.find((t=>t.id===e))}get socialDescription(){const{model:{releaseYear:e,trackCount:t},selectedSong:i}=this
if(this.isSelectedSongStoreOnly||this.storeOnlyAlbum)return this.description
if(i){const{formattedDuration:t}=i
return this.i18n.t("FUSE.Meta.Track.Description.Social",{year:e,duration:t})}return this.i18n.t("FUSE.Meta.Album.Description.Social",{year:e,count:t})}get socialTitle(){const{albumName:e,artistName:t,selectedSong:i,i18n:r}=this
if(i){const{artistName:t,name:n}=i
return r.t(this._namespaceKey("Track.Title.Social"),{albumName:e,artistName:t,trackName:n})}return r.t(this._namespaceKey("Album.Title.Social"),{artistName:t,albumName:e})}get songsList(){const{selectedSong:e}=this
if(e)return[{album:{url:this.model.url},disc:e.discNumber,track:e.trackNumber,duration:e.duration?(0,o.isoDuration)(Math.trunc(e.duration)):null,url:e.url}]
const{songs:t}=this.model
return t&&t.length?t.map((e=>({disc:e.discNumber,track:e.trackNumber,duration:e.duration?(0,o.isoDuration)(Math.trunc(e.duration)):null,url:e.url}))):void 0}get songsWithBuyOffers(){if(!this.storeOnlyAlbum)return
const{model:{songs:e}={}}=this
return e.filter((e=>{var t
const i=null===(t=e.offers)||void 0===t?void 0:t.map((e=>e.type))
if(i)return i.includes("buy")}))}get title(){const{albumName:e,artistName:t,i18n:i,selectedSong:r}=this
return r?i.t(this._namespaceKey("Track.Title"),{artistName:t,trackName:r.name}):i.t(this._namespaceKey("Album.Title"),{artistName:t,albumName:e})}get type(){return`music.${this.selectedSongId?"song":"album"}`}get url(){return this.selectedSong?this.selectedSong.url:this.model.url}get ogArtwork(){const{artwork:e,cropCode:t,fileType:i,height:r,quality:o,width:l}=this
if(e)return(0,n.default)([e.url],{width:l,height:r,cropCode:t,fileType:i,quality:o})}get twitterArtwork(){const{artwork:e,twitterCropCode:t,fileType:i,quality:r,twitterHeight:o,twitterWidth:l}=this
if(e)return(0,n.default)([e.url],{width:l,height:o,cropCode:t,fileType:i,quality:r})}get schemaContent(){const{genreNames:e,songs:t}=this.model,{artistName:i,artistUrl:r,musicReleaseDate:n}=this,{moreByArtist:o=[],youMightAlsoLike:l=[]}=this,a={"@context":"http://schema.org","@type":"MusicAlbum",name:this.albumName,description:this.description,tracks:t.map((e=>this._schemaDataForTrack(e))),citation:l&&l.length?l.map((e=>this._schemaDataForAlbum(e))):[]},s=o&&o.length?o.map((e=>this._schemaDataForAlbum(e))):[],u=t&&t.length?t.map((e=>this._schemaDataForSong(e))):[]
return a.workExample=s.concat(u),e&&(a.genre=e),n&&(a.datePublished=n),i&&(a.byArtist={"@type":"MusicGroup",url:r,name:i}),a}_schemaDataForAlbum(e){const{artwork:t,name:i,url:n}=e,{width:o,height:l}=this
if(i){let e=""
return t&&(e=(0,r.buildSrc)(t.url,{width:o,height:l})),{"@type":"MusicAlbum",image:e,url:n,name:i}}}_schemaDataForSong(e){const t=this._getBuyOffer(e),{storeOnlyAlbum:i}=this,r=i&&(null==t?void 0:t.priceFormatted),n={"@type":"MusicRecording",name:e.name,url:e.url,audio:{"@type":"AudioObject"},offers:{"@type":"Offer",category:r?null:"free",price:r?t.priceFormatted:0}}
return e.duration&&(n.duration=(0,o.isoDuration)(Math.trunc(e.duration))),n}_schemaDataForTrack(e){const t={"@type":"MusicRecording",name:e.name,audio:{"@type":"AudioObject"}},i=this._getBuyOffer(e),{storeOnlyAlbum:r}=this,n=r&&(null==i?void 0:i.priceFormatted)
return t.offers={"@type":"Offer",category:n?null:"free",price:n?i.priceFormatted:0},e.duration&&(t.duration=(0,o.isoDuration)(Math.trunc(e.duration))),t}_getBuyOffer(e){var t
return null==e||null===(t=e.offers)||void 0===t?void 0:t.find((e=>"buy"===e.type))}_getiTunesDescriptionForAlbum(){const e=[],{albumName:t,albumPrice:i,cheapestSong:r,cheapestTrackPrice:n,i18n:o,songsWithBuyOffers:l,storeOnlyAlbum:a}=this,s=l?l.length:0,u=this._namespaceKey("Album.Description")
if(s>0){let i
const[r={},n={},a={}]=l,c={albumName:t,listing1:null==r?void 0:r.name,listing2:null==n?void 0:n.name,listing3:null==a?void 0:a.name}
switch(s){case 1:i=`${u}.One`
break
case 2:i=`${u}.Two`
break
case 3:i=`${u}.Three`
break
default:i=`${u}.ManyMore`}e.push(o.t(i,{...c}))}return a&&e.push(o.t(`${u}.AlbumPrice`,{formattedPrice:i})),a&&r&&e.push(o.t(`${u}.CheapestTrack`,{cheapestTrackPrice:n})),e.join(" ")}_getiTunesDescriptionForSong(){const e=[],{i18n:t,selectedSong:i}=this,{name:r,albumName:n}=i,o=this._getBuyOffer(i).priceFormatted,l=this._namespaceKey("Track.Description")
return e.push(t.t(l,{albumName:n,trackName:r})),o&&e.push(t.t(`${l}.TrackPrice`,{trackPrice:o})),e.join(" ")}_namespaceKey(e){const t=["FUSE.Meta",e]
return(this.isSelectedSongStoreOnly||this.storeOnlyAlbum)&&t.push("iTunes"),t.join(".")}},f=P(b.prototype,"albumName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P(b.prototype,"artistName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(b.prototype,"artistUrl",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(b.prototype,"musicReleaseDate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(b.prototype,"noIndex",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P(b.prototype,"selectedSongId",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(b.prototype,"storeOnlyAlbum",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b)
e.default=O})),define("desktop-music-app/presenters/meta/artist",["exports","desktop-music-app/presenters/meta/base","@amp/ember-ui-media-artwork/utils/srcset","desktop-music-app/utils/musickit-data","desktop-music-app/utils/format-duration","desktop-music-app/utils/seo-loc-key-modifier"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(l=Ember.computed.readOnly("model.name"),a=Ember.computed("artistName","model.songs.[]"),s=Ember.computed("artistName","genreName"),u=Ember.computed.readOnly("title"),c=Ember.computed("artistName"),d=Ember.computed("i18n.locale"),p=class extends t.default{constructor(...e){super(...e),h(this,"cropCode","cw"),h(this,"twitterCropCode","cw"),h(this,"type","music.musician"),f(this,"artistName",m,this),f(this,"socialTitle",b,this),h(this,"schemaName","music-group")}get description(){var e
const{artistName:t,model:i}=this,n=(null===(e=(0,r.getViewDataFromModel)(i,"topSongs"))||void 0===e?void 0:e.data)||[],[l=null,a=null]=n,s=`FUSE.Meta.Artist.Description${(0,o.default)(n)}`
return this.i18n.t(s,{artistName:t,listing1:null==l?void 0:l.name,listing2:null==a?void 0:a.name})}get keywords(){const{artistName:e,genreName:t,i18n:i}=this,r=`FUSE.Meta.Artist.PageKeywords${t?"":".WithoutGenre"}`
return i.t(r,{artistName:e,genreName:t})}get title(){const{artistName:e}=this
return this.i18n.t("FUSE.Meta.Artist.Title",{artistName:e})}get schemaContent(){var e
const{albums:t}=this.model,o=(null===(e=(0,r.getViewDataFromModel)(this.model,"topSongs"))||void 0===e?void 0:e.data)||[],{artistName:l,description:a,fileType:s,genreNames:u,url:c}=this,d={"@context":"http://schema.org","@type":"MusicGroup",name:l,description:a,genre:u}
return o&&o.length&&(d.tracks=o.map((e=>{const{name:t,url:i}=e,r={"@type":"MusicRecording",url:i,name:t,audio:{"@type":"AudioObject"},offers:{"@type":"Offer",category:"free",price:0}}
return e.durationInMillis&&(r.duration=(0,n.isoDuration)(Math.trunc(e.durationInMillis/1e3))),r}))),t&&t.data&&t.data.length&&(d.albums=t.data.map((e=>({"@type":"MusicAlbum",image:(0,i.buildSrc)(e.artwork.url,{width:486,height:486,cropCode:"bb",fileType:s}),url:e.url,name:e.name,byArtist:{"@type":"MusicGroup",url:c,name:l}})))),d}},m=g(p.prototype,"artistName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(p.prototype,"description",[a],Object.getOwnPropertyDescriptor(p.prototype,"description"),p.prototype),g(p.prototype,"keywords",[s],Object.getOwnPropertyDescriptor(p.prototype,"keywords"),p.prototype),b=g(p.prototype,"socialTitle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(p.prototype,"title",[c],Object.getOwnPropertyDescriptor(p.prototype,"title"),p.prototype),g(p.prototype,"schemaContent",[d],Object.getOwnPropertyDescriptor(p.prototype,"schemaContent"),p.prototype),p)
e.default=y})),define("desktop-music-app/presenters/meta/base",["exports","@amp/ember-ui-media-artwork/utils/srcset","desktop-music-app/config/artwork-profiles","desktop-music-app/config/artwork-fallbacks"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let E=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service("locale"),a=Ember.computed.readOnly("siteName"),s=Ember.computed("editorialNotes"),u=Ember.computed("genreNames.[]"),c=Ember.computed("localeSvc.locale"),d=Ember.computed("artwork"),p=Ember.computed("schemaName","schemaContent"),m=Ember.computed("artwork"),f=w((b=class{constructor(){v(this,"fastboot",f,this),v(this,"i18n",h,this),v(this,"localeSvc",g,this),k(this,"model",void 0),k(this,"schemaName",void 0),k(this,"twitterCardType","summary_large_image"),k(this,"twitterHeight",i.ARTWORK_META_TAG_DEFAULTS.height),k(this,"twitterWidth",i.ARTWORK_META_TAG_DEFAULTS.width),v(this,"title",y,this)}get appleStoreId(){return"1108187390"}get appleStoreName(){return"Apple Music"}get appleContentId(){var e
return null===(e=this.model)||void 0===e?void 0:e.id}get appleDescription(){return this.description}get appleTitle(){var e
return null===(e=this.model)||void 0===e?void 0:e.name}get cropCode(){return i.ARTWORK_META_TAG_DEFAULTS.cropCode}get fileType(){return i.ARTWORK_META_TAG_DEFAULTS.fileType}get height(){var e
return null!==(e=this.model)&&void 0!==e&&e.artwork?i.ARTWORK_META_TAG_DEFAULTS.height:r.default["sharing-default"].height}get twitterCropCode(){return i.ARTWORK_META_TAG_DEFAULTS.cropCode}get width(){var e
return null!==(e=this.model)&&void 0!==e&&e.artwork?i.ARTWORK_META_TAG_DEFAULTS.width:r.default["sharing-default"].width}get origin(){if(this.fastboot.isFastBoot){const{request:{host:e,protocol:t}}=this.fastboot
return`${t}//${e.split(":")[0]}`}var e
return null===(e=window.location)||void 0===e?void 0:e.origin}get artwork(){var e
if(null!==(e=this.model)&&void 0!==e&&e.artwork)return this.model.artwork
const t=r.default["sharing-default"],{url:i}=t
return t.url.startsWith("/")&&(t.url=`${this.origin}${i}`),t}get editorialNotes(){return Ember.get(this,"model.editorialNotes")||{}}get genreNames(){return Ember.get(this,"model.genreNames")}get quality(){return i.ARTWORK_META_TAG_DEFAULTS.quality}get socialDescription(){return this.description||this.i18n.t("FUSE.WEB.UpsellBanner.Generic.Description")}get socialTitle(){return this.i18n.t("FUSE.WEB.UpsellBanner.Generic.Header")}get url(){var e
return null===(e=this.model)||void 0===e?void 0:e.url}get siteName(){return this.i18n.t("FUSE.AppleMusic")}get songsList(){return[]}get description(){if(this.editorialNotes){const{short:e,standard:t}=this.editorialNotes
return t||e||null}}get genreName(){const{genreNames:e}=this
if(e&&e.length)return e[0]}get locale(){const{localeSvc:{locale:e}}=this
if(e){const t=e.split("-")
return 1===t.length?e:`${t[0]}_${t[1].toUpperCase()}`}}get ogArtwork(){const{artwork:e,cropCode:i,fileType:r,height:n,width:o}=this
if(e)return(0,t.buildSrc)(e.url,{width:o,height:n,crop:i,fileType:r})}get schemaTag(){const{schemaContent:e,schemaName:t}=this
if(e&&t)return{name:`schema:${t}`,content:JSON.stringify(e)}}get twitterArtwork(){const{artwork:e,twitterCropCode:i,fileType:r,twitterHeight:n,twitterWidth:o}=this
if(e)return(0,t.buildSrc)(e.url,{width:o,height:n,crop:i,fileType:r})}}).prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(b.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(b.prototype,"localeSvc",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w(b.prototype,"title",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(b.prototype,"description",[s],Object.getOwnPropertyDescriptor(b.prototype,"description"),b.prototype),w(b.prototype,"genreName",[u],Object.getOwnPropertyDescriptor(b.prototype,"genreName"),b.prototype),w(b.prototype,"locale",[c],Object.getOwnPropertyDescriptor(b.prototype,"locale"),b.prototype),w(b.prototype,"ogArtwork",[d],Object.getOwnPropertyDescriptor(b.prototype,"ogArtwork"),b.prototype),w(b.prototype,"schemaTag",[p],Object.getOwnPropertyDescriptor(b.prototype,"schemaTag"),b.prototype),w(b.prototype,"twitterArtwork",[m],Object.getOwnPropertyDescriptor(b.prototype,"twitterArtwork"),b.prototype),b)
e.default=E})),define("desktop-music-app/presenters/meta/curator",["exports","desktop-music-app/presenters/meta/base","@amp/ember-ui-media-artwork/utils/srcset","desktop-music-app/utils/seo-loc-key-modifier"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(n=Ember.computed.readOnly("model.name"),o=Ember.computed.or("model.editorialArtwork.brandLogo","model.artwork.brandLogo","model.artwork"),l=Ember.computed.readOnly("model.playlists"),a=Ember.computed.readOnly("title"),s=Ember.computed("artistName"),u=Ember.computed("artistName","playlists.[]","model.grouping.[]"),c=Ember.computed("artistName","genreName"),d=Ember.computed("playlists.[]"),p=Ember.computed("i18n.locale"),m=class extends t.default{constructor(...e){super(...e),v(this,"cropCode","cw"),v(this,"twitterCropCode","cw"),v(this,"type","music.creator"),y(this,"artistName",b,this),y(this,"artwork",f,this),y(this,"playlists",h,this),y(this,"socialTitle",g,this),v(this,"schemaName","creator")}get title(){return this.i18n.t("FUSE.Meta.Curator.Title",{curatorName:this.artistName})}get description(){const{artistName:e,playlists:t}=this,{grouping:i,type:n}=this.model
let o="FUSE.Meta.Curator.Description",l=t.slice(0,3).map((e=>e.name))
if("apple-curators"===n){var a
const e=i.find((e=>e.contents.some((e=>"songs"===e.type)))),[t]=i,r=null===(a=t.contents[0])||void 0===a?void 0:a.type
o+="stations"===r?".Show":".Category","stations"!==r&&e?(o+=".Songs",l=e.contents.slice(0,3).map((e=>e.name))):l=t.contents.slice(0,3).map((e=>e.name))}const s=`${o}${(0,r.default)(l)}`
return this.i18n.t(s,{curatorName:e,listing1:l[0],listing2:l[1]})}get keywords(){return this.i18n.t("FUSE.Meta.Curator.PageKeywords",{curatorName:this.artistName})}get socialDescription(){const{playlists:e}=this
if(e&&e.length){const t=e.length
if(t&&t>0)return this.i18n.t("FUSE.Meta.Curator.Description.Social",{count:t})}return this.description}get schemaContent(){const{artistName:e,description:t,playlists:i}=this,r={"@context":"http://schema.org","@type":"Person",name:e,description:t}
return i&&i.length&&(r.workExample=i.map((e=>this._schemaDataForPlaylist(e)))),r}_schemaDataForPlaylist(e){const{artwork:t,name:r,url:n}=e
if(t&&r){const{height:e,width:o,url:l}=t
let a=""
return e&&o&&l&&(a=(0,i.buildSrc)(l,{width:o,height:e})),{"@type":"MusicPlaylist",image:a,url:n,name:r}}}},b=k(m.prototype,"artistName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(m.prototype,"artwork",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(m.prototype,"playlists",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(m.prototype,"socialTitle",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(m.prototype,"title",[s],Object.getOwnPropertyDescriptor(m.prototype,"title"),m.prototype),k(m.prototype,"description",[u],Object.getOwnPropertyDescriptor(m.prototype,"description"),m.prototype),k(m.prototype,"keywords",[c],Object.getOwnPropertyDescriptor(m.prototype,"keywords"),m.prototype),k(m.prototype,"socialDescription",[d],Object.getOwnPropertyDescriptor(m.prototype,"socialDescription"),m.prototype),k(m.prototype,"schemaContent",[p],Object.getOwnPropertyDescriptor(m.prototype,"schemaContent"),m.prototype),m)
e.default=w})),define("desktop-music-app/presenters/meta/episode",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants","desktop-music-app/helpers/duration-summary","desktop-music-app/utils/media-type"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z
function j(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function M(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(l=Ember.computed.readOnly("title"),a=Ember.computed.readOnly("cropCode"),s=Ember.computed("model.{episodeNumber,episodeSeasonNumber}","duration","episodeDate"),u=Ember.computed("model.offers.0.durationInMilliseconds"),c=Ember.computed("model.releaseDate"),d=Ember.computed("model.{episodeNumber,episodeSeasonNumber}","duration","episodeDate","editorialNotes"),p=Ember.computed.readOnly("model.artistName"),m=Ember.computed.readOnly("model.name"),b=Ember.computed.readOnly("model.episodeNumber"),f=Ember.computed("name","genreName"),h=Ember.computed.readOnly("model.releaseDate"),g=Ember.computed.readOnly("model.description"),y=Ember.computed("showName","name"),v=Ember.computed("i18n.locale","showName","description","ogArtwork","genreNames","episodeNumber","datePublished"),k=class extends t.default{constructor(...e){super(...e),T(this,"cropCode","bb"),j(this,"socialTitle",w,this),j(this,"twitterCropCode",E,this),T(this,"type","music.episode"),j(this,"showName",_,this),j(this,"name",P,this),j(this,"episodeNumber",O,this),j(this,"datePublished",S,this),j(this,"editorialNotes",z,this),T(this,"schemaName","episode")}get socialDescription(){const{episodeNumber:e,episodeSeasonNumber:t}=this.model,{duration:i,episodeDate:r}=this,n="tvtrailer"===(0,o.getKind)(this.model)?"FUSE.Meta.TVTrailer.Description.Social":"FUSE.Meta.Episode.Description.Social"
return this.i18n.t(n,{episodeSeasonNumber:t,episodeNumber:e,episodeDate:r,duration:i})}get duration(){const e=Ember.get(this,"model.offers.0.durationInMilliseconds"),t=Math.floor(e/1e3)
return(0,n.deriveDuration)(t,this.localeSvc,this.i18n)}get episodeDate(){const{releaseDate:e}=this.model,t=new i.default(e)
return(0,i.format)(t,this.i18n,r.RELEASE_DATE_FORMAT)}get description(){const{episodeNumber:e,episodeSeasonNumber:t}=this.model,{editorialNotes:i,duration:r,episodeDate:n}=this,l=i.standard||i.short,a="tvtrailer"===(0,o.getKind)(this.model)?"FUSE.Meta.TVTrailer.Description":"FUSE.Meta.Episode.Description"
return this.i18n.t(a,{episodeSeasonNumber:t,episodeNumber:e,episodeDate:n,duration:r,description:l})}get keywords(){const{name:e,genreName:t,i18n:i}=this
return i.t("FUSE.Meta.Episode.PageKeywords",{name:e,genreName:t})}get title(){const{showName:e,name:t}=this
return this.i18n.t("FUSE.Meta.Episode.Title",{showName:e,name:t})}get schemaContent(){const{showName:e,description:t,ogArtwork:i,genreNames:r,episodeNumber:n,datePublished:o}=this
return{"@context":"http://schema.org","@type":"Episode",name:e,description:t,image:i,genre:r[0],episodeNumber:n,datePublished:o}}},w=M(k.prototype,"socialTitle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(k.prototype,"twitterCropCode",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(k.prototype,"socialDescription",[s],Object.getOwnPropertyDescriptor(k.prototype,"socialDescription"),k.prototype),M(k.prototype,"duration",[u],Object.getOwnPropertyDescriptor(k.prototype,"duration"),k.prototype),M(k.prototype,"episodeDate",[c],Object.getOwnPropertyDescriptor(k.prototype,"episodeDate"),k.prototype),M(k.prototype,"description",[d],Object.getOwnPropertyDescriptor(k.prototype,"description"),k.prototype),_=M(k.prototype,"showName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(k.prototype,"name",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(k.prototype,"episodeNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(k.prototype,"keywords",[f],Object.getOwnPropertyDescriptor(k.prototype,"keywords"),k.prototype),S=M(k.prototype,"datePublished",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(k.prototype,"editorialNotes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(k.prototype,"title",[y],Object.getOwnPropertyDescriptor(k.prototype,"title"),k.prototype),M(k.prototype,"schemaContent",[v],Object.getOwnPropertyDescriptor(k.prototype,"schemaContent"),k.prototype),k)
e.default=C})),define("desktop-music-app/presenters/meta/grouping",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/seo-loc-key-modifier"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{get title(){const{name:e}=this.model
if(e)return this.i18n.t("FUSE.Meta.Genre.Title",{genreName:e})}get socialTitle(){return this.title}get description(){var e,t
const{model:r}=this,{name:n,tabs:o}=r,{children:l}=o[0]
let a="FUSE.Meta.Genre.Description"
const s=l.map((e=>e.type)),u=s.includes("track")?s.indexOf("track"):s.indexOf("normal"),c=new Set([])
null!==(e=l[u])&&void 0!==e&&e.contents.some((e=>"songs"===e.type))&&(a+=".Song"),null===(t=l[u])||void 0===t||t.contents.forEach((e=>{const t="albums"===e.type?e.artistName:e.name
t&&c.add(t)}))
const d=Array.from(c)
return this.i18n.t(`${a}${(0,i.default)(d)}`,{listing1:d[0],listing2:d[1],genreName:n})}}e.default=r})),define("desktop-music-app/presenters/meta/label",["exports","desktop-music-app/presenters/meta/base","@amp/ember-ui-media-artwork/utils/srcset","desktop-music-app/utils/seo-loc-key-modifier"],(function(e,t,i,r){var n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(n=Ember.computed.readOnly("model.name"),o=Ember.computed("labelName","genreName"),l=Ember.computed.readOnly("title"),a=Ember.computed("labelName"),s=Ember.computed("i18n.locale"),u=class extends t.default{constructor(...e){super(...e),m(this,"cropCode","cw"),m(this,"twitterCropCode","cw"),m(this,"type","music.musician"),p(this,"labelName",c,this),p(this,"socialTitle",d,this),m(this,"schemaName","music-label")}get description(){var e,t
const{labelName:i,model:n}=this,o=((null===(e=n.topReleases)||void 0===e?void 0:e.data)||(null===(t=n.latestReleases)||void 0===t?void 0:t.data)||[]).slice(0,3).map((e=>e.name))||[],[l=null,a=null]=o,s=`FUSE.Meta.Label.Title.Description${(0,r.default)(o)}`
return this.i18n.t(s,{labelName:i,listing1:l,listing2:a})}get keywords(){const{labelName:e,genreName:t,i18n:i}=this,r=`FUSE.Meta.Artist.PageKeywords${t?"":".WithoutGenre"}`
return i.t(r,{artistName:e,genreName:t})}get title(){const{labelName:e}=this
return this.i18n.t("FUSE.Meta.Label.Title",{labelName:e})}get schemaContent(){const{latestReleases:e={},topReleases:t={}}=this.model,{labelName:r,description:n,fileType:o,genreNames:l}=this,a=[...t.data||[],...e.data||[]],s={"@context":"http://schema.org","@type":"MusicLabel",name:r,description:n,genre:l}
return a.length&&(s.releasePublished=a.map((e=>({"@type":"MusicAlbum",image:(0,i.buildSrc)(e.artwork.url,{width:486,height:486,cropCode:"bb",fileType:o}),url:e.url,name:e.name,byArtist:{"@type":"MusicGroup",name:e.artistName}})))),s}},c=b(u.prototype,"labelName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"keywords",[o],Object.getOwnPropertyDescriptor(u.prototype,"keywords"),u.prototype),d=b(u.prototype,"socialTitle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"title",[a],Object.getOwnPropertyDescriptor(u.prototype,"title"),u.prototype),b(u.prototype,"schemaContent",[s],Object.getOwnPropertyDescriptor(u.prototype,"schemaContent"),u.prototype),u)
e.default=f})),define("desktop-music-app/presenters/meta/lyrics",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/helpers/get-year-from-date","desktop-music-app/utils/format-duration"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w
function E(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let O=(n=Ember.inject.service,o=Ember.computed.readOnly("model.album.album"),l=Ember.computed.readOnly("album.name"),a=Ember.computed.readOnly("album.artistName"),s=Ember.computed.readOnly("model.selectedTrack"),u=Ember.computed.readOnly("album.genreNames"),c=Ember.computed.readOnly("selectedTrack.name"),d=Ember.computed("albumName","artistName"),p=Ember.computed("albumName","artistName"),m=Ember.computed("albumName","artistName"),b=class extends t.default{constructor(...e){super(...e),E(this,"fastboot",f,this),_(this,"cropCode","wp"),_(this,"twitterCardType","summary"),_(this,"twitterHeight",600),_(this,"twitterWidth",600),_(this,"twitterCropCode","bf"),_(this,"type","music.lyric"),E(this,"album",h,this),E(this,"albumName",g,this),E(this,"artistName",y,this),E(this,"selectedTrack",v,this),E(this,"genreNames",k,this),E(this,"name",w,this)}get description(){return this.i18n.t("FUSE.Meta.Track.Description.Social",{duration:(0,r.formatDuration)(this.selectedTrack.durationInMillis/1e3,this.localeSvc.locale),year:(0,i.getYearFromDate)(this.album.releaseDate,this.i18n)})}get socialTitle(){const{artistName:e,albumName:t,selectedTrack:i,name:r}=this
return i?this.i18n.t("FUSE.Meta.Track.Title.Social",{artistName:e,trackName:r}):this.i18n.t("FUSE.Meta.Album.Title",{artistName:e,albumName:t})}get title(){const{artistName:e,albumName:t,selectedTrack:i}=this
return e&&null!=i&&i.name?this.i18n.t("FUSE.Meta.Track.Title.Social",{artistName:e,trackName:i.name}):this.i18n.t("FUSE.Meta.Album.Title",{artistName:e,albumName:t})}get keywords(){const{albumName:e,artistName:t,genreNames:i}=this,r=null==i?void 0:i[0]
return this.i18n.t("FUSE.Meta.Album.PageKeywords",{albumName:e,artistName:t,genreName:r})}get url(){return!this.fastboot.isFastBoot&&window.location.href}get artwork(){var e
return null===(e=this.album)||void 0===e?void 0:e.artwork}},f=P(b.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P(b.prototype,"album",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(b.prototype,"albumName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(b.prototype,"artistName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(b.prototype,"selectedTrack",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P(b.prototype,"genreNames",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(b.prototype,"name",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(b.prototype,"socialTitle",[d],Object.getOwnPropertyDescriptor(b.prototype,"socialTitle"),b.prototype),P(b.prototype,"title",[p],Object.getOwnPropertyDescriptor(b.prototype,"title"),b.prototype),P(b.prototype,"keywords",[m],Object.getOwnPropertyDescriptor(b.prototype,"keywords"),b.prototype),b)
e.default=O})),define("desktop-music-app/presenters/meta/multi-room",["exports","desktop-music-app/presenters/meta/base"],(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{constructor(...e){super(...e),i(this,"cropCode","cw"),i(this,"twitterCropCode","cw")}get title(){return this.model.pageTitle?this.i18n.t("FUSE.Meta.MultiRoom.Title",{multiRoomName:this.model.pageTitle}):super.title}get socialTitle(){return this.model.pageTitle||super.socialTitle}get description(){return this.model.pageTitle?this.i18n.t("FUSE.Meta.MultiRoom.Description",{multiRoomName:this.model.pageTitle}):super.description}get artwork(){return this.model.uber}}e.default=r})),define("desktop-music-app/presenters/meta/music-movie",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/constants","desktop-music-app/helpers/duration-summary","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E
function _(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(o=Ember.computed.readOnly("title"),l=Ember.computed.readOnly("cropCode"),a=Ember.computed.readOnly("model.name"),s=Ember.computed.readOnly("model.description"),u=Ember.computed("editorialNotes","genreNames","releaseYear","duration"),c=Ember.computed("model.offers.0.durationInMilliseconds"),d=Ember.computed("dateCreated"),p=Ember.computed("genreNames","releaseYear","duration"),m=Ember.computed("movieName"),b=Ember.computed.readOnly("model.releaseDate"),f=Ember.computed("movieName","genreName"),h=Ember.computed("i18n.locale","movieName","description","ogArtwork","genreNames","dateCreated"),g=class extends t.default{constructor(...e){super(...e),P(this,"cropCode","fa"),_(this,"socialTitle",y,this),_(this,"twitterCropCode",v,this),P(this,"type","music.movie"),_(this,"movieName",k,this),_(this,"editorialNotes",w,this),_(this,"dateCreated",E,this),P(this,"schemaName","movie")}get description(){const{editorialNotes:e,genreNames:t,releaseYear:i,duration:r}=this,n=t[0],o=e.standard||e.short
return this.i18n.t("FUSE.Meta.MusicMovie.Description",{genreName:n,releaseYear:i,duration:r,description:o})}get duration(){const e=Ember.get(this,"model.offers.0.durationInMilliseconds"),t=Math.floor(e/1e3)
return(0,r.deriveDuration)(t,this.localeSvc,this.i18n)}get releaseYear(){const{dateCreated:e}=this
return(0,n.getYearFromDate)(e,this.i18n)}get socialDescription(){const{genreNames:e,releaseYear:t,duration:i}=this,r=e[0]
return this.i18n.t("FUSE.Meta.MusicMovie.Description.Social",{genreName:r,releaseYear:t,duration:i})}get title(){const{movieName:e}=this
return this.i18n.t("FUSE.Meta.MusicMovie.Title",{movieName:e})}get keywords(){const{movieName:e,genreName:t,i18n:i}=this
return i.t("FUSE.Meta.MusicMovie.PageKeywords",{movieName:e,genreName:t})}get schemaContent(){const{movieName:e,description:t,ogArtwork:i,genreNames:r,dateCreated:n}=this
return{"@context":"http://schema.org","@type":"Movie",name:e,description:t,image:i,genre:r[0],dateCreated:n}}},y=O(g.prototype,"socialTitle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(g.prototype,"twitterCropCode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(g.prototype,"movieName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(g.prototype,"editorialNotes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(g.prototype,"description",[u],Object.getOwnPropertyDescriptor(g.prototype,"description"),g.prototype),O(g.prototype,"duration",[c],Object.getOwnPropertyDescriptor(g.prototype,"duration"),g.prototype),O(g.prototype,"releaseYear",[d],Object.getOwnPropertyDescriptor(g.prototype,"releaseYear"),g.prototype),O(g.prototype,"socialDescription",[p],Object.getOwnPropertyDescriptor(g.prototype,"socialDescription"),g.prototype),O(g.prototype,"title",[m],Object.getOwnPropertyDescriptor(g.prototype,"title"),g.prototype),E=O(g.prototype,"dateCreated",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(g.prototype,"keywords",[f],Object.getOwnPropertyDescriptor(g.prototype,"keywords"),g.prototype),O(g.prototype,"schemaContent",[h],Object.getOwnPropertyDescriptor(g.prototype,"schemaContent"),g.prototype),g)
e.default=S})),define("desktop-music-app/presenters/meta/music-video",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/format-duration","@amp/ember-ui-media-artwork/utils/srcset"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P
function O(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let j=(n=Ember.computed.readOnly("model.artistName"),o=Ember.computed.readOnly("model.name"),l=Ember.computed.readOnly("model.previews.0.url"),a=Ember.computed.readOnly("artwork.height"),s=Ember.computed.readOnly("artwork.width"),u=Ember.computed("artistName","songName"),c=Ember.computed("durationInSeconds"),d=Ember.computed("model.durationInMillis"),p=Ember.computed("description","model.releaseYear"),m=Ember.computed("songName","artistName"),b=Ember.computed("songName","artistName"),f=Ember.computed("songName","artistName"),h=Ember.computed.readOnly("model.releaseDateIso"),g=Ember.computed("i18n.locale"),y=class extends t.default{constructor(...e){super(...e),S(this,"cropCode","mv"),S(this,"twitterCropCode","bf"),S(this,"twitterHeight",600),S(this,"type","video.other"),O(this,"artistName",v,this),O(this,"songName",k,this),O(this,"videoUrl",w,this),O(this,"videoHeight",E,this),O(this,"videoWidth",_,this),O(this,"musicReleaseDate",P,this),S(this,"schemaName","music-video-object")}get description(){const{artistName:e,songName:t}=this
return this.i18n.t("FUSE.Meta.MusicVideo.Description",{artistName:e,songName:t})}get duration(){return(0,i.formatDuration)(this.durationInSeconds,this.localeSvc.locale)}get durationInSeconds(){const{model:{durationInMillis:e}}=this
return Math.floor(e/1e3)}get socialDescription(){const{model:{releaseYear:e},duration:t,songName:i,i18n:r}=this
return r.t("FUSE.Meta.MusicVideo.Description.Social",{duration:t,year:e,songName:i})}get socialTitle(){const{songName:e,artistName:t,i18n:i}=this
return i.t("FUSE.Meta.MusicVideo.Title.Social",{artistName:t,songName:e})}get title(){const{songName:e,artistName:t,i18n:i}=this
return i.t("FUSE.Meta.MusicVideo.Title",{songName:e,artistName:t})}get keywords(){const{songName:e,artistName:t,i18n:i}=this
return i.t("FUSE.Meta.MusicVideo.PageKeywords",{songName:e,artistName:t})}get schemaContent(){const{artistName:e,artistUrl:t,artwork:n,cropCode:o,description:l,durationInSeconds:a,genreNames:s,musicReleaseDate:u,ogArtwork:c,songName:d}=this,p=this.model.moreMusicVideosInGenre||[],m=this.model.moreMusicVideosByArtist||[],b=this._schemaDataForVideo.bind(this),f={"@context":"http://schema.org","@type":"MusicVideoObject",name:d,description:l,video:{"@type":"VideoObject",name:d,description:l,uploadDate:u},citation:p.map(b),workExample:m.map(b)}
if(n){const{height:e,url:t,width:i}=n
e&&t&&i&&(f.video.thumbnailUrl=(0,r.buildSrc)(t,{width:i,height:Math.ceil(e),crop:o}))}return s&&(f.genre=s),c&&(f.image=c),a&&(f.duration=(0,i.isoDuration)(Math.trunc(a))),this.artistName&&(f.creator={"@type":"MusicGroup",url:t,name:e}),f}_schemaDataForVideo(e){const{artwork:t,name:i,url:n}=e,{cropCode:o,width:l,height:a}=this
let s=""
return t&&(s=(0,r.buildSrc)(t.url,{width:l,height:Math.ceil(a),crop:o})),{"@type":"MusicVideoObject",name:i,url:n,image:s}}},v=z(y.prototype,"artistName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(y.prototype,"songName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(y.prototype,"videoUrl",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(y.prototype,"videoHeight",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(y.prototype,"videoWidth",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(y.prototype,"description",[u],Object.getOwnPropertyDescriptor(y.prototype,"description"),y.prototype),z(y.prototype,"duration",[c],Object.getOwnPropertyDescriptor(y.prototype,"duration"),y.prototype),z(y.prototype,"durationInSeconds",[d],Object.getOwnPropertyDescriptor(y.prototype,"durationInSeconds"),y.prototype),z(y.prototype,"socialDescription",[p],Object.getOwnPropertyDescriptor(y.prototype,"socialDescription"),y.prototype),z(y.prototype,"socialTitle",[m],Object.getOwnPropertyDescriptor(y.prototype,"socialTitle"),y.prototype),z(y.prototype,"title",[b],Object.getOwnPropertyDescriptor(y.prototype,"title"),y.prototype),z(y.prototype,"keywords",[f],Object.getOwnPropertyDescriptor(y.prototype,"keywords"),y.prototype),P=z(y.prototype,"musicReleaseDate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(y.prototype,"schemaContent",[g],Object.getOwnPropertyDescriptor(y.prototype,"schemaContent"),y.prototype),y)
e.default=j})),define("desktop-music-app/presenters/meta/no-follow",["exports","desktop-music-app/presenters/meta/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{get noFollow(){return!0}}e.default=i})),define("desktop-music-app/presenters/meta/playlist",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/format-duration","desktop-music-app/utils/seo-loc-key-modifier","desktop-music-app/utils/image-url-seo"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(o=Ember.computed.readOnly("model.curatorName"),l=Ember.computed.readOnly("model.lastModifiedDateIso"),a=Ember.computed.readOnly("model.name"),s=Ember.computed.readOnly("model.playlistNotes"),u=Ember.computed.readOnly("model.playlistType"),c=Ember.computed.readOnly("model.playlistLength"),d=class extends t.default{constructor(...e){super(...e),v(this,"cropCode","wp"),v(this,"twitterCropCode","wp"),v(this,"twitterHeight",600),v(this,"type","music.playlist"),y(this,"artistName",p,this),y(this,"lastModifiedDate",m,this),y(this,"playlistName",b,this),y(this,"playlistNotes",f,this),y(this,"playlistType",h,this),y(this,"songsCount",g,this),v(this,"schemaName","musicPlaylist")}get description(){const{artistName:e,playlistName:t,songsList:i}=this,n=new Set([])
if(i.length){let e=0
do{n.add(i[e].name),e++}while(i[e]&&n.size<3)}const o=Array.from(n)
return this.i18n.t(`FUSE.Meta.Playlist.Description${(0,r.default)(o)}`,{listing1:o[0],listing2:o[1],curatorName:e,playlistName:t})}get keywords(){const{artistName:e,genreName:t,playlistName:i,i18n:r}=this,n=`FUSE.Meta.Playlist.PageKeywords${t?"":".WithoutGenre"}`
return r.t(n,{artistName:e,genreName:t,playlistName:i})}get noFollow(){return["personal-mix","replay"].includes(this.playlistType)}get socialDescription(){const{songsCount:e}=this
return this.i18n.t("FUSE.Meta.Playlist.Description.Social",{count:e})}get socialTitle(){const{artistName:e,playlistName:t,playlistType:i,i18n:r}=this,n="editorial"!==i&&e?"":".Editorial"
return r.t(`FUSE.Meta.Playlist.Title.Social${n}`,{artistName:e,playlistName:t})}get songsList(){const{model:e}=this
if(e){const{songs:t=[]}=e
if(t&&t.length)return t.map(((e,t)=>({duration:e.duration?(0,i.isoDuration)(Math.trunc(e.duration)):null,name:e.name,track:t+1,url:e.url})))}return[]}get ogArtwork(){const{artwork:e}=this
if(e)return(0,n.default)([e.url],{width:this.width,height:this.height,cropCode:this.cropCode,fileType:this.fileType,quality:this.quality})}get twitterArtwork(){const{artwork:e}=this
if(e)return(0,n.default)([e.url],{width:this.twitterWidth,height:this.twitterHeight,cropCode:this.twitterCropCode,fileType:this.fileType,quality:this.quality})}get title(){const{artistName:e,playlistName:t,playlistType:i,i18n:r}=this,n="editorial"!==i&&e?"":".Editorial"
return r.t(`FUSE.Meta.Playlist.Title${n}`,{artistName:e,playlistName:t})}get schemaContent(){const{artistName:e,description:t,genreNames:i,lastModifiedDate:r,playlistName:n,songsCount:o,songsList:l}=this,a={"@context":"http://schema.org","@type":"MusicPlaylist",name:n,description:t,genre:i,datePublished:r,numTracks:o,author:{"@type":"Person",name:e},offers:{"@type":"Offer",category:"free"}}
return l&&l.length&&(a.track=l.map(this._schemaDataForSong)),a}_schemaDataForSong(e){const t={"@type":"MusicRecording",url:e.url,name:e.name,audio:{"@type":"AudioObject"},offers:{"@type":"Offer",category:"free"}}
return e.duration&&(t.duration=e.duration),t}},p=k(d.prototype,"artistName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k(d.prototype,"lastModifiedDate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(d.prototype,"playlistName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(d.prototype,"playlistNotes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(d.prototype,"playlistType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(d.prototype,"songsCount",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=w})),define("desktop-music-app/presenters/meta/post",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){var t,i,r
super(...e),r="music.post",(i="type")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get cropCode(){return"uploaded-audios"===this.model.type?"wp":"bb"}get twitterCropCode(){return this.cropCode}get description(){const{i18n:e,ownerName:t}=this,n=this.model.uploadDate
if(n){const{locale:o}=this.localeSvc,l=new i.default(n)
return e.t("FUSE.Meta.Auc.Description",{artistName:t,date:(0,i.format)(l,o,r.RELEASE_DATE_FORMAT)})}return e.t("FUSE.Radio.From.Provider",{provider:t})}get ownerName(){var e,t
const{artistName:i,artists:r,curator:n}=this.model
return(null==r||null===(e=r[0])||void 0===e?void 0:e.name)||(null==n||null===(t=n[0])||void 0===t?void 0:t.name)||i}get socialTitle(){return this.title}get title(){const e=this.model.name
return this.i18n.t("FUSE.Meta.Auc.Title",{videoTitle:e})}get url(){return this.model.postUrl}}e.default=n})),define("desktop-music-app/presenters/meta/profile",["exports","desktop-music-app/presenters/meta/base"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.computed.readOnly("title"),r=Ember.computed.readOnly("cropCode"),n=Ember.computed.readOnly("model.name"),o=Ember.computed("model.isPrivate"),l=class extends t.default{constructor(...e){var t,i,r
super(...e),c(this,"socialTitle",a,this),c(this,"twitterCropCode",s,this),r="social.profile",(i="type")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,c(this,"fullName",u,this)}get cropCode(){return this.model.isVerified?"cv":"cw"}get noFollow(){return!!this.model.isPrivate}get description(){const{isPrivate:e}=this.model,t=e?"Private":"Public"
return this.i18n.t(`FUSE.Social.Profile.Meta.Description.${t}`)}get keywords(){return this.i18n.t("FUSE.Social.Profile.Meta.PageKeywords")}get title(){const{fullName:e,i18n:t}=this
return t.t("FUSE.Social.Profile.Meta.PageTitle",{fullName:e})}},a=d(l.prototype,"socialTitle",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"twitterCropCode",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"fullName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"description",[o],Object.getOwnPropertyDescriptor(l.prototype,"description"),l.prototype),l)
e.default=p})),define("desktop-music-app/presenters/meta/room",["exports","desktop-music-app/presenters/meta/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(...e){var t,i,r
super(...e),r=!0,(i="noFollow")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=i})),define("desktop-music-app/presenters/meta/show",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/constants","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k
function w(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(n=Ember.computed("showName","genreName"),o=Ember.computed("showName","genreName","releaseYear","episodeCount","model.standardDescription"),l=Ember.computed.readOnly("model.seasons.0"),a=Ember.computed("currentSeason.releaseDate"),s=Ember.computed("showName","genreName","releaseYear","episodeCount"),u=Ember.computed.readOnly("title"),c=Ember.computed.readOnly("model.name"),d=Ember.computed.readOnly("name"),p=Ember.computed.readOnly("model.releaseDate"),m=Ember.computed("showName"),b=Ember.computed("i18n.locale","showName","model.standardDescription","ogArtwork","genreName","datePublished"),_((f=class extends t.default{constructor(...e){super(...e),E(this,"cropCode","bb"),E(this,"cropCode","sr"),E(this,"twitterCropCode","bf"),E(this,"type","music.show"),w(this,"currentSeason",h,this),w(this,"socialTitle",g,this),w(this,"name",y,this),w(this,"showName",v,this),w(this,"datePublished",k,this),E(this,"schemaName","show")}get keywords(){const{showName:e,genreName:t,i18n:i}=this
return i.t("FUSE.Meta.Show.PageKeywords",{showName:e,genreName:t})}get description(){const{showName:e,genreName:t,releaseYear:i,episodeCount:r,i18n:n}=this,o=Ember.get(this,"model.standardDescription")
return n.t("FUSE.Meta.Show.Description",{showName:e,genreName:t,releaseYear:i,count:r,description:o})}get episodeCount(){return Ember.get(this,"model.seasons").reduce(((e,t)=>e+t.episodes.length),0)}get currentSeason(){var e
return null===(e=Ember.get(this,"model.seasons"))||void 0===e?void 0:e[0]}get releaseYear(){const e=Ember.get(this,"currentSeason.releaseDate")
return(0,r.getYearFromDate)(e,this.i18n)}get socialDescription(){const{showName:e,genreName:t,releaseYear:i,episodeCount:r,i18n:n}=this
return n.t("FUSE.Meta.Show.Description.Social",{showName:e,genreName:t,releaseYear:i,count:r})}get title(){const{showName:e}=this
return this.i18n.t("FUSE.Meta.Show.Title",{showName:e})}get schemaContent(){const{showName:e,ogArtwork:t,genreName:i,datePublished:r}=this
return{"@context":"http://schema.org","@type":"Show",name:e,description:Ember.get(this,"model.standardDescription"),image:t,genre:i,datePublished:r}}}).prototype,"keywords",[n],Object.getOwnPropertyDescriptor(f.prototype,"keywords"),f.prototype),_(f.prototype,"description",[o],Object.getOwnPropertyDescriptor(f.prototype,"description"),f.prototype),h=_(f.prototype,"currentSeason",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(f.prototype,"releaseYear",[a],Object.getOwnPropertyDescriptor(f.prototype,"releaseYear"),f.prototype),_(f.prototype,"socialDescription",[s],Object.getOwnPropertyDescriptor(f.prototype,"socialDescription"),f.prototype),g=_(f.prototype,"socialTitle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(f.prototype,"name",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(f.prototype,"showName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(f.prototype,"datePublished",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(f.prototype,"title",[m],Object.getOwnPropertyDescriptor(f.prototype,"title"),f.prototype),_(f.prototype,"schemaContent",[b],Object.getOwnPropertyDescriptor(f.prototype,"schemaContent"),f.prototype),f)
e.default=P})),define("desktop-music-app/presenters/meta/station",["exports","desktop-music-app/presenters/meta/base","desktop-music-app/utils/image-url-seo"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(r=Ember.computed.readOnly("title"),n=Ember.computed.readOnly("model.name"),o=Ember.computed.readOnly("model.url"),l=class extends t.default{constructor(...e){super(...e),d(this,"fileType","jpg"),d(this,"type","music.radio_station"),c(this,"socialTitle",a,this),c(this,"stationName",s,this),c(this,"stationUrl",u,this),d(this,"schemaName","music-station")}get cropCode(){return this.hasEditorialArtwork?"sr":"bf"}get twitterCropCode(){return this.hasEditorialArtwork?"sr":"bf"}get artwork(){const{artwork:e,editorialArtwork:t}=this.model
return(null==t?void 0:t.subscriptionCover)||(null==t?void 0:t.subscriptionHero)||e}get description(){const{i18n:e,stationName:t}=this
return e.t("FUSE.Meta.Station.Description",{stationName:t})}get hasEditorialArtwork(){const{editorialArtwork:e={}}=this.model
return Object.entries(e).length>0}get keywords(){const{i18n:e,stationName:t}=this
return e.t("FUSE.Meta.Station.PageKeywords",{stationName:t})}get title(){const{stationName:e,i18n:t}=this
return t.t("FUSE.Meta.Station.Title",{stationName:e})}get ogArtwork(){const{artwork:e}=this
if(e)return(0,i.default)([e.url],{width:this.width,height:this.height,cropCode:this.cropCode,fileType:this.fileType,quality:this.quality})}get twitterArtwork(){const{artwork:e}=this
if(e)return(0,i.default)([e.url],{width:this.twitterWidth,height:this.twitterHeight,cropCode:this.cropCode,fileType:this.fileType,quality:this.quality})}get schemaContent(){const{siteName:e,stationName:t}=this
return{"@context":"http://schema.org","@type":"BroadcastService",broadcastDisplayName:t,name:t,broadcaster:{"@type":"Organization",name:e}}}},a=p(l.prototype,"socialTitle",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"stationName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"stationUrl",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m})),define("desktop-music-app/presenters/multi-room",["exports","desktop-music-app/utils/constants","desktop-music-app/utils/playback"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,a=d((l=class{constructor(){var e,t,i
c(this,"router",a,this),c(this,"storefront",s,this),c(this,"recoDataPlayContent",u,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}get pageTitle(){return this.model.title}get description(){var e
return this.model.description||(null===(e=this.model.uber)||void 0===e?void 0:e.description)}get uber(){return this.model.uber}get recommendationData(){var e
const t=this.model.id,i=null===(e=this.recoDataPlayContent)||void 0===e?void 0:e.recoData
if(i&&t)return i[t]}get segments(){return this.model.children.reduce(((e,r)=>{const n={...r}
if(function(e){if("405"===e.editorialElementKind)return!e.links
return!1}(n))return e
Array.isArray(r.contents)&&(n.lockups=r.contents.map((e=>{const r={...e,kind:t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}
if(/uploaded-/.test(r.type)){const e=this.router.urlFor("post",this.storefront.resolvedStorefront,r.id)
r.postUrl=`https://music.apple.com${e}`}return"song"!==r.kind||r.rawJSON||(r.rawJSON=(0,i.generateRawJSON)(r)),r}))),n.fcKind=r.editorialElementKind
const o=Ember.get(r,"room.0.id")
return o&&(n.seeAllUrl={url:`/room/${o}`}),"405"===n.fcKind&&(n.children=r.links.map((e=>({title:e.label,target:e.target,url:e.url}))),delete n.links),e.push(n),e}),[])}}).prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"recoDataPlayContent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p})),define("desktop-music-app/presenters/music-movie",["exports","desktop-music-app/utils/constants","desktop-music-app/utils/duration-from-offers","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,o=Ember.computed.or("crossMerchandise","model.albums"),a=c((l=class{constructor(){var e,t,i
u(this,"i18n",a,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,u(this,"albums",s,this)}get id(){return this.model.id}get type(){return this.model.type}get copyright(){return this.model.copyright}get description(){return this.model.description}get artwork(){var e,t,i,r
return(null===(e=this.model.editorialArtwork)||void 0===e?void 0:e.storeFlowcase)||(null===(t=this.model.editorialArtwork)||void 0===t?void 0:t.subscriptionHero)||(null===(i=this.model.editorialArtwork)||void 0===i?void 0:i.fullscreenBackground)||(null===(r=this.model.editorialArtwork)||void 0===r?void 0:r.originalFlowcaseBrick)||this.previewArtwork}get genreNames(){return this.model.genreNames}get languages(){return this.model.supportedLocales}get kind(){return t.AMWEB_TYPE_TO_KIND_MAPPING[this.model.type]}get lockupJSON(){const{model:e}=this
return{...e,kind:t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}}get name(){return this.model.name}get movieCredits(){return this.model.movieCredits}get movieClips(){return this.model.movieClips}get offers(){return this.model.offers}get previewArtwork(){return this.movieClips[0].previewArtwork}get releaseDate(){return this.model.releaseDate}get primary(){var e
return null===(e=this.model.supportedLocales)||void 0===e?void 0:e.primary}get studioName(){return this.model.studioName}get url(){return this.model.url}get viewersAlsoBought(){return(Ember.get(this,"model.viewers-also-bought.data")||[]).map((e=>{const i=t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]
return{...e,kind:i}}))}get moreInGenre(){return(Ember.get(this,"model.more-in-genre.data")||[]).map((e=>{const i=t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]
return{...e,kind:i}}))}get productAsset(){const{id:e,movieClips:t,type:i}=this.model
if(e&&t&&i)return{id:e,movieClips:t,type:i}}get musicArtists(){if(Ember.get(this,"model.musicArtists"))return Ember.get(this,"model.musicArtists")
if(Ember.get(this,"model.music-artists")){return Ember.get(this,"model.music-artists").data.map((e=>{const{type:i}=e
return{...e,kind:t.AMWEB_TYPE_TO_KIND_MAPPING[i]}}))}}get crossMerchandise(){if(Ember.get(this,"model.cross-merchandise.data"))return Ember.get(this,"model.cross-merchandise.data")}get rating(){const e=Ember.get(this,"model.contentRatingsBySystem")
if(e){const[t]=Object.keys(e)
return t?e[t]:null}}get releaseYear(){return(0,r.getYearFromDate)(this.releaseDate,this.i18n)}get movieDuration(){const e=Ember.get(this,"offers")
if(Ember.get(e,"firstObject.durationInMilliseconds")){return Ember.get(e,"firstObject.durationInMilliseconds")/1e3}return(0,i.default)(e)}get hasHD(){var e
return null===(e=this.model.offers)||void 0===e?void 0:e.find((e=>"HD"===e.variant))}get songsList(){if(Ember.get(this,"model.tracks")){return Ember.get(this,"model.tracks").map((e=>({...e,rawJSON:{...e,kind:t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}})))}}get songListTitle(){if(this.name)return this.i18n.t("FUSE.OC.Information.SongsOn",{name:this.name})}}).prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"albums",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=d})),define("desktop-music-app/presenters/music/album",["exports","desktop-music-app/presenters/music/base","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants","desktop-music-app/utils/is-various-artist","desktop-music-app/utils/generate-badges","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let _=(a=Ember.computed.or("model.artistId","artist.id"),s=Ember.computed.or("model.artistUrl","artist.url","artist.catalog.0.url"),u=Ember.computed.or("model.copyright","model.recordLabel","model.catalog.0.copyright"),c=Ember.computed.or("model.trackCount","songs.length"),d=Ember.computed.or("model.itunesNotes.standard","model.itunesNotes.short","model.editorialNotes.standard","model.editorialNotes.short"),p=Ember.computed.notEmpty("playParams"),m=class extends t.default{constructor(...e){super(...e),w(this,"model",void 0),w(this,"mixedTracks",void 0),k(this,"artistId",b,this),k(this,"artistUrl",f,this),k(this,"copyright",h,this),k(this,"trackCount",g,this),k(this,"albumNotes",y,this),k(this,"availableForSubscription",v,this)}get artistName(){const{model:e,artist:t={}}=this
return e.artistName?Ember.get(e,"artistName"):t.name?t.name:this.songs&&this.songs.length?this.songs[0].artistName:void 0}get isPreorder(){return!!this.model.isPreorder||(this.offerTypes?this.offerTypes.includes("preorder"):void 0)}get offerTypes(){const{offers:e}=this.model,t=new Set([])
return e&&e.length&&e.forEach((e=>t.add(e.type))),Array.from(t)}get availableForPurchaseOnly(){const{offerTypes:e,availableForSubscription:t}=this
return!t&&!e.includes("subscription")&&e.includes("buy")}get availableForSubscriptionOnly(){const{offerTypes:e,availableForSubscription:t}=this
return t&&e.includes("subscription")&&!e.includes("buy")}get artist(){return this.artists[0]}get artists(){let e=Ember.get(this,"model.artists")
if(this.isLibraryAlbum){var t,i
const r=null===(t=this.model.catalog)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.artists
null!=r&&r.length&&(e=r||e)}return Array.isArray(e)?function(e){return e.map((e=>{var t
const i=(null===(t=e.catalog)||void 0===t?void 0:t[0])||{}
return{...e,...i}}))}(e):[]}get albumHasFeats(){const{songs:e}=this
let t=!1
if(e.length){const i=e[0].artistName
t=e.any((e=>e.artistName!==i))}return t}get albumMeta(){const{isPreorder:e,releaseYear:t,i18n:i,releaseDate:r}=this
let[n]=this.model.genreNames||[],o=t
const{songs:l=[]}=this
if(!n)for(const a of l)if(a.genreNames&&a.genreNames[0]){n=a.genreNames[0]
break}if(!o){const[e]=l
e&&/-/.test(e.releaseDate)&&(o=e.releaseDate.split("-")[0])}if(e){return[n,i.t("FUSE.PreRelease"),r].filter(Boolean).join("&#8196;&middot;&#8196;")}return n&&o?i.t("AMWEB.ContentA.Middot.ContentB",{contentA:n,contentB:o}):n||(o||void 0)}get albumBadges(){const{audioTraits:e,isMasteredForItunes:t}=this.model
return(0,o.default)(e,t)}get creatorPageUrl(){if(!(0,n.default)(this.artistId))return(0,n.isCollaboration)(this.artistUrl)&&this.artist?this.artist.url:this.artistUrl}get footerStoreCTALoc(){return`FUSE.Album.StoreContent.Purchase${this.availableForSubscription?"":".StoreOnly"}`}get hasCompleteAlbum(){return this.totalTrackCount===this.trackCount}get isLibrary(){var e
return null===(e=this.playParams)||void 0===e?void 0:e.isLibrary}get isLibraryAlbum(){return"library-albums"===this.type}get isPreRelease(){const e=this.model.releaseDate
return new i.default(e)>new Date}get playParams(){if(!this.mixedTracks)return this.model.playParams}get rawJSON(){return this.mixedTracks?{...this.model,kind:this.kind,playParams:null}:super.rawJSON}get releaseDate(){const e=this.model.releaseDate,t=new i.default(e)
return(0,i.format)(t,this.i18n,r.RELEASE_DATE_FORMAT)}get releaseDateIso(){const e=this.model.releaseDate
if(e){return new i.default(e).toISOString()}}get releaseYear(){const e=this.model.releaseDate
if(e)return(0,l.getYearFromDate)(e,this.i18n)}get songsListColumns(){return this.model.hasPrimaryArtist&&!this.albumHasFeats?["heart-and-star","song","genre","time"]:["heart-and-star","song","time"]}get totalTrackCount(){var e,t
return(null===(e=this.model.catalog)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.tracks.length)||this.trackCount}get tracks(){return this.mixedTracks?this.mixedTracks:super.tracks}get recordLabels(){var e
return null===(e=this.model["record-labels"])||void 0===e?void 0:e.map((e=>(e.url=e.url.replace("/record-label/","/label/"),e)))}},b=E(m.prototype,"artistId",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(m.prototype,"artistUrl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(m.prototype,"copyright",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(m.prototype,"trackCount",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(m.prototype,"albumNotes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(m.prototype,"availableForSubscription",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=_})),define("desktop-music-app/presenters/music/base",["exports","desktop-music-app/presenters/music/track","desktop-music-app/utils/media-type"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,n=Ember.inject.service,o=class extends t.default{constructor(...e){var t,i,r
super(...e),s(this,"i18n",l,this),s(this,"musickitData",a,this),r=void 0,(i="model")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}get id(){return this.model.id}get name(){return this.model.name}get playParams(){return this.model.playParams}get type(){return this.model.type}get artwork(){return this.model.artwork}get kind(){return(0,i.getKind)(this.model)}get inLibrary(){return this.musickitData.isInLibrary(this.model)}get library(){return this.model.library||this.localLibrary}get catalog(){var e
return null===(e=Ember.get(this,"model.catalog"))||void 0===e?void 0:e[0]}get children(){return Ember.get(this,"model.songs")||Ember.get(this,"songs")}get productSongs(){return Ember.get(this,"model.tracks")||[]}get hasChildren(){var e
return 0!==(null===(e=this.productSongs)||void 0===e?void 0:e.length)}get contentRating(){var e,t
return null===(e=this.contentRatingsBySystem)||void 0===e||null===(t=e.riaa)||void 0===t?void 0:t.name}get contentRatingsBySystem(){if(Ember.get(this,"model.contentRatingsBySystem"))return Ember.get(this,"model.contentRatingsBySystem")
const e={}
return"explicit"===this.model.contentRating&&(e.riaa={name:"explicit",value:500}),e}get childrenIds(){if(this.songs&&this.songs.length)return this.songs.map((e=>e.id))}get rawJSON(){return{...this.model.serialize?this.model.serialize().data.attributes:this.model,contentRatingsBySystem:this.contentRatingsBySystem,kind:this.kind,type:this.model.type,id:this.model.id,requiresSubscription:this.model.requiresSubscription}}get playlistLength(){var e
return null===(e=this.children)||void 0===e?void 0:e.length}get url(){return Ember.get(this,"model.url")||Ember.get(this,"catalog.url")}},l=u(o.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=c})),define("desktop-music-app/presenters/music/music-video",["exports","desktop-music-app/presenters/music/base","desktop-music-app/utils/precision-date","desktop-music-app/utils/constants","desktop-music-app/utils/musickit-data","desktop-music-app/helpers/get-year-from-date"],(function(e,t,i,r,n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{get rawJSON(){return{...Ember.get(this,"model.rawJSON")||super.rawJSON}}get releaseDate(){const e=new i.default(this.model.releaseDate)
return(0,i.format)(e,this.i18n,r.RELEASE_DATE_FORMAT)}get releaseDateIso(){const e=this.model.releaseDate
if(e){return new i.default(e).toISOString()}}get releaseYear(){return(0,o.getYearFromDate)(this.model.releaseDate,this.i18n)}get moreMusicVideosByArtist(){var e,t
return null!==(e=this.model)&&void 0!==e&&e["more-by-artist"]?(0,n.getViewDataFromModel)(this.model,"more-by-artist","musicVideo").data:null===(t=this.model)||void 0===t?void 0:t.moreMusicVideosByArtist}get moreMusicVideosInGenre(){var e,t
return null!==(e=this.model)&&void 0!==e&&e["more-in-genre"]?(0,n.getViewDataFromModel)(this.model,"more-in-genre","musicVideo").data:null===(t=this.model)||void 0===t?void 0:t.moreMusicVideosInGenre}get genreName(){var e
return null===(e=this.model.genreNames)||void 0===e?void 0:e[0]}}e.default=l}))
define("desktop-music-app/presenters/music/playlist",["exports","desktop-music-app/presenters/music/base","desktop-music-app/utils/musickit-data","desktop-music-app/utils/date-time","desktop-music-app/utils/media-type"],(function(e,t,i,r,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class o extends t.default{get isLibraryPlaylist(){return"library-playlists"===this.type}get canEditName(){return Ember.get(this,"model.canEdit")}get artwork(){return Ember.get(this,"model.artwork")||Ember.get(this,"model.catalog.0.artwork")}get libraryCollageArtworks(){const e=this.tracks.map((e=>e.artwork)).filter(Boolean),t=new Set,i=[]
for(const r of e){if(4===i.length)break
t.has(r.url)||(t.add(r.url),i.push(r))}return i}get isPlaylist(){return"playlist"===(0,n.getKind)(this.model)}get playlistNotes(){return Ember.get(this,"model.description.standard")||Ember.get(this,"model.description.short")||Ember.get(this,"model.editorialNotes.standard")||Ember.get(this,"model.editorialNotes.short")}get itunesNotes(){return this.model.description||this.editorialNotes}get featuredArtists(){if(Ember.get(this,"model.featured-artists")){const e=Ember.get(this,"model.featured-artists")
if(e)return(0,i.updateViewCollectionItem)(e.data,"artist")}return Ember.get(this,"model.featuredArtists")}get lastModifiedDate(){const e=Ember.get(this,"model.lastModifiedDate")||Ember.get(this,"model.catalog.0.lastModifiedDate")||Ember.get(this,"model.dateAdded")
if(e)return(0,r.lastModifiedDate)(e,this.i18n)}get playlistProvider(){var e,t,i,r
return"replay"===Ember.get(this,"model.playlistType")||"replay"===(null===(e=this.model.catalog)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.playlistType)?this.i18n.t("FUSE.Replay.Playlist.Creator"):Ember.get(this.model,"curatorName")||(null===(i=this.model.catalog)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.curatorName)}get playlistCreatorId(){var e
return null===(e=this.curator)||void 0===e?void 0:e.id}get songsListColumns(){const e=["heart-and-star","song","time"]
return this.songs.find((e=>e.collectionName))&&(e.splice(2,0,"album"),e.splice(2,0,"artist")),e}get shouldDisplayNotesTitle(){return"library-playlists"!==Ember.get(this,"model.type")&&"user-shared"!==Ember.get(this,"model.playlistType")}}e.default=o})),define("desktop-music-app/presenters/music/songs",["exports","desktop-music-app/presenters/music/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{get snippets(){return Ember.get(this,"model._meta.snippets")}get album(){var e
return null===(e=this.model.albums)||void 0===e?void 0:e[0]}}e.default=i})),define("desktop-music-app/presenters/music/track",["exports","desktop-music-app/utils/format-duration","desktop-music-app/utils/constants","desktop-music-app/utils/playback"],(function(e,t,i,r){var n,o,l
function a(e,n,o){var l,a
const s=Math.floor(e.durationInMillis/1e3),u=(0,t.formatDuration)(s,o),c=(null===(l=e.playParams)||void 0===l?void 0:l.kind)||e.type&&i.AMWEB_TYPE_TO_KIND_MAPPING[e.type],d=e.albumId,p=e.albumName,m=e.serialize?e.serialize().data.attributes:e,b=(0,r.generateRawJSON)({...m,id:e.id,type:e.type,kind:c}),f={collectionId:d,collectionName:p,kind:c,type:e.type,rawJSON:b}
Number.isNaN(s)||(f.duration=s,f.formattedDuration=u)
for(const[t,i]of Object.entries(f))void 0!==i&&(e[t]=i)
var h,g
e.composerName&&(e.composer={name:e.composerName,url:e.composerUrl||(null===(h=e.composers)||void 0===h||null===(g=h[0])||void 0===g?void 0:g.url)})
if("explicit"===e.contentRating){const t={riaa:{name:"Explicit",value:500}}
e.contentRatingsBySystem=t,e.rawJSON.contentRatingsBySystem=t}if("library-songs"===e.type&&null!==(a=e.catalog)&&void 0!==a&&a.length){const[t]=e.catalog
e.artistUrl=t.artistUrl}return n&&(e.collectionId=n,e.rawJSON.collectionId=n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.processTrack=a,e.collectChildrenForSongs=function(e,t){if(t&&t.length)return t.map((t=>{const i=Ember.Object.create(e[t])
return Ember.set(i,"rawJSON",e[t]),i}))
return[]},e.default=void 0
let s=(n=Ember.inject.service,o=class{constructor(){var e,t,i,r,n,o,a
e=this,t="locale",r=this,(i=l)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),a=void 0,(o="model")in(n=this)?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}get tracks(){var e
return Array.isArray(this.model)?this.model:null===(e=this.model)||void 0===e?void 0:e.tracks}get songs(){return Array.isArray(this.tracks)?this.tracks.map((e=>a(e,this.model.id,this.locale.locale))):[]}},u=o.prototype,c="locale",d=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(p).forEach((function(e){b[e]=p[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(u,c,b),b=null),l=b,o)
var u,c,d,p,m,b
e.default=s})),define("desktop-music-app/presenters/post",["exports","desktop-music-app/utils/constants"],(function(e,t){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=class{constructor(){i(this,"model",void 0),i(this,"_target",void 0)}get id(){return this.model.id}get kind(){return Ember.get(this,"model.target.kind")||Ember.get(this,"model.target.targetType")||t.AMWEB_TYPE_TO_KIND_MAPPING[this.model.type]}get owner(){var e,t
const i={...(null===(e=this.model.artists)||void 0===e?void 0:e[0])||(null===(t=this.model.curator)||void 0===t?void 0:t[0])}
return i.name?i:{name:this.model.artistName}}get target(){if(this._target)return this._target
const e={...this.model,isAUC:!0}
if("uploaded-audios"===e.type){e.trackNumber=1,e.rawJSON={...e},e.playParams||(e.playParams={id:e.id,kind:"uploadedAudio"}),e.kind=this.kind
const t={...e}
t.rawJSON={...t},e.songs=[t]}else"uploaded-videos"===e.type&&(e.kind=this.kind,e.rawJSON={...e},e.playParams||(e.playParams={id:e.id,kind:"uploadedVideo"}))
return this._target=e,e}}})),define("desktop-music-app/presenters/room",["exports","desktop-music-app/utils/constants"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.computed.or("model.adamId","model.id"),r=Ember.computed.or("model.fcKind","model.editorialElementKind"),o=s((n=class{constructor(){var e,t,i
i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,a(this,"fcId",o,this),a(this,"fcKind",l,this)}get next(){return this.model.next}get uber(){return this.model.uber}get pageTitle(){var e
return(null===(e=this.model.title)||void 0===e?void 0:e.stringForDisplay)||this.model.title}get isSongList(){var e
return(null===(e=this.lockups)||void 0===e?void 0:e.length)>0&&this.lockups.every((e=>{var i
return"song"===((null===(i=e.playParams)||void 0===i?void 0:i.kind)||e.kind||t.AMWEB_TYPE_TO_KIND_MAPPING[e.type])}))}get lockups(){if(!this.model)return[]
const e=this.model.data||this.model.contents
if(Array.isArray(e)){return e.filter((e=>!("music-videos"===e.type&&!e.playParams)))}return[]}}).prototype,"fcId",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"fcKind",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=u})),define("desktop-music-app/presenters/room/lockup",["exports","desktop-music-app/presenters/music/track","desktop-music-app/utils/constants"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,a=d((l=class{constructor(){var e,t,i
c(this,"locale",a,this),c(this,"storefront",s,this),c(this,"router",u,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}get lockups(){return this.model.map(this._processWebLockups.bind(this))}_processWebLockups(e){var r;/uploaded-/.test(e.type)&&Ember.set(e,"postUrl",`https://music.apple.com${this.router.urlFor("post",this.storefront.resolvedStorefront,e.id)}`)
const n=(null===(r=e.playParams)||void 0===r?void 0:r.kind)||i.AMWEB_TYPE_TO_KIND_MAPPING[e.type]
if("song"===n)return(0,t.processTrack)(e,null,this.locale.locale)
let o
return e.rawJSON||(o={...e}),{...e,rawJSON:o,kind:n}}}).prototype,"locale",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p})),define("desktop-music-app/presenters/show",["exports","desktop-music-app/helpers/get-year-from-date","desktop-music-app/utils/constants"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D
function L(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function A(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let I=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.computed.readOnly("model.editorialArtwork"),l=Ember.computed.readOnly("model.editorialNotes.standard"),a=Ember.computed.readOnly("model.genreNames"),s=Ember.computed.readOnly("genreNames.firstObject"),u=Ember.computed.readOnly("model.hasHD"),c=Ember.computed.readOnly("model.languageAttributes"),d=Ember.computed.readOnly("model.copyright"),p=Ember.computed.readOnly("model.contentRatingsBySystem"),m=Ember.computed.readOnly("model.credits"),b=Ember.computed.readOnly("model.musicArtists"),f=Ember.computed.readOnly("model.movieCredits"),h=Ember.computed.readOnly("currentSeason.releaseDate"),g=Ember.computed.equal("model.iTunesBrandType","Non-Linear"),v=A((y=class{constructor(){var e,t,i
L(this,"i18n",v,this),L(this,"platform",k,this),i=void 0,(t="model")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,L(this,"editorialArtwork",w,this),L(this,"standardDescription",E,this),L(this,"genreNames",_,this),L(this,"genreName",P,this),L(this,"hasHD",O,this),L(this,"languageAttributes",S,this),L(this,"copyright",z,this),L(this,"contentRatingsBySystem",j,this),L(this,"credits",T,this),L(this,"musicArtists",M,this),L(this,"movieCredits",C,this),L(this,"releaseDate",x,this),L(this,"isNonLinear",D,this)}get name(){return Ember.get(this,"model.name")}get type(){return Ember.get(this,"model.type")}get currentSeason(){var e
return null===(e=this.seasons)||void 0===e?void 0:e[0]}get rawJSON(){const{id:e,type:t,url:r}=this.model
return{id:e,type:t,url:r,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[t]}}get webClientLaunchURL(){let e=Ember.get(this,"model.url")
if(!e){const{pathname:t}=window.location
e=`${"http://music.apple.com"}${t}`}return this.platform.isAtLeastMojavePlusOne&&(e=e.replace(/^https?/,"musics")),e}get seasons(){const e=Ember.get(this,"model.tv-seasons")||[]
return e.map((t=>{const{episodes:r}=t
if(!r||0===r.length)return
const n=r.map((e=>{if(!["episodebonus","tvtrailer","seasonbonus"].includes(e.kind))return{...e,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[e.type],trackNumber:e.episodeNumber}})).filter(Boolean)
if(0===n.length)return
const o=r[0].episodeSeasonNumber
let l
return l=1===e.length?this.i18n.t("FUSE.OC.Show.Episodes"):this.i18n.t("FUSE.OC.Show.Season",{number:o}),{...t,title:l,seasonNumber:o,episodes:n}})).filter(Boolean)}get allEpisodes(){const{seasons:e}=this
return e.reduce(((e,t)=>(e.push(...t.episodes),e)),[])}get rating(){const e=Ember.get(this,"model.contentRatingsBySystem")
if(e){const[t]=Object.keys(e)
return t?e[t]:null}}get releaseYear(){const e=Ember.get(this,"currentSeason.releaseDate")
return(0,t.getYearFromDate)(e,this.i18n)}get bonusContent(){const e=Ember.get(this,"model.tv-seasons")||[],t=[]
return e.forEach((e=>{const{episodes:r=[]}=e
r.forEach((e=>{if("episodebonus"===e.kind||"tvtrailer"===e.kind||"seasonbonus"===e.kind){const r={...e,kind:i.AMWEB_TYPE_TO_KIND_MAPPING[e.type],videoSubType:e.kind}
t.push(r)}}))})),t}get languages(){const e={primary:null,additional:[]},{languageAttributes:t}=this
return t&&t.forEach((t=>{Ember.get(t,"isPrimary")?e.primary=t:e.additional.push(t)})),e}}).prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=A(y.prototype,"platform",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=A(y.prototype,"editorialArtwork",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=A(y.prototype,"standardDescription",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(y.prototype,"genreNames",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(y.prototype,"genreName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(y.prototype,"hasHD",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(y.prototype,"languageAttributes",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(y.prototype,"copyright",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(y.prototype,"contentRatingsBySystem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(y.prototype,"credits",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(y.prototype,"musicArtists",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=A(y.prototype,"movieCredits",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(y.prototype,"releaseDate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=A(y.prototype,"isNonLinear",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y)
e.default=I})),define("desktop-music-app/presenters/top-charts",["exports","desktop-music-app/utils/constants","desktop-music-app/presenters/music/track","desktop-music-app/utils/musickit-data"],(function(e,t,i,r){var n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,o=class{constructor(){var e,t,i,r,n,o,a
e=this,t="locale",r=this,(i=l)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),a=void 0,(o="model")in(n=this)?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}get filteredTopCharts(){return this._topCharts}get singleChart(){return this._musicSingleChart}get title(){return this.singleChart.title}get next(){return this.model.next}get fullList(){return this.singleChart.fullList}get kind(){return this.singleChart.kind}get type(){return this.singleChart.type}get _musicSingleChart(){return this._topChartObj(this.model,this.model.type)}get _topCharts(){const{model:e}=this
return t.TOP_CHARTS_SWOOSH_ORDER.map((t=>{var i,r
const n=e[t]
if(!n||null===(i=n.data)||void 0===i||!i[0])return
const o=this._topChartObj(null===(r=n.data)||void 0===r?void 0:r[0],t)
return o||void 0})).filter(Boolean)}_topChartObj(e,t){const{data:n,name:o}=e,l=(0,r.flattenMusickitObjects)(n).map((e=>"song"===e.kind?(0,i.processTrack)(e,null,this.locale.locale):e))
if(l&&l.length)return{type:t,title:o,id:t,shortList:l.slice(0,30),fullList:l}}},s=o.prototype,u="locale",c=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),l=m,o)
var s,u,c,d,p,m
e.default=a})),define("desktop-music-app/resolver",["exports","ember-resolver"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/router",["exports","desktop-music-app/config/environment","desktop-music-app/services/itunes-router","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/launch-client","desktop-music-app/config","desktop-music-app/utils/personalization","desktop-music-app/services/route-history","ember-lifeline"],(function(e,t,i,r,n,o,l,a,s,u){var c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A
function I(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let F=(c=Ember.inject.service("-document"),d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,(0,o.default)((_=class extends Ember.Router{constructor(...e){super(...e),I(this,"document",P,this),I(this,"editorialVideoSwitchToggle",O,this),I(this,"fastboot",S,this),I(this,"i18n",z,this),I(this,"metrics",j,this),I(this,"musickit",T,this),I(this,"routeHistory",M,this),I(this,"router",C,this),I(this,"routerScroll",x,this),I(this,"storefront",D,this),I(this,"upsellBanner",L,this),I(this,"windowVisibility",A,this),N(this,"outstandingTransitions",[]),N(this,"_location",void 0),N(this,"rootURL",t.default.rootURL)}queueTransition(e){this.outstandingTransitions.push(e)}get location(){return this._location?this._location:i.hasiTunesHistory?t.default.iTunesLocationType:t.default.locationType}set location(e){this._location=e}generate(){return super.generate(...arguments).replace(this.rootURL,"/")}init(){super.init(...arguments),"undefined"==typeof FastBoot&&(window.onpopstate=()=>{this.routerScroll._isPopState=!0,document.body.classList.remove("route-back-forward-loading"),document.body.classList.add("route-back-forward-loading"),this.routeHistory.pafHistory.pop()},Ember.testing||(window.onfocus=()=>{document.body.classList.remove("is-not-focused"),document.body.classList.add("is-refocused"),(0,u.runTask)(this,(()=>{document.body.classList.remove("is-refocused")}),600),this.windowVisibility.windowIsFocused=!0,this.windowVisibility.emitFocusEvent()},window.onblur=()=>{document.body.classList.add("is-not-focused"),document.body.classList.remove("is-refocused"),this.windowVisibility.windowIsFocused=!1,this.windowVisibility.emitBlurEvent()}),this.on("routeWillChange",(({to:e,sequence:t})=>{0===t?(this.routerScroll.scrollElement="#web-main",this.routeHistory.isFirstPaint=!0):t>0&&(this.routeHistory.isFirstPaint=!1),this._onRouteWillChange(e)})),this.on("routeDidChange",(()=>{this._onRouteDidChange(),this.outstandingTransitions=[]})))}_onRouteDidChange(){var e,t
const{y:i=0}=this.routerScroll.position
document.body.setAttribute("data-scroll-to",i),this.upsellBanner.toggleBodyClasses(),this.document.title=this.i18n.t("FUSE.AppleMusic"),null!==(e=this.musickit)&&void 0!==e&&null!==(t=e.instance)&&void 0!==t&&t.resetSubscribeViewEligibility&&this.musickit.instance.resetSubscribeViewEligibility(),this.addScrollClass=()=>{document.body.classList.add("did-scroll")},document.addEventListener("scroll",this.addScrollClass,{once:!0})}_onRouteWillChange(e){const t=(0,a.personalizedRouteName)()
if("account.settings"===e.name){if(l.default.NON_SOW_COUNTRIES.includes(this.storefront.resolvedStorefront)){const e=this.router.urlFor(t,this.storefront.resolvedStorefront)
this.router.transitionTo(e)}}if(!this.fastboot.isFastBoot){(function(){const e=document.querySelector('meta[name="ember-cli-head-start"]'),t=document.querySelector('meta[name="ember-cli-head-end"]')
if(e&&t){let i=e.nextSibling
for(;i&&i!==t;){const e=i.nextSibling
"TITLE"!==i.tagName&&document.head.removeChild(i),i=e}document.head.removeChild(e),document.head.removeChild(t)}})(),this.routerScroll._isPopState||document.body.classList.remove("route-back-forward-loading"),this.routerScroll._isPopState=!1,document.removeEventListener("scroll",this.addScrollClass,{once:!0}),document.body.classList.remove("did-scroll"),null!=e&&e.name&&(this.routeHistory.tryResetPafHistory(e),this.routeHistory.add(e))
const i=new RegExp(`/${t}/`)
e.name&&i.test(e.name)?this.upsellBanner.hideUpsell():this.upsellBanner.toggleBodyClasses()
const r=(0,s.routeToPageContext)(e.name)
r&&(this.routeHistory.pageContext=r)}}},P=R(_.prototype,"document",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=R(_.prototype,"editorialVideoSwitchToggle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=R(_.prototype,"fastboot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R(_.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=R(_.prototype,"metrics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=R(_.prototype,"musickit",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=R(_.prototype,"routeHistory",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=R(_.prototype,"router",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=R(_.prototype,"routerScroll",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=R(_.prototype,"storefront",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=R(_.prototype,"upsellBanner",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=R(_.prototype,"windowVisibility",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R(_.prototype,"_onRouteDidChange",[r.default],Object.getOwnPropertyDescriptor(_.prototype,"_onRouteDidChange"),_.prototype),E=_))||E)
F.map((function(){this.route("dev-test-page"),this.route("terms"),this.route("family-welcome"),this.route("error"),this.route("storefront",{path:":storefront"},(function(){this.route("for-you",{resetNamespace:!0}),this.route("listen-now",{resetNamespace:!0},(function(){this.route("index",{path:"/"}),this.route("see-all",{path:"/:id"})})),this.route("grouping",{path:"/grouping/:id",resetNamespace:!0}),this.route("browse",{resetNamespace:!0},(function(){this.route("index",{path:"/"}),this.route("top-charts",(function(){this.route("index",{path:"/"}),this.route("see-all",{path:"/:room_id"})}))})),this.route("radio",{resetNamespace:!0},(function(){this.route("index",{path:"/"}),this.route("see-all",{path:"/:id"})})),this.route("artist",{path:"artist/:name/:id",resetNamespace:!0},(function(){this.route("see-all")})),this.route("label",{path:"label/:name/:id",resetNamespace:!0},(function(){this.route("see-all")})),this.route("lyrics",{path:"lyrics/:id",resetNamespace:!0}),this.route("album",{path:"album/:name/:id",resetNamespace:!0,queryParams:["selectedTrack"]}),this.route("curator",{path:"/curator/:name/:id",resetNamespace:!0},(function(){this.route("playlists")})),this.route("episode",{path:"episode/:id",resetNamespace:!0}),this.route("episode",{path:"episode/:name/:id",resetNamespace:!0}),this.route("playlist",{path:"playlist/:name/:id",resetNamespace:!0,queryParams:["selectedTrack"]}),this.route("multi-room",{path:"/multi-room/:id",resetNamespace:!0}),this.route("music-video",{path:"music-video/:name/:id",resetNamespace:!0}),this.route("music-movie",{path:"music-movie/:name/:id",resetNamespace:!0}),this.route("post",{path:"post/:id",resetNamespace:!0}),this.route("station",{path:"station/:name/:id",resetNamespace:!0}),this.route("personal-station",{path:"station/me",resetNamespace:!0}),this.route("genre",{path:"genre/:name/:id",resetNamespace:!0}),this.route("activity",{path:"/activity/:name/:id",resetNamespace:!0}),this.route("profile",{path:"/profile/:id",resetNamespace:!0},(function(){this.route("pending-approval-modal")})),this.route("replay",{resetNamespace:!0}),this.route("room",{path:"/room/:id",resetNamespace:!0}),this.route("search",{queryParams:["term"],resetNamespace:!0},(function(){this.route("index",{path:"/"}),this.route("see-all",{path:"/:section_id"})})),this.route("search-history",{resetNamespace:!0}),this.route("show",{path:"/show/:name/:id",resetNamespace:!0}),this.route("login",{resetNamespace:!0}),this.route("personal-mix",{path:"/personal-mix/:name/:id",resetNamespace:!0}),this.route("genre-stations",{path:"/genre-stations/:id",resetNamespace:!0})})),this.route("offer",(function(){this.route("carrier")})),this.route("multiplex",{path:"/multiplex/:id"}),this.route("browse-page",(function(){this.route("curated-playlists"),this.route("top-charts",(function(){this.route("index",{path:"/"}),this.route("see-all",{path:"/:room_id"})})),this.route("genres"),this.route("shows")})),this.route("radio-page",(function(){this.route("beats1"),this.route("all-stations")})),this.route("live-station"),this.route("onboarding",(function(){this.route("labels"),this.route("artists")})),this.route("social-activity",{path:"/social-activity/:activity_id"}),this.route("profile-edit",{path:"/profile-edit/:id"}),this.route("profile-page-see-all-room",{path:"/profile-page-see-all-room/:module_id",queryParams:["userId"]}),this.route("deeplink",{queryParams:["p"]}),this.route("library",(function(){this.route("albums",(function(){this.route("album",{path:"/:id"})})),this.route("playlist",{path:"/playlist/:id"}),this.route("recently-added"),this.route("artists",(function(){this.route("index",{path:"/"},(function(){this.route("artist",{path:"/:id"})}))})),this.route("songs"),this.route("made-for-you",(function(){this.route("index",{path:"/"}),this.route("playlist",{path:"/:id"})}))})),this.route("page-data",{path:"/*path"}),this.route("social-onboarding",(function(){this.route("setup-profile"),this.route("sharing-configuration"),this.route("sharing-playlists"),this.route("find-friends"),this.route("notifications")})),this.route("modals",(function(){this.route("find-friends"),this.route("apps-access")})),this.route("account",(function(){this.route("settings")})),this.route("subscribe",{queryParams:["app"]})}))
var U=F
e.default=U})),define("desktop-music-app/routes/account/settings",["exports"],(function(e){var t,i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=class extends Ember.Route{constructor(...e){super(...e),u(this,"musickitUser",l,this),u(this,"fastboot",a,this),u(this,"user",s,this)}beforeModel(){if(this.fastboot.isFastBoot)return
const{shouldDisplayPrivacyLink:e,isLoggedIn:t}=this.musickitUser
if(e||!t)throw new Error("unauthorized or needsGDPR")}onUserUpdate(){this.musickitUser.isLoggedIn||this.replaceWith("index")}error(e){if(this.fastboot.isFastBoot)throw e
return Ember.debug(`[settings] Error "${e}"`),this.replaceWith("index"),!1}activate(){super.activate(...arguments),this.user.addObserver("userDSID",this,this.onUserUpdate)}deactivate(){super.deactivate(...arguments),this.user.removeObserver("userDSID",this,this.onUserUpdate),this.user.getSubscriptionInfo()}},l=c(o.prototype,"musickitUser",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"error",[n],Object.getOwnPropertyDescriptor(o.prototype,"error"),o.prototype),o)
e.default=d})),define("desktop-music-app/routes/activity",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"musickitData",n,this),l(this,"routeHistory",o,this)}model({id:e}){return this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getActivityById(e)})}},n=a(r.prototype,"musickitData",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"routeHistory",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/routes/album",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/constants","desktop-music-app/services/local-state"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f
function h(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeAlbumData=k,e.processAlbumShelves=w,e.default=void 0
let v=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,(0,t.default)((c=class extends Ember.Route{constructor(...e){super(...e),h(this,"musickitData",d,this),h(this,"profileRelationships",p,this),h(this,"localState",m,this),h(this,"routeHistory",b,this),h(this,"socialProfile",f,this),g(this,"queryParams",{selectedTrack:{refreshModel:!0}}),g(this,"pageType","Album")}model({id:e,name:t}){this.setProperties({pageId:e,page:`${this.pageType}_${e}`,pageDetails:{content:null==t?void 0:t.replace("-"," ")}})
const i=this.musickitData.getAlbum(e).then((e=>k(e,this,t)))
return this.routeHistory.blockOnFirstPaint({promise:i.then((e=>w(e)))})}},d=y(c.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(c.prototype,"profileRelationships",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(c.prototype,"localState",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(c.prototype,"routeHistory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(c.prototype,"socialProfile",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)
function k(e,t,i){const n=Ember.get(e,"_meta.redeliveryId")
if(!n){const i=e.tracks.map((e=>e.id))
return t.musickitData.ratings({songs:i}).then((e=>{e&&e.forEach((e=>{const{id:i,value:n}=e
1===n&&t.localState.set(i,r.TYPE_RATING,r.ITEM_WAS_LOVED)}))})),t.socialProfile.isSocialEnabled&&(e.inYourNetwork=t.profileRelationships.getSocialMapping(e.id).then((e=>{if(e)return t.profileRelationships.getProfilesByIds(e)})).catch((()=>{}))),e}t.replaceWith("album",i,n)}function w(e){var t
const i=E((e["appears-on"]||{data:[]}).data),r=E((e["more-by-artist"]||{data:[]}).data),n=E((e["you-might-also-like"]||{data:[]}).data)
let o=E((e["related-videos"]||{data:[]}).data)
o=o.map((e=>{const t=e.playParams||{id:e.id,kind:e.kind}
return e.playParams=t,e}))
const l=E((e["other-versions"]||{data:[]}).data),a=E((e["video-extras"]||{data:[]}).data),s=E((e["audio-extras"]||{data:[]}).data),u=null!==(t=e.tracks)&&void 0!==t&&t.length?[...e.tracks]:[]
delete e["appears-on"],delete e["more-by-artist"],delete e["you-might-also-like"],delete e["related-videos"],delete e["other-versions"],delete e["video-extras"],delete e["audio-extras"]
return{album:e,appearsOn:i,relatedVideos:o,otherVersions:l,videoExtras:a,audioExtras:s,topAlbumsByArtist:r,listenersAlsoBoughtAlbums:n,tracks:u}}function E(e){return e.map((e=>{const t=i.AMWEB_TYPE_TO_KIND_MAPPING[e.type],r={...e,kind:t}
return{...e,kind:t,rawJSON:r}}))}e.default=v})),define("desktop-music-app/routes/application",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/feature-flags","ember-lifeline","desktop-music-app/utils/key-events","desktop-music-app/utils/route","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/campaign-referrals","desktop-music-app/config/environment","desktop-music-app/config"],(function(e,t,i,r,n,o,l,a,s,u){var c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W,Y,q,G,$,Q,J,X,Z,ee,te
function ie(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function re(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const ne=["INPUT","TEXTAREA","SELECT","OPTION","LI"]
let oe=(c=Ember.inject.service("itunes-bag"),d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,_=Ember.inject.service,P=Ember.inject.service,O=Ember.inject.service,S=Ember.inject.service,z=Ember.inject.service,j=Ember.inject.service,T=Ember.inject.service("error"),M=Ember.inject.service("-document"),C=Ember._action,x=Ember._action,D=Ember._action,L=class extends Ember.Route{constructor(...e){super(...e),ie(this,"bag",A,this),ie(this,"user",I,this),ie(this,"translation",N,this),ie(this,"fastboot",R,this),ie(this,"finance",F,this),ie(this,"mediaApi",U,this),ie(this,"modal",B,this),ie(this,"musickit",H,this),ie(this,"musickitData",V,this),ie(this,"musickitUser",K,this),ie(this,"playback",W,this),ie(this,"router",Y,this),ie(this,"storefront",q,this),ie(this,"upsellBanner",G,this),ie(this,"platform",$,this),ie(this,"i18n",Q,this),ie(this,"locale",J,this),ie(this,"perfkit",X,this),ie(this,"metrics",Z,this),ie(this,"errorLogger",ee,this),ie(this,"document",te,this)}redirect(e,t){if(this.musickit.isAuthenticated&&!this.musickit.shouldDisplayPrivacyLink)return(0,a.handleCampaignReferrals)(this,t)}async beforeModel(e){this.perfkit.enable(),this.metrics.enable(),this.enableLinkTo(),this._maybeLaunchOniOS(e),this._handleLeavingAMWeb()
const t=(0,o.extractCountryCodeFromTransition)(e)
return t&&t!==o.ABSENT_SIGIL&&(this.storefront.storefrontId=t),this.fastboot.isFastBoot?this.mediaApi.load():await this.musickit.load(),this.user.getSubscriptionInfo()}async model(e,i){const{user:r}=this
let n,o,l,a=this.storefront.resolvedStorefront
if(this.metrics.notifyUserDataLoaded(),this.metrics.funnelEnabled=!r.isSubscribed,!a){const{subscription:e}=this.musickitUser
a=e?e.storefront:u.default.DEFAULT_STOREFRONT.toLowerCase()}let s=!0
try{await this.musickitData.languagesForStorefront(a)||(s=!1)}catch(d){s=!1}finally{s||((0,t.log)(`Invalid Storefront: ${a}`),a=u.default.DEFAULT_STOREFRONT.toLowerCase())}if(["personal-station","listen-now.index"].includes(i.to.name)){const{subscription:e}=this.musickitUser
e&&a!==e.storefront&&(a=e.storefront)}this.storefront.updateStorefrontId(a),this.fastboot.isFastBoot||(n=r.loadUserData(),o=r.updateSubscriptionOffers(),l=r.getSubscriptionOffersForStorefront())
const c=this.translation.loadAppTranslations()
return Ember.RSVP.hash({loadingTranslations:c,loadUserData:n,subscriptionOffers:o,musicSubscriptionOffersForStorefront:l})}afterModel(){this.upsellBanner.toggleBodyClasses(),this.errorLogger.add("Application Route: afterModel"),this.fastboot.isFastBoot||(this._addKeyboardListeners(),localStorage.getItem("music-app-pref:hasSeenWelcome")||this.showWelcomeUpsell()),this.isAndroid(),this.isLoggedIn(),this.isSubscribed()}_handleLeavingAMWeb(){"onbeforeunload"in window&&(0,r.addEventListener)(this,window,"beforeunload",this._onLeavingAMWeb)}_onLeavingAMWeb(e){this.musickit.isPlaying&&(e.preventDefault(),e.returnValue="")}showWelcomeUpsell(){const e=this.get("user.subscriptionInfo")
let t
t=!(!e||0!==e.status)&&e.isActive,t||localStorage.setItem("music-app-pref:hasSeenWelcome",!0)}isAndroid(){if(this.platform.isAndroid){this.document.querySelector("body").classList.add("is-android")}}isLoggedIn(){if(this.user.isLoggedOut){this.document.querySelector("body").classList.add("not-authenticated")}}isSubscribed(){if(!this.user.isSubscribed){this.document.querySelector("body").classList.add("not-subscribed")}}_maybeLaunchOniOS(e){if(this.platform.isiOS){const t=new URL(e.intent.url,window.location.origin)
t.searchParams.has("app")||t.searchParams.append("app","music"),this.platform.launch(t.toString()),e.abort()}}closeModal(){this.modal.close()}openApplicationModal(e,t){this.render(e,t)}error(e,i){if(this.fastboot.isFastBoot&&"test"!==s.default.environment)throw e;(0,t.error)("AM: Routing error",e),this.errorLogger.add("Application Route: error",e)
const r=this.musickit.MKError||{}
return![r.CONTENT_UNAVAILABLE,r.REQUEST_ERROR].includes(e.errorCode)||(alert(this.i18n.t("FUSE.WEB.ERROR.ItemNotAvailableInAppleMusic")),0===i.sequence?void(window.location.href="/"):this.router.transitionTo("error"))}enableLinkTo(){"undefined"==typeof FastBoot&&(0,r.addEventListener)(this,document.body,"click",this._clickHandler)}_clickHandler(e){const{router:t,storefront:i}=this,r=function(e){let t=e
do{if("A"===t.tagName)return t}while(t=t.parentElement,t)
return!1}(e.target)
if(!r)return!0
if(r.hasAttribute("data-dt-link-to-exclude"))return!0
const{_routerMicrolib:n}=t._router,l=(0,o.serializeURLObject)(r),a=(0,o.normalizeURL)(l,n)
i.shouldHardRefresh?window.location.href=a.split("?")[0]:((0,o.transitionToRoute)(t,a),e.preventDefault())}_addKeyboardListeners(){(0,r.addEventListener)(this,document,"keydown",(e=>{this.keyEvent?this.keyEvent.addEvent(e):this.keyEvent=new n.KeyEvent(e)
if(!(e.target&&ne.indexOf(e.target.tagName)>-1)){if(this.keyEvent.isSpacebar&&e.preventDefault(),this.keyEvent.isMetaArrowDown)return e.preventDefault(),void this.playback.volume.decrease()
if(this.keyEvent.isMetaArrowUp)return e.preventDefault(),void this.playback.volume.increase()
if(this.playback.currentTrackId&&"musicVideos"!==this.playback.currentTrackType)switch(e.stopPropagation(),this.keyEvent.key){case n.SPACEBAR:this.playback.isPlaying?this.playback.pause():this.playback.play()
break
case n.ARROW_LEFT:this.playback.hasPreviousItemInQueue&&this.playback.previous()
break
case n.ARROW_RIGHT:this.playback.hasNextItemInQueue&&this.playback.next()}}})),(0,r.addEventListener)(this,document,"keyup",(()=>{this.keyEvent=null}))}},A=re(L.prototype,"bag",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=re(L.prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=re(L.prototype,"translation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=re(L.prototype,"fastboot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=re(L.prototype,"finance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=re(L.prototype,"mediaApi",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=re(L.prototype,"modal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=re(L.prototype,"musickit",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=re(L.prototype,"musickitData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=re(L.prototype,"musickitUser",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=re(L.prototype,"playback",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=re(L.prototype,"router",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=re(L.prototype,"storefront",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=re(L.prototype,"upsellBanner",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=re(L.prototype,"platform",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=re(L.prototype,"i18n",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=re(L.prototype,"locale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=re(L.prototype,"perfkit",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=re(L.prototype,"metrics",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=re(L.prototype,"errorLogger",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=re(L.prototype,"document",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re(L.prototype,"isAndroid",[l.default],Object.getOwnPropertyDescriptor(L.prototype,"isAndroid"),L.prototype),re(L.prototype,"isLoggedIn",[l.default],Object.getOwnPropertyDescriptor(L.prototype,"isLoggedIn"),L.prototype),re(L.prototype,"isSubscribed",[l.default],Object.getOwnPropertyDescriptor(L.prototype,"isSubscribed"),L.prototype),re(L.prototype,"closeModal",[C],Object.getOwnPropertyDescriptor(L.prototype,"closeModal"),L.prototype),re(L.prototype,"openApplicationModal",[x],Object.getOwnPropertyDescriptor(L.prototype,"openApplicationModal"),L.prototype),re(L.prototype,"error",[D],Object.getOwnPropertyDescriptor(L.prototype,"error"),L.prototype),L)
e.default=oe})),define("desktop-music-app/routes/artist",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"musickitData",n,this),l(this,"routeHistory",o,this)}model({id:e,name:t}){return this.routeHistory.blockOnFirstPaint({id:e,name:t,promise:this.musickitData.getArtist(e)})}},n=a(r.prototype,"musickitData",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"routeHistory",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/routes/artist/index",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(0,t.default)(r=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),r="Artist",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){const e=this.modelFor("artist")
let t
return t=e.id,Ember.set(this,"pageDetails",{content:e.name}),Ember.setProperties(this,{pageId:t,page:`${this.pageType}_${t}`}),e}})||r
e.default=n})),define("desktop-music-app/routes/artist/see-all",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o
function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,(0,t.default)((n=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),l(this,"queryParams",{section:{refreshModel:!0}}),t=this,i="musickitData",n=this,(r=o)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),l(this,"page","Artist_SeeAll"),l(this,"pageType","SeeAll"),l(this,"pageId",null)}async model({section:e}){const{id:t}=this.paramsFor("artist"),i=await this.modelFor("artist").promise,r="top-songs"===e?50:25
return{record:{title:i&&i[e]&&i[e].title,lockups:await this.musickitData.getArtistView(t,e,{limit:r})},section:e,artist:i}}},s=n.prototype,u="musickitData",c=[i],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),o=m,r=n))||r)
var s,u,c,d,p,m
e.default=a})),define("desktop-music-app/routes/browse-page/curated-playlists",["exports","desktop-music-app/routes/browse-page/deeplink"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend()
e.default=i})),define("desktop-music-app/routes/browse-page/deeplink",["exports","desktop-music-app/utils/route","desktop-music-app/config","desktop-music-app/utils/fetch-json"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Route.extend({router:Ember.inject.service(),storefront:Ember.inject.service(),async model(){const e=await(0,r.default)(i.default.MUSIC.APP_TAB_NAV_URL),{pageData:{links:n}}=e,[o]=n.filter((({path:e})=>Ember.String.camelize(e)===Ember.String.camelize(this.routeName)))
if(o&&o.url){const{_routerMicrolib:e}=this.router._router,i=(0,t.normalizeURL)(o.url,e,this.storefront.resolvedStorefront)
return(0,t.transitionToRoute)(this.router,i)}{const e=this.router.urlFor("browse",this.storefront.resolvedStorefront)
this.router.transitionTo(e)}}})
e.default=n})),define("desktop-music-app/routes/browse-page/genres",["exports","desktop-music-app/routes/browse-page/deeplink"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend()
e.default=i})),define("desktop-music-app/routes/browse-page/shows",["exports","desktop-music-app/routes/browse-page/deeplink"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend()
e.default=i})),define("desktop-music-app/routes/browse-page/top-charts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/browse-page/top-charts/index",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,n,o
super(...e),t=this,i="storefront",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}redirect(){this.transitionTo("browse.top-charts",this.storefront.resolvedStorefront)}},o=i.prototype,l="storefront",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/routes/browse-page/top-charts/see-all",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,n,o
super(...e),t=this,i="storefront",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}model({room_id:e}){this.transitionTo("browse.top-charts.see-all",this.storefront.resolvedStorefront,e)}},o=i.prototype,l="storefront",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/routes/browse",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/browse/index",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/app-tab-links"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),u(this,"musickitData",a,this),u(this,"routeHistory",s,this),r="Genre",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){const e=(0,i.findLinkForRoute)(this.routeName)
return this.setProperties({pageId:e.id,page:`${this.pageType}_${e.id}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.groupingByName(e.id)})}},a=c(l.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"routeHistory",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=d})),define("desktop-music-app/routes/browse/top-charts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/browse/top-charts/common",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,(0,t.default)((n=class extends Ember.Route{constructor(...e){var t,i,r,n,l,a,s
super(...e),r="TopChartsPage",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,n=this,l="musickitData",s=this,(a=o)&&Object.defineProperty(n,l,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(s):void 0})}model(e){return this.setProperties({pageId:e.genreId,page:`${this.pageType}_${e.genreId}`}),this.musickitData.getCharts(["albums","songs","music-videos","playlists"],e.genreId)}},a=n.prototype,s="musickitData",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),o=p,r=n))||r)
var a,s,u,c,d,p
e.default=l})),define("desktop-music-app/routes/browse/top-charts/index",["exports","desktop-music-app/routes/browse/top-charts/common"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(...e){var t,i,r
super(...e),r={id:{refreshModel:!0},genreId:{refreshModel:!0}},(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){return super.model(...arguments)}}e.default=i})),define("desktop-music-app/routes/browse/top-charts/see-all",["exports","desktop-music-app/routes/browse/top-charts/common","desktop-music-app/services/local-state"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=class extends t.default{constructor(...e){var t,i,r
super(...e),c(this,"i18n",a,this),c(this,"musickitData",s,this),c(this,"localState",u,this),r={id:{refreshModel:!0},genreId:{refreshModel:!0}},(i="queryParams")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(e){const t=super.model(...arguments)
return Promise.resolve(t).then((t=>{const i=e.room_id
return{...t[i].data[0],type:i}})).then((e=>{if("songs"===e.type){const{data:t}=e,r=t.map((e=>e.id))
this.musickitData.ratings({songs:r}).then((e=>{e&&e.forEach((e=>{const{id:t,value:r}=e
1===r&&this.localState.set(t,i.TYPE_RATING,i.ITEM_WAS_LOVED)}))}))}return e})).then((e=>({chartPage:e})))}setupController(e){if(super.setupController(...arguments),!e.genres)return this.musickitData.getTopChartsGenres().then((t=>{const i=null==t?void 0:t.map((e=>{const t=34===Number(e.id)?this.i18n.t("FUSE.New.AllGenres"):e.name,{id:i}=e
return{name:t,selectId:i}}))
e.set("selectableGenres",i)}))}},a=d(l.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"localState",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p}))
define("desktop-music-app/routes/curator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/curator/index",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),s(this,"musickitData",l,this),s(this,"routeHistory",a,this),r="Curator",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){const{id:e}=this.paramsFor("curator")
return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.curator(e)})}},l=u(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=o))||n)
e.default=c})),define("desktop-music-app/routes/curator/playlists",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),l(this,"musickitData",n,this),l(this,"routeHistory",o,this),r="Curator",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){const{id:e}=this.paramsFor("curator")
return this.routeHistory.blockOnFirstPaint({promise:this.musickitData.curatorPlaylists(e)})}},n=a(r.prototype,"musickitData",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"routeHistory",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/routes/deeplink",["exports","desktop-music-app/utils/logger","desktop-music-app/config","desktop-music-app/utils/feature-flags","desktop-music-app/utils/route","desktop-music-app/utils/app-tab-links","desktop-music-app/utils/personalization"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{DEFAULT_TRANSITION:j,FINANCE_DEEP_LINKS:T,FINANCE_DYNAMICAMSUI_OFFER_HINTS:M,FINANCE_DYNAMICAMSUI_OPTION_KEYS:C,BAG_DEEP_LINKS:x,NAV_TABS:D,SOCIAL:{DEEP_LINKS:L}}}=i.default,A=/[\w]+([-/]?)[\w-]+$/,I=new Proxy({...D},{get:(e,t)=>["forYou","listennow"].includes(t)?`/${(0,l.personalizedRouteName)()}`:e[t]}),N=["forYou","listennow","listenNow"]
let R=(a=Ember.inject.service("itunes-bag"),s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=class extends Ember.Route{constructor(...e){super(...e),S(this,"bag",g,this),S(this,"fastboot",y,this),S(this,"finance",v,this),S(this,"itunesTab",k,this),S(this,"modal",w,this),S(this,"platform",E,this),S(this,"router",_,this),S(this,"storefront",P,this),S(this,"socialProfile",O,this)}redirect(e,{to:{queryParams:t}}){if(this.fastboot.isFastBoot)return
const{app:i,p:r,path:o}=t
if("music"===i){if(r&&A.test(r)){const[e,i]=r.match(A)
return T.includes(e)?(t[C.OFFER_HINT]=M.WIN_BACK,this.finance.openFinancePath(e,t,!0),this.transitionTo(j)):this.platform.launchClient(window.location.href)}if(o.startsWith("music/")){const[e,t]=o.match(A),i=Ember.String.camelize(e.split(t)[1])
let r=I[i]
if(!r){const[,e]=o.split("/")
return void this.transitionTo("search.index",this.storefront.resolvedStorefront,{queryParams:{term:e}}).then((()=>{this.itunesTab.selectNavBarTab(window.iTunes.NativeViewKind.Search)}))}if("string"==typeof r){const{_routerMicrolib:e}=this.router._router,t=N.includes(i)
return t&&(r=`/${(0,l.personalizedRouteName)()}`),(0,n.transitionToRoute)(this.router,(0,n.normalizeURL)(r,e)).then((()=>{t?this.itunesTab.selectPersonalizationNavBarTab():this.itunesTab.selectNavBarTab(Ember.String.classify(i))}))}}}return this.transitionTo(j)}},g=z(h.prototype,"bag",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(h.prototype,"fastboot",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(h.prototype,"finance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(h.prototype,"itunesTab",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(h.prototype,"modal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(h.prototype,"platform",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(h.prototype,"router",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(h.prototype,"storefront",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(h.prototype,"socialProfile",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h)
e.default=R})),define("desktop-music-app/routes/dev-test-page",["exports","desktop-music-app/config/environment"],(function(e,t){var i,r,n
function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember._action,r=Ember._action,o((n=class extends Ember.Route{constructor(...e){var i,r,n
super(...e),i=this,r="isDevelopment",n="development"===t.default.environment,r in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n}beforeModel(){this.isDevelopment||this.transitionTo("error")}goToShowPage(){this.transitionTo("show","us","id1150651002")}goToEpisodePage(){this.transitionTo("episode","id1150651002")}}).prototype,"goToShowPage",[i],Object.getOwnPropertyDescriptor(n.prototype,"goToShowPage"),n.prototype),o(n.prototype,"goToEpisodePage",[r],Object.getOwnPropertyDescriptor(n.prototype,"goToEpisodePage"),n.prototype),n)
e.default=l})),define("desktop-music-app/routes/episode",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){super(...e),c(this,"musickitData",a,this),c(this,"routeHistory",s,this),c(this,"playback",u,this),d(this,"queryParams",{autoplay:{refreshModel:!0}}),d(this,"pageType","Episode")}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getTVEpisode(e).then((e=>{const t=e.playlists.data.map((e=>e.id))
return t.length>0?this.musickitData.getPlaylistTracks(t[0]).then((t=>(e.tracks=t,e))):e}))})}afterModel(e,t){var i,r
if(null!=t&&null!==(i=t.to)&&void 0!==i&&null!==(r=i.queryParams)&&void 0!==r&&r.autoplay){const t=e.musicVideo||e.episode||e.product,i=this.playback.getPlaybackConfig(t)
this.playback.play(i)}}},a=p(l.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"playback",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=m})),define("desktop-music-app/routes/error",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i
function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(0,t.default)(i=class extends Ember.Route{constructor(...e){super(...e),r(this,"pageId","Error"),r(this,"pageType","Error")}redirect(e,t){0===t.sequence&&this.replaceWith("index")}})||i
e.default=n})),define("desktop-music-app/routes/for-you",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,r=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),a(this,"router",o,this),a(this,"storefront",l,this)}redirect(){const e=this.router.urlFor((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.router.transitionTo(e)}},o=s(n.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"storefront",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=u})),define("desktop-music-app/routes/genre-stations",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/personalization","desktop-music-app/config/environment"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeHref=E,e.findNameOfStation=_,e.default=void 0
const v="genre-stations",k="production"!==r.default.environment?"public":""
let w=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=class extends Ember.Route{constructor(...e){super(...e),g(this,"musickitData",d,this),g(this,"musickit",p,this),g(this,"fastboot",m,this),g(this,"locale",b,this),g(this,"storefront",f,this),g(this,"user",h,this)}beforeModel({to:e}){if(this.fastboot.isFastBoot||!this.user.isSubscribed)return
const i=Object.create(null)
i.entity="stations",i.limit=1
return this.musickit.resolveCanonical(E(window.location.href)).then((r=>{var n,o,l,a
const s=null===(n=r.results)||void 0===n||null===(o=n.links)||void 0===o||null===(l=o[0])||void 0===l||null===(a=l.mediaAPI)||void 0===a?void 0:a.parameters
s&&Object.assign(i,s),this.musickitData.searchWithQuery(i).then((i=>{const{storefront:r}=e.parent.params,[n]=i;(0,t.log)("Genre Stations: redirecting to station",n.id),this.replaceWith("station",r,n.id)}))}))}async model({id:e,genres:r,eras:n,tags:o,moods:l}){const{resolvedStorefront:a}=this.storefront
if(this.fastboot.isFastBoot){const u=(await(s=function(){const e=FastBoot.require("path"),t=FastBoot.require("process").cwd()
return e.join(t,k,"genre-moods.json")}(),new Promise(((e,t)=>{FastBoot.require("fs").readFile(s,{encoding:"utf8"},(function(i,r){i?t(i):e(JSON.parse(r))}))}))))[a]
if(u){const{locale:s}=this.locale,c=_(e,u,s,{genres:r,eras:n,tags:o,moods:l})
if(c){const e=`Listen to the best ${c} music, curated just for you`
return this.fastboot.shoebox.put(v,{name:c,description:e}),{name:c,description:e}}(0,t.warn)(`No data found for id:${e}`,{id:"no-data-for-genre-moods"}),this.transitionTo((0,i.personalizedRouteName)(),a)}else(0,t.warn)(`${a} is not supported for genre-moods`,{id:"storefront-for-genre-moods"}),this.transitionTo((0,i.personalizedRouteName)(),a)}else{const e=this.fastboot.shoebox.retrieve(v)||{}
if(e&&!(Object.keys(e).length<1))return e;(0,t.warn)("You are not running in FastBoot. genre-stations is not supported without fastboot",{id:"genre-stations-no-fastboot"}),this.transitionTo((0,i.personalizedRouteName)(),a)}var s}},d=y(c.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(c.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(c.prototype,"fastboot",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(c.prototype,"locale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(c.prototype,"storefront",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(c.prototype,"user",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
function E(e){let t=e.replace(/(carry-|beta-)/,"")
return t=t.replace(/dev\./,"music."),t=t.replace(/(md-.+)(\.apple.com.*)/,"music$2"),t=t.replace(/:4200/,""),t}function _(e,t,i,{genres:r,eras:n,tags:o,moods:l}){const a=function(e,t,i,r){return[{genres:e},{eras:t},{tags:i},{moods:r}].filter((e=>Object.keys(e).every((t=>!!e[t])))).map((e=>{const t=Object.keys(e)[0]
return`${t}=${e[t]}`}))}(r,n,o,l),s=Object.keys(t).map((e=>e.toLowerCase())),u=s.includes(i)?t[i]:t[s[0]]
let c
for(const[d,p]of Object.entries(u)){const[t,i]=d.split("?")
if(e===t){const e=decodeURIComponent(i).split("&")
if(a.every((t=>!!e.find((e=>e.toLowerCase()===t.toLowerCase()))))){c=p
break}}}return c}e.default=w})),define("desktop-music-app/routes/genre",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r,n,o,a,s
super(...e),t=this,i="musickitData",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),s="Genre",(a="pageType")in(o=this)?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.musickitData.groupingByGenre(e).then((e=>({id:Ember.get(e,"id"),pageTitle:Ember.get(e,"genreNames.0"),featuredContent:{featuredContentList:Ember.get(e,"tabs.0.children").map((e=>({...e,fcKind:parseInt(e.editorialElementKind,10),storeContent:e.contents})))}})))}},s=o.prototype,u="musickitData",c=[r],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),l=m,n=o))||n)
var s,u,c,d,p,m
e.default=a})),define("desktop-music-app/routes/grouping",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/route-metrics"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(r=Ember.inject.service,n=Ember.inject.service,(0,i.default)((l=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),u(this,"musickitData",a,this),u(this,"fastboot",s,this),r="Genre",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(e){const t=e.id
return this.setProperties({pageId:t,page:`${this.pageType}_${t}`,pageDetails:{grouping:t}}),{id:t,promise:this.fastboot.deferRendering(this.musickitData.grouping(t))}}},a=c(l.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=d})),define("desktop-music-app/routes/index",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=class extends Ember.Route{constructor(...e){super(...e),u(this,"router",l,this),u(this,"storefront",a,this),u(this,"user",s,this)}redirect(){if(this.user.isLoggedIn){const e=this.router.urlFor((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.router.transitionTo(e)}else{const e=this.router.urlFor("browse",this.storefront.resolvedStorefront)
this.router.transitionTo(e)}}},l=c(o.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"storefront",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=d})),define("desktop-music-app/routes/label",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"musickitData",n,this),l(this,"routeHistory",o,this)}model({id:e}){return this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getRecordLabel(e)})}},n=a(r.prototype,"musickitData",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"routeHistory",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/routes/label/index",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),s(this,"musickitData",l,this),s(this,"routeHistory",a,this),r="RecordLabel",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(){const{id:e}=this.paramsFor("label")
return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.modelFor("label")}},l=u(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=o))||n)
e.default=c})),define("desktop-music-app/routes/label/see-all",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,n,o
super(...e),t=this,i="musickitData",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}async model({section:e}){const{id:t}=this.paramsFor("label"),i=await this.musickitData.getRecordLabelView(t,e),{data:r,title:n}=i
return{title:null==n?void 0:n.split(" ").join("."),lockups:{data:r}}}},o=i.prototype,l="musickitData",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/routes/library-error",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i
function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(0,t.default)(i=class extends Ember.Route{constructor(...e){super(...e),r(this,"pageId","Error"),r(this,"pageType","Error")}})||i
e.default=n})),define("desktop-music-app/routes/library",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=class extends Ember.Route{constructor(...e){super(...e),d(this,"fastboot",a,this),d(this,"musickit",s,this),d(this,"router",u,this),d(this,"storefront",c,this)}beforeModel(){if(this.fastboot.isFastBoot)this.set("templateName","empty")
else if(!this.musickit.isAuthenticated){const e=this.router.urlFor((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.transitionTo(e)}}},a=p(l.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"musickit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(l.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m})),define("desktop-music-app/routes/library/albums",["exports","desktop-music-app/decorators/fastboot-guard"],(function(e,t){var i,r,n
function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){var t,i,r,o
super(...e),t=this,i="musickitData",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async model(){try{return await this.musickitData.getLibraryAlbums({limit:100})}catch(e){if("CONTENT_UNAVAILABLE"===e.name)return null
throw e}}},n=o(r.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(r.prototype,"model",[t.default],Object.getOwnPropertyDescriptor(r.prototype,"model"),r.prototype),r)
e.default=l})),define("desktop-music-app/routes/library/albums/album",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),u(this,"musickitData",a,this),u(this,"routeHistory",s,this),r="Album",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model({id:e}){this.setProperties({pageId:e,page:`${this.pageType}_${e}`})
const t=this.musickitData.getLibraryAlbum(e)
return this.routeHistory.blockOnFirstPaint({promise:t})}setupController(e){super.setupController(...arguments),e.albumTracks=null}},a=c(l.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"routeHistory",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"model",[i.default],Object.getOwnPropertyDescriptor(l.prototype,"model"),l.prototype),o=l))||o)
e.default=d})),define("desktop-music-app/routes/library/albums/index",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i
function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(0,t.default)(i=class extends Ember.Route{constructor(...e){super(...e),r(this,"pageType","Picker"),r(this,"pageContext","Library"),r(this,"pageId","LibraryAlbumsMain"),r(this,"page","Picker_LibraryAlbumsMain")}model(){return this.modelFor("library.albums")}})||i
e.default=n})),define("desktop-music-app/routes/library/artists",["exports","desktop-music-app/decorators/fastboot-guard"],(function(e,t){var i,r,n
function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){var t,i,r,o
super(...e),t=this,i="musickitData",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async model(){try{return await this.musickitData.getLibraryArtists({limit:100})}catch(e){if("CONTENT_UNAVAILABLE"===e.name)return null
throw e}}},n=o(r.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(r.prototype,"model",[t.default],Object.getOwnPropertyDescriptor(r.prototype,"model"),r.prototype),r)
e.default=l})),define("desktop-music-app/routes/library/artists/index",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.computed,l=Ember.computed,a=Ember._action,(0,t.default)((b((u=class extends Ember.Route{constructor(...e){super(...e),p(this,"media",c,this),p(this,"platform",d,this),m(this,"pageType","Picker"),m(this,"pageId","LibraryArtistsMain"),m(this,"page","Picker_LibraryArtistsMain")}renderTemplate(){this.render({outlet:"artist-list-view"})}get isMobile(){const[e="medium"]=this.media.matches
return this.platform.isMobile&&["xsmall","small"].indexOf(e)>-1}model(){return this.modelFor("library.artists")}get controller(){return this.controllerFor("library.artists.index")}afterModel(e){if(null==e||!e.data)return
this.controller.set("requestOffset",1)
const t={},{data:i}=e
i.forEach((e=>{t[e.id]=e.name})),Ember.set(this.controller,"idToName",t),Ember.set(this.controller,"detailViewController",this.controllerFor("library.artists.index.artist")),Ember.set(this.controller,"isMobile",this.isMobile)
const{id:r}=this.paramsFor("library.artists.index.artist")
if(r)return Ember.set(this.controller,"selectedArtistId",r),void this.transitionTo("library.artists.index.artist",r)
if(this.controller.get("selectedArtistId")||!i.length)return void this.transitionTo("library.artists.index.artist",this.controller.get("selectedArtistId"))
if(this.isMobile)return
const n=i[0].id
n&&(this.transitionTo("library.artists.index.artist",n),this.controller.set("selectedArtistId",n))}didTransition(){this.controller.showListView()}}).prototype,"renderTemplate",[i.default],Object.getOwnPropertyDescriptor(u.prototype,"renderTemplate"),u.prototype),c=b(u.prototype,"media",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"platform",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"isMobile",[o],Object.getOwnPropertyDescriptor(u.prototype,"isMobile"),u.prototype),b(u.prototype,"controller",[l],Object.getOwnPropertyDescriptor(u.prototype,"controller"),u.prototype),b(u.prototype,"afterModel",[i.default],Object.getOwnPropertyDescriptor(u.prototype,"afterModel"),u.prototype),b(u.prototype,"didTransition",[a],Object.getOwnPropertyDescriptor(u.prototype,"didTransition"),u.prototype),s=u))||s)
e.default=f})),define("desktop-music-app/routes/library/artists/index/artist",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(r=Ember.inject.service,n=Ember.computed.alias("indexController.idToName"),o=Ember.computed.alias("indexController.selectedArtistId"),l=Ember.computed.alias("indexController.isMobile"),a=Ember._action,(0,t.default)((u=class extends Ember.Route{constructor(...e){super(...e),b(this,"fastboot",c,this),f(this,"pageType","Artist"),b(this,"idToName",d,this),b(this,"selectedArtistId",p,this),b(this,"isMobile",m,this),f(this,"currentArtistContent",null)}renderTemplate(){if(this.fastboot.isFastBoot)return super.renderTemplate(...arguments)
this.render({into:"library.artists",outlet:"artist-detail-view"})}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.getArtistContent(e)}get indexController(){return this.controllerFor("library.artists.index")}setupController(e){super.setupController(...arguments),Ember.set(e,"currentArtistContent",this.currentArtistContent),Ember.set(e,"isMobile",this.isMobile)}afterModel(e){let t=e[0].artistName
t||(t=this.idToName[this.selectedArtistId]),this.currentArtistContent={title:t,mediaData:e}}async getArtistContent(e){return await this.indexController.getArtistContent(e)}didTransition(){this.indexController.showDetailsView()}},c=h(u.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"model",[i.default],Object.getOwnPropertyDescriptor(u.prototype,"model"),u.prototype),d=h(u.prototype,"idToName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"selectedArtistId",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(u.prototype,"isMobile",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"afterModel",[i.default],Object.getOwnPropertyDescriptor(u.prototype,"afterModel"),u.prototype),h(u.prototype,"didTransition",[a],Object.getOwnPropertyDescriptor(u.prototype,"didTransition"),u.prototype),s=u))||s)
e.default=g})),define("desktop-music-app/routes/library/made-for-you",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/library/made-for-you/index",["exports","desktop-music-app/decorators/fastboot-guard","desktop-music-app/decorators/route-metrics"],(function(e,t,i){var r,n,o,l
function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(r=Ember.inject.service,(0,i.default)((o=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),t=this,i="musickitData",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a(this,"pageType","Library"),a(this,"pageId","MadeForYou"),a(this,"queryParams",{sort:{refreshModel:!0}})}async model(e){try{const t={"filter[featured]":"made-for-you","include[library-playlists]":["catalog"],"fields[library-playlists]":["artwork","name","playParams","dateAdded"]}
e.sort&&(t.sort=e.sort)
return await this.musickitData.getLibraryPlaylists(t)}catch(t){if("CONTENT_UNAVAILABLE"===t.name)return null
throw t}}},l=s(o.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(o.prototype,"model",[t.default],Object.getOwnPropertyDescriptor(o.prototype,"model"),o.prototype),n=o))||n)
e.default=u})),define("desktop-music-app/routes/library/made-for-you/playlist",["exports","desktop-music-app/routes/library/playlist"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(...e){var t,i,r
super(...e),r="Playlist",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}}e.default=i})),define("desktop-music-app/routes/library/playlist",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/services/local-state","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i,r){var n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,(0,t.default)((s=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),p(this,"localState",u,this),p(this,"musickitData",c,this),p(this,"routeHistory",d,this),r="Playlist",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model({id:e}){if(this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),e){const t=this.musickitData.getLibraryPlaylist(e).then((e=>{if(!e)return{}
const{tracks:t}=e,r=t.map((e=>e.id))
return this.musickitData.ratings({"library-songs":r}).then((e=>{e&&e.forEach((e=>{const{id:t,value:r}=e
1===r&&this.localState.set(t,i.TYPE_RATING,i.ITEM_WAS_LOVED)}))})),e}))
return this.routeHistory.blockOnFirstPaint({promise:t})}}afterModel({promise:e}){Promise.resolve(e).then((e=>{const{catalog:t}=e
if(t&&t.length){const[i]=t
"replay"===i.playlistType&&e.playlist&&Ember.set(e,"playlist.playlistType","replay")}}))}},u=m(s.prototype,"localState",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"musickitData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"routeHistory",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(s.prototype,"model",[r.default],Object.getOwnPropertyDescriptor(s.prototype,"model"),s.prototype),m(s.prototype,"afterModel",[r.default],Object.getOwnPropertyDescriptor(s.prototype,"afterModel"),s.prototype),a=s))||a)
e.default=b})),define("desktop-music-app/routes/library/recently-added",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l
function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),t=this,i="musickitData",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a(this,"pageType","Picker"),a(this,"pageId","LibraryRecentlyAdded"),a(this,"page","Picker_LibraryRecentlyAdded")}async model(){try{return await this.musickitData.getRecentlyAdded({limit:25})}catch(e){if("CONTENT_UNAVAILABLE"===e.name)return null
throw e}}},l=s(o.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(o.prototype,"model",[i.default],Object.getOwnPropertyDescriptor(o.prototype,"model"),o.prototype),n=o))||n)
e.default=u})),define("desktop-music-app/routes/library/songs",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l
function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),t=this,i="musickitData",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a(this,"pageType","Picker"),a(this,"pageId","LibrarySongsMain"),a(this,"page","Picker_LibrarySongsMain")}async model(){try{return await this.musickitData.getLibrarySongs({limit:100})}catch(e){if("CONTENT_UNAVAILABLE"===e.name)return null
throw e}}},l=s(o.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(o.prototype,"model",[i.default],Object.getOwnPropertyDescriptor(o.prototype,"model"),o.prototype),n=o))||n)
e.default=u})),define("desktop-music-app/routes/listen-now",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t}))
define("desktop-music-app/routes/listen-now/index",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_
function P(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function S(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let z=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.computed("user.{subscriptionStatus,isLoggedIn,isSubscribed}"),(0,t.default)((b=class extends Ember.Route{constructor(...e){super(...e),P(this,"fastboot",f,this),P(this,"metrics",h,this),P(this,"musicFeatures",g,this),P(this,"musickit",y,this),P(this,"personalizationRefresh",v,this),P(this,"router",k,this),P(this,"storefront",w,this),P(this,"user",E,this),P(this,"socialProfile",_,this),O(this,"controllerName","listen-now"),O(this,"page","ListenNow_ListenNowLanding"),O(this,"pageContext","ListenNow"),O(this,"pageId","ListenNowLanding"),O(this,"pageType","ListenNow"),O(this,"dataSetId",null),O(this,"_isUserSubscribed",!1)}get userHasAccess(){return this.user.isLoggedIn&&this.user.isSubscribed}activate(){if(super.activate(...arguments),this.user.addObserver("userDSID",this,this.onUserUpdate),this.user.isSubscribed){this.controllerFor(this.controllerName).setPersonalizationListeners(),this.personalizationRefresh,Promise.resolve(this.user.profile).then((e=>{this.user.checkDiscoverFriendsForProfile(e)}))}}deactivate(){super.deactivate(...arguments),this.user.removeObserver("userDSID",this,this.onUserUpdate)}beforeModel(e){this.user.onboardingCompleted&&(Ember.set(this,"user.onboardingCompleted",!1),window.location.href=e.intent.url)}model(){if(!this.userHasAccess)return{promise:this.fastboot.deferRendering(Promise.resolve())}
if(this.musickit.shouldDisplayPrivacyLink)return{promise:this.fastboot.deferRendering(Promise.resolve())}
return{promise:this.controllerFor(this.controllerName).loadListenNowData()}}afterModel(e){return Promise.resolve(e.promise).then((e=>{if(this.isDestroying||this.isDestroyed||!e)return
const{meta:{metrics:t={}}={}}=e
t.reco_id&&(this.dataSetId=t.reco_id,this.metrics.currentPageData["data.reco.dataSetId"]=this.dataSetId)
const i=Ember.getOwner(this),r=new(i.factoryFor("presenter:listen-now").class)
Ember.setOwner(r,i),Ember.setProperties(r,{model:e.data})})),e}getMetricsData(){const e={pageId:this.pageId,pageType:this.pageType,pageContext:this.pageContext,page:this.page}
return this.setProperties(e),e["data.reco.dataSetId"]=this.getRecoDSID(),e}getRecoDSID(){return this.dataSetId}onUserUpdate(){this.refresh()}_subStatusHandler(){this.user.isSubscribed!==this._isUserSubscribed&&(this._isUserSubscribed=this.user.isSubscribed,this.refresh())}},f=S(b.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=S(b.prototype,"metrics",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=S(b.prototype,"musicFeatures",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S(b.prototype,"musickit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S(b.prototype,"personalizationRefresh",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=S(b.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S(b.prototype,"storefront",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=S(b.prototype,"user",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=S(b.prototype,"socialProfile",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S(b.prototype,"userHasAccess",[p],Object.getOwnPropertyDescriptor(b.prototype,"userHasAccess"),b.prototype),m=b))||m)
e.default=z})),define("desktop-music-app/routes/listen-now/see-all",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/controllers/listen-now"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){super(...e),u(this,"fastboot",a,this),u(this,"musickitData",s,this),c(this,"page","ListenNow_SeeAll"),c(this,"pageType","SeeAll"),c(this,"pageId",null)}async model({id:e}){if(this.fastboot.isFastBoot)return
this.set("pageId",e)
return function(e){var t,i
const r=e.data[0]
if(null!=r&&null!==(t=r.contents[0])&&void 0!==t&&null!==(i=t.contents)&&void 0!==i&&i.length){const e=r.contents.length,t=[]
for(let i=0;i<e;i++)t.push(...r.contents[i].contents)
return{...r,data:t}}return{...r,data:r.contents}}(await this.musickitData.personalRecommendationView(e,"see-all",{action:"refresh",name:"listen-now",extend:["artistUrl"],types:i.REQUEST_TYPES,include:{"personal-recommendation":"contents"}}))}},a=d(l.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=p})),define("desktop-music-app/routes/live-station",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{model({id:e}){return this.store.findRecord("live-station",e)}}e.default=t})),define("desktop-music-app/routes/login",["exports","desktop-music-app/utils/personalization","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Route{constructor(...e){super(...e),b(this,"router",u,this),b(this,"storefront",c,this),b(this,"user",d,this),b(this,"commerceModalManager",p,this),b(this,"fastboot",m,this)}redirect(){if(this.user.isLoggedIn){const e=this.router.urlFor((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.router.transitionTo(e)}}},u=f(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(s.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(s.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(s.prototype,"commerceModalManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(s.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(s.prototype,"redirect",[i.default],Object.getOwnPropertyDescriptor(s.prototype,"redirect"),s.prototype),s)
e.default=h})),define("desktop-music-app/routes/lyrics",["exports","desktop-music-app/routes/album"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=class extends Ember.Route{constructor(...e){super(...e),g(this,"musickitData",c,this),g(this,"profileRelationships",d,this),g(this,"localState",p,this),g(this,"routeHistory",m,this),g(this,"socialProfile",b,this),g(this,"router",f,this),g(this,"fastboot",h,this)}model(e,t){var i
const{ts:r,te:n,tk:o,l:l}=null===(i=t.to)||void 0===i?void 0:i.queryParams,{id:a}=e
return this.routeHistory.blockOnFirstPaint({id:a,ts:r,te:n,promise:this.musickitData.getLyricSharingSnippet(a,r,n,o,l)})}async afterModel(e){try{const i=await e.promise
if(i){const r=i.album.id,n=await this.musickitData.getAlbum(r).then((e=>(0,t.processAlbumShelves)((0,t.normalizeAlbumData)(e,this,e.name)))),o=function(e,t){var i
const r=null==t||null===(i=t.album)||void 0===i?void 0:i.tracks
if(r)return r.find((t=>t.id===e))}(e.id,n)
i.selectedTrack=o,i.album=n,i.songId=e.id,i.ts=e.ts,i.te=e.te}else this.fastboot.isFastboot||(alert(this.i18n.t("FUSE.WEB.ERROR.ItemNotAvailableInAppleMusic")),this.router.transitionTo("browse"))}catch(i){}this.fastboot.isFastBoot&&this.fastboot.response.headers.set("cache-control","max-age=0, private")}},c=y(u.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y(u.prototype,"profileRelationships",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(u.prototype,"localState",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(u.prototype,"routeHistory",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(u.prototype,"socialProfile",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(u.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(u.prototype,"fastboot",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=v})),define("desktop-music-app/routes/message-consent-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/modals/apps-access",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend({})
e.default=t})),define("desktop-music-app/routes/modals/find-friends",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend({})
e.default=t})),define("desktop-music-app/routes/multi-room",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,n,o
super(...e),t=this,i="musickitData",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}model({id:e}){return this.musickitData.getMultiRoomById(e)}},o=i.prototype,l="musickitData",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/routes/multiplex",["exports","desktop-music-app/utils/constants"],(function(e,t){var i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=class extends Ember.Route{constructor(...e){super(...e),u(this,"musickitData",l,this),u(this,"router",a,this),u(this,"storefront",s,this)}model({id:e}){return this.musickitData.getMultiplex(e)}afterModel(e){const{id:i,type:r}=e.target,n=t.TYPE_TO_ROUTE_MAP[r],o=this.router.urlFor(n,this.storefront.resolvedStorefront,i)
this.replaceWith(o)}},l=c(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=d})),define("desktop-music-app/routes/music-movie",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){super(...e),c(this,"musickitData",a,this),c(this,"routeHistory",s,this),c(this,"playback",u,this),d(this,"queryParams",{autoplay:{refreshModel:!0}}),d(this,"pageType","Movie")}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getMusicMovie(e).then((e=>{const t=e.playlists.data.map((e=>e.id))
return t.length>0?this.musickitData.getPlaylistTracks(t[0]).then((t=>(Ember.set(e,"tracks",t),e))):e}))})}},a=p(l.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"playback",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=m})),define("desktop-music-app/routes/music-video",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){super(...e),s(this,"musickitData",l,this),s(this,"routeHistory",a,this),u(this,"queryParams",{autoplay:{refreshModel:!0}}),u(this,"pageType","MusicVideo")}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getMusicVideo(e)})}},l=c(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=o))||n)
e.default=d})),define("desktop-music-app/routes/offer",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{beforeModel(e){const{targetName:t}=e
"offer.index"===t?this.replaceWith("/"):this.replaceWith("offer.carrier")}}e.default=t})),define("desktop-music-app/routes/offer/carrier",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i
function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(0,t.default)(i=class extends Ember.Route{constructor(...e){super(...e),r(this,"pageType","Offer"),r(this,"pageId","carrier_offer"),r(this,"page","carrier_offer")}beforeModel(){this.replaceWith("offer.carrier")}})||i
e.default=n})),define("desktop-music-app/routes/onboarding",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){var i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=class extends Ember.Route{constructor(...e){super(...e),u(this,"user",l,this),u(this,"router",a,this),u(this,"storefront",s,this)}model(){let e
return e={},Ember.RSVP.hash({data:e,d3:emberAutoImportDynamic("d3")})}redirect(){const e=this.controllerFor("onboarding")
e.shouldRefresh?e.refresh():this.transitionTo("onboarding.labels")}},l=c(o.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=d})),define("desktop-music-app/routes/onboarding/artists",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/logger"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Route.extend({musickitData:Ember.inject.service(),beforeModel(){},model(){const{data:e,d3:t}=this.modelFor("onboarding")
let r
if(e.artists&&e.artists.length)return r=e.artists,Ember.RSVP.hash({artists:r,onboarding:e,d3:t});(0,i.log)("Onboading: No artists information.")}})
e.default=r})),define("desktop-music-app/routes/onboarding/labels",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/personalization"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Route.extend({fastboot:Ember.inject.service(),musickitData:Ember.inject.service(),router:Ember.inject.service(),storefront:Ember.inject.service(),user:Ember.inject.service(),model(){const{data:e,d3:t}=this.modelFor("onboarding"),i=this.handleFailure.bind(this)
let r
return this.fastboot.isFastBoot?Ember.RSVP.hash({genres:Promise.resolve(),d3:t}):(r=this.musickitData.getOnboardingLabels().catch(i),Ember.RSVP.hash({genres:r,onboarding:e,d3:t}))},handleFailure(e){if(e.status||Array.isArray(e.errors)&&e.errors[0].status)this.user.login((()=>{this.user.isLoggedIn&&this.refresh()}),!0)
else{const e=this.router.urlFor((0,i.personalizedRouteName)(),this.storefront.resolvedStorefront)
this.transitionTo(e)}}})
e.default=r})),define("desktop-music-app/routes/page-data",["exports","desktop-music-app/utils/url-parser","desktop-music-app/utils/feature-flags","desktop-music-app/utils/route"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=class extends Ember.Route{constructor(...e){super(...e),f(this,"bag",c,this),f(this,"router",d,this),f(this,"storefront",p,this),f(this,"fastboot",m,this),f(this,"playback",b,this)}beforeModel(e){const i=Ember.get(e,"to.params.path")
if(i){if(i.includes("viewMultiRoom"))return void e.abort()
const{id:n,routeName:o}=(0,r.unknownUrlToRoute)(i)
if("page-data"!==o){const{query:e}=(0,t.default)(i),r=[o,n,e?{queryParams:e}:{}].filter(Boolean)
return this.transitionTo(...r)}if(this.fastboot.isFastBoot)return
if(alert(this.i18n.t("FUSE.WEB.ERROR.PageNotFound")),window.location.href="/",i.indexOf("/station/ra.")>=0){e.abort()
const{pathname:r}=(0,t.default)(i),n=r.substring(r.lastIndexOf("/")+1)
this.playback.play({items:[{id:n}]})}}}model(e){}afterModel(e){if(e&&!Ember.get(e,"componentName")){const t=Ember.get(e,"id")||""
window.iTunes.openURL(t,"main")}}},c=h(u.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(u.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h(u.prototype,"playback",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g})),define("desktop-music-app/routes/personal-mix",["exports"],(function(e){var t,i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),s(this,"musickit",o,this),s(this,"musickitData",l,this),s(this,"user",a,this)}redirect({id:e},{to:t}){if(this.user.isSubscribed)return this.musickitData.getPlaylist(void 0,{"filter[personal-mix]":e}).then((e=>{const{storefront:i}=t.parent.params
this.replaceWith("playlist",i,Ember.String.dasherize(e.name.toLowerCase()),e.id)})).catch((e=>{var t
e.errorCode!==(null===(t=this.musickit.MKError)||void 0===t?void 0:t.CONTENT_UNAVAILABLE)?this.transitionTo("error"):this.controllerFor("personal-mix").set("renderUpsell",!0)}))
this.controllerFor("personal-mix").set("renderUpsell",!0)}},o=u(n.prototype,"musickit",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(n.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(n.prototype,"user",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=c})),define("desktop-music-app/routes/personal-station",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=class extends Ember.Route{constructor(...e){super(...e),d(this,"fastboot",a,this),d(this,"musickitData",s,this),d(this,"storefront",u,this),d(this,"user",c,this)}model(){if(!this.fastboot.isFastBoot)return this.user.isLoggedIn?this.musickitData.getMyStation():void this.transitionTo((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)}},a=p(l.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(l.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m})),define("desktop-music-app/routes/playlist",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/services/local-state","desktop-music-app/utils/fetch-json"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let E=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,(0,t.default)((p=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),k(this,"user",m,this),k(this,"itunesBag",b,this),k(this,"musickitData",f,this),k(this,"profileRelationships",h,this),k(this,"localState",g,this),k(this,"routeHistory",y,this),k(this,"socialProfile",v,this),r="Playlist",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model({id:e,name:t}){this.setProperties({pageId:e,page:`${this.pageType}_${e}`,pageDetails:{content:null==t?void 0:t.replace("-"," ")}})
const r=this.musickitData.getPlaylist(e).then((e=>{const t=e.tracks.map((e=>e.id))
return this.musickitData.ratings({songs:t}).then((e=>{e&&e.forEach((e=>{const{id:t,value:r}=e
1===r&&this.localState.set(t,i.TYPE_RATING,i.ITEM_WAS_LOVED)}))})),this.socialProfile.isSocialEnabled&&(e.inYourNetwork=this.profileRelationships.getSocialMapping(e.id).then((e=>{if(e)return this.profileRelationships.getProfilesByIds(e)})).catch((()=>{}))),e}))
return this.routeHistory.blockOnFirstPaint({promise:r})}_getAddedPlaylistSection(e){const t=this.itunesBag.getFromBag("musicFriends.playlistSubscribersSwoosh")
if(t){const i=new URL(t)
return i.searchParams.append("v",1),i.searchParams.append("id",e),(0,r.default)(i)}}},m=w(p.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(p.prototype,"itunesBag",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(p.prototype,"musickitData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(p.prototype,"profileRelationships",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(p.prototype,"localState",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w(p.prototype,"routeHistory",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(p.prototype,"socialProfile",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d)
e.default=E})),define("desktop-music-app/routes/post",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,(0,t.default)((a=class extends Ember.Route{constructor(...e){super(...e),p(this,"musickitData",s,this),p(this,"router",u,this),p(this,"routeHistory",c,this),p(this,"storefront",d,this)}model({id:e}){this.setProperties({pageId:e,pageType:"Post",page:`Post_${e}`})
const t=this.musickitData.getPost(e)
return this.routeHistory.blockOnFirstPaint({promise:t.then((t=>{if(t&&!t.url){const i=this.router.urlFor("post",this.storefront.resolvedStorefront,e)
i&&(t.url=`https://music.apple.com${i}`)}return t}))})}},s=m(a.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(a.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(a.prototype,"routeHistory",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(a.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=a))||l)
e.default=b})),define("desktop-music-app/routes/profile-edit",["exports","desktop-music-app/utils/async-for-each"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,r=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),a(this,"user",o,this),a(this,"socialProfile",l,this)}model(e){const t=e
t.v="1"
const i=this.store.queryRecord("profile",t),r=this.getPlaylists()
return Ember.RSVP.hash({profile:i.then((e=>e.get("profile"))),playlists:r})}setupController(e,t){const i=Ember.get(t,"profile"),r=Ember.get(t,"playlists"),n=Ember.get(i,"avatarArtwork"),o=Ember.get(i,"name"),l=Ember.get(i,"handle"),a=!!Ember.get(i,"isPrivate")
Ember.setProperties(e,{current:{profileImage:n,profileName:o,profileHandle:l,isPrivateProfile:a},profile:i,playlists:r,profileImage:n,profileName:o,playlistPrivacyChanged:!1,profileHandle:l,isPrivateProfile:a}),e.addPlaylistPrivacyChangedObserver()}deactivate(){this.controller.removePlaylistPrivacyChangedObserver()}async getPlaylists(){if(!this.user.isCloudLibraryEnabled)return[]
const e=await this.store.findRecord("private-social-playlists","private-social-playlists"),{ids:t}=e
if(!t.length)return[]
const i=e.hasMany("playlists"),r=await i.load({adapterOptions:{profile:"lockup",isPersonalized:!0}})
return this.processLibraryPlaylists(t,r)}processLibraryPlaylists(e,i){if(window.iTunes.findPlaylistsByUniversalLibraryIDs){const r=Object.create(null)
window.iTunes.findPlaylistsByUniversalLibraryIDs(e).forEach((e=>{r[e.universalLibraryID]=e.artworkURL})),(0,t.default)(i,(e=>{const t=r[e.get("id")]
t&&Ember.get(e,"artwork")?Ember.set(e,"artwork.url",t):t&&Ember.set(e,"artwork",{url:t})}))}return i}},o=s(n.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"socialProfile",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=u})),define("desktop-music-app/routes/profile-page-see-all-room",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{model(e){const t=e.module_id,i=e.userId||this.modelFor("profile").id,r={actionType:"seeAll",v:1,ts:Date.now(),limit:30,moduleType:t,id:i}
return this.store.queryRecord("profile-page-see-all-room",r)}setupController(e,t){super.setupController(e,t)
const i=Ember.get(t,"lockups"),r=Ember.get(t,"roomType"),n=Ember.get(t,"profileData.followState")
"USER_ENGAGEMENT"===r&&"self"===n&&i.forEach((e=>{Ember.get(e,"rawJSON")&&Ember.set(e,"rawJSON.canBeHiddenFromListeningTo",!0)})),this.controller.set("roomLockups",i.toArray())}deactivate(){super.deactivate(...arguments),this.controller.set("roomLockups",[])}}e.default=t})),define("desktop-music-app/routes/profile-page/pending-approval-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/profile-settings-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{}e.default=t})),define("desktop-music-app/routes/profile",["exports","ember-lifeline","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/route-metrics"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember._action,(0,r.default)((p=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),v(this,"bag",m,this),v(this,"router",b,this),v(this,"storefront",f,this),v(this,"musickitData",h,this),v(this,"routeHistory",g,this),v(this,"user",y,this),r="Profile",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(e){let t
const i=e.id
return t=this.musickitData.socialProfileByHandle(i),t.then((e=>{const{id:t}=e
Ember.setProperties(this,{pageId:t,page:`${this.pageType}_${t}`})})),this.routeHistory.blockOnFirstPaint({promise:t})}activate(){super.activate(...arguments)}error(){const e=this.router.urlFor("browse",this.storefront.resolvedStorefront)
return this.router.transitionTo(e),!0}},m=k(p.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(p.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"musickitData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"routeHistory",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(p.prototype,"user",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(p.prototype,"error",[c],Object.getOwnPropertyDescriptor(p.prototype,"error"),p.prototype),d=p))||d)
e.default=w})),define("desktop-music-app/routes/radio-page/all-stations",["exports","desktop-music-app/routes/radio-page/deeplink","desktop-music-app/utils/feature-flags"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend({itunesTab:Ember.inject.service(),metrics:Ember.inject.service(),beforeModel(e){this._super(...arguments)}})
e.default=r})),define("desktop-music-app/routes/radio-page/beats1",["exports","desktop-music-app/routes/radio-page/deeplink","desktop-music-app/utils/feature-flags"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend({itunesTab:Ember.inject.service(),metrics:Ember.inject.service(),beforeModel(e){this._super(...arguments)}})
e.default=r})),define("desktop-music-app/routes/radio-page/deeplink",["exports","desktop-music-app/utils/route","desktop-music-app/config","desktop-music-app/utils/fetch-json"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Route.extend({router:Ember.inject.service(),storefront:Ember.inject.service(),async model(){const e=await(0,r.default)(i.default.MUSIC.APP_TAB_NAV_URL),{pageData:{radioLinks:n}}=e,[o]=n.filter((({path:e})=>Ember.String.camelize(e)===Ember.String.camelize(this.routeName.replace(/-page/,"")))),{router:l}=this
if(o)return(0,t.transitionToRoute)(l,o.url)
{const e=(0,t.normalizeURL)("/radio",l._router._routerMicrolib,this.storefront.resolvedStorefront);(0,t.transitionToRoute)(l,e)}}})
e.default=n}))
define("desktop-music-app/routes/radio",["exports","desktop-music-app/utils/app-tab-links"],(function(e,t){var i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=class extends Ember.Route{constructor(...e){super(...e),d(this,"musickitData",a,this),d(this,"routeHistory",s,this),d(this,"storefront",u,this),d(this,"user",c,this)}model(){const{id:e}=(0,t.findLinkForRoute)(this.routeName),i=this.musickitData.groupingRadioByName(e).then((e=>{if(!this.user.isLoggedIn&&!this.storefront.isMyStorefront)return e
return async function(e,t){try{const i=await t
return null!=i&&i.length?(e.tabs[0].children.forEach((e=>{"332"===e.editorialElementKind&&(e.contents=i)})),e):e}catch(i){return e}}(e,this.musickitData.recentlyPlayedRadioStations())}))
return this.routeHistory.blockOnFirstPaint({promise:i})}onUserUpdate(){this.refresh()}activate(){super.activate(...arguments),this.user.addObserver("userDSID",this,this.onUserUpdate)}deactivate(){super.deactivate(...arguments),this.user.removeObserver("userDSID",this,this.onUserUpdate)}},a=p(l.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"storefront",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(l.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m})),define("desktop-music-app/routes/radio/index",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/app-tab-links"],(function(e,t,i,r){var n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,(0,i.default)((s=class extends Ember.Route{beforeModel(){}constructor(){super(...arguments),p(this,"cookies",u,this),p(this,"fastboot",c,this),p(this,"user",d,this),m(this,"pageType","Genre"),m(this,"pageContext","Radio"),Ember.addObserver(this,"user.subscriptionStatus",this,this.setSubscriptionCookieState),Ember._registerDestructor(this,(()=>{Ember.removeObserver(this,"user.subscriptionStatus",this,this.setSubscriptionCookieState)}))}setSubscriptionCookieState(){const e=Ember.get(this,"user.subscriptionStatus"),t=Ember.get(e,"optedInMode")
let i=0
"optedOutOfSubscription"===t?i=1:"hasActiveSubscription"===t&&(i=2)
const r=new Date
r.setDate(r.getDate()+30)
const n=`itst=${i};domain=itunes.apple.com;path=/;expires=${r.toUTCString()}`
this.cookies.setString(n)}model(){const{id:e}=(0,r.findLinkForRoute)(this.routeName)
return Ember.setProperties(this,{pageId:e,page:`${this.pageType}_${e}`}),this.modelFor("radio")}onUserUpdate(){this.refresh()}activate(){super.activate(...arguments),this.user.addObserver("userDSID",this,this.onUserUpdate)}deactivate(){super.deactivate(...arguments),this.user.removeObserver("userDSID",this,this.onUserUpdate)}},u=b(s.prototype,"cookies",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(s.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(s.prototype,"user",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)
e.default=f})),define("desktop-music-app/routes/radio/see-all",["exports","desktop-music-app/utils/current-show","desktop-music-app/decorators/route-metrics"],(function(e,t,i){var r,n,o,l
function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(r=Ember.inject.service,(0,i.default)((o=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),t=this,i="router",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a(this,"pageType","Schedule"),a(this,"pageContext","Radio")}get pageId(){return this.router.currentRoute.params.id||this.router.currentRoute.attributes.id}get page(){return`${this.pageType}_${this.pageId}`}async model({id:e}){const i=this.modelFor("radio"),r=await i.promise,n=new(Ember.getOwner(this).factoryFor("presenter:grouping/musickit").class)(r)
Ember.setOwner(n,Ember.getOwner(this))
const o=n.featuredContentList.find((e=>488===e.fcKind)).featuredContent.find((t=>t.storeContentLink.id===e))
return{station:o,upcomingShows:(0,t.sortShows)(o.upcomingShows)}}},u=o.prototype,c="router",d=[r],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(p).forEach((function(e){b[e]=p[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(u,c,b),b=null),l=b,n=o))||n)
var u,c,d,p,m,b
e.default=s})),define("desktop-music-app/routes/replay",["exports","desktop-music-app/config/environment","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=`${"development"===t.default.environment?"https://replay.music.apple.com":""}/includes/music-replay`,d=`${c}/build/replay.js`,p=`${c}/build/replay.esm.js`,m="replay-script-tag",b="replay-script-tag-esm"
let f=(n=Ember.inject.service("itunes-router"),o=(0,i.default)({callSuper:!0}),l=(0,i.default)({callSuper:!0}),a=class extends Ember.Route{constructor(...e){var t,i,r,n,o,l,a
super(...e),t=this,i="iTunesRouter",n=this,(r=s)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a=!0,(l="pageMetricsDisabled")in(o=this)?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a}beforeModel(e){return!0}activate(){super.activate(...arguments),document.body.classList.add("replay"),this.addReplayScriptTags()}addReplayScriptTags(){if(Ember.testing)return
if(!document.getElementById(b)){const e=document.createElement("script")
e.setAttribute("src",p),e.setAttribute("id",b),e.setAttribute("type","module"),document.body.appendChild(e)}if(!document.getElementById(m)){const e=document.createElement("script")
e.setAttribute("src",d),e.setAttribute("id",m),e.setAttribute("nomodule",!0),document.body.appendChild(e)}}deactivate(){super.deactivate(...arguments),document.body.classList.remove("replay")}},s=u(a.prototype,"iTunesRouter",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"activate",[o],Object.getOwnPropertyDescriptor(a.prototype,"activate"),a.prototype),u(a.prototype,"deactivate",[l],Object.getOwnPropertyDescriptor(a.prototype,"deactivate"),a.prototype),a)
e.default=f})),define("desktop-music-app/routes/room",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/services/local-state"],(function(e,t,i){var r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),u(this,"musickitData",a,this),u(this,"localState",s,this),r="Room",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model(e){const{id:t}=e
return this.setProperties({pageId:t,page:`${this.pageType}_${t}`}),this.musickitData.getRoomById(t).then((e=>this.musickitData.getSortedRoomContentById(t).then((t=>{if(t.data.every((e=>"songs"===e.type))){const e=t.data.map((e=>e.id))
this.musickitData.ratings({songs:e}).then((e=>{e&&e.forEach((e=>{const{id:t,value:r}=e
1===r&&this.localState.set(t,i.TYPE_RATING,i.ITEM_WAS_LOVED)}))}))}return{...e,...t}}))))}},a=c(l.prototype,"musickitData",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"localState",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=d})),define("desktop-music-app/routes/search-history",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,(0,t.default)((n=class extends Ember.Route{constructor(...e){var t,i,r,n
super(...e),t=this,i="storefront",n=this,(r=o)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}beforeModel(e){super.beforeModel(...arguments),this.replaceWith("search",this.storefront.resolvedStorefront,{queryParams:e.to.queryParams})}},a=n.prototype,s="storefront",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),o=p,r=n))||r)
var a,s,u,c,d,p
e.default=l})),define("desktop-music-app/routes/search",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,n,o,l,a,s
super(...e),t=this,i="search",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),s={term:{refreshModel:!0},searchIn:{refreshModel:!0}},(a="queryParams")in(l=this)?Object.defineProperty(l,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[a]=s}beforeModel(e){const{term:t,searchIn:i}=e.to.queryParams
this.search.term=t,this.search.searchIn=i}},o=i.prototype,l="search",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/routes/search/index",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g={musicalArtist:"artist"}
let y=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,(0,t.default)((u=class extends Ember.Route{constructor(...e){super(...e),b(this,"search",c,this),b(this,"user",d,this),b(this,"storefront",p,this),b(this,"fastboot",m,this),f(this,"pageType","Search"),f(this,"pageId","SearchLanding")}beforeModel(e){super.beforeModel(...arguments)
const{hintsEntity:t,searchIn:i}=e.to.queryParams
if(!i&&!this.fastboot.isFastBoot)if(t){const i=g[t]||t
this.transitionTo("search.see-all",i,{queryParams:e.to.queryParams})}else;}model(){var e
null!==(e=this.search.term)&&void 0!==e&&e.length?this.search.perform(this.search.term):this.search.resetAll()}queryParamsDidChange(e,t,i){}},c=h(u.prototype,"search",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"user",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(u.prototype,"fastboot",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"queryParamsDidChange",[a],Object.getOwnPropertyDescriptor(u.prototype,"queryParamsDidChange"),u.prototype),s=u))||s)
e.default=y})),define("desktop-music-app/routes/search/see-all",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,(0,t.default)((l=class extends Ember.Route{constructor(...e){super(...e),c(this,"fastboot",a,this),c(this,"router",s,this),c(this,"search",u,this),d(this,"page","Search_SeeAll"),d(this,"pageType","SeeAll"),d(this,"pageId",null)}async model(e){if(this.fastboot.isFastBoot)return
this.search.bubbles||await this.search.perform()
return(this.search.bubbles||[]).find((t=>t.name===e.section_id))}},a=p(l.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"search",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l))||o)
e.default=m})),define("desktop-music-app/routes/show",["exports","desktop-music-app/decorators/route-metrics"],(function(e,t){var i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,r=Ember.inject.service,(0,t.default)((o=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),s(this,"musickitData",l,this),s(this,"routeHistory",a,this),r="Show",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getShow(e).then((e=>{const t=e["tv-seasons"].map((e=>e.id)).filter(Boolean)
return this.musickitData.getTVSeasons(t).then((t=>({...e,"tv-seasons":t})))}))})}},l=u(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"routeHistory",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=o))||n)
e.default=c})),define("desktop-music-app/routes/social-activity",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"router",n,this),l(this,"storefront",o,this)}model(){const e=this.router.urlFor("browse",this.storefront.resolvedStorefront)
this.router.transitionTo(e)}},n=a(r.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"storefront",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/routes/social-network-connections/revoke",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/find-friends",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/notifications",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/setup-profile",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/sharing-configuration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/social-onboarding/sharing-playlists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Route.extend()
e.default=t})),define("desktop-music-app/routes/station",["exports","desktop-music-app/decorators/route-metrics","desktop-music-app/utils/url-parser","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,(0,t.default)((s=class extends Ember.Route{constructor(...e){var t,i,r
super(...e),p(this,"musickitData",u,this),p(this,"playback",c,this),p(this,"routeHistory",d,this),r="Station",(i="pageType")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}async beforeModel(e){}model({id:e}){return this.setProperties({pageId:e,page:`${this.pageType}_${e}`}),this.routeHistory.blockOnFirstPaint({promise:this.musickitData.getStation(e)})}},u=m(s.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"playback",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"routeHistory",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)
e.default=b})),define("desktop-music-app/routes/storefront",["exports","desktop-music-app/utils/route"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,r=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),a(this,"metrics",o,this),a(this,"storefront",l,this)}model({storefront:e}){return t.ABSENT_SIGIL===e?this.storefront.resolvedStorefront:e}afterModel(e){this.metrics.addBaseData({storeFrontCountryCode:e})}},o=s(n.prototype,"metrics",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"storefront",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=u})),define("desktop-music-app/routes/storefront/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{beforeModel(e){var t
var i
2===(null===(t=e.resolvedModels.storefront)||void 0===t?void 0:t.length)&&this.replaceWith("browse",{queryParams:null===(i=e.to)||void 0===i?void 0:i.queryParams})}}e.default=t})),define("desktop-music-app/routes/subscribe",["exports","desktop-music-app/utils/personalization","ember-lifeline","desktop-music-app/decorators/fastboot-guard"],(function(e,t,i,r){var n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,o=Ember.inject.service,l=class extends Ember.Route{constructor(...e){super(...e),u(this,"commerceModalManager",a,this),u(this,"storefront",s,this)}redirect(){(0,i.runTask)(this,(function(){this.commerceModalManager.open("subscribe"),this.transitionTo((0,t.personalizedRouteName)(),this.storefront.resolvedStorefront)}),2500)}},a=c(l.prototype,"commerceModalManager",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"redirect",[r.default],Object.getOwnPropertyDescriptor(l.prototype,"redirect"),l.prototype),l)
e.default=d})),define("desktop-music-app/routes/terms",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{model(){return this.store.findAll("terms").then((e=>Ember.get(e,"firstObject")))}}e.default=t})),define("desktop-music-app/services/accessibility",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/fastboot-guard","ember-lifeline"],(function(e,t,i,r,n){var o
function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PAGE_FIRST_LINKED_ELEMENT=void 0
e.PAGE_FIRST_LINKED_ELEMENT="page-container__first-linked-element"
let a=(o=class extends Ember.Service{constructor(...e){super(...e),l(this,"RENDERING_OFFSET",300),l(this,"clickEventChain","")}get contentView(){return document.querySelector(".web-navigation__navigation-details-view")}get webNavigation(){return document.querySelector(".web-navigation__navigation-container")}get pageContainer(){return document.querySelector(".page-container")}focusOnPageContainer(){this.pageContainer&&(0,n.runTask)(this,(()=>{this.pageContainer.focus()}),this.RENDERING_OFFSET)}setAriaHiddenToContent(e,i="modal"){const r=this.contentView
r?e?(r.setAttribute("aria-hidden","true"),this.webNavigation&&"modal"===i&&this.webNavigation.setAttribute("aria-hidden","true")):(r.removeAttribute("aria-hidden"),this.webNavigation&&"modal"===i&&this.webNavigation.removeAttribute("aria-hidden","false")):(0,t.log)("Accessibility Service -- rootParentView not found.")}trackFocus(){this.clickEventChain+="f"}trackMouseDown(){this.clickEventChain+="md"}get clickChainBeginsWithFocus(){return this.clickEventChain.startsWith("f")}get clickChainOnlyHasMouseDown(){return"md"===this.clickEventChain}resetClickChain(){this.clickEventChain=""}},s=o.prototype,u="setAriaHiddenToContent",c=[r.default],d=Object.getOwnPropertyDescriptor(o.prototype,"setAriaHiddenToContent"),p=o.prototype,m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),o)
var s,u,c,d,p,m
e.default=a})),define("desktop-music-app/services/age-verification-dialog",["exports"],(function(e){var t,i,r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service("itunes-bag"),i=Ember.inject.service,r=Ember.inject.service,n=class extends Ember.Service{constructor(...e){super(...e),s(this,"bag",o,this),s(this,"finance",l,this),s(this,"i18n",a,this)}showAgeVerificationDialog(e){let t=this.bag.getFromBag("korAgeVerificationUrl")
return t+=`?adamId=${e}`,this.finance.openFinanceURL(t,"korAgeVerification","1")}},o=u(n.prototype,"bag",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(n.prototype,"finance",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(n.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=c})),define("desktop-music-app/services/commerce-modal-manager",["exports","@amp/commerce-manager","desktop-music-app/config/environment","@amp/foundation/-internals/storage","desktop-music-app/utils/campaign-referrals"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m,b,f,h,g,y,v
function k(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _={subscribe:{path:"/subscribe",canBeDismissed:!0},contextualUpsell:{path:"/subscribe",canBeDismissed:!0},accountCreate:{path:"/account/create",canBeDismissed:!0},settings:{path:"/account/settings",canBeDismissed:!0},signIn:{path:"/authenticate",canBeDismissed:!0},ageVerification:{path:"/account/verification",canBeDismissed:!1},gdpr:{path:"/account/privacy",canBeDismissed:!1},logout:{path:"logout",canBeDismissed:!0}}
let P=(o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._action,p=Ember._action,m=class extends Ember.Service{constructor(){if(super(...arguments),k(this,"fastboot",b,this),k(this,"musickit",f,this),k(this,"router",h,this),k(this,"i18n",g,this),w(this,"path",null),w(this,"params",null),w(this,"isGdprModal",!1),w(this,"isSubscriptionModal",!1),w(this,"isAuthenticationModal",!1),w(this,"_userSubscribedThroughCommerceFlow",!1),w(this,"resolveFn",void 0),w(this,"rejectFn",void 0),k(this,"isOpen",y,this),k(this,"pathKey",v,this),this.fastboot.isFastBoot)return
const e={devToken:i.default.MEDIA_API.token,onMessageReceived:async(e,t,i)=>{Ember.debug(`Received ${e} with params: ${JSON.stringify(t)} with fromId: ${i}`)
let o=!0
switch(e){case l:var p
if(this.isSubscriptionModal&&this._userSubscribedThroughCommerceFlow){Ember.getOwner(this).lookup("controller:onboarding").shouldRefresh=!0
const{naiveQueryParams:e}=this.router
this.router.transitionTo("onboarding",{queryParams:e})}else this.isGdprModal&&!this.didGdprAcknowledge?(this.open("logout"),this.musickit.signOut(),this.refreshModal=!0):this.close(),this.refreshModal&&this.reloadCurrentRoute()
null===(p=this.rejectFn)||void 0===p||p.call(this,"closed commerce modal")
break
case a:{this.didGdprAcknowledge=!0
const e={intent:{url:window.location.href}}
try{await(0,n.handleCampaignReferrals)(this.router,e)?(this.refreshModal=!1,this.reloadCurrentRoute()):this.refreshModal=!0}catch{this.refreshModal=!0}break}case s:{var m
const e=document.cookie,t=(0,r.getCookie)("media-user-token",e)
this.musickit.instance.musicUserToken=t,null===(m=this.resolveFn)||void 0===m||m.call(this,this.musickit.instance.musicUserToken)
const{currentRouteName:i}=this.router
"login"===i&&(this.refreshModal=!0)
break}case u:case c:if(this.isSubscriptionModal){"add"===t.action&&(this._userSubscribedThroughCommerceFlow=!0)}this.refreshModal=!0
break
case d:this.close()
break
default:o=!1}o&&(this.resolveFn=null,this.rejectFn=null)}}
"development"===i.default.environment&&(e.devHostedProductPath="https://music.apple.com/includes/commerce",e.devHostProductPath="https://dev.apple.com:4200")
const o=(0,t.setupCommerceManager)("music",e),{DID_CLOSE:l,DID_GDPR_ACKNOWLEDGE:a,DID_SIGN_IN:s,DID_SIGN_OUT:u,SUBSCRIPTION_DID_CHANGE:c,AGE_VERIFICATION_FLOW_COMPLETE:d}=o.RECEIVE_EVENTS
this.commerceManagerInstance=o}createPromise(){return new Promise(((e,t)=>{this.resolveFn=e,this.rejectFn=t}))}reloadCurrentRoute(){Ember.getOwner(this).lookup(`route:${this.router.currentRouteName}`)&&window&&window.location&&window.location.reload(!0)}get commerceRouteProperties(){const e=this.pathKey
return _[e]}get dialogTitle(){const{isAuthentication:e,isSubscriptionModal:t,i18n:i}=this
return e?i.t("AMWeb.Commerce.Modal.Title.Sign.In"):t?i.t("AMWeb.Commerce.Modal.Title.Subscription"):""}open(e,t){return"gdpr"===e?this.isGdprModal=!0:"signIn"===e?this.isAuthenticationModal=!0:"subscribe"!==e&&"contextualUpsell"!==e||(this.isSubscriptionModal=!0),this.pathKey=e,this.path=_[e].path,this.params=t,this.isOpen=!0,this.createPromise()}close(){this.pathKey="",this.path="",this.isOpen=!1}},b=E(m.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(m.prototype,"musickit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(m.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(m.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(m.prototype,"isOpen",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=E(m.prototype,"pathKey",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(m.prototype,"open",[d],Object.getOwnPropertyDescriptor(m.prototype,"open"),m.prototype),E(m.prototype,"close",[p],Object.getOwnPropertyDescriptor(m.prototype,"close"),m.prototype),m)
e.default=P})),define("desktop-music-app/services/context-menu",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(t=Ember.inject.service,i=Ember.computed.bool("currentMenu"),r=class extends Ember.Service{constructor(...e){super(...e),l(this,"accessibility",n,this),a(this,"currentMenu",null),a(this,"triggerElement",null),l(this,"isOpen",o,this)}open(e){this.set("currentMenu",e),this.togglePageContentAccessibility()}close(e){e&&this.currentMenu!==e||(this._removeContextMenuOpenClasses(),this.set("currentMenu",null),this.togglePageContentAccessibility())}togglePageContentAccessibility(){this.accessibility.setAriaHiddenToContent(this.isOpen)}_removeContextMenuOpenClasses(){document.querySelectorAll(".has-context-menu-open").forEach((e=>{e.classList.remove("has-context-menu-open")}))}},n=s(r.prototype,"accessibility",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=s(r.prototype,"isOpen",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("desktop-music-app/services/cookies",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="fastboot",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}setString(e){window.iTunes&&window.iTunes.cookie&&(window.iTunes.cookie=e),document.cookie=e}get unpersonalizedCookies(){const{fastboot:e}=this
return(e.isFastBoot?e.request.headers.getAll("cookie").join("; "):document.cookie).split(/[;,]/).map((e=>e.trimStart())).filter((e=>e.length>0&&!e.startsWith("="))).filter((e=>!e.startsWith("media-user-token="))).join("; ")}},o=i.prototype,l="fastboot",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/services/drag-and-drop",["exports"],(function(e){var t,i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(t=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,n=Ember._tracked,o=class extends Ember.Service{constructor(...e){super(...e),c(this,"playback",l,this),c(this,"musickitData",a,this),c(this,"draggedTrack",s,this),c(this,"selectedSongInstances",u,this)}get songsListDragData(){if(this.draggedTrack)return this.selectedSongInstances.length?this.selectedSongInstances.map((e=>this.playback.getPlaybackConfig(e))).reduce(((e,t)=>({items:[...e.items,...t.items]})),{items:[]}):this.playback.getPlaybackConfig(this.draggedTrack.args.song)}get songsListDragImage(){if(this.draggedTrack)return this.draggedTrack.dragImage}resetDraggedTrack(){this.draggedTrack=null}},l=d(o.prototype,"playback",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(o.prototype,"musickitData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(o.prototype,"draggedTrack",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(o.prototype,"selectedSongInstances",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o)
e.default=p})),define("desktop-music-app/services/editorial-video-shelf-monitor",["exports","ember-lifeline","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let p
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(r=Ember.inject.service,n=Ember.inject.service,o=Ember._tracked,l=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),c(this,"fastboot",a,this),c(this,"editorialVideoSwitchToggle",s,this),c(this,"centermostShelf",u,this),t=this,i="currentVisibleShelves",r=new Map,i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}init(){super.init(...arguments),this.fastboot.isFastBoot||(this.containingElement=window,this.containingElement=document.querySelector(".page-container")||window,(0,t.addEventListener)(this,this.containingElement,"scroll",this.scrollHandler,{passive:!0}))}scrollHandler(){p&&window.cancelAnimationFrame(p),p=window.requestAnimationFrame(this.calculateCenterMostShelf.bind(this))}calculateCenterMostShelf(){const{innerHeight:e}=window
let t,i,r,n,o,l,a,s,u=e
this.currentVisibleShelves.forEach(((l,a)=>{const{shelfElement:s}=l,{top:c,bottom:d}=s.getBoundingClientRect();(!r||c<r)&&(i=a,r=c),(!o||d>o)&&(n=a,o=d)
const p=c,m=e-d,b=Math.abs(p-m)
b<u&&(t=a,u=b)})),l=this.containingElement.scrollHeight,a=this.containingElement.scrollTop,s=window.innerHeight+a>=l,0===a?t=i:s&&(t=n),this.centermostShelf=this.currentVisibleShelves.get(t)}addToCurrentVisibleShelves(e){const{id:t}=e
this.currentVisibleShelves.set(t,e),this.calculateCenterMostShelf()}removeFromCurrentVisibleShelves(e){this.currentVisibleShelves.delete(e),this.calculateCenterMostShelf()}updateShelfById(e,t){this.currentVisibleShelves.set(e,t)}get isEnabled(){return this.editorialVideoSwitchToggle.isEnabled}willDestroy(...e){super.willDestroy(...e),p&&window.cancelAnimationFrame(p),p=null}},a=d(l.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(l.prototype,"editorialVideoSwitchToggle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"centermostShelf",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m}))
define("desktop-music-app/services/editorial-video-switch-toggle",["exports"],(function(e){var t,i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(t=Ember.inject.service,i=Ember._tracked,r=Ember._tracked,n=Ember._tracked,o=class extends Ember.Service{constructor(...e){super(...e),c(this,"fastboot",l,this),c(this,"windowIsFocused",a,this),c(this,"prefersReducedMotion",s,this),c(this,"processorCanHandleEditorialVideo",u,this)}init(){super.init(...arguments),this.fastboot.isFastBoot||this.handleAccessibilityPreference()}handleAccessibilityPreference(){const e=matchMedia("(prefers-reduced-motion)")
this.prefersReducedMotion=!!e.matches,e.addListener((()=>{e.matches?this.prefersReducedMotion=!0:this.prefersReducedMotion=!1}))}get isEnabled(){return!this.prefersReducedMotion&&this.processorCanHandleEditorialVideo}},l=d(o.prototype,"fastboot",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(o.prototype,"windowIsFocused",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=d(o.prototype,"prefersReducedMotion",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"processorCanHandleEditorialVideo",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=p})),define("desktop-music-app/services/error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{init(){super.init(...arguments),this.errorList=[]}add(e){this.errorList.push(e)}}e.default=t})),define("desktop-music-app/services/fastboot",["exports","ember-cli-fastboot/services/fastboot"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({deferRendering(e){return this.isFastBoot&&this._super(e),e}})
e.default=i})),define("desktop-music-app/services/finance",["exports","desktop-music-app/utils/url-parser","desktop-music-app/utils/feature-flags","desktop-music-app/config","desktop-music-app/config/environment","desktop-music-app/utils/logger"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y
function v(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{MUSIC:{FINANCE_WEB_DEEPLINKS_MAPPING_FOR_TYPE:w,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:E,FINANCE_DYNAMIC_AMSUIURL_PLACEMENT_TYPES:_}}=r.default
let P=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service("itunes-bag"),p=class extends Ember.Service{constructor(...e){super(...e),v(this,"commerceModalManager",m,this),v(this,"platform",b,this),v(this,"fastboot",f,this),v(this,"metrics",h,this),v(this,"itunesVersion",g,this),v(this,"bag",y,this)}get financeBagKey(){return this.appleOneFlowsAreSupported()?"commerceApp":"financeApp"}get supportsAMSDynamicUI(){return!!this.appleOneFlowsAreSupported()}appleOneFlowsAreSupported(){return void 0!==this.bag.getFromBag("commerceApp")&&this.itunesVersion.supportsAppleOne()}pathForKey(e,t){return this.bag.getFromBag(`${this.financeBagKey}.urlPath`)[e][t]}isFinanceStoreRedirect(e){const i=this.bag.getFromBag("redeem")
if(!i)return!1
return(0,t.default)(i).pathname.toLowerCase()===e.pathname.toLowerCase()}financeUrl(e){let t
return t=this.supportsAMSDynamicUI&&!e?`${this.bag.getFromBag("marketingItemDynamicUIUrl")}&serviceType=music`:this.bag.getFromBag(`${this.financeBagKey}.baseUrl`),t}isFinancePath(e){const t=this.bag.getFromBag(`${this.financeBagKey}.urlPath`)
if("financeApp"===this.financeBagKey){return Object.keys(t).reduce(((e,i)=>{const r=t[i],n=Object.keys(r).map((e=>r[e].toLowerCase()))
return e.push(...n),e}),[]).indexOf(e.toLowerCase())>-1}if("commerceApp"===this.financeBagKey){return Object.keys(t).reduce(((e,i)=>{const r=t[i],n=Object.keys(r).map((e=>e.toLowerCase()))
return e.push(...n),e}),[]).indexOf(e.toLowerCase())>-1}return!1}isFinanceHost(e){const t=this.bag.getFromBag(`${this.financeBagKey}.baseUrl`)
return e.indexOf(t)>-1}deepLink(e,t){const i=this.pathForKey("musicDeeplinks",e)
this.openURLInWindow(i,t,e)}musicInternal(e){const t=this.pathForKey("musicInternal",e)
this.openURLInWindow(t,null)}terms(){this.openURLInWindow("musicTerms")}contextualUpsell(e){const t={adamId:null}
if(e)if(e.container)t.adamId=e.container.id,e.container.type&&(t.contentType=e.container.type)
else if(e.items)if(1===e.items.length)t.adamId=e.items[0].id,e.items[0].type&&(t.contentType=e.items[0].type)
else if(e.items.length>1){const i=e.items[e.selectedTrackIndex],r=i.collectionId||i.id,n=i.type||"songs"
t.adamId=r,t.contentType=n}let i=this.pathForKey("musicInternal","upsellGeneric")
this.supportsAMSDynamicUI&&(t.placement=E.PLAYBACK_UPSELL,t.placementType=_.CONTEXTUAL,i=this.financeUrl()),this.openURLInWindow(i,t)}openURLInWindow(e,i,r){let n
n=r?this.isFinancePath(r):!this.supportsAMSDynamicUI&&this.isFinancePath(e)
const o=(0,t.default)(e),l=`currentTab=${window.iTunes.selectedNavBarTab}`
let a,s
if(a="object"==typeof i&&null!==i?Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"):i,this.supportsAMSDynamicUI&&!n){const e=`placement=${E.LAUNCH_UPSELL}`
a?a&&!a.includes("placement")&&(a+=`&${e}`):a=e,s=this.financeUrl(n)}else s=this.financeUrl(n)+e
if(!o.search&&!this.supportsAMSDynamicUI||n){const e=s.includes("?")?"&":"?"
s=a?`${s}${e}${a}&${l}`:`${s}${e}${l}`}else s=a?a.startsWith("?")?`${s}${a}&${l}`:`${s}&${a}&${l}`:`${s}&${l}`
this.openFinanceURL(s,null,n)}openFinancePath(e,t,i){if(!this.fastboot.isFastBoot)return this.platform.launchClient(window.location.href,(i=>{0!==i&&-1!==i||(w[e]&&(t.type=w[e]),this.commerceModalManager.open("subscribe",t))}))}openFinanceURL(e,t){var i,r,l,a
const s=e;(0,o.log)("finance.js - openFinanceURL",s)
const u={id:"finance-app",url:s,width:540,height:620,modal:!1,resizable:!1,style:1,metricsOverlay:{app:n.default.METRICS.appName,pageContext:null===(i=this.metrics)||void 0===i||null===(r=i.currentPageData)||void 0===r?void 0:r.pageContext,topic:n.default.METRICS.topic,precedingMarketing:null===(l=this.metrics)||void 0===l||null===(a=l.precedingMarketing)||void 0===a?void 0:a.metrics}}
return t&&(u.id=t),window.iTunes.window&&(u.style=window.iTunes.window.WindowStyleMacOSSheet),window.iTunes.openWindow(u)}},m=k(p.prototype,"commerceModalManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"platform",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(p.prototype,"fastboot",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"metrics",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"itunesVersion",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(p.prototype,"bag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=P})),define("desktop-music-app/services/follow-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends(Ember.Service.extend(Ember.Evented)){}e.default=t})),define("desktop-music-app/services/i18n",["exports","ember-i18n/services/i18n"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/in-viewport",["exports","ember-in-viewport/services/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/itunes-aucpost",["exports","ember-lifeline","desktop-music-app/utils/events"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends Ember.Service{addEventListener(e){(0,t.addEventListener)(this,(0,i.eventTarget)(),"aucpostpublished",e)}removeEventListener(e){(0,t.removeEventListener)(this,(0,i.eventTarget)(),"aucpostpublished",e)}}e.default=r})),define("desktop-music-app/services/itunes-bag",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{constructor(...e){var t,i,r
super(...e),r=null,(i="iTunesBag")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}getFromBag(e){let t
return t=window.iTunes?this.iTunesBag||this.getiTunesBag():{},Ember.get(t,e)}getiTunesBag(){if(this.iTunesBag)return this.iTunesBag
const e=window.iTunes.getBag()
return Ember.get(e,"language")?(Ember.set(this,"iTunesBag",e),e):this.getiTunesBag()}get musicMescalActions(){return this.getFromBag("musicCommon.musicMescal.actions")||[]}doesBagKeyRequireMescal(e){let t=!1
const i=this.getFromBag(e)
if(i){const e=this.musicMescalActions
for(let r=0;r<Ember.get(e,"length")&&!t;r++){const n=e.objectAt(r),o=i.indexOf(n);-1!==o&&o+n.length===i.length&&(t=!0)}}return t}}e.default=t})),define("desktop-music-app/services/itunes-cloud",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{_configForLockup(e){return{id:Ember.get(e,"id"),contentType:Ember.get(e,"contentType")}}findAlbumByCloudId(e){return Ember.RSVP.Promise.resolve(window.iTunes.findAlbumByCloudID(e))}findPlaylistByCloudId(e){return Ember.RSVP.Promise.resolve(window.iTunes.findPlaylistByCloudID(e))}revealCloudLibraryItem(e){window.iTunes.revealCloudLibraryItem(this._configForLockup(e))}cloudPlay(e){const t={items:[this._configForLockup(e)]}
window.iTunes.playItems(t)}}e.default=t})),define("desktop-music-app/services/itunes-connect-badge",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{setBadgeCount(e){window.iTunes.setConnectBadgeCount(e)}}e.default=t})),define("desktop-music-app/services/itunes-dialog",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="i18n",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}showDialog(e,t,i,r,n,o){const l=r||null,a={okButtonString:i||this.i18n.t("OK"),cancelButtonString:n,defaultButton:"ok",message:e,explanation:t,callbacks:l}
o&&(a.otherButtonString=o)
const s=this.createDialogDict(a),u=document.implementation.createDocument(null,"",null)
u.appendChild(s)
const c=(new XMLSerializer).serializeToString(u)
window.iTunes.doDialogXML(c,l)}showDialogWithParams(e){const t=this.createDialogDict(e),i=document.implementation.createDocument(null,"",null)
i.appendChild(t)
const r=(new XMLSerializer).serializeToString(i)
window.iTunes.doDialogXML(r,null)}createDialogDict(e){const t=document.implementation.createDocument(null,"",null),i=t.createElement("dict"),r=function(e,i,r){let n=null
if("string"==typeof r?(n=t.createElement("string"),n.textContent=r):"boolean"==typeof r&&(n=t.createElement(r.toString())),n){const r=t.createElement("key")
r.textContent=i,e.appendChild(r),e.appendChild(n)}},n=function(t){let n=!1
return e[t]&&(r(i,t,e[t]),n=!0),n},o=function(o){if(n(`${o}ButtonString`)){const n=e[`${o}ButtonAction`]
if(n){const l=t.createElement("dict")
r(l,"kind",n),r(l,"url",e[`${o}ButtonUrl`]),r(i,`${o}ButtonAction`,l)}}}
return n("kind"),n("windowTitle"),n("message"),n("explanation"),n("errorMessage"),n("checkboxString")&&n("initialCheckboxValue"),n("defaultButton"),o("ok"),o("cancel"),o("other"),"authorization"===e.kind&&(n("lockUserName"),n("noAOLAccounts")),function(n){const o=e[n]
if(o&&"object"==typeof o){const e=t.createElement("dict")
for(const t in o)r(e,t,o[t])
r(i,n,e)}}("additional-parameters"),i}},o=i.prototype,l="i18n",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/services/itunes-explicit-dialog",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="user",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}showExplicitDialog(e){if(e&&this.doesSupportExplicitDialog()){const t=window.iTunes.showExplicitDialog("playback",e.name,e.kind)
return this.user.notifyPropertyChange("restrictExplicitContent"),t}}doesSupportExplicitDialog(){return window.iTunes&&"function"==typeof window.iTunes.showExplicitDialog}},o=i.prototype,l="user",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/services/itunes-follow",["exports","ember-lifeline"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service("itunes-mescal"),r=class extends(Ember.Service.extend(Ember.Evented)){constructor(...e){var t,i,r,o
super(...e),t=this,i="mescal",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}getFollowStates(e){return window.iTunes.getFollowState(e)}followArtists(e){const t=window.iTunes.followArtist(e)
return Ember.run.later(Ember.run.bind(this,(function(){this.trigger("followStatusChange",t)})),1e3),t}unfollowArtists(e){const i=window.iTunes.unfollowArtist(e)
return(0,t.runTask)(this,(()=>{this.trigger("followStatusChange",i)}),1e3),i}followUser(e){const i=window.iTunes.followUser(e)
return(0,t.runTask)(this,(()=>{this.trigger("followStatusChange",i)}),1e3),i}unfollowUser(e){const i=window.iTunes.followUser(e)
return(0,t.runTask)(this,(()=>{this.trigger("followStatusChange",i)}),1e3),i}setAutoFollow(e){const t={actionPath:"musicConnect.enableAutoFollow",httpMethod:"GET",requestBody:{enable:e}}
return new Ember.RSVP.Promise(((e,i)=>{this.mescal.mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}},l=r.prototype,a="mescal",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/services/itunes-id-pocket",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{store(e,t){window.iTunes.sessionStorage.setItem(e,t)}fetch(e){return window.iTunes.sessionStorage.getItem(e)}has(e){return Ember.isPresent(this.fetch(e))}fetchAndRemove(e){const t=this.fetch(e)
return window.iTunes.sessionStorage.removeItem(e),t}}e.default=t})),define("desktop-music-app/services/itunes-library",["exports","ember-lifeline"],(function(e,t){var i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DOWNLOAD_STATUS_CHANGED_EVENT=e.IN_PLAYLIST=e.IN_LIBRARY=e.PAUSED=e.DOWNLOADING=e.DOWNLOADED=e.NOT_IN_LIBRARY=e.EMPTY_PLAYLIST=void 0
const u=new Map
e.EMPTY_PLAYLIST=-1
e.NOT_IN_LIBRARY=0
const c=1
e.DOWNLOADED=c
const d=2
e.DOWNLOADING=d
const p=3
e.PAUSED=p
const m=4
e.IN_LIBRARY=m
e.IN_PLAYLIST=5
const b="downloadStatusChanged"
e.DOWNLOAD_STATUS_CHANGED_EVENT=b
let f=(i=Ember.inject.service,r=Ember.inject.service("itunes-version"),n=class extends(Ember.Service.extend(Ember.Evented)){constructor(...e){var t,i,r
super(...e),a(this,"fastboot",o,this),a(this,"version",l,this),r=null,(i="currentDownloadingItemIds")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}init(){super.init(...arguments),this.fastboot.isFastBoot||(this.set("currentDownloadingItemIds",[]),(0,t.addEventListener)(this,window,"downloadDidStart",this.handleEvent),(0,t.addEventListener)(this,window,"downloadDidFinish",this.handleEvent),this.canCancelDownloads&&(0,t.addEventListener)(this,window,"downloadDidCancel",this.handleEvent),this.canPauseDownloads&&(0,t.addEventListener)(this,window,"downloadDidPause",this.handleEvent))}get canShowProgress(){return!!window.iTunes.getDownloadsProgress}get canCancelDownloads(){return!!window.iTunes.cancelDownloads}get canPauseDownloads(){return!!window.iTunes.pauseDownloads}addProductToLibrary(e){const t=e&&Ember.get(e,"id")
if(t)return window.iTunes.addItemToSubscriptionLibrary(t)}downloadProduct(e){if(!e)return
let t=[e.id]
h(e)&&(t=e.productSongs.map((e=>Ember.get(e,"id")))),t&&window.iTunes.downloadCloudItems&&(window.iTunes.downloadCloudItems(t),this.canShowProgress&&this.pollDownloadStatus(t))}async cancelDownloads(e){e&&this.canCancelDownloads&&(await window.iTunes.cancelDownloads(e),e.forEach((e=>{const t=new CustomEvent("downloadDidCancel",{detail:{itemId:e}})
window.dispatchEvent(t)})))}async pauseDownloads(e){e&&this.canPauseDownloads&&(await window.iTunes.pauseDownloads(e),e.forEach((e=>{const t=new CustomEvent("downloadDidPause",{detail:{itemId:e}})
window.dispatchEvent(t)})))}async getActiveDownloadsCount(e){if(Array.isArray(e)&&e.length){const t=await this.knownDownloads()
return((null==t?void 0:t.filter((t=>e.includes(t.id))))||[]).length}return 0}getDownloadProgress(e){if(u.has(e))return u.get(e)
const t=this.getItemStatus({id:e})
if([d].includes(t)){const t=0
return this.setItemInQueue({id:e,progress:t}),t}}getItemStatus(e){const t=e&&Ember.get(e,"id")
if(t&&window.iTunes.getStoreItemStatus2){const i=Ember.get(e,"formerIds")||[],r=!!i,n=[t,...i],o=window.iTunes.getStoreItemStatus2(n,{singleItem:r})
if(r){const e=Object.keys(o).find((e=>0!==o[e]))
return e?o[e]:0}return o[t]}}getProductStatus(e){if(h(e)){const t=[],i=[],r=[],n=[],o=(Ember.get(e,"productSongs")||[]).filter((e=>!!e.playParams)),l="playlist"===Ember.get(e,"kind")
if(!o.length&&l)return-1
if(o.forEach((e=>{const o=this.getItemStatus(e);[m,c,d,p].includes(o)&&t.push(e),l&&5===o&&t.push(e),o===c&&r.push(e),o===d&&i.push(e),o===p&&this.canPauseDownloads&&n.push(e)})),i.length&&i.length+r.length===o.length)return d
if(r.length&&r.length===o.length)return c
if(n.length&&r.length+n.length===o.length)return p
if(t.length&&t.length===o.length)return m}return this.getItemStatus(e)??0}handleEvent(e){"downloadDidStart"===e.type&&e.itemId&&this.currentDownloadingItemIds.addObject(e.itemId),"downloadDidFinish"===e.type&&e.itemId&&(this.currentDownloadingItemIds.removeObject(e.itemId),this.canShowProgress&&this.removeFromQueue(e.itemId)),"downloadDidCancel"===e.type&&e.detail.itemId&&(this.currentDownloadingItemIds.removeObject(e.detail.itemId),this.canShowProgress&&this.removeFromQueue(e.detail.itemId)),Ember.run.debounce(this,(function(){this.notifyPropertyChange("currentDownloadingItemIds"),this.trigger(b,e)}),100)}isInQueue(e){return u.has(e)}removeFromQueue(e){u.delete(e)}setItemInQueue(e){u.set(e.id,e.progress)}knownDownloads(){return new Promise(((e,t)=>{window.iTunes.getDownloads(((i,r)=>{if(r)return t(r)
e(i)}))}))}async pollDownloadStatus(e){const t=await function(e){return new Promise(((t,i)=>{window.iTunes.getDownloadsProgress(e,((e,r)=>{if(r)return i(r)
t(e)}))}))}(e)
null!=t&&t.length&&(t.forEach((e=>{this.setItemInQueue(e)})),await new Promise((e=>{this._timeout=setTimeout(e,1e3)})),this.pollDownloadStatus(e))}},o=s(n.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s(n.prototype,"version",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
function h(e){return e&&!!Ember.get(e,"hasChildren")}e.default=f})),define("desktop-music-app/services/itunes-love",["exports"],(function(e){var t,i,r,n,o
function l(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Service{constructor(...e){super(...e),l(this,"fastboot",n,this),l(this,"store",o,this)}init(){super.init(...arguments),this.fastboot.isFastBoot||(this.registrations=[],this.lovedItemsChangedListener=Ember.run.bind(this,(function(e){this.registrations.forEach((([t,i])=>{e.adamid===t&&i(e)}))})),window.addEventListener("loveditemschanged",this.lovedItemsChangedListener,!1))}willDestroy(){window.removeEventListener("loveditemschanged",this.lovedItemsChangedListener,!1),super.willDestroy(...arguments)}register(e,t){this.registrations.push([e,t])}unregister(e,t){this.registrations.forEach((([i,r],n)=>{i===e&&r===t&&this.registrations.splice(n,1)}))}getLoved(e){return window.iTunes.getLoved(e)}setLoved(e,t){return window.iTunes.setLoved(e,t)}},n=a(r.prototype,"fastboot",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a(r.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=s})),define("desktop-music-app/services/itunes-menu-item-interaction",["exports"],(function(e){var t,i,r
function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(t=Ember.inject.service,i=class extends(Ember.Service.extend(Ember.Evented)){constructor(...e){var t,i,o,l
super(...e),t=this,i="fastboot",l=this,(o=r)&&Object.defineProperty(t,i,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(l):void 0}),n(this,"selectedItemJSON",null),n(this,"eventListener",null)}init(){super.init(...arguments),this.fastboot.isFastBoot||Ember.set(this,"eventListener",window.addEventListener("actionmenuitemselected",Ember.run.bind(this,this.handleMenuItemSelection)))}setSelectedItemJSON(e){Ember.set(this,"selectedItemJSON",e)}handleMenuItemSelection(e){this.isDestroyed||this.isDestroying||this.trigger("menuSelected",e),window.removeEventListener("actionmenuitemselected",this.eventListener)}},l=i.prototype,a="fastboot",s=[t],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),r=d,i)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/services/itunes-menus",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{showActionMenu(){window.iTunes.showActionMenu(...arguments)}showSharingServicePicker(){window.iTunes.showSharingServicePicker(...arguments)}reportConcern(e){const t=window.iTunes
t.reportAConcernEnabled&&t.reportAConcern(e)}showAccountMenu(e){const t=window.iTunes
"function"==typeof t.showAccountMenu&&t.showAccountMenu(e)}}e.default=t})),define("desktop-music-app/services/itunes-mescal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{mescalOptions(e,t,i){const r=i||{}
return r.actionPath=e,r.httpMethod=t,r.data&&(r.requestBody=r.data,delete r.data),r.headers&&(r.requestHeaders=r.headers,delete r.headers),r}mescalRequest(e,t){window.iTunes.sendSubscriptionRequest(e,t)}}e.default=t})),define("desktop-music-app/services/itunes-playback",["exports","ember-lifeline","desktop-music-app/utils/feature-flags","desktop-music-app/utils/logger","desktop-music-app/utils/events","desktop-music-app/utils/playback","desktop-music-app/services/playback"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j
function T(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(a=Ember.inject.service("itunes-cloud"),s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service("itunes-version"),m=Ember.inject.service,b=Ember._tracked,f=Ember._tracked,h=Ember._tracked,g=Ember.computed("collectionId","currentTrackId"),y=class extends(Ember.Service.extend(Ember.Evented)){constructor(...e){super(...e),T(this,"cloud",v,this),T(this,"finance",k,this),T(this,"routeHistory",w,this),T(this,"store",E,this),T(this,"user",_,this),T(this,"version",P,this),T(this,"recoDataPlayContent",O,this),T(this,"isPlaying",S,this),T(this,"isPaused",z,this),T(this,"currentTrackId",j,this)}init(){super.init(...arguments)}get currentCollectionId(){const e=this.currentTrackId
e&&"0"!==e&&this.store.findRecord("lockup",e).then((e=>{this.isDestroyed||this.isDestroying||Ember.set(this,"currentCollectionId",Ember.get(e,"collectionId"))}))}set currentCollectionId(e){return e}playbackChanged(){this.trigger(l.PLAYBACK_CHANGED_EVENT)}handleEvent(e){this.isDestroyed||this.isDestroying||(e.adamid&&0!==e.adamid?(this.isPlaying="play"===e.type,this.currentTrackId=e.adamid,window.iTunes.currentPlayerState===window.iTunes.StoppedState?this.isPaused=!0:this.isPaused=!1):this.set("currentTrackId",null))}getPlaybackConfig(e,t,i,r){if(e&&Ember.get(e,"cloudItem"))return void this.cloudPlay(e)
const n=(0,o.buildPlaybackConfig)(this,{lockup:e,container:t,tracklist:i,recommendationData:null==r?void 0:r.recommendationData,resetsPlayback:null==r?void 0:r.resetsPlayback}),l=e&&Ember.get(e,"rawJSON")
if(l&&Ember.get(l,"childrenIds")&&delete l.childrenIds,i)n.items=i
else if(l)n.items=[l]
else{let t={collectionId:Ember.get(e,"collectionId"),id:Ember.get(e,"id"),url:Ember.get(e,"url"),playParams:Ember.get(e,"playParams")},i=Ember.get(e,"catalog")
i&&(i.length&&1===i.length&&(i=i[0]),t={collectionId:Ember.get(i,"collectionId"),id:Ember.get(i,"id"),url:Ember.get(i,"url"),playParams:Ember.get(i,"playParams")||Ember.get(e,"playParams")}),n.items=[t]}n.container=t,n.items=n.items.map((e=>"radioStation"===Ember.get(e,"playParams.kind")?{...e,kind:"radioStation"}:e))
const a=Ember.get(n,"container.childrenIds")
return a&&(n.container.firstTracks=a),this.routeHistory.featureName&&(n.featureName=this.routeHistory.featureName),n}play(e){const t=e
this.user.isSubscribed||this.contentIsInFrontOfPaywall(t)?((0,r.log)("playbackConfig",e),window.iTunes.playItems(t),this.playbackChanged()):((0,r.log)("Subscription required"),this.finance.contextualUpsell(t))}isResumingPausedPlayback(e){var t
const i=null===(t=window.iTunes.currentPlayingTrack)||void 0===t?void 0:t.adamid,r=e
if((null==r?void 0:r.selectedTrackIndex)>-1){var n
const{selectedTrackIndex:e=0,items:t=[]}=r,o=null===(n=t[e])||void 0===n?void 0:n.id,{currentTime:l}=window.iTunes
return l&&i===o}return!e&&!!i}contentIsInFrontOfPaywall(e={}){const[t]=e.items||[]
if(t){const e="uploaded-audios"===t.type||"uploaded-videos"===t.type,i=!1===t.requiresSubscription,r="tvtrailer"===t.videoSubType||"episodebonus"===t.videoSubType||"seasonbonus"===t.videoSubType
return e||i||r}}cloudPlay(e){this.playbackChanged(),this.cloud.cloudPlay(e)}playURL(e){e&&window.iTunes.playURL(e)}resetPlayback(){}playbackPosition(e,t){if("function"!=typeof window.iTunes.getTrackPlaybackPosition)return t(!1)
window.iTunes.getTrackPlaybackPosition(e,t)}pause(){window.iTunes.pause()}stop(){window.iTunes.stop()}next(){}previous(){}get hasNextItemInQueue(){return!0}get hasPreviousItemInQueue(){return!0}},v=M(y.prototype,"cloud",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(y.prototype,"finance",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(y.prototype,"routeHistory",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(y.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(y.prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(y.prototype,"version",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(y.prototype,"recoDataPlayContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=M(y.prototype,"isPlaying",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=M(y.prototype,"isPaused",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=M(y.prototype,"currentTrackId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M(y.prototype,"currentCollectionId",[g],Object.getOwnPropertyDescriptor(y.prototype,"currentCollectionId"),y.prototype),y)
e.default=C})),define("desktop-music-app/services/itunes-post-to-connect",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{postToConnect(e){window.iTunes.postToConnect(e)}}e.default=t})),define("desktop-music-app/services/itunes-profilepermissions",["exports"],(function(e){var t,i,r,n
function o(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(t=Ember.inject.service,i=Ember.computed("user.{subscriptionStatus,userDSID}"),r=class extends Ember.Service{constructor(...e){var t,i,r,o
super(...e),t=this,i="user",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}init(){super.init(...arguments),this.getProfilePermissions()}getProfilePermissions(){const e=window.iTunes
Ember.get(this,"user.isLoggedIn")&&(null!==e.profilePermissions?Ember.set(this,"profilePermissions",e.profilePermissions):Ember.run.later((function(){null!==e.profilePermissions&&Ember.set(this,"profilePermissions",e.profilePermissions)}),1e3))}get profilePermissions(){return window.iTunes.profilePermissions}set profilePermissions(e){return e}hasPermissions(e,t){let i=!1
return((Ember.get(this,"profilePermissions")||{}).permissions||[]).forEach((r=>{if(r.entityId===e){(r.permissions||[]).forEach((e=>{e===t&&(i=!0)}))}})),i}isManagingArtists(){const e=Ember.get(this,"profilePermissions")||{},t=Ember.get(e,"storePlatformData.artist.results")||!1
return!!t&&!!Object.keys(t).length}managedArtists(){const e=[]
if(this.isManagingArtists()){const t=(Ember.get(this,"profilePermissions")||{}).storePlatformData.artist.results
for(const i in t)e.push(t[i])}return e}},n=o(r.prototype,"user",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(r.prototype,"profilePermissions",[i],Object.getOwnPropertyDescriptor(r.prototype,"profilePermissions"),r.prototype),r)
e.default=l})),define("desktop-music-app/services/itunes-restricted-dialog",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{showRestrictedDialog(e){if(e&&this.doesSupportRestrictedDialog()){return window.iTunes.showRestrictedDialog("playback",e.name,e.kind)}}doesSupportRestrictedDialog(){return"function"==typeof window.iTunes.showRestrictedDialog}}e.default=t})),define("desktop-music-app/services/itunes-router",["exports","desktop-music-app/utils/url-parser","desktop-music-app/utils/deeplink-config","desktop-music-app/utils/route","@amp/affiliate-util","desktop-music-app/utils/logger","ember-lifeline","desktop-music-app/utils/feature-flags","desktop-music-app/utils/media-type","desktop-music-app/utils/personalization","desktop-music-app/decorators/runloop"],(function(e,t,i,r,n,o,l,a,s,u,c){var d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B
function H(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function V(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.hasiTunesHistory=void 0
const K=/^([a-z]{2}\/)?deeplink$/i,W=null===(d=window.iTunes)||void 0===d?void 0:d.history.enabled
e.hasiTunesHistory=W
const Y=["artist","album","playlist"]
let q=(p=Ember.inject.service("itunes-bag"),m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,_=Ember.inject.service,P=Ember.inject.service,O=Ember.computed.alias("historyEventEmitter.history"),S=Ember._action,z=class extends Ember.Service{constructor(...e){super(...e),H(this,"bag",j,this),H(this,"finance",T,this),H(this,"metrics",M,this),H(this,"modal",C,this),H(this,"router",x,this),H(this,"routerScroll",D,this),H(this,"storefront",L,this),H(this,"itunesTab",A,this),H(this,"routeHistory",I,this),H(this,"user",N,this),H(this,"search",R,this),H(this,"searchHistory",F,this),H(this,"socialProfile",U,this),H(this,"historyImplementation",B,this)}get historyEventEmitter(){return W?window.iTunes:window}init(){super.init(...arguments),(0,l.addEventListener)(this,window,"beforeunload",this.onExit)}back(){this.routerScroll._isPopState=!0,document.body.classList.remove("route-back-forward-loading"),document.body.classList.add("route-back-forward-loading")}reload(){window.location.reload()}onReload(){(0,o.log)("NativeRouter: reload event")
try{window.location.reload(!0)}catch(e){(0,o.log)("NativeRouter: error reloading location",e)
const t=this.router.urlFor("browse",this.storefront.resolvedStorefront)
this.router.transitionTo(t)}}onExit(){Ember.testing||this.metrics.exit()}onNeedsContent(e){document.body.classList.remove("route-back-forward-loading"),this._onNeedsContent(e)}_onNeedsContent(e){const{id:t,kind:i,historyRecordingBehavior:n,searchTerm:l,searchHintsEntity:a,searchContentID:c,searchContentKind:d,additionalParams:p={}}=e,{_routerMicrolib:m}=this.router._router,{activeTransition:b}=m
let f=this.router.transitionTo
if("replace"===n&&(f=this.router.replaceWith),this.modal.isModalOpen&&this.router._router.send("closeModal",null),(0,o.log)(`NativeRouter: 'needscontent' for '${i}'`),b){const{targetName:e}=b
if((0,o.log)(`NativeRouter: is in an 'activeTransition' to '${e}'`),new RegExp(`^${Ember.String.dasherize(i)}`).test(e))return}window.iTunes.history.state&&(0,o.log)(`NativeRouter: history.state.path '${window.iTunes.history.state.path}'`)
const{user:h}=this,g=(0,u.personalizedRouteName)()
let y,v,k,w,E,_
switch(i){case window.iTunes.NativeViewKind.ForYou:E="click",_={targetType:"tab",targetId:"ForYou",actionType:"navigate"},y="/listen-now"
break
case window.iTunes.NativeViewKind.ListenNow:E="click",_={targetType:"tab",targetId:"ListenNow",actionType:"navigate"},y="/listen-now"
break
case window.iTunes.NativeViewKind.New:E="click",_={targetType:"tab",targetId:"Browse",actionType:"navigate"},y="/browse"
break
case window.iTunes.NativeViewKind.Radio:E="click",_={targetType:"tab",targetId:"Radio",actionType:"navigate"},y="/radio"
break
case window.iTunes.NativeViewKind.FamilyMemberFirstTime:h.hasFamilySubscription&&h.isPurchaser&&this.finance.musicInternal("familyWelcome")
break
case window.iTunes.NativeViewKind.Search:{const e=(0,s.getKind)({type:d})
if(Y.includes(e))return void f.call(this.router,e,this.storefront.resolvedStorefront,c)
const t={term:l,section:null,hintsEntity:a,lyrics:null}
return f.call(this.router,"search.index",this.storefront.resolvedStorefront,{queryParams:{...t,additionalParams:p}})}case window.iTunes.NativeViewKind.SearchLanding:this.search.resetAll(),f.call(this.router,"search.index",this.storefront.resolvedStorefront,{queryParams:{term:null,searchIn:null}})
break
case window.iTunes.NativeViewKind.Following:y="follows",w="follows"
break
case window.iTunes.NativeViewKind.Onboarding:{const e=Ember.get(window,"iTunes.history.state.path")||""
h.showSubscriptionContent(),f=-1===e.indexOf("onboarding")?this.router.transitionTo:this.router.replaceWith,y="onboarding.labels"
break}case window.iTunes.NativeViewKind.Artist:y="artist",w=t,v=this.storefront.resolvedStorefront,k="placeholder-artist"
break
case window.iTunes.NativeViewKind.Album:{y="album",w=t,v=this.storefront.resolvedStorefront,k="placeholder-album"
const e=Ember.get(p,"additionalStoreId")
if(e){const i={selectedTrack:e}
f.call(this.router,y,v,k,t,{queryParams:i})}break}case window.iTunes.NativeViewKind.Playlist:y="playlist",w=t,v=this.storefront.resolvedStorefront,k="placeholder-playlist"
break
case window.iTunes.NativeViewKind.TsAndCs:this.finance.terms()
break
case window.iTunes.NativeViewKind.LinkedSocialNetworks:return f.call(this.router,this.router.urlFor(g,this.storefront.resolvedStorefront)),void Ember.run.next((()=>{this.modal.open("social-network-connections.revoke")}))
case window.iTunes.NativeViewKind.SocialOnboarding:if(!Ember.get(h,"profile.isOnBoarded")){const e=this.router.urlFor(g,this.storefront.resolvedStorefront)
return f.call(this.router,e),void Ember.run.next((()=>{this.modal.open("social-onboarding.index")}))}break
case window.iTunes.NativeViewKind.NotificationSettings:return f.call(this.router,this.router.urlFor(g,this.storefront.resolvedStorefront)),void Ember.run.next((()=>{this.modal.open("social-onboarding.notifications",{location:"needsContent"})}))
case window.iTunes.NativeViewKind.TVEpisode:y="episode",w=t
break
case window.iTunes.NativeViewKind.ShowBrand:y="show",v=this.storefront.resolvedStorefront,w=t
break
case window.iTunes.NativeViewKind.MusicVideo:y="music-video",w=t,v=this.storefront.resolvedStorefront,k="placeholder-music-video"
break
case window.iTunes.NativeViewKind.UpgradeToFamily:{const e="subscribe/family?context=upgrade"
return this.finance.openFinancePath(e,null,!0)}case window.iTunes.NativeViewKind.AppsWithAccess:Ember.run.next((()=>{this.modal.open("modals.apps-access")}))
break
case window.iTunes.NativeViewKind.UserProfile:if(!Ember.get(this,"user.subscriptionInfo.isActive"))return this.finance.musicInternal("upsellGeneric")
Ember.get(this,"user.profile.isOnBoarded")?this.router.transitionTo("profile",this.storefront.resolvedStorefront,Ember.get(this,"user.profile.socialProfileId")):this.modal.open("social-onboarding.index")
break
case window.iTunes.NativeViewKind.Join:return this.finance.musicInternal("upsellGeneric")
case window.iTunes.NativeViewKind.FindFriendSettings:Ember.run.next((()=>{this.modal.open("modals.find-friends")}))}y&&(E&&_&&this.metrics.recordEvent(E,_),y=(0,r.normalizeURL)(y,m),w?(w=[v,k,w].filter(Boolean),f.call(this.router,y,...w).finally(this.notifyContentReady)):f.call(this.router,y).finally(this.notifyContentReady))}notifyContentReady(){window.iTunes.notifyContentReady&&((0,o.log)("%c NativeRouter: 'notifyContentReady'","background: #222; color: #ff0000;"),window.iTunes.notifyContentReady())}async onDeeplink(e){this.routeHistory.pageContext="Browse"
let n=e.url
if((0,o.log)("NativeRouter: 'deeplink'",n),!n)return
n=await this.launchAffiliateUtil(n)||n,(0,o.log)("NativeRouter: 'On deeplink Affiliate util response'",n)
const{finance:l}=this
let a=!1
if(l.appleOneFlowsAreSupported()){const e=this.bag.getFromBag("commerce-ui-urls.dynamic-url-patterns")
e&&e.length>0&&(a=e.some((e=>new RegExp(e).test(n))))}const s=n.replace("itms","http"),u=(0,t.default)(s),c=u.pathname.slice(1).toLowerCase(),d=K.test(c),p=-1!==c.indexOf("mzcontentlink"),m=(0,i.default)(c),{query:b}=u,f=b.app&&Ember.isArray(b.app)?b.app[0]:b.app,h=b.p&&Ember.isArray(b.p)?b.p[0]:b.p,g="music"===f&&d&&h,y=c.includes("profile/")
if("itunes"===f||l.isFinanceStoreRedirect(u))return void this.openStoreUrl(n)
if(g||p)return this.router.transitionTo("deeplink",{queryParams:b})
if(l.isFinancePath(c))l.deepLink(c,u.search)
else if(l.appleOneFlowsAreSupported()&&a)l.openFinanceURL(s)
else if(l.isFinanceHost(s))l.openFinanceURL(s)
else if(m){if(m.id||m.bagId){let e=m.id
if(m.bagId){e=(0,t.default)(this.bag.getFromBag(m.bagId)).query.url}await this.router.transitionTo(m.route,e)}else await new Promise((e=>{Ember.run.later((()=>{e(this.router.transitionTo(m.route))}),100)}))
m.tabName&&this.itunesTab.selectNavBarTab(m.tabName)}else{if(y){const e=c.split("/").pop(),t=`FAKE_ID${e}`,i=n.replace("itmss","https")
return this.router.transitionTo("profile",this.storefront.resolvedStorefront,t,{queryParams:{handle:e,eventUrl:i}})}{const{_routerMicrolib:e}=this.router._router,t=(0,r.normalizeURL)(s,e,this.storefront.resolvedStorefront);(0,r.transitionToRoute)(this.router,t)}}const v={}
v.extRefUrl=n,v.refUrl=n,this.metrics.recordEvent("page",v)}onStoreFrontChanged(){this.reload()}openStoreUrl(e){e&&window.iTunes.openURL(e,"main")}openExternalUrl(e){e&&window.iTunes.openURL(e,"_blank")}async launchAffiliateUtil(e){try{return await(0,n.default)(e,{ignoreMarketing:!0})}catch(t){(0,o.log)("NativeRouter: error from processRedirectUrl",t)}}},j=V(z.prototype,"bag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V(z.prototype,"finance",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=V(z.prototype,"metrics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=V(z.prototype,"modal",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=V(z.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=V(z.prototype,"routerScroll",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=V(z.prototype,"storefront",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=V(z.prototype,"itunesTab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=V(z.prototype,"routeHistory",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=V(z.prototype,"user",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=V(z.prototype,"search",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=V(z.prototype,"searchHistory",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=V(z.prototype,"socialProfile",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=V(z.prototype,"historyImplementation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V(z.prototype,"onDeeplink",[S,c.floatingPromise],Object.getOwnPropertyDescriptor(z.prototype,"onDeeplink"),z.prototype),z)
e.default=q})),define("desktop-music-app/services/itunes-sharing",["exports","desktop-music-app/utils/title-case-string","ember-lifeline","desktop-music-app/utils/events"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p
function m(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f={artist:"artist-content",album:"product-dv",playlist:"playlist-product",iTunesBrand:"product","x-activity":"activity",musicVideo:"product"},h={track:"song",iTunesBrand:"curator",musicVideo:"video",uploadedAudio:"artistUploadedAudio",uploadedVideo:"artistUploadedVideo",station:"radioStation"}
let g=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(...e){super(...e),m(this,"i18n",u,this),m(this,"musickit",c,this),m(this,"pixelRatio",d,this),m(this,"store",p,this)}_share(e,t){window.iTunes.share(e,t)}setupListeners(){(0,i.addEventListener)(this,(0,r.eventTarget)(),"itemsharerequested",Ember.run.bind(this,this.onItemShareRequested))}_normalizeKind(e){return h[e]||e}_generateFullArtworkURL(e){const t=125*Ember.get(this,"pixelRatio.current")
let i=e
return i&&(i=i.replace("{w}",t),i=i.replace("{h}",t),i=i.replace("{f}","jpeg")),i}_generateLocParams(e,t){let i
const r=Ember.get(e,"kind"),n=Ember.get(e,"name")||Ember.get(e,"title"),o=Ember.get(e,"artistName")||Ember.get(e,"curatorName")||t,l=Ember.get(e,"collectionName")
switch(r){case"brand":i={brand:n}
break
case"iTunesBrand":case"curator":i={curator:n}
break
case"artist":i={artist:n,artistName:n}
break
case"track":case"song":i={name:n,collection:l,artist:o,songName:n,albumName:l,artistName:o}
break
case"video":case"musicVideo":i={name:n,artist:o,videoName:n,artistName:o}
break
case"playlist":i={name:n,artist:o,playlistName:n,playlistCreator:o,artistName:o}
break
case"album":i={name:n,artist:o,albumName:n,artistName:o}
break
case"radioStation":case"station":i={name:n}
break
case"uploadedAudio":i={name:n,artist:o,songName:n,artistName:o}
break
case"uploadedVideo":i={name:n,artist:o,videoName:n,artistName:o}
break
default:i={name:n}}return i}onItemShareRequested(e){const{itemInfo:t,itemInfo:{id:i},selectedService:r}=e,n=this.store,o=t.kind,l=t.url
let a
if(o){const e=f[o]
e&&(a=n.peekRecord(e,i))}a||(a=n.peekRecord("lockup",i))
const s=e=>{this._constructShare(r,e).then((e=>{!e.productURL&&l&&(e.productURL=l,e.message=`${e.message}\n${l}`),!e.id&&i&&(e.id=i),this._share(r,e)})).catch((()=>{}))}
if(a)s(a)
else{const e="x-activity"===o?"activity":"lockup"
n.findRecord(e,i).then(s)}}_constructShare(e,i){return new Promise((r=>{const n="activity"===Ember.get(i,"constructor.modelName"),o=n?Ember.get(i,"target.targetObject"):i,l=o&&Ember.get(o,"kind")||"default",a=Ember.get(o,"id"),s=n?Ember.get(i,"url"):Ember.get(o,"shortUrl")||Ember.get(o,"url")||Ember.get(i,"postUrl"),u=o?Ember.get(o,"artwork.url"):Ember.get(i,"artwork.url"),c={id:a,productURL:s,imageURL:this._generateFullArtworkURL(u),message:s},d=window.iTunes.SharingServiceIdentifier
switch(e){case d.ComposeEmail:{const e=`FUSE.UserSharing.${n?"ConnectPost":"Content"}.${(0,t.default)(this._normalizeKind(l))}.Mail`,r=o?this._generateLocParams(o,this.i18n.t("FUSE.AppleMusic")):{}
n&&(r.author=Ember.get(i,"isAttributed")&&Ember.get(i,"admin.name")?Ember.get(i,"admin.name"):Ember.get(i,"owner.name")),c.subject=this.i18n.t(e,r)
break}case d.CopyEmbedCode:{const e=this.musickit.generateMusicKitEmbedCode(s)
c.embedCode=e
break}}Ember.run(null,r,c)}))}},u=b(s.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(s.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(s.prototype,"pixelRatio",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(s.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=g})),define("desktop-music-app/services/itunes-social",["exports","desktop-music-app/config"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h,g
function y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k="music-app-pref:amf-contacts",{MUSIC:{SOCIAL:{apiVersion:w}}}=t.default
let E=(i=Ember.inject.service("itunes-mescal"),r=Ember.inject.service("profile-relationships"),n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service("itunes-dialog"),s=Ember.inject.service("itunes-bag"),u=Ember.computed("bag"),c=class extends Ember.Service{constructor(...e){super(...e),y(this,"mescal",d,this),y(this,"relationships",p,this),y(this,"i18n",m,this),y(this,"store",b,this),y(this,"user",f,this),y(this,"dialog",h,this),y(this,"bag",g,this)}get sharingUrl(){return Ember.get(this,"bag").getFromBag("musicFriends.AMFShareUrl")}openImageSelector(e,t){window.iTunes.openImageSelector(e,t)}findSubscribers(){return new Promise(((e,t)=>this.findMoreFriends({maxHeight:100,maxWidth:100,options:{includeFamilyMembers:!0}}).then((i=>{const r=Ember.get(i,"status")
if(r){let t=Ember.get(i,"friends.contactsToInvite.contacts")||[],n=Ember.get(i,"friends.friendsToFollow.friends")||[]
const o=Ember.get(i,"friends.contactsToInvite.obeySortOrder"),l=Ember.get(i,"friends.friendsToFollow.obeySortOrder")
o||(t=t.sortBy("name")),l||(n=n.sortBy("name"))
const a=t.uniqBy("socialProfileId").filter((e=>Ember.isPresent(e,"socialProfileId"))),s=n.uniqBy("socialProfileId")
return e({status:r,invites:a,contacts:s})}return t(i)}))))}discoverFriends(){return new Promise(((e,t)=>{window.iTunes.discoverFriends({},((i,r)=>{i?(this.storeContacts(r),e({status:i,friends:r})):t()}))}))}findMoreFriends(e){return new Promise(((t,i)=>{const r=e||{}
window.iTunes.findMoreFriends(r,((e,r)=>{e?t({status:e,friends:r}):i()}))}))}storeContacts(e){const t=e?Ember.get(e,"friends"):null
if(null!=t&&t.length){const e=Ember.get(this,"user.userDSID"),i=t.map((e=>Ember.get(e,"socialProfileId")))
localStorage.setItem(`${k}-${e}`,JSON.stringify(i))}}getStoredContacts(){const e=Ember.get(this,"user.userDSID"),t=localStorage.getItem(`${k}-${e}`)
return t?JSON.parse(t):[]}showOAuthDialog(e){return new Promise(((t,i)=>{window.iTunes.showOAuthDialog(e,(e=>{e?t(e):i(e)}))}))}disconnectLinkedAccount(e){const t={actionPath:"musicFriends.deleteOAuthSocialNetwork",httpMethod:"GET",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e({status:t,response:r}):i(t)}))}))}getOAuthSocialNetworks(){const e={actionPath:"musicFriends.getOAuthSocialNetworks",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t(r):i(e)}))}))}getSocialNetworkConnections(e){return this.store.queryRecord("social-network-connections",e).then((e=>Ember.get(e,"lockups")))}setUserPlaylists(e){const t={actionPath:"musicFriends.setPrivateSocialPlaylists",httpMethod:"POST",requestBody:{ids:e}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e({status:t,response:r}):i(t)}))}))}updateSocialProfile(e){return new Promise(((t,i)=>{window.iTunes.editProfile(e,((r,n)=>{r?(Ember.get(this,"user").fetchUserProfile(),t(r,n)):(this.displayOnboardingError(e,n,t,i),i(n))}))}))}updateSocialProfileV1(e){const t={actionPath:"musicCommon.updateProfile",httpMethod:"POST",requestBody:e}
return new Promise(((i,r)=>{Ember.get(this,"mescal").mescalRequest(t,((t,n)=>{200===t?(Ember.get(this,"user").fetchUserProfile(),i(t,n)):(this.displayOnboardingError(e,n,i,r),r(n))}))}))}displayOnboardingError(e,t,i,r){const n=Ember.get(e,"handle"),o=t&&Ember.get(t,"status"),l=t&&Ember.get(t,"serviceErrorMessage")
let a,s,u,c,d
if("handleAlreadyExists"===o){const o=Ember.get(t,"suggestedHandles")
if(o){const[t]=o
a=this.i18n.t("FUSE.Error.HandleAlreadyExists.message"),s=this.i18n.t("FUSE.Error.HandleAlreadyExists.explanation",{handle:n,newhandle:t}),u=this.i18n.t("FUSE.Error.HandleAlreadyExists.okString"),c=this.i18n.t("FUSE.Error.HandleAlreadyExists.cancelString"),d={okButtonAction:Ember.run.bind(this,(()=>{e.handle=t,window.iTunes.editProfile(e,((e,t)=>{Ember.get(this,"user").fetchUserProfile(),i(e,t)}))})),cancelButtonAction:Ember.run.bind(this,(()=>{r(!1)}))}}else a=this.i18n.t("FUSE.Error.HandleAlreadyExists.message"),u=this.i18n.t("OK"),d={}}else l?(a=this.i18n.t("FUSE.Error.AnErrorOccurred"),s=l,u=this.i18n.t("OK")):(a=this.i18n.t("FUSE.Error.AnErrorOccurred"),s=null,u=this.i18n.t("OK"),d={})
Ember.get(this,"dialog").showDialog(a,s,u,d,c)}onboardProfile(){const e={actionPath:"musicFriends.onboard",httpMethod:"POST",requestBody:{v:w}}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?(Ember.get(this,"relationships").loadProfileRelationships(),Ember.get(this,"user").fetchUserProfile().then((i=>{t({status:e,response:r,profile:i})}))):i(e)}))}))}offboardProfile(){const e={actionPath:"musicFriends.offboard",httpMethod:"POST",requestBody:{v:w}}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?(Ember.set(this,"relationships.relationships",null),Ember.get(this,"user").fetchUserProfile().then((i=>{t({status:e,response:r,profile:i})}))):i(e)}))}))}getSocialRelationships(){const e={actionPath:"musicFriends.socialBadging",httpMethod:"GET",requestBody:{v:w,isInternallInstall:!0,isSocialEnabled:!0,time:(new Date).getMilliseconds()}},t=localStorage.getItem("socialVersionHash")
return t&&(e.requestHeaders={versionHash:t}),new Promise((t=>{Ember.get(this,"mescal").mescalRequest(e,((e,i)=>{200===e&&i&&(i.versionHash&&localStorage.setItem("socialVersionHash",i.versionHash),t({status:e,response:i})),t({})}))}))}setPushNotifications(e){const t={actionPath:"musicFriends.setPushNotificationSettings",httpMethod:"POST",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e({status:t,response:r}):i(t)}))}))}getPushNotifications(){const e={actionPath:"musicFriends.getPushNotificationSettings",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t({status:e,response:r}):i(e)}))}))}followUser(e){const t={actionPath:"musicFriends.followProfile",httpMethod:"POST",requestBody:{id:e,v:w}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?(Ember.get(this,"relationships").loadProfileRelationships(),e(r)):i(t)}))}))}unFollowUser(e){const t={actionPath:"musicFriends.unfollowProfile",httpMethod:"POST",requestBody:{id:e,v:w}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?(Ember.get(this,"relationships").loadProfileRelationships(),e(r)):i(t)}))}))}blockUser(e){const t={actionPath:"musicFriends.blockSocialUser",httpMethod:"POST",requestBody:{id:e,v:w}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?(Ember.get(this,"relationships").loadProfileRelationships(),e(r)):i(t)}))}))}unblockUser(e){const t={actionPath:"musicFriends.unBlockSocialUser",httpMethod:"POST",requestBody:{id:e,v:w}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?(Ember.get(this,"relationships").loadProfileRelationships(),e(r)):i(t)}))}))}removeFollower(e){const t={actionPath:"musicFriends.removeFollower",httpMethod:"POST",requestBody:{id:e,v:w}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?(Ember.get(this,"relationships").loadProfileRelationships(),e(r)):i(t)}))}))}followRequestAction(e){const t={actionPath:"musicFriends.followRequest",httpMethod:"POST",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}followRequests(){const e={actionPath:"musicFriends.followRequests",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t(r):i(e)}))}))}userFollowRequestsCount(){const e={actionPath:"musicFriends.followRequestCount",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t(r):i(e)}))}))}getWelcomeScreenData(){const e={actionPath:"musicFriends.socialOnboardingWelcomeScreen",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t(r):i(e)}))}))}updateListeningToPreferences(e){const t={actionPath:"musicFriends.updateListeningToPreferences",httpMethod:"POST",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}removeRecommendedFriend(e){const t={actionPath:"musicFriends.removeRecommendedFriend",httpMethod:"POST",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}getListeningToSettings(){const e={actionPath:"musicFriends.getListeningToSettings",httpMethod:"GET"}
return new Promise(((t,i)=>{Ember.get(this,"mescal").mescalRequest(e,((e,r)=>{200===e?t(r):i(e)}))}))}setListeningToSettings(e){const t={actionPath:"musicFriends.setListeningToSettings",httpMethod:"POST",requestBody:e}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}getFollowStates(e){const t=e.join(","),i={actionPath:"musicFriends.getFollowStates",httpMethod:"GET",requestBody:{v:w,id:t}}
return new Promise(((e,t)=>{Ember.get(this,"mescal").mescalRequest(i,((i,r)=>{200===i?e(r):t(i)}))}))}getSuggestedHandles(e){const t={actionPath:"musicSubscription.suggestedHandles",httpMethod:"GET",requestBody:{handle:e}}
return new Promise(((e,i)=>{Ember.get(this,"mescal").mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))}))}},d=v(c.prototype,"mescal",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"relationships",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"i18n",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(c.prototype,"user",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"dialog",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(c.prototype,"bag",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(c.prototype,"sharingUrl",[u],Object.getOwnPropertyDescriptor(c.prototype,"sharingUrl"),c.prototype),c)
e.default=E})),define("desktop-music-app/services/itunes-storefront",["exports"],(function(e){var t,i,r
function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=["caller","dsid","id","p"]
let l=(t=Ember.inject.service("itunes-bag"),i=class extends Ember.Service{constructor(...e){var t,i,o,l
super(...e),t=this,i="bag",l=this,(o=r)&&Object.defineProperty(t,i,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(l):void 0}),n(this,"caller","DI14"),n(this,"url","https://music.apple.com")}signWithUrlSignature(e={}){let t=""
const i=Math.round(Date.now()/1e3),r=window.iTunes,n=o.reduce(((t,i)=>(e[i]&&t.push(e[i]),t)),[])
return n.unshift(i,r.storefront),t=r.signStorePlatformRequestData(n.join("")),e["X-JS-SP-TOKEN"]=t,e["X-JS-TIMESTAMP"]=i,{token:t,timestamp:i}}getStorefrontCountryCode(){return this.bag.getFromBag("countryCode")}},a=i.prototype,s="bag",u=[t],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),r=p,i)
var a,s,u,c,d,p
e.default=l})),define("desktop-music-app/services/itunes-tab",["exports","desktop-music-app/utils/personalization"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service,r=class extends Ember.Service{constructor(...e){var t,i,r,o
super(...e),t=this,i="router",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}selectNavBarTab(e,t){const i=window.iTunes.NativeViewKind[Ember.String.classify(e)]||window.iTunes.NativeViewKind.New,r=t||this.router.currentURL
r&&window.iTunes.openURL(r,i)}selectPersonalizationNavBarTab(e){this.selectNavBarTab((0,t.personalizedNavBarTab)(),e)}},l=r.prototype,a="router",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/services/itunes-theme",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember._tracked,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="theme",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}},o=i.prototype,l="theme",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"light-mode"}},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n}))
define("desktop-music-app/services/itunes-user",["exports","desktop-music-app/mixins/user-grace-period","desktop-music-app/mixins/user-cloud-library","desktop-music-app/mixins/user-subscription","desktop-music-app/mixins/user-student-verification","desktop-music-app/mixins/user-winback-sheet","desktop-music-app/mixins/social-contacts-upload","desktop-music-app/utils/events","ember-lifeline","desktop-music-app/utils/logger","desktop-music-app/config"],(function(e,t,i,r,n,o,l,a,s,u,c){var d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R
function F(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function B(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CLOUD_LIBRARY_SYNC_EVENT=void 0
const{MUSIC:{FINANCE_DYNAMICAMSUI_OFFER_HINTS:H,FINANCE_DYNAMICAMSUI_OPTION_KEYS:V,FINANCE_DYNAMIC_AMSUIURL_PLACEMENTS:K}}=c.default,W="music-app-pref:has-display-homepod-offer-dialog",Y="cloudlibraryloaded"
e.CLOUD_LIBRARY_SYNC_EVENT=Y
let q=(d=Ember.inject.service,p=Ember.inject.service("itunes-bag"),m=Ember.inject.service,b=Ember.inject.service("itunes-social"),f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service("itunes-dialog"),y=Ember.inject.service("itunes-router"),v=Ember.inject.service("profile-relationships"),k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,_=Ember.computed("isLoggedOut"),P=Ember.computed("userDSID"),O=Ember.computed("userDSID"),S=class extends(Ember.Service.extend(t.default,i.default,r.default,n.default,l.default,o.default)){constructor(...e){super(...e),F(this,"store",z,this),F(this,"bag",j,this),F(this,"cookies",T,this),F(this,"social",M,this),F(this,"i18n",C,this),F(this,"router",x,this),F(this,"iTunesDialog",D,this),F(this,"nativeRouter",L,this),F(this,"relationships",A,this),F(this,"metrics",I,this),F(this,"socialProfile",N,this),F(this,"finance",R,this),U(this,"lastBuyStatus",null),U(this,"profile",null),U(this,"socialRequestCount",0)}init(){super.init(...arguments),window.addEventListener("buy-batch-did-complete",Ember.run.bind(this,this.buyBatchResponse)),window.addEventListener("userchanged",Ember.run.bind(this,this.notifyUserChanges)),window.addEventListener("parentalthresholdprefchanged",Ember.run.bind(this,this.notifyParentalThreshold)),window.addEventListener("connectprefchanged",Ember.run.bind(this,this.handleConnectPrefChanged)),(0,s.addEventListener)(this,(0,a.eventTarget)(),"subscriptionstatuschanged",Ember.run.bind(this,this.notifySubscriptionChanges)),(0,s.addEventListener)(this,(0,a.eventTarget)(),"recentradiostationschanged",Ember.run.bind(this,this.handleRecentsRadioChange)),(0,s.addEventListener)(this,(0,a.eventTarget)(),Y,Ember.run.bind(this,this.notifyCloudLibraryLoaded)),this.addObserver("subscriptionOffers.userInfo.isSetUpForHomePod",this.getUserHomePodOffer)}handleConnectPrefChanged(){this.notifyPropertyChange("connectEnabled")}getUserHomePodOffer(){if(Ember.get(this,"isLoggedIn")&&!Ember.get(this,"isSubscribed")){const e=Ember.get(this,"subscriptionOffers.userInfo.isSetUpForHomePod"),t=Ember.get(this,"userDSID"),i=localStorage.getItem(`${W}-${t}`)
e&&!Ember.isPresent(i)&&this.displayHomepodOfferModal()}}displayHomepodOfferModal(){const e=Ember.get(this,"userDSID"),t=this.finance,i=t.pathForKey("musicDeeplinks","subscribe"),r={}
r[V.OFFER_HINT]=H.HOME_POD,r.placement=K.LAUNCH_UPSELL,t.openFinancePath(i,r),localStorage.setItem(`${W}-${e}`,!0)}buyBatchResponse(e){this.notifySubscriptionChanges(),Ember.set(this,"lastBuyStatus",e.status)}notifyParentalThreshold(){this.onParentalRatingChange(),this.onResrictMusicVideosChange(),this.notifyPropertyChange("restrictExplicitContent"),window.location.reload(!0)}handleRecentsRadioChange(){const e=(new Date).getMilliseconds()
this.store.queryRecord("radio-recents-list",{id:"radio-recent",timeStamp:e})}fetchUserSocialRequestsCount(){if(this.isLoggedOut)return
const{socialProfile:e,isOnboarded:t}=this
e.isSocialEnabled&&t&&this.social.userFollowRequestsCount().then((e=>{const t=Ember.get(e,"count"),i=Ember.get(this,"socialRequestCount")
t&&t!==i&&Ember.set(this,"socialRequestCount",t)}))}notifyUserChanges(){const{currentRouteName:e}=this.router
"0"===this.userDSID?(["radio-recent","radio-featured"].forEach((e=>{const t=this.store.peekRecord("content-list",e)
if(t){(Ember.get(t,"storeContent")||[]).clear()}})),this.relationships.clearSocialProfileData()):"profile.index"===e?window.location.reload(!0):this.handleUserChanges(),this.notifyPropertyChange("userDSID"),this.upsellBanner.toggleBodyClasses(),this.metrics.addBaseData({isSignedIn:this.isLoggedIn}),Ember.getOwner(this).lookup("router:main").send("closeModal")}handleUserChanges(){Ember.run.debounce(this,"loadUserData",150)}async loadUserData(){try{if(this.isLoggedOut)return
const e=await this.fetchUserProfile()
return e.isOnBoarded&&(this.fetchUserSocialRequestsCount(),this.relationships.loadProfileRelationships()),e}catch(e){return(0,u.log)("AM Error - itunes-user:loadUserData",e),{}}}async fetchUserProfile(){if(this.isLoggedOut)return Promise.resolve()
const e=window.iTunes.getUserDSID(),t=this.store.peekRecord("user-profile",e)
t&&t.unloadRecord()
const i=await this.store.queryRecord("user-profile",{user:e})
return Ember.set(this,"profile",i),i}login(e,t){const i={}
t&&(i.forceSignIn=!0),window.iTunes.signIn(i,Ember.run.bind(this,(function(){this.notifyUserChanges.apply(this),e()})))}get connectEnabled(){return window.iTunes.getPreferences().connectEnabled}get userDSID(){return window.iTunes.getUserDSID()}get isLoggedIn(){return"0"!==this.userDSID}get isLoggedOut(){return"0"===this.userDSID}get cloudId(){return Ember.get(window,"iTunes.appleAccountStore.primaryAppleAccount.dsID")}get restrictExplicitContent(){const e=this.bag.getFromBag("isExplicitMusicDisallowed"),{parentalThresholdMusic:t}=window.iTunes.getPreferences()
return e||t}get isOnboarded(){return Ember.get(this,"profile.isOnBoarded")}showSubscriptionContent(){window.iTunes.unhideSubscriptionContent()}modifyAccountSettings(){const e=this.bag.getFromBag("modifyAccount")
this.nativeRouter.openStoreUrl(e)}isRestrictedContentRating(e,t){let i
switch(e){case"tvEpisode":case"showBrand":i=window.iTunes.preferences.parentalThresholdTV
break
case"movie":i=window.iTunes.preferences.parentalThresholdMovies}return!!i&&t.value>i}onResrictMusicVideosChange(){let e="itrv=1;domain=apple.com;expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/"
window.iTunes.getPreferences().parentalThresholdMusicVideos||(e="itrv=1;domain=apple.com;expires=Fri, 31 Dec 1982 23:59:59 GMT;path=/"),this.cookies.setString(e)}onParentalRatingChange(){let e="itre=1;domain=apple.com;expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/"
window.iTunes.getPreferences().parentalThresholdMusic||(e="itre=1;domain=apple.com;expires=Fri, 31 Dec 1982 23:59:59 GMT;path=/"),this.cookies.setString(e)}willDestroy(){this.removeObserver("subscriptionOffers.userInfo.isSetUpForHomePod",this.getUserHomePodOffer),super.willDestroy(...arguments)}},z=B(S.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=B(S.prototype,"bag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(S.prototype,"cookies",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B(S.prototype,"social",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B(S.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(S.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B(S.prototype,"iTunesDialog",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=B(S.prototype,"nativeRouter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B(S.prototype,"relationships",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=B(S.prototype,"metrics",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B(S.prototype,"socialProfile",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=B(S.prototype,"finance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B(S.prototype,"isLoggedIn",[_],Object.getOwnPropertyDescriptor(S.prototype,"isLoggedIn"),S.prototype),B(S.prototype,"isLoggedOut",[P],Object.getOwnPropertyDescriptor(S.prototype,"isLoggedOut"),S.prototype),B(S.prototype,"restrictExplicitContent",[O],Object.getOwnPropertyDescriptor(S.prototype,"restrictExplicitContent"),S.prototype),S)
e.default=q})),define("desktop-music-app/services/itunes-version",["exports","compare-versions","desktop-music-app/utils/feature-flags"],(function(e,t,i){var r,n,o,l,a
function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,n=Ember.inject.service("itunes-bag"),o=class extends Ember.Service{constructor(...e){super(...e),s(this,"platform",l,this),s(this,"bag",a,this)}canUseWebKit2Features(){if(this.platform.isWindows)return!1
let e
return e=this.platform.isWebKit&&this.version>2,e}get osBuildID(){return parseInt(window.iTunes.osBuildID.substr(0,2))}isLessThanAppVersion(e){return window.iTunes.appVersion&&-1===(0,t.default)(window.iTunes.appVersion,e)}supportsAppleOne(){return window.iTunes.appVersion&&(0,t.default)(window.iTunes.appVersion,"1.1.2")>-1}supportsOasis(){var e
return(null===(e=window.iTunes)||void 0===e?void 0:e.appVersion)&&(0,t.default)(window.iTunes.appVersion,"1.1.5")>-1&&Boolean(this.bag.getFromBag("enhanced-audio"))}isInternal(){return"jingle"===window.iTunes.buildKind}isInternalMusicApp(){return!1}},l=u(o.prototype,"platform",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(o.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=c})),define("desktop-music-app/services/itunes-volume",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{increase(){window.iTunes&&window.iTunes.setVolume(window.iTunes.volume+.05)}decrease(){window.iTunes&&window.iTunes.setVolume(window.iTunes.volume-.05)}}e.default=t})),define("desktop-music-app/services/itunes-window",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{refreshDocumentHeight(){window.iTunes.window.refreshDocumentHeight()}openURLInWindow(e){window.iTunes.openWindow(e)}}e.default=t})),define("desktop-music-app/services/local-state",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ITEM_WAS_NEUTRALIZED=e.ITEM_WAS_SUGGESTED_LESS=e.ITEM_WAS_LOVED=e.ITEM_WAS_DELETED=e.ITEM_WAS_ADDED=e.TYPE_RATING=e.TYPE_LIBRARY=void 0
let n=Object.create(null)
const o="LIBRARY"
e.TYPE_LIBRARY=o
const l="RATING"
e.TYPE_RATING=l
const a="WAS_ADDED"
e.ITEM_WAS_ADDED=a
const s="WAS_DELETED"
e.ITEM_WAS_DELETED=s
const u="WAS_LOVED"
e.ITEM_WAS_LOVED=u
const c="WAS_SUGGESTED_LESS"
e.ITEM_WAS_SUGGESTED_LESS=c
const d="WAS_NEUTRALIZED"
function p(e,t){return`${e}-${t}`.replace(/\./g,"-")}e.ITEM_WAS_NEUTRALIZED=d
let m=(t=Ember._tracked,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="currentItem",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}willDestroy(){super.willDestroy(),this.clearLocalState()}clearLocalState(){n=Object.create(null)}unset(e,t){Ember.set(n,p(e,t),null)}set(e,t,i){if(!["string","number"].includes(typeof e))throw new Error("local-state: The id passed to set must be a string or number.")
if(![o,l].includes(t))throw new Error(`local-state: The type '${t}' passed to set is not valid.`)
if(![a,s,u,c,d].includes(i))throw new Error(`local-state: The state '${i}' passed to set is not valid.`)
Ember.set(n,p(e,t),i),this.currentItem={id:e,timestamp:Date.now()}}get(e,t){if(!["string","number"].includes(typeof e))throw new Error("local-state: The id passed to get must be a string or number.")
if(![o,l].includes(t))throw new Error(`local-state: The type '${t}' passed to get is not valid.`)
const i=`${e}-${t}`.replace(/\./g,"-")
return Ember.get(n,i)}},b=i.prototype,f="currentItem",h=[t],g={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},v={},Object.keys(g).forEach((function(e){v[e]=g[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=h.slice().reverse().reduce((function(e,t){return t(b,f,e)||e}),v),y&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(y):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(b,f,v),v=null),r=v,i)
var b,f,h,g,y,v
e.default=m})),define("desktop-music-app/services/locale-switcher/manager",["exports","@amp/ember-ui-locale-switcher/services/locale-switcher/manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/locale",["exports","desktop-music-app/config/environment","desktop-music-app/utils/feature-flags","desktop-music-app/utils/localize-number","desktop-music-app/config"],(function(e,t,i,r,n){var o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=/^(ar-)/,{DEV_LANGUAGE:y}=n.default
let v=(o=Ember.inject.service,l=Ember.inject.service("-document"),a=Ember.inject.service,s=Ember._tracked,u=class extends Ember.Service{constructor(...e){super(...e),b(this,"router",c,this),b(this,"documentService",d,this),b(this,"fastboot",p,this),f(this,"defaultLocale",t.default.i18n.defaultLocale),b(this,"_locale",m,this),f(this,"fontElement",void 0)}init(){super.init(...arguments),this.setFontElement(),this.setLocale(this.defaultLocale)}get locale(){return this._locale||this.defaultLocale}get languageCode(){const[e]=this.locale.split("-")
return e}get countryCode(){const[,e]=this.locale.split("-")
return e}get pageDir(){return this.document.documentElement.getAttribute("dir")||"ltr"}get document(){return this.fastboot.isFastBoot?this.documentService:document}setFontElement(){this.fastboot.isFastBoot||(this.fontElement=this.document.querySelector('[name="fonts"]')),this.fontElement||(this.fontElement=function(e){const{head:t,head:{firstChild:i}}=e,r=e.createElement("link")
return r.setAttribute("rel","stylesheet"),r.setAttribute("name","fonts"),t.insertBefore(r,i),r}(this.document))}setLocale(e){this._locale=e===y?this.defaultLocale:e,Ember.debug(`[locale] Setting locale: ${e}`),this.setFontHref()}setFontHref(){const e=this.getWebfontUrl()
if(!e)return
const{fontElement:i}=this
"test"===t.default.environment&&i.setAttribute("rel","x-stylesheet"),i.setAttribute("href",e)}getWebfontUrl(){const{locale:e}=this
let t="//www.apple.com/wss/fonts"
if(g.test(e))return`${t}?families=SF+Pro,v4|SF+Pro+Icons,v1`
switch(e){case"ja-jp":t+="?families=SF+Pro,v4|SF+Pro+JP,v1|SF+Pro+Icons,v1"
break
case"zh-cn":t+="?families=SF+Pro,v4|SF+Pro+SC,v1|SF+Pro+Icons,v1"
break
case"zh-hk":t+="?families=SF+Pro,v4|SF+Pro+HK,v1|SF+Pro+Icons,v1"
break
case"zh-mo":case"zh-tw":t+="?families=SF+Pro,v4|SF+Pro+TC,v1|SF+Pro+Icons,v1"
break
case"th-th":t+="?families=SF+Pro,v4|SF+Pro+Icons,v1"
break
case"ko-kr":t+="?families=SF+Pro,v4|SF+Pro+KR,v2|SF+Pro+Icons,v1"
break
default:t+="?families=SF+Pro,v4|SF+Pro+Icons,v1"}return t}localizeNumber(e){return(0,r.default)(e,this.locale)}},c=h(u.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"documentService",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(u.prototype,"_locale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u)
e.default=v})),define("desktop-music-app/services/media-api",["exports","desktop-music-app/config/environment","fetch","desktop-music-app/utils/cache-control"],(function(e,t,i,r){var n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b="x-apple-jingle-correlation-key"
let f=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=class extends Ember.Service{constructor(...e){super(...e),d(this,"fastboot",s,this),d(this,"storefront",u,this),d(this,"cookies",c,this),p(this,"fetch",i.default),p(this,"_instance",null)}_parseCacheControl(e){return r.default.parse(e||"")}init(){super.init(...arguments),this.set("_instance",{}),this.set("_strictestCacheControl",this._parseCacheControl())}load(){const e={apiBaseUrl:this._getBaseUrl(),bag:{features:{"api-session-storage":!0,"api-data-store":!0}},developerToken:t.default.MEDIA_API.token,storefrontId:this.storefront.resolvedStorefront,sessionOptions:{fetch:this._fetchAndUpdateCacheControl.bind(this),underlyingStorage:this.getCache(),fetchOptions:{headers:this._getHeaders(),credentials:"include",mode:"cors"}}},i=FastBoot.require("@amp/media-api")
this._instance=new i.API(e.apiBaseUrl,e.developerToken,e.storefrontId,null,null,null,e.bag,e.sessionOptions)}async _fetchAndUpdateCacheControl(){let e
try{e=await this.fetch(...arguments)}catch(t){throw this._updateCacheControl("private, max-age=0"),t}return this._updateCacheControl(e.headers.get("cache-control")||""),e}_updateCacheControl(e){const t=this._parseCacheControl(e)
this._strictestCacheControl=this._strictestCacheControl.reconcile(t)
const i=this._strictestCacheControl.withoutNoTransform().toString()
var r
i&&(null===(r=this.fastboot.response)||void 0===r||r.headers.set("cache-control",i))}getCache(){const e=`media-api-cache-${t.default.MUSIC.REALM}`
const{fastboot:i}=this
let r=i.shoebox.retrieve(e)||{}
if(i.isFastBoot)r={},i.shoebox.put(e,r)
else{const e=e=>String(e).replace(/(include|fields)\.5b([^.]+)\.5d\./g,((e,t,i)=>`${t}.${i}.`)),t=Object.keys(r).filter((t=>t!==e(t)))
for(const i of t)r[e(i)]=r[i]}return r}_getBaseUrl(){if(this.fastboot.isFastBoot){if("production"!==t.default.environment)return t.default.MUSIC.BASE_URL
const e=FastBoot.require("process").env.FASTBOOT_API_MUSIC
if(!e)throw new Error("fastboot requires the FASTBOOT_API_MUSIC env var")
return e}return t.default.MUSIC.BASE_URL}_getHeaders(){const e=new i.Headers,{fastboot:t}=this
if(t.isFastBoot){const i=t.request.headers.getAll("x-forwarded-for").join(", ")
e.set("x-forwarded-for",i)
const r=t.request.headers.get(b)
r&&e.set(b,r)
const n=t.request.headers.get("user-country")
n&&e.set("user-country",n)
const{unpersonalizedCookies:o}=this.cookies
o.length&&e.set("cookie",o)}return e}},s=m(a.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(a.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(a.prototype,"cookies",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=f})),define("desktop-music-app/services/media-shelf/scroll-positions",["exports","@amp/ember-ui-media-shelf/services/media-shelf/scroll-positions"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/media-shelf/viewport",["exports","@amp/ember-ui-media-shelf/services/media-shelf/viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/media",["exports","ember-responsive/services/media"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("desktop-music-app/services/metrics",["exports","@amp/ember-metrics/services/metrics","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,h(e,t,"set"),i),i}function h(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function g(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,a=Ember._action,s=Ember._action,m=new WeakMap,u=class extends t.default{constructor(){var e,t,i
super(...arguments),b(this,"router",c,this),b(this,"user",d,this),b(this,"storefront",p,this),m.set(this,{writable:!0,value:void 0}),i=void 0,(t="notifyUserDataLoaded")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,f(this,m,new Promise((e=>this.notifyUserDataLoaded=e)))}get ownerRoute(){return Ember.getOwner(this).lookup(`route:${this.router.currentRouteName}`)}recordPageEvent(e,t=!1){const i=this.ownerRoute
!t&&("search.index"===e.to.name||null!=i&&i.pageMetricsDisabled)||super.recordPageEvent()}recordClick(e,t,i){if(!e)throw new Error("No event was provided to recordClick")
if(!(t&&t instanceof HTMLElement))throw new Error("No target element was provided to recordClick")
if(!i)throw new Error("No data was provided to recordClick")
super.recordClick(e,t,i)}scopeBarMetricsClick(e){const t="am"===e?"Search":"Library",i="am"===e?"AppleMusic":"YourLibrary",r={pageContext:"Search",pageId:"SearchHints",pageType:t,page:`${t}_${i}`}
this.updatePageData(r),this.recordEvent("click",{targetId:i,targetType:"button"})}updatePageData(e){const t=this.ownerRoute
e&&Object.keys(e).length&&t&&(t.setProperties(e),this.recordPageEvent({},!0))}recordSearchInput(e){const t=JSON.parse((0,i.default)(["searchInput"],{searchTerm:e}))
this.recordEvent("search",t)}async afterEnable(){var e,t
await(e=this,t=m,function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))),super.afterEnable(...arguments)
const{storefront:i}=this
for(const r of[this.mtkit,this.funnelKit].filter(Boolean))r.system.environment.setDelegate({storeFrontCountryCode:()=>i.resolvedStorefront})}},c=g(u.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"user",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"storefront",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"scopeBarMetricsClick",[a],Object.getOwnPropertyDescriptor(u.prototype,"scopeBarMetricsClick"),u.prototype),g(u.prototype,"afterEnable",[s],Object.getOwnPropertyDescriptor(u.prototype,"afterEnable"),u.prototype),u)
e.default=y})),define("desktop-music-app/services/modal-dialog",["exports","desktop-music-app/config/environment"],(function(e,t){function i(e){return Ember.computed((function(){return t.default["ember-modal-dialog"]&&t.default["ember-modal-dialog"][e]}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Service.extend({hasEmberTether:i("hasEmberTether"),hasLiquidWormhole:i("hasLiquidWormhole"),hasLiquidTether:i("hasLiquidTether"),destinationElementId:null})
e.default=r})),define("desktop-music-app/services/modal",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){var i,r,n,o,l,a,s,u,c
function d(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,n=Ember._action,o=Ember._action,l=Ember._action,a=Ember._action,s=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),d(this,"fastboot",u,this),d(this,"accessibility",c,this),r=!1,(i="isModalOpen")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}setupAX(){const e=document.querySelector(".social-dialog-container")
e&&(e.setAttribute("role","dialog"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-label","Apple Music Friends"),e.focus(),document.body.addEventListener("focus",this.cursorTrapping,{capture:!0}))}close(){if(this.fastboot.isFastBoot)return
this.teardownAX()
const[e]=document.getElementsByClassName("scrollbar-measure")
if(e&&e.remove(),document.body.style.paddingRight="0px",this.isModalOpen)return Ember.set(this,"isModalOpen",!1),document.body.classList.remove("modal-open"),Ember.getOwner(this).lookup("route:application").disconnectOutlet({parentView:"application",outlet:"modal"})
const[t]=document.getElementsByClassName("web-navigation")
t.removeAttribute("aria-hidden")}cursorTrapping(e){const t=document.querySelector(".social-dialog-container")
t&&!t.contains(e.target)&&(e.preventDefault(),t.focus())}teardownAX(){document.body.removeEventListener("focus",this.cursorTrapping,{capture:!0})
const e=document.querySelector(".profile-image")
e&&e.focus(),this.accessibility.setAriaHiddenToContent(!1)}open(e,t){const i=document.createElement("div")
i.className="scrollbar-measure",document.body.appendChild(i)
const r=document.querySelector(".scrollbar-measure").offsetWidth-document.querySelector(".scrollbar-measure").clientWidth
r>0&&(document.body.style.paddingRight=`${r}px`),document.body.classList.add("modal-open")
const n={into:"application",outlet:"modal"}
if(Ember.isPresent(t)){const i=Ember.getOwner(this).lookup(`controller:${e}`)
i.set("model",t),n.controller=i}Ember.set(this,"isModalOpen",!0)
Ember.getOwner(this).lookup("route:application").openApplicationModal(e,n),Ember.run.scheduleOnce("afterRender",this,this.setupAX)
const[o]=document.getElementsByClassName("web-navigation")
o.setAttribute("aria-hidden","true"),this.accessibility.setAriaHiddenToContent(!0)}},u=p(s.prototype,"fastboot",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(s.prototype,"accessibility",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(s.prototype,"close",[n],Object.getOwnPropertyDescriptor(s.prototype,"close"),s.prototype),p(s.prototype,"cursorTrapping",[o],Object.getOwnPropertyDescriptor(s.prototype,"cursorTrapping"),s.prototype),p(s.prototype,"teardownAX",[l],Object.getOwnPropertyDescriptor(s.prototype,"teardownAX"),s.prototype),p(s.prototype,"open",[a],Object.getOwnPropertyDescriptor(s.prototype,"open"),s.prototype),s)
e.default=m})),define("desktop-music-app/services/music-artwork-config-cache",["exports","@amp/ember-ui-media-artwork/services/music-artwork-config-cache"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/music-features",["exports","desktop-music-app/config/environment"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o="music-app-pref:"
let l=(i=Ember.inject.service,r=class extends Ember.Service{constructor(...e){var t,i,r,o
super(...e),t=this,i="fastboot",o=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}getByKey(e){if(this.fastboot.isFastBoot)return!1
const i=o+Ember.String.dasherize(e),r=localStorage.getItem(i)
return Ember.isEmpty(r)?t.default.MUSIC.FEATURES[e]:"true"===r}get allFeatures(){return t.default.MUSIC.FEATURES}setByKey(e,t){if(this.fastboot.isFastBoot)return
const i=o+Ember.String.dasherize(e)
localStorage.setItem(i,!!t)}},a=r.prototype,s="fastboot",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(a,s,p),p=null),n=p,r)
var a,s,u,c,d,p
e.default=l})),define("desktop-music-app/services/musickit-data",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/feature-flags","desktop-music-app/utils/date-time","desktop-music-app/utils/media-type","desktop-music-app/utils/musickit-data","desktop-music-app/services/local-state","desktop-music-app/utils/playback","desktop-music-app/utils/constants"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.flattenSerializedRelationships=D,e.default=e.ALBUM_FIELDS=e.LIBRARY_SEARCH_TYPES=e.SEARCH_TYPES=void 0
const j="activities,albums,apple-curators,artists,curators,editorial-items,music-movies,music-videos,playlists,songs,stations,tv-episodes,uploaded-videos,record-labels"
e.SEARCH_TYPES=j
const T="library-albums,library-artists,library-playlists,library-songs"
e.LIBRARY_SEARCH_TYPES=T
const M=Array.from(s.SEARCH_CATEGORY_NAME_MAP.values()),C={"fields[albums]":["artistName","artistUrl","artwork","contentRating","editorialArtwork","name","playParams","releaseDate","url"]}
e.ALBUM_FIELDS=C
let x=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service("social-profile"),b=Ember.inject.service,f=Ember.inject.service("locale"),h=Ember.inject.service,g=class extends Ember.Service{constructor(...e){super(...e),S(this,"fastboot",y,this),S(this,"mediaApi",v,this),S(this,"musickit",k,this),S(this,"localState",w,this),S(this,"socialProfileService",E,this),S(this,"storefront",_,this),S(this,"localeService",P,this),S(this,"user",O,this)}get api(){return this.fastboot.isFastBoot?this.mediaApi._instance:this.musickit.instance.api}languagesForStorefront(e){return this.api.storefront(e)}defaultQueryParams(){let e
return e="web",{l:this.localeService.locale,platform:"web"}}async groupingByName(e){return this.api.grouping({name:e,...this.defaultQueryParams(),"omit[resource:artists]":"relationships",include:{albums:"artists",songs:"artists","music-videos":"artists"},extend:["editorialArtwork","artistUrl"],"fields[artists]":["name","url","artwork","editorialArtwork"],"art[url]":"f"})}async groupingRadioByName(e){const t=this.user.isSubscribed?"subscriber":"nonsubscriber"
return this.api.grouping({name:e,...this.defaultQueryParams(),include:{stations:"events","station-events":"curator"},extend:["editorialArtwork"],tabs:t,"art[url]":"f"})}async grouping(e){return this.api.grouping(e,{...this.defaultQueryParams(),extend:["editorialArtwork","artistUrl"],"omit[resource:artists]":"relationships",include:{groupings:"curator",albums:"artists",songs:"artists","music-videos":"artists"},"fields[artists]":["name","url","artwork"]})}async groupingByGenre(e){return this.api.grouping({...this.defaultQueryParams(),genre:e})}async collectionForPagination(e,t){return await this.api.collection(0,e,null,null,t)}async curator(e){return this.api.curator(e,{...this.defaultQueryParams(),include:["grouping","playlists"],extend:["editorialArtwork"],...C,"art[url]":"f"})}async curatorPlaylists(e){return this.api.curatorRelationship(e,"playlists",{...this.defaultQueryParams()},{includePagination:!0})}async getCharts(e,t,i){let r
return r=t||34,this.api.charts(e,{...i,...this.defaultQueryParams(),limit:50,genre:r,include:"tracks",with:["cityCharts","dailyGlobalTopCharts"],extend:["artistUrl"],...C,"fields[playlists]":[...C["fields[albums]"],"curatorName"]},{includePagination:!0})}async personalRecommendations(e,t={},i={}){return this.api.personalRecommendations(e,{...t,...this.defaultQueryParams()},i)}async refreshPersonalRecommendation(e,t={}){return this.api.refreshPersonalRecommendation(e,{...t,...this.defaultQueryParams()})}async storefrontRecommendations(e,t={},i={}){return this.api.recommendations(e,{...t,...this.defaultQueryParams()},i)}async personalRecommendationView(e,t,i={}){return i.limit={contents:100},this.socialProfileService.isSocialEnabled&&this.user.isOnboarded&&(i.with=["social","friendsMix"]),i.timezone=(0,r.getISOTimezoneOffset)(),this.api.personalRecommendationView(e,t,{...i,...this.defaultQueryParams()},{includePagination:!0,reload:!0})}getLibraryAlbums(e){const t={...this.defaultQueryParams(),...e,include:{"library-albums":["artists"],"library-artists":["catalog"],albums:["artists"]},fields:{artists:["name","url"]},...C,includeOnly:["catalog","artists"]}
return this.api.library.albums(void 0,t,{includePagination:!0})}getLibrarySongs(e){return this.api.library.songs(void 0,{...e,...this.defaultQueryParams()},{includePagination:!0})}async getAlbum(e){const t=await this.api.album(e,{...this.defaultQueryParams(),"omit[resource]":"autos",include:["tracks","artists","record-labels"],"include[songs]":["artists","composers"],"include[music-videos]":["artists","composers"],extend:["offers","popularity","editorialVideo"],views:["appears-on","more-by-artist","related-videos","other-versions","you-might-also-like","video-extras","audio-extras"],"fields[artists]":["name","url"],"fields[albums:albums]":[...C["fields[albums]"]],"fields[record-labels]":["name","url"],"extend[albums]":"editorialArtwork","art[url]":"f"})
if(this.musickit.isAuthenticated&&this.storefront.isMyStorefront)try{await this.getAlbumLibraryData(t)}catch(i){}return t}async getAlbumLibraryData(e){await this.api.album(e.id,{...this.defaultQueryParams(),"omit[resource]":"autos","fields[albums]":["inLibrary"],relate:"library"},{reload:!0}).then((t=>{var i
this.localState.unset(e.id,l.TYPE_LIBRARY),Ember.set(e,"inLibrary",null==t?void 0:t.inLibrary),Ember.set(e,"library",null==t||null===(i=t.library)||void 0===i?void 0:i[0])})),await this.getTracksLibraryData(e.tracks)}async getAlbumTracks(e,t){return this.api.albumRelationship(e,"tracks",{...t,...this.defaultQueryParams()})}async getTopChartsGenres(){return this.api.genres(this.defaultQueryParams())}async getArtist(e){return this.api.artist(e,{...this.defaultQueryParams(),"omit[resource]":"autos",views:["featured-release","full-albums","appears-on-albums","featured-albums","featured-on-albums","singles","compilation-albums","live-albums","latest-release","top-music-videos","similar-artists","top-songs","playlists","more-to-hear","more-to-see"],extend:["artistBio","bornOrFormed","editorialArtwork","editorialVideo","isGroup","origin","hero"],"extend[playlists]":["trackCount"],"omit[resource:songs]":"relationships","fields[albums]":[...C["fields[albums]"],"trackCount"],limit:{"artists:top-songs":20}})}async getArtistView(e,t,i){return this.api.artistView(e,t,{extend:["artistUrl"],"include[songs]":["artists","composers"],...i,...this.defaultQueryParams()},{includePagination:!0})}async getArtistStation(e){return this.api.artist(e,{...this.defaultQueryParams(),include:["default-playable-content"]})}async getStation(e){return this.api.station(e,{...this.defaultQueryParams(),extend:["editorialArtwork"],"art[url]":"f"})}async getMyStation(){return this.api.station(void 0,{...this.defaultQueryParams(),"filter[identity]":"personal"})}async recentlyPlayedRadioStations(){return this.api.recentRadioStations({...this.defaultQueryParams(),"art[url]":"f"},{reload:!0})}isInLibrary(e){if(!e||!e.id)return!1
const t=this.localState.get(e.id,l.TYPE_LIBRARY)
return t!==l.ITEM_WAS_DELETED&&(t===l.ITEM_WAS_ADDED||this.isLibraryItem(e)||Ember.get(e,"inLibrary")||Ember.get(e,"model.inLibrary")||!1)}isLibraryItem(e){return e&&e.id&&((0,o.isLibraryLockupType)(e)||Ember.get(e,"isLibrary")||Ember.get(e,"model.isLibrary")||Ember.get(e,"playParams.isLibrary")||Ember.get(e,"model.playParams.isLibrary"))||!1}getLibraryAlbum(e){const t={...this.defaultQueryParams(),include:{"library-albums":["artists","tracks"],"library-artists":["catalog"],albums:["artists","tracks"]},fields:{artists:["name","url"]},includeOnly:["catalog","artists","tracks"]}
return this.api.library.album(e,t)}getLibraryAlbumTracks(e,t){return this.api.library.albumRelationship(e,"tracks",{...t,...this.defaultQueryParams()})}async getMultiplex(e){return this.api.multiplex(e,{...this.defaultQueryParams()})}async getMusicVideo(e){return this.api.musicVideo(e,{...this.defaultQueryParams(),extend:["artistUrl"],include:["artists"],fields:{artists:["name","url"]},views:["more-by-artist","more-in-genre"]})}async getTVEpisode(e){return this.api.tvEpisode(e,{...this.defaultQueryParams(),extend:["credits"],views:["other-episodes","music-artists","playlists"],include:["show"],limit:{"tv-episodes:other-episodes":25}})}async getShow(e){return this.api.tvShow(e,{...this.defaultQueryParams(),include:["tv-seasons","grouping"],extend:["editorialArtwork"]})}async getTVSeasons(e){return this.api.tvSeasons(e,{...this.defaultQueryParams(),"fields[tv-episodes]":["name","artwork","previews","url","description","episodeNumber","episodeSubNumber","episodeSeasonNumber","kind","offers"]})}async getMusicMovie(e){return this.api.musicMovie(e,{...this.defaultQueryParams(),views:["playlists","music-artists","more-in-genre","viewers-also-bought","cross-merchandise"],extend:["editorialArtwork"],...C})}async getPlaylist(e,t={}){const i=await this.api.playlist(e,{...this.defaultQueryParams(),"omit[resource]":"autos",views:["featured-artists","contributors"],extend:["artistUrl","composerUrl","trackCount","editorialVideo"],include:["tracks"],"include[playlists]":["curator"],"include[songs]":["artists","composers"],"fields[artists]":["name","url","artwork"],"art[url]":"f","meta[playlists:tracks]":"contributors",...t})
return this.musickit.isAuthenticated&&this.storefront.isMyStorefront&&(this.api.playlist(i.id,{...this.defaultQueryParams(),"omit[resource]":"autos","fields[playlists]":["inLibrary"],relate:"library"},{reload:!0}).then((e=>{var t
this.localState.unset(i.id,l.TYPE_LIBRARY),Ember.set(i,"inLibrary",null==e?void 0:e.inLibrary),Ember.set(i,"library",null==e||null===(t=e.library)||void 0===t?void 0:t[0])})),this.getTracksLibraryData(i.tracks)),i}async createPlaylist(e,t){const i=t.map((e=>e.id))
return this.api.library.createPlaylist({name:e,tracks:i})}async getPlaylistTracks(e,t){const i=await this.api.playlistRelationship(e,"tracks",{...t,...this.defaultQueryParams()})
return this.musickit.isAuthenticated&&await this.getTracksLibraryData(i),i}getLibraryPlaylist(e){return this.api.library.playlist(e,{...this.defaultQueryParams(),"include[library-playlists]":["catalog","tracks"],"fields[playlists]":["curatorName","playlistType","name","artwork","url"],"include[library-songs]":["catalog"],"fields[songs]":["artistUrl"]})}async getLibraryPlaylists(e){return this.api.library.playlists(null,{...this.defaultQueryParams(),"fields[playlists]":["lastModifiedDate"],...e},{reload:!0})}getLibraryPlaylistTracks(e,t){return this.api.library.playlistRelationship(e,"tracks",t)}getRecentlyAdded(e){const t={...this.defaultQueryParams(),include:{"library-albums":["artists"],"library-artists":["catalog"]},fields:{artists:["url"]},...C,includeOnly:["catalog","artists"],...e}
return this.api.library.recentlyAdded(t,{reload:!0,includePagination:!0})}async addToLibrary(e,i=(()=>{})){try{const t=(0,n.getCatalogType)(e)
if(await this.api.addToLibrary({[t]:[e.id]}),i(e.id),this.localState.set(e.id,l.TYPE_LIBRARY,l.ITEM_WAS_ADDED),"albums"===e.type){const t=e.tracks||[]
for(const e of t)this.localState.set(e.id,l.TYPE_LIBRARY,l.ITEM_WAS_ADDED)}"playlists"===e.type&&this.musickit.libraryChanged()}catch(r){throw(0,t.log)("Musickit Data Util: Error add to library: ",r),r}}async deleteFromLibrary(e){return this.api.library.remove(e)}getLibraryArtists(e){const t={...this.defaultQueryParams(),include:["catalog"],...e}
return this.api.library.artists(void 0,t,{includePagination:!0})}getLibraryArtist(e){return this.api.library.artist(e,this.defaultQueryParams)}async getLibraryPlaylistFolders(){try{let e=[],t=()=>this.api.library.playlistFolderChildren("p.playlistsroot",{...this.defaultQueryParams(),fields:["name","canDelete","canEdit"]},{includePagination:!0})
for(;t;){const i=await t()
e=[...e,...i.data],t=i.next}return this.loadFoldersChildren(e)}catch{return[]}}async loadFoldersChildren(e){const t=await Promise.all(e.map((async e=>{if("library-playlist-folders"!==e.type)return null
try{return await this.api.library.playlistFolderChildren(e.id,this.defaultQueryParams())}catch{return[]}})))
let i=-1
for(const r of e)i++,"library-playlist-folders"===r.type&&(r.children=await this.loadFoldersChildren(t[i]))
return e}getArtistLibraryAlbums(e){const t={...this.defaultQueryParams(),include:{"library-albums":["artists","tracks"],"library-artists":["catalog"]},fields:{artists:["url"]},includeOnly:["catalog","artists"]}
return this.api.library.artistRelationship(e,"albums",t)}musicSummarySearch(){return this.api.musicSummarySearch({...this.defaultQueryParams(),period:"year",fields:{"music-summaries":["period","year"]}})}async getRoomById(e,t={}){return this.api.room(e,{...this.defaultQueryParams(),"omit[resource:artists]":"relationships","include[songs]":["artists","composer"],"include[albums]":["artists","composer"],...C,...t,extend:{albums:"artistUrl"}})}async getSortedRoomContentById(e,t={}){return this.api.roomContents(e,{...this.defaultQueryParams(),sort:t},{includePagination:!0})}async getMultiRoomById(e){return this.api.multiroom(e,{...this.defaultQueryParams(),extend:["editorialArtwork","uber","lockupStyle"]})}async getPost(e){const t={...this.defaultQueryParams(),include:["artists","curator"]}
return e.match(/[A-z]/)?t.filter={post:e}:t.ids=e,this.api.resource("catalog","contents",null,t)}getCatalogContents(e,t={}){const i=Array.isArray(e)?"contents":""
return this.api.collection("catalog",i,null,{ids:e,...this.defaultQueryParams(),...t})}getLibraryContents(e,t={}){return this.api.library.collection("",null,{ids:e,extend:["inLibrary"],...this.defaultQueryParams(),...t})}async getLibraryRelationship(e,t){return this.api.collection("catalog","",null,{...this.defaultQueryParams(),"omit[resource]":"autos",[`ids[${t}]`]:e,relate:"library",fields:["inLibrary"]},{reload:!0})}async getContents(e,t={}){if(e&&e.length&&e.every((e=>"string"==typeof e)))return this.getCatalogContents(e,t)
let i=e
Array.isArray(e)||(i=Object.entries(e).reduce(((e,[t,i])=>{for(const r of i)e.push({type:t,id:r})
return e}),[]))
const r={},n={}
for(const a of i){const e=a.type,t=/^library-/.test(e)?n:r,i=t[e]||[]
t[e]=[...i,a.id]}const o=Object.keys(r).length?await this.getCatalogContents(r,t):[],l=Object.keys(n).length?await this.getLibraryContents(n,t):[]
return i.map((e=>o.find((t=>t.type===e.type&&t.id===e.id))||l.find((t=>t.type===e.type&&t.id===e.id))))}async rating(e){try{(0,t.log)("Musickit Service - rating for content",e)
const i=await this.api.rating(e,this.defaultQueryParams())
return null!=i&&i.value?i.value:i}catch(i){(0,t.log)("Error Musickit Service - rating for content",i)}}async ratings(e){try{(0,t.log)("Musickit Service - rating for content",e)
const i=await this.api.ratings(e,this.defaultQueryParams())
return null!=i&&i.value?i.value:i}catch(i){(0,t.log)("Error Musickit Service - rating for content",i)}}async putRating(e,t){return this.api.putRating(e,t)}async deleteRating(e){return this.api.deleteRating(e)}async getActivityById(e){return this.api.activity(e,{...this.defaultQueryParams(),include:["grouping"],...C,extend:["editorialArtwork"],"art[url]":"f"})}async getOnboardingLabels(){return await this.api.tastePreferences()}async saveTastePreferences(e){return await this.api.saveTastePreferences(e)}socialBadgingMap(e={},t={}){return this.api.socialBadgingMap(e,t)}personalSocialProfile(){const e={...this.defaultQueryParams()}
return delete e.l,this.api.personalSocialProfile({...e,extend:"isOnboarded"})}async socialProfileByHandle(e){const t={...this.defaultQueryParams(),filter:{handle:[e]},"art[url]":"c"}
return await this.api.socialProfile(void 0,t)}async socialProfiles(e){const t=await this.api.socialProfiles(e,{...this.defaultQueryParams(),"art[url]":"c"})
return t.forEach((e=>{e.avatarArtwork=e.artwork})),t}editPlaylist(e,t){this.api.library.editPlaylist(e,t,this.defaultQueryParams())}async getSearchHints(e,t={}){const i=await this.api.searchSuggestions(e,{...this.defaultQueryParams(),types:"albums,artists,songs,playlists,music-videos,activities,tv-episodes,editorial-items,stations,record-labels",kinds:"terms,topResults",omit:{resource:"autos"},...C,limit:15,...t})
return{terms:i.suggestions.filter((e=>"terms"===e.kind)),topResults:i.suggestions.filter((e=>"topResults"===e.kind)).map((e=>e.content))}}async getTracksLibraryData(e){null!=e&&e.length&&this.musickit.isAuthenticated&&await this.api.catalogResources([{type:"songs",id:e.map((e=>e.id))}],{...this.defaultQueryParams(),"omit[resource]":"autos",fields:["inLibrary"],relate:"library"},{reload:!0}).then((t=>{e.forEach((e=>{var i
this.localState.unset(e.id,l.TYPE_LIBRARY)
const r=t.find((t=>t.id===e.id))
Ember.set(e,"inLibrary",(null==r?void 0:r.inLibrary)||!1),Ember.set(e,"library",null==r||null===(i=r.library)||void 0===i?void 0:i[0])}))})).catch((()=>{(0,t.error)("failed library request",e)}))}async searchWithQuery(e){return this.api.searchQuery({...this.defaultQueryParams(),...e})}searchLibrary(e){if(this.fastboot.isFastBoot)return Promise.resolve({term:e,bubbles:[]})
const t={...this.defaultQueryParams(),types:T,limit:25,"art[url]":"f"}
return this.searchWithTermAndParams(this.api.library,e,t,{includePagination:!0,reload:!0})}async searchAppleMusic(e,t){let i
this.user.isLoggedIn&&(i=await this.api.socialSearch(e,{...this.defaultQueryParams(),types:["playlists","social-profiles"],limit:25,with:["serverBubbles","lyricSnippet"],"art[url]":"f","art[social-profiles:url]":"c"}))
const r={...this.defaultQueryParams(),types:"activities,albums,apple-curators,artists,curators,editorial-items,music-movies,music-videos,playlists,songs,stations,tv-episodes,uploaded-videos,record-labels",limit:25,"relate[editorial-items]":"contents","include[editorial-items]":"contents","include[albums]":"artists","include[songs]":"artists","include[music-videos]":"artists",extend:["artistUrl"],"fields[artists]":["url","name","artwork"],...C,with:["serverBubbles","lyricHighlights"],"art[url]":"f","omit[resource]":"autos"},n=await this.searchWithTermAndParams(this.api,e,{...r,...t},{includePagination:!0})
if(i&&Object.keys(i).length){!n.bubbles.find((e=>"topResults"===e.name))&&i.top&&n.bubbles.unshift({name:"topResults",hintEntity:"topResults",isSongList:!1,results:[]})
!n.bubbles.find((e=>"musicPlaylist"===e.name))&&i.playlist&&n.bubbles.push({name:"musicPlaylist",hintEntity:"musicPlaylist",isSongList:!1,results:[]}),i.profile&&n.bubbles.push({name:"user",results:i.profile}),n.bubbles=n.bubbles.map((e=>("topResults"===e.name&&e.results.push(...i.top),"musicPlaylist"===e.name&&e.results.push(...i.playlist),e)))}return n}searchWithTermAndParams(e,t,i,r={}){if(t)return e.search(t,i,{includePagination:!1,...r}).then((e=>{let i=[]
const r=e.meta||{}
return Object.keys(e).forEach((t=>{var r,o
const l={},u=null!==(r=e[t])&&void 0!==r&&r.data?null===(o=e[t])||void 0===o?void 0:o.data:e[t]
if(!(u&&Array.isArray(u)&&(l.results=u.map((e=>{let t=e
if(e.serialize){t=e.serialize().data
const i=D(t.relationships)
t={...i,...t.attributes,...i,kind:(0,n.getKind)(e),type:t.type,id:t.id,_meta:e._meta}}else t={...t,kind:(0,n.getKind)(e)}
return t.rawJSON=(0,a.generateRawJSON)(t),t})),l.results.length<=0))){if(e[t].next&&(l.next=e[t].next),t.includes("library-")){const e=t.replace("library-","")
l.name=s.SEARCH_BUBBLES_HEADER_MAP.get(e)}else l.name=s.SEARCH_CATEGORY_NAME_MAP.get(t)
l.results&&l.name&&i.push(l)}})),i=i.sort(((e,t)=>M.indexOf(e.name)>M.indexOf(t.name))),{term:t,bubbles:i,meta:r}}))}async getMarketingItems(e){try{return await this.api.upsellMarketingItems(e)}catch(t){}}async getRecordLabel(e){return this.api.recordLabel(e,{...this.defaultQueryParams(),limit:{"record-labels:top-releases":25,"record-labels:latest-releases":25},...C,views:["top-releases","latest-releases"]})}async getRecordLabelView(e,t){if(!["top-releases","latest-releases"].includes(t))return
const i={...this.defaultQueryParams(),limit:{},...C,views:[t]}
i.limit[`record-labels:${t}`]=100
return(await this.api.recordLabel(e,i))[t]}async getLyricSharingSnippet(e,t,i,r,n,o=!1){const l={...this.defaultQueryParams(),...r&&{tk:r},ts:t,te:i,l:n,with:["album",o&&"bypassTkCheck"],"omit[resource]":"autos"}
try{return await this.api.lyricSnippet(e,l)}catch(a){}}async getTracksForItems(...e){if(null==e||!e.length)return[]
const t=[]
for(const i of e)if("song"===(0,n.getKind)(i))t.push(i)
else if(i.tracks&&i.tracks.every((e=>"song"===(0,n.getKind)(e))))t.push(...i.tracks)
else if(["album","playlist"].includes((0,n.getKind)(i)))try{const e={albums:"getAlbumTracks","library-albums":"getLibraryAlbumTracks",playlists:"getPlaylistTracks","library-playlists":"getLibraryPlaylistTracks"}[i.type]
let r=[]
this[e]&&(r=await this[e](i.id,{...this.defaultQueryParams(),"omit[resource]":"autos",fields:["id"]})),t.push(...r)}catch{}return t}},y=z(g.prototype,"fastboot",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(g.prototype,"mediaApi",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(g.prototype,"musickit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(g.prototype,"localState",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(g.prototype,"socialProfileService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(g.prototype,"storefront",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(g.prototype,"localeService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(g.prototype,"user",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g)
function D(e){return Object.entries(e||{}).reduce(((e,[t,{data:i}])=>(e[t]=i.map((e=>({...e,...e.attributes}))),e)),Object.create(null))}e.default=x})),define("desktop-music-app/services/musickit-social",["exports"],(function(e){var t,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let n=(t=Ember.inject.service,i=class extends Ember.Service{constructor(...e){var t,i,n,o
super(...e),t=this,i="musickitData",o=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}getSocialRelationships(){return this.musickitData.socialBadgingMap()}},o=i.prototype,l="musickitData",a=[t],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,l,c),c=null),r=c,i)
var o,l,a,s,u,c
e.default=n})),define("desktop-music-app/services/musickit-user",["exports","desktop-music-app/utils/logger","desktop-music-app/utils/library-playlists","desktop-music-app/utils/musickit","ember-lifeline","desktop-music-app/config/environment"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H
function V(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function K(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LIBRARY_TAB_STATE=void 0
const{LIBRARY_CHANGE_DELAY_FOR_REFRESH:W}=o.default.APP,Y="music-app-library:show-made-for-you-",q="music-app-library:tab-state-"
e.LIBRARY_TAB_STATE=q
let G=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember._tracked,f=Ember._tracked,h=Ember._tracked,g=Ember._tracked,y=Ember._tracked,v=Ember._tracked,k=Ember._tracked,w=Ember._tracked,E=Ember.computed.readOnly("musickit.isAuthenticated"),_=Ember.computed.readOnly("musickit.instance.restrictedEnabled"),P=class extends Ember.Service{constructor(...e){super(...e),V(this,"musickit",O,this),V(this,"musickitData",S,this),V(this,"storefront",z,this),V(this,"translation",j,this),V(this,"router",T,this),V(this,"locale",M,this),V(this,"fastboot",C,this),V(this,"profileRelationships",x,this),V(this,"isCloudLibraryEnabled",D,this),V(this,"cloudLibraryIsLoaded",L,this),V(this,"shouldDisplayPrivacyLink",A,this),V(this,"isSubscribed",I,this),V(this,"profile",N,this),V(this,"socialProfileData",R,this),V(this,"playlistFolders",F,this),V(this,"_showMadeForYou",U,this),V(this,"isLoggedIn",B,this),V(this,"restrictExplicitContent",H,this)}get totalPlaylistFolders(){return this.isLoggedIn?this.playlistFolders.length:0}get playlists(){return(0,i.collectPlaylists)(this.playlistFolders)}init(){super.init(...arguments),this.fastboot.isFastBoot||Ember.addObserver(this,"musickit.isAuthenticated",this,"handleStorefrontChange",!0)}get userDSID(){var e
return(null===(e=this.musickit.api)||void 0===e?void 0:e.userToken)||0}get isOnboarded(){var e
return null===(e=this.socialProfileData)||void 0===e?void 0:e.isOnboarded}checkDiscoverFriendsForProfile(){}login(){}async userAuthStatusChanged(){await this.getSubscriptionInfo(),this.notifyPropertyChange("userDSID")}async getSubscriptionInfo(){if(this.musickit.isAuthenticated)try{const e=await this.musickit.instance.me()
this._setMeOnMusicKit(e),this._getSocialProfile()
const t=await this.musickit.instance.shouldDisplayPrivacyLink()
return Ember.set(this,"shouldDisplayPrivacyLink",t),this.musickit.instance.playbackMode=(0,r.default)().PlaybackMode.FULL_PLAYBACK_ONLY,e.subscription}catch(e){return{}}else Ember.set(this,"isSubscribed",!1)}_setMeOnMusicKit({attributes:e,subscription:t}){Ember.set(this,"subscription",t),Ember.set(this,"profile",e),Ember.set(this,"isSubscribed",t.active),this.storefront.setSubscriptionStorefront(t.storefront),this.storefront.storefrontId||(this.musickit.instance.storefrontId=t.storefront),this.musickit.updateConsumerId()}async _getSocialProfile(){const e=await this.musickitData.personalSocialProfile()
e&&(this.socialProfileData=e)}async deleteUserPlaylist(e){if(this.musickit.isAuthenticated&&!this.shouldDisplayPrivacyLink)try{await this.musickitData.deleteFromLibrary(e)}catch(r){(0,t.log)("error deleting musickit playlist: ",r)}finally{const{entries:t}=(0,i.removePlaylistById)(this.playlistFolders,e.playlists[0])
this.playlistFolders=t}}async getUserPlaylistFolders(){const{musickit:e}=this
if(!e.isAuthenticated||this.shouldDisplayPrivacyLink)return[]
try{const e=await this.musickitData.getLibraryPlaylistFolders()
this.playlistFolders=(0,i.transformPlaylistsToPojo)(e)}catch(t){this.playlistFolders=[]}return this.playlistFolders.filter((e=>!!e.name))}async refreshUserPlaylistFolders(e=0){const t=this.playlistFolders.length,i=await this.getUserPlaylistFolders()
e<3&&t===i.length&&(0,n.runTask)(this,this.refreshUserPlaylistFolders,e+1,W*(e+1))}async createUserPlaylist(){const{musickit:e}=this
if(e.isAuthenticated&&!this.shouldDisplayPrivacyLink){const e=await this.musickitData.createPlaylist(...arguments)
return Ember.set(this,"playlistFolders",[...this.playlistFolders,e]),e}}async appendTracksToPlaylist(e,t){if(this.musickit.isAuthenticated&&!this.shouldDisplayPrivacyLink){const i=e.map((e=>({id:e.id,type:e.type||"songs"})))
this.musickitData.api.library.appendTracksToPlaylist(t,i)}}updateUserPlaylistName(e,t){const r=(0,i.findPlaylistById)(this.playlistFolders||[],e)
r&&Ember.set(r,"name",t)}async handleStorefrontChange(){if(!this.isLoggedIn)return
const e=await this.getSubscriptionInfo(),{storefront:t}=e,i=this.storefront.resolvedStorefront
if(this.storefront.updateStorefrontId(t),this.storefront.setSubscriptionStorefront(t),t&&t!==i){await this.translation.loadAppTranslations()
const{currentURL:e}=this.router
if(e){const i=new RegExp(`^/[a-z]{${t.length}}/`),r=e.replace(i,`/${t}/`),{naiveQueryParams:n}=this.router
this.router.replaceWith(r,n)}}}get libraryTabState(){const e=`${q}${this.userDSID}`
return JSON.parse(localStorage.getItem(e))}set libraryTabState(e){const t=`${q}${this.userDSID}`
localStorage.setItem(t,JSON.stringify(e))}get showMadeForYou(){var e
if(!this.isSubscribed)return!1
if(!0===(null===(e=this.libraryTabState)||void 0===e?void 0:e["library.made-for-you.index"]))return!0
const t=`${Y}${this.userDSID}`,i=localStorage.getItem(t)||this._showMadeForYou
return"string"==typeof i?"true"===i:i}set showMadeForYou(e){if(!this.isSubscribed)return!1
const t=`${Y}${this.userDSID}`
localStorage.setItem(t,e),this._showMadeForYou=e}loadUserData(){this.profileRelationships.loadProfileRelationships()}async updateSubscriptionOffers(){try{const e=await this.musickit.instance.musicSubcriptionOffers()
Ember.set(this,"subscriptionOffers",e)}catch(e){}}getSubscriptionOffersForStorefront(){}isRestrictedContentRating(e,t){return{kind:e,rating:t}}onParentalRatingChange(){}willDestroy(){super.willDestroy(...arguments),Ember.removeObserver(this,"musickit.isAuthenticated",this,"handleStorefrontChange")}},O=K(P.prototype,"musickit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=K(P.prototype,"musickitData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=K(P.prototype,"storefront",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=K(P.prototype,"translation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=K(P.prototype,"router",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=K(P.prototype,"locale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=K(P.prototype,"fastboot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=K(P.prototype,"profileRelationships",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=K(P.prototype,"isCloudLibraryEnabled",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=K(P.prototype,"cloudLibraryIsLoaded",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=K(P.prototype,"shouldDisplayPrivacyLink",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(P.prototype,"isSubscribed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=K(P.prototype,"profile",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=K(P.prototype,"socialProfileData",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=K(P.prototype,"playlistFolders",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=K(P.prototype,"_showMadeForYou",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=K(P.prototype,"isLoggedIn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=K(P.prototype,"restrictExplicitContent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P)
e.default=G})),define("desktop-music-app/services/musickit",["exports","desktop-music-app/config/environment","desktop-music-app/config","desktop-music-app/helpers/app-version","ember-lifeline","desktop-music-app/utils/logger","desktop-music-app/utils/constants","ember-inflector","desktop-music-app/utils/musickit","desktop-music-app/utils/media-type","desktop-music-app/utils/playback","desktop-music-app/services/playback","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n,o,l,a,s,u,c,d,p){var m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W,Y,q,G,$,Q,J,X,Z,ee,te,ie,re,ne,oe,le,ae,se,ue,ce,de,pe,me,be,fe,he,ge,ye,ve,ke,we,Ee,_e,Pe,Oe,Se,ze,je,Te,Me,Ce,xe,De,Le,Ae,Ie,Ne,Re,Fe,Ue,Be,He,Ve,Ke,We,Ye,qe,Ge
function $e(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Qe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Je(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.isAOD=et,e.default=void 0
const{COMMERCE_MODAL_OPEN:Xe,LIBRARY_CHANGE_DELAY_FOR_REFRESH:Ze}=t.default.APP
function et(e){var t,i,r
return e.attributes?!(null!==(i=e.attributes)&&void 0!==i&&i.isLive)&&"stations"===(null===(r=e._container)||void 0===r?void 0:r.type):!e.isLive&&"stream"===(null===(t=e.playParams)||void 0===t?void 0:t.format)}let tt=()=>{},it=()=>{},rt={},nt={},ot={HIGH:256},lt={},at={}
const st="music-app-pref:volume-pref-for-user",ut=1,ct=0,dt=e=>{var t,i
const r="music-movies"===(null==e?void 0:e.type)&&(null==e||null===(t=e.movieClips)||void 0===t?void 0:t.length)>0,n="tv-episodes"===(null==e?void 0:e.type)&&(null==e||null===(i=e.previews)||void 0===i?void 0:i.length)>0,o="uploaded-videos"===(null==e?void 0:e.type)&&e.playParams
return r||n||o}
let pt=(m=Ember.inject.service("-document"),b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,y=Ember.inject.service,v=Ember.inject.service,k=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,_=Ember.inject.service,P=Ember.inject.service,O=Ember.inject.service("web-error-dialog"),S=Ember.inject.service,z=Ember.inject.service,j=Ember.inject.service,T=Ember.inject.service("locale"),M=Ember.inject.service,C=Ember._tracked,x=Ember._tracked,D=Ember._tracked,L=Ember._tracked,A=Ember._tracked,I=Ember._tracked,N=Ember._tracked,R=Ember._tracked,F=Ember._tracked,U=Ember._tracked,B=Ember._tracked,H=Ember._tracked,V=Ember._tracked,K=Ember._tracked,W=Ember._tracked,Y=Ember.computed.readOnly("musickitUser.shouldDisplayPrivacyLink"),q=Ember.computed("isAuthenticated","shouldDisplayPrivacyLink"),G=Ember.computed.readOnly("instance.currentPlaybackDuration"),$=Ember.computed.readOnly("instance.currentPlaybackBuffer"),Q=Ember.computed.readOnly("instance.currentPlaybackProgress"),J=Ember.computed.readOnly("instance.currentPlaybackTime"),X=Ember.computed.readOnly("instance.currentPlaybackTimeRemaining"),Z=Ember.computed.readOnly("instance.volume"),ee=Ember.computed.readOnly("musickitUser.isSubscribed"),te=Ember.computed.readOnly("instance.queueIsEmpty"),ie=Ember.computed.readOnly("instance.queue.nextPlayableItem"),re=Ember.computed.readOnly("instance.queue.previousPlayableItem"),ne=class extends(Ember.Service.extend(Ember.Evented)){constructor(){super(...arguments),$e(this,"document",oe,this),$e(this,"fastboot",le,this),$e(this,"storefront",ae,this),$e(this,"upsellBanner",se,this),$e(this,"musickitUser",ue,this),$e(this,"localState",ce,this),$e(this,"mediaApi",de,this),$e(this,"metrics",pe,this),$e(this,"routeHistory",me,this),$e(this,"commerceModalManager",be,this),$e(this,"router",fe,this),$e(this,"modal",he,this),$e(this,"webErrorDialog",ge,this),$e(this,"i18n",ye,this),$e(this,"recoDataPlayContent",ve,this),$e(this,"user",ke,this),$e(this,"localeService",we,this),$e(this,"platform",Ee,this),Qe(this,"instance",null),$e(this,"canSeek",_e,this),$e(this,"canEditPlaybackQueue",Pe,this),$e(this,"canPause",Oe,this),$e(this,"canSetRepeatMode",Se,this),$e(this,"canSetShuffleMode",ze,this),$e(this,"canSkipToMediaItem",je,this),$e(this,"canSkipToNextItem",Te,this),$e(this,"canSkipToPreviousItem",Me,this),$e(this,"playbackState",Ce,this),$e(this,"currentQueueObject",xe,this)
$e(this,"nowPlayingItem",De,this),$e(this,"isShuffled",Le,this),$e(this,"isRepeatOn",Ae,this),$e(this,"isRepeatOne",Ie,this),$e(this,"isRepeatAll",Ne,this),$e(this,"shouldDisplayPrivacyLink",Re,this),Qe(this,"_nextQueueIsShuffled",null),$e(this,"currentPlaybackDuration",Fe,this),$e(this,"currentPlaybackBuffer",Ue,this),$e(this,"currentPlaybackProgress",Be,this),$e(this,"currentPlaybackTime",He,this),$e(this,"currentPlaybackTimeRemaining",Ve,this),$e(this,"currentVolume",Ke,this),$e(this,"hasMusicSubscription",We,this),$e(this,"queueIsEmpty",Ye,this),$e(this,"hasNextItemInQueue",qe,this),$e(this,"hasPreviousItemInQueue",Ge,this)
const e=(0,s.default)()
tt=e.generateEmbedCode||(()=>{}),it=e.configure||(()=>{}),rt=e.Events||{},this.MKError=nt=e.MKError||{},ot=e.PlaybackBitrate||{HIGH:256},lt=e.PlaybackStates||{},at=e.PlayerRepeatMode||{}}async load(){const e=this.mediaApi.getCache(),i=await(this.configure||it)({developerToken:t.default.MEDIA_API.token,app:{name:"Apple Music",build:(0,r.appVersion)(),version:"1.0"},features:["api-data-store","legacy-authenticate-method","-restrict-platforms","disable-bundled-inlibrary","use-storefront-recommendations"],declarativeMarkup:!1,persist:"cookie",sourceType:16,bitrate:ot.HIGH,storefrontId:this.storefront.resolvedStorefront,suppressErrorDialog:!1,apiOptions:{sessionOptions:{fetchOptions:{mode:"cors",credentials:"include"},underlyingStorage:e}}})
this.instance=i,this.playbackState=this.instance.playbackState,this.updateConsumerId(),this.setAuthorizeMethod(this.instance),this.setMusickitEventListeners(),this.addBodyClass()
const o=()=>{(0,n.runTask)(this,(()=>{const e=i.capabilities
this.canSeek=e.canSeek,this.canEditPlaybackQueue=e.canEditPlaybackQueue,this.canPause=e.canPause,this.canSetRepeatMode=e.canSetRepeatMode,this.canSetShuffleMode=e.canSetShuffleMode,this.canSkipToMediaItem=e.canSkipToMediaItem,this.canSkipToNextItem=e.canSkipToNextItem,this.canSkipToPreviousItem=e.canSkipToPreviousItem}))}
o(),(0,n.addEventListener)(this,i,"capabilitiesChanged",o)}addBodyClass(){this.stateIsNone?document.body.classList.add("no-song-loaded"):document.body.classList.remove("no-song-loaded")}get api(){return this.fastboot.isFastBoot?this.mediaApi._instance:this.instance?this.instance.api:void 0}get privacyInformationShouldDisplay(){return!!this.isAuthenticated&&this.shouldDisplayPrivacyLink}setAuthorizeMethod(e){Ember.set(e,"requestUserToken",(()=>this.commerceModalManager.open("signIn")))}setMusickitEventListeners(){const{instance:e}=this;(0,n.addEventListener)(this,e,rt.nowPlayingItemDidChange,this.playbackChanged),(0,n.addEventListener)(this,e,rt.authorizationStatusDidChange,this.authorizationStatusChangeHandler),(0,n.addEventListener)(this,e,rt.playbackTimeDidChange,this.playbackTimeDidChange),(0,n.addEventListener)(this,e,rt.queueItemsDidChange,this.queueItemsDidChange),(0,n.addEventListener)(this,e,rt.nowPlayingItemDidChange,this.nowPlayingItemDidChange),(0,n.addEventListener)(this,e,rt.bufferedProgressDidChange,this.bufferedProgressDidChange),(0,n.addEventListener)(this,e,rt.playbackStateDidChange,this.playbackStateDidChange),(0,n.addEventListener)(this,e,rt.userTokenDidChange,this.userTokenDidChange),(0,n.addEventListener)(this,e,rt.playbackVolumeDidChange,this.volumeDidChange),(0,n.addEventListener)(this,e,rt.shuffleModeDidChange,this.shuffleModeDidChange),(0,n.addEventListener)(this,e,rt.repeatModeDidChange,this.repeatModeDidChange),(0,n.addEventListener)(this,e,rt.mediaPlaybackError,this.handlePlaybackError),(0,n.addEventListener)(this,e,rt.needsGDPRDidChange,this.onNeedsGdprDidChange),(0,n.addEventListener)(this,e,rt.eligibleForSubscribeView,this.onEligibleForSubscribeView)}onNeedsGdprDidChange({needsGDPR:e}){e&&(0,n.runTask)(this,(()=>{this.commerceModalManager.open("gdpr")}),Xe)}onEligibleForSubscribeView({state:e,item:t}){if((0,o.log)("MK.JS onEligibleForSubscribeView",e,t),i.default.NON_SOW_COUNTRIES.includes(this.storefront.resolvedStorefront))return
const r={contentId:null==t?void 0:t.id,contentType:Ember.get(t,"attributes.playParams.kind")};(0,n.runTask)(this,(()=>{this.commerceModalManager.open("contextualUpsell",r)}),Xe)}get playbackController(){return this.instance.playbackController}get stateIsNone(){return this.playbackState===lt.none}get isPlaying(){return this.playbackState===lt.playing}get isLoading(){return this.playbackState===lt.loading||this.playbackState===lt.waiting}get isPaused(){return this.playbackState===lt.paused}get isSeeking(){return this.playbackState===lt.seeking}get isStopped(){return this.playbackState===lt.stopped}get currentTrackId(){var e
return null===(e=this.nowPlayingItem)||void 0===e?void 0:e.id}get currentTrackType(){var e
return null===(e=this.nowPlayingItem)||void 0===e?void 0:e.type}get isAuthenticated(){var e
return null===(e=this.instance)||void 0===e?void 0:e.isAuthorized}get formatMediaTime(){return window.MusicKit.formatMediaTime}async resolveCanonical(e){return window.MusicKit.resolveCanonical(e)}async signIn(){return this.instance.authorize()}async signOut(){return this.nowPlayingItem=null,this.clearConsumerId(),this.localState.clearLocalState(),this.instance.unauthorize()}get userDSID(){return 0}generateMusicKitEmbedCode(e){return tt(e)}nowPlayingItemDidChange({item:e}={}){if((0,o.log)("MK.JS nowPlayingItemDidChange",e),e){const t={...e.attributes,isAOD:et(e)}
this.nowPlayingItem={id:e.id,type:(0,a.pluralize)(e.type),kind:l.AMWEB_TYPE_TO_KIND_MAPPING[e.type],...t}}else this.nowPlayingItem=null}async loadCurrentPlayingArtists(){if(!this.nowPlayingItem)return
const{id:e}=this.nowPlayingItem
let{artists:t}=this.nowPlayingItem
if(!t)try{t=await this.instance.api.songRelationship(e,"artists",{"omit[resource]":"autos",fields:["id","name","url"]}),this.nowPlayingItem.id===e&&Ember.set(this,"nowPlayingItem.artists",t)}catch(i){(0,o.error)("error musickit loading artists for currently playing song: ",i)}return this.nowPlayingItem.artists}async loadCurrentPlayingAlbums(){if(!this.nowPlayingItem)return
const{id:e}=this.nowPlayingItem
let{albums:t}=this.nowPlayingItem
if(!t)try{t=await this.instance.api.songRelationship(e,"albums",{"omit[resource]":"autos",fields:["id","name","url"]}),this.nowPlayingItem.id===e&&Ember.set(this,"nowPlayingItem.albums",t)}catch(i){(0,o.error)("error musickit loading albums for currently playing song: ",i)}return this.nowPlayingItem.albums}bufferedProgressDidChange(){this.notifyPropertyChange("currentPlaybackBuffer")}playbackStateDidChange(){(0,n.debounceTask)(this,"_playbackStateDidChange",120)}_playbackStateDidChange(){this.playbackState=this.instance.playbackState,this.addBodyClass()}_checkUserVolumeSettings(){const e=this.instance.musicUserToken,t=localStorage.getItem(`${st}-${e}`)
let i
i=t?parseFloat(t):.5,this.adjustVolume(i)}adjustVolume(e){this.instance.volume=e}createSeeker(){return this.instance.getNewSeeker()}async setQueue(e){try{const t=this.setFeatureName(e)
"boolean"==typeof this._nextQueueIsShuffled&&(t.shuffleMode=!0===this._nextQueueIsShuffled?ut:ct,this.set("_nextQueueIsShuffled",null)),(0,o.log)("MK.JS SetQueue playParams",t),await this.instance.setQueue(t),Ember.set(this,"currentQueueObject",t)}catch(t){(0,o.log)(`MK.JS SetQueue playParams - Playback Error: ${t}`),this.handlePlaybackError(t)}}async setStationQueue(e){try{let t={url:e.url}
t=this.setFeatureName(t),(0,o.log)("MK.JS setStationQueue playParams",t),await this.instance.setStationQueue(t),Ember.set(this,"currentQueueObject",t)}catch(t){(0,o.log)(`MK.JS SetQueue playParams - Playback Error: ${t}`),this.handlePlaybackError(t)}}handlePlaybackError(e){const{dialog:t,name:i}=e
if("AbortError"===i)return
if(t)return t.present()
const r=this.getErrorMessage(e)
"object"==typeof r&&Object.keys(r).length&&this.webErrorDialog.error(this.getErrorMessage(e))}getErrorMessage(e){const{errorCode:t,description:i,status:r}=e
if(!t&&!r)return
let n,l
switch((0,o.log)("MK Error: ",e),t){case nt.SUBSCRIPTION_ERROR:return this.onEligibleForSubscribeView({item:e.data})
case nt.AUTHORIZATION_ERROR:n=this.i18n.t("FUSE.WEB.ERROR.AuthorizationFailure"),l=this.i18n.t("FUSE.WEB.ERROR.PleaseLogIn")
break
case nt.CONTENT_RESTRICTED:n=this.i18n.t("FUSE.WEB.ERROR.ContentRestricted"),l=this.i18n.t("FUSE.WEB.ERROR.ExplicitContent")
break
case nt.CONTENT_EQUIVALENT:n=this.i18n.t("FUSE.WEB.ERROR.ItemNotAvailableInCountry"),l=this.i18n.t("FUSE.WEB.ERROR.SwitchStorefronts")
break
case nt.CONTENT_UNSUPPORTED:case nt.UNSUPPORTED_ERROR:case nt.CONTENT_UNAVAILABLE:n=this.i18n.t("FUSE.Error.NotSupportedPlaybackOnBrowser.Web"),l=this.platform.isiOS||this.platform.ismacOS?this.i18n.t("FUSE.Error.NotSupportedPlaybackOnBrowser.OpenInMusic"):this.i18n.t("FUSE.Error.NotSupportedPlaybackOnBrowser.OpenInAppleMusic")
break
default:n=this.i18n.t("FUSE.Error.AnErrorOccurred"),l=i||this.i18n.t("FUSE.WEB.ERROR.PleaseTryAgain")}return 0===r&&(n=null,l=this.i18n.t("FUSE.WEB.ERROR.ItemNotAvailableInAppleMusic")),{errorHeader:n,errorMessage:l,errorCode:t}}changeToMediaAtIndex(e){(0,o.log)("MK Play - changeToMediaAtIndex",e),this.instance.changeToMediaAtIndex(e)}changeToMediaItem(e){(0,o.log)("MK Play - changeToMediaItem",e),this.instance.changeToMediaItem(e)}async play(e){if((0,o.log)("MK Play - PlaybackConfig",e),e&&"object"==typeof e){const{container:t,meta:i,items:r=[],selectedTrackIndex:n}=e,o=this._getSelectedItem(r,n)
if(void 0!==e.shuffle&&Ember.set(this,"_nextQueueIsShuffled",e.shuffle),null!=t&&t.playParams&&Object.keys(t.playParams).length>0){const{playParams:e}=t
if(this.currentQueueObject&&this.currentQueueObject[e.kind]===e.id&&this.currentQueueObject[e.kind]!==o.id&&null===this._nextQueueIsShuffled)return void await this.changeToMediaItem(o.id)
await this._setQueueWithContainer(t,n,i)}else r.length>1&r.every((e=>dt(e)))?await this._setQueueMultipleOC(r,n):dt(o)?await this._setQueueOC(o,i):r.length>1?await this._setQueueMultipleItems(r,n):null!=o&&o.playParams?await this._setQueueForItem(o,i):null!=o&&o.url&&await this._setQueueUrl({url:o.url})}try{await this.instance.play()}catch(t){(0,o.log)("MK Error",t),this.handlePlaybackError(t)}}playbackChanged(){this.trigger(d.PLAYBACK_CHANGED_EVENT)}libraryChanged(){(0,n.runTask)(this,this.musickitUser.refreshUserPlaylistFolders,Ze)}async _setQueueForItem(e,t){let i={}
const{playParams:r}=e
if("radioStation"===r.kind){i.station=r.id;(Ember.get(e,"rawJSON.isLive")||Ember.get(e,"isLive"))&&(i.isLive=!0)}else i={[r.kind]:r.id}
return t&&(i.context={...t}),this.setQueue(i)}async _setQueueOC(e,t){const i={[(0,u.getKind)(e)]:e.id}
return t&&(i.context={...t}),this.setQueue(i)}async _setQueueMultipleOC(e,t){const i=e.map((e=>e.id)),r={[{"music-movies":"musicMovie","tv-episodes":"tvEpisodes","uploaded-videos":"uploadedVideos"}[e[0].type]]:i}
return"number"==typeof t&&(r.startWith=t,r.shuffleMode=ct),this.setQueue(r)}get shuffle(){return this.instance.shuffle}set shuffle(e){try{this.instance.shuffle=e}catch(t){if("UNSUPPORTED_ERROR"!==t.name)throw t}}get repeat(){return this.instance.repeatMode}set repeat(e){this.instance.repeatMode=e}toggleRepeat(){let e
switch(this.instance.repeatMode){case 1:e=at.none
break
case 2:e=1
break
default:e=2}this.set("repeat",e)}_getSelectedItem(e,t=0){if(null!=e&&e.length)return e[t||0]}resetPlayback(){this.set("currentQueueObject",null)}async _setQueueMultipleItems(e,t){const i=e.filter((e=>e.playParams)),r=i.length?i[0].playParams.kind:null,n=e.every((e=>{var t
return null==e||null===(t=e.playParams)||void 0===t?void 0:t.isLibrary})),o={["musicVideo"===r?"musicVideos":"songs"]:e.map((e=>{return n?e.id:null!==(t=e.playParams)&&void 0!==t&&t.isLibrary&&e.playParams.catalogId||e.id
var t}))}
return"number"==typeof t&&(o.startWith=t,o.shuffleMode=ct),this.shuffle&&this.set("shuffle",0),this.setQueue(o)}setFeatureName(e){return this.routeHistory.featureName&&(e.featureName=this.routeHistory.featureName),e}async _setQueueWithContainer(e,t,i){const{playParams:r}=e,n={[r.kind]:r.id}
"number"==typeof t&&(n.startWith=t,n.shuffleMode=ct),i&&(n.context={...i}),await this.setQueue(n)}async pause(e){await this.instance.pause(e)}async stop(){await this.instance.stop()}async _setQueueUrl(e){await this.setQueue(e)}async next(){this.skipToNextItem()}async previous(){this.skipToPreviousItem()}async skipToNextItem(){this.instance.skipToNextItem()}async skipToPreviousItem(){this.instance.skipToPreviousItem()}async seek(e){this.instance.seekToTime(e)}getPlaybackConfig(e,t,i,{recommendationData:r,resetsPlayback:n}={}){const o=(0,c.buildPlaybackConfig)(this,{lockup:e,container:t,tracklist:i,recommendationData:r,resetsPlayback:n})
if(i)o.items=i.map((e=>this.toMediaMeta(e)))
else{const t=this.toMediaMeta(e)
o.items=[t]}return t&&t.playParams&&(o.container={playParams:t.playParams}),o}toMediaMeta(e){let t=Ember.get(e,"rawJSON")
if(!t){var i
const r=(null==e||null===(i=e._mjs)||void 0===i?void 0:i.attributes)||[]
t=r.reduce(((t,i)=>(t[i]=e[i],t)),{}),t._mjs={attributes:r}}const r={id:Ember.get(e,"id"),url:Ember.get(e,"url"),playParams:Ember.get(e,"playParams"),type:(0,u.getType)(e),rawJSON:t}
return e.previews&&(r.previews=e.previews),e.movieClips&&(r.movieClips=e.movieClips),r}playbackTimeDidChange(){this.notifyPropertyChange("currentPlaybackProgress"),this.notifyPropertyChange("currentPlaybackTime"),this.notifyPropertyChange("currentPlaybackTimeRemaining"),this.notifyPropertyChange("currentPlaybackDuration")}clearQueue(){this.instance.clearQueue(),Ember.set(this,"currentQueueObject",null),this.instance._playbackController&&(this.instance._playbackController._namedQueue=void 0)}queueItemsDidChange(){this.notifyPropertyChange("queueIsEmpty"),this.notifyPropertyChange("nowPlayingItem")}async authorizationStatusChangeHandler(){this.notifyPropertyChange("isAuthenticated"),await this.musickitUser.userAuthStatusChanged(),this.metrics.funnelEnabled=!this.musickitUser.isSubscribed,this.upsellBanner.toggleBodyClasses(),this.updateAuthBodyClasses(),this.updateConsumerId(),this.updateClientId()}updateAuthBodyClasses(){this.isAuthenticated?this.document.body.classList.remove("not-authenticated"):(this.document.body.classList.add("not-authenticated"),this.document.body.classList.add("no-song-loaded")),this.hasMusicSubscription?this.document.body.classList.remove("not-subscribed"):this.document.body.classList.add("not-subscribed")}userTokenDidChange(){}volumeDidChange(){const e=this.instance.musicUserToken
localStorage.setItem(`${st}-${e}`,this.instance.volume),this.notifyPropertyChange("currentVolume")}shuffleModeDidChange(){const e=this.instance.shuffleMode
this.isShuffled=1===e}repeatModeDidChange(){this.isRepeatOn=this.instance.repeatMode>at.none,this.isRepeatOne=1===this.instance.repeatMode,this.isRepeatAll=2===this.instance.repeatMode}playNext(e){const t=this.setFeatureName(e)
this.instance.playNext(t)}playLater(e){const t=this.setFeatureName(e)
this.instance.playLater(t)}updateConsumerId(){let e
e=this.isAuthenticated?this.hasMusicSubscription?"subscribed":"notSubscribed":"needsAuthentication",this.metrics.addBaseData({isSignedIn:this.isAuthenticated,userType:e,...this.isAuthenticated&&{consumerId:this.instance.cid}})}clearConsumerId(){var e
null!==(e=this.metrics.baseData)&&void 0!==e&&e.consumerId&&delete this.metrics.baseData.consumerId}updateClientId(){this.instance.metricsClientId=this.metrics.getClientId({isSignedIn:this.isAuthenticated})}async createStation(e){const t=this.setFeatureName(e)
return await this.instance.setStationQueue(t)}},oe=Je(ne.prototype,"document",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=Je(ne.prototype,"fastboot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Je(ne.prototype,"storefront",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Je(ne.prototype,"upsellBanner",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=Je(ne.prototype,"musickitUser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=Je(ne.prototype,"localState",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=Je(ne.prototype,"mediaApi",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Je(ne.prototype,"metrics",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Je(ne.prototype,"routeHistory",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Je(ne.prototype,"commerceModalManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Je(ne.prototype,"router",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Je(ne.prototype,"modal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Je(ne.prototype,"webErrorDialog",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Je(ne.prototype,"i18n",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Je(ne.prototype,"recoDataPlayContent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Je(ne.prototype,"user",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Je(ne.prototype,"localeService",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Je(ne.prototype,"platform",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Je(ne.prototype,"canSeek",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=Je(ne.prototype,"canEditPlaybackQueue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=Je(ne.prototype,"canPause",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=Je(ne.prototype,"canSetRepeatMode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=Je(ne.prototype,"canSetShuffleMode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=Je(ne.prototype,"canSkipToMediaItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=Je(ne.prototype,"canSkipToNextItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=Je(ne.prototype,"canSkipToPreviousItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Je(ne.prototype,"playbackState",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=Je(ne.prototype,"currentQueueObject",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=Je(ne.prototype,"nowPlayingItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=Je(ne.prototype,"isShuffled",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=Je(ne.prototype,"isRepeatOn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=Je(ne.prototype,"isRepeatOne",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Je(ne.prototype,"isRepeatAll",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=Je(ne.prototype,"shouldDisplayPrivacyLink",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(ne.prototype,"privacyInformationShouldDisplay",[q],Object.getOwnPropertyDescriptor(ne.prototype,"privacyInformationShouldDisplay"),ne.prototype),Fe=Je(ne.prototype,"currentPlaybackDuration",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=Je(ne.prototype,"currentPlaybackBuffer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Je(ne.prototype,"currentPlaybackProgress",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Je(ne.prototype,"currentPlaybackTime",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Je(ne.prototype,"currentPlaybackTimeRemaining",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=Je(ne.prototype,"currentVolume",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=Je(ne.prototype,"hasMusicSubscription",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=Je(ne.prototype,"queueIsEmpty",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Je(ne.prototype,"hasNextItemInQueue",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=Je(ne.prototype,"hasPreviousItemInQueue",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne)
e.default=pt})),define("desktop-music-app/services/perfkit",["exports","@amp/ember-metrics/services/perfkit"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/personalization-refresh",["exports","desktop-music-app/services/playback","desktop-music-app/config/environment","ember-lifeline"],(function(e,t,i,r){var n,o,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{PLAYBACK_DELAY:a}=i.default.APP
let s=(n=Ember.inject.service,o=class extends(Ember.Service.extend(Ember.Evented)){constructor(...e){var t,i,r,n
super(...e),t=this,i="playback",n=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}init(){super.init(...arguments),this.setupPlaybackRefresh()}refreshFriends(){this.trigger("refresh-friends")}setupPlaybackRefresh(){this.playback.on(t.PLAYBACK_CHANGED_EVENT,this,"performPlaybackRefresh"),Ember._registerDestructor(this,(()=>{this.playback.off(t.PLAYBACK_CHANGED_EVENT,this,"performPlaybackRefresh")}))}performPlaybackRefresh(e=!1){(0,r.runTask)(this,(()=>{this.trigger("refresh")}),e?0:a)}},u=o.prototype,c="playback",d=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(p).forEach((function(e){b[e]=p[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(u,c,b),b=null),l=b,o)
var u,c,d,p,m,b
e.default=s})),define("desktop-music-app/services/pixel-ratio",["exports"],(function(e){var t,i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.computed,n=class extends Ember.Service{constructor(...e){super(...e),a(this,"itunesVersion",o,this),a(this,"platform",l,this),s(this,"_current",null),s(this,"mediaQuery","screen and (-webkit-min-device-pixel-ratio: 2)")}get current(){return this._current?this._current:this.cleanPixelRatio(window.devicePixelRatio)}set current(e){return this._current=e}init(...e){super.init(e),this.setPixelRatio()
window.matchMedia(this.mediaQuery).addListener((()=>{this.setPixelRatio()}))}setPixelRatio(){this.isDestroyed||this.isDestroying||Ember.set(this,"current",this.cleanPixelRatio(window.devicePixelRatio))}cleanPixelRatio(e){return this.platform.isWindows?e<1?1:e>2?2:Math.round(e):e}},o=u(n.prototype,"itunesVersion",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(n.prototype,"platform",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(n.prototype,"current",[r],Object.getOwnPropertyDescriptor(n.prototype,"current"),n.prototype),n)
e.default=c})),define("desktop-music-app/services/platform",["exports","@apple/client-detect","desktop-music-app/utils/logger","desktop-music-app/utils/launch-client","desktop-music-app/utils/feature-flags"],(function(e,t,i,r,n){var o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let p
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(o=Ember.inject.service,l=Ember.inject.service("-document"),a=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),c(this,"fastboot",s,this),c(this,"document",u,this),r=!1,(i="nativeLaunchFailed")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}init(){super.init(...arguments),this.fastboot.isFastBoot||(p=this._getBrowserInstance(window.navigator.userAgent),this.engineMajorVersion=p.engineMajorVersion,this.engineVersion=p.engineVersion,this.isAtLeastMojave=p.isAtLeastMojave,this.isAtLeastMojavePlusOne=p.isAtLeastMojavePlusOne,this.isChrome=p.isChrome,this.isEdge=p.isEdge,this.isFirefox=p.isFirefox,this.isAndroid=p.isAndroid,this.isMobile=p.isMobile,this.isWebKit=p.isWebKit,this.isiOS=p.isiOS,this.ismacOS=p.ismacOS,this.isTouch=window.matchMedia("(hover: none)").matches,this.isWindows=p.isWindows,this.macOSMajorVersion=p.macOSMajorVersion,this.macOSMinorVersion=p.macOSMinorVersion,this.version=p.version,this.canOpenAppleMusic=t.ClientDetect.couldHaveMusic(),this.canOpeniTunes=t.ClientDetect.couldHaveiTunes(),this._setDocumentClasses())}_getBrowserInstance(e){return p||t.ClientDetect.browser(e)}get iTunesPlatform(){if(!this.isFastBoot)return window.iTunes&&window.iTunes.platform.toLowerCase()}_setDocumentClasses(){this.isMobile?this.document.body.classList.add("is-mobile"):this.document.body.classList.add("is-desktop")}reset(){this.isDestroyed||this.isDestroying||Ember.set(this,"nativeLaunchFailed",!1)}launch(e,t,n){const o=(0,r.processQueryParams)(e,t);(0,i.log)(`[launch-client] Handing off to Native App: ${o}`),this.launchClient(o,(e=>{(0,i.log)(`[launch-client] ClientDetect.launchClient: callback(supported): ${e}`)
const t=0===e
this.isDestroyed||this.isDestroying||("function"==typeof n?n(!t):Ember.set(this,"nativeLaunchFailed",t))}))}launchClient(e,i){t.ClientDetect.launchClient(e,i)}willDestroy(){this.fastboot.isFastBoot||(this.document.body.classList.remove("is-mobile"),this.document.body.classList.remove("is-desktop")),super.willDestroy(...arguments)}},s=d(a.prototype,"fastboot",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"document",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=m})),define("desktop-music-app/services/playback",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/config"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w
function E(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PLAYBACK_CHANGED_EVENT=void 0
const{VOLUME_RANGE_STEP_FOR_AT:P}=i.default
e.PLAYBACK_CHANGED_EVENT="playbackChanged"
let O=(r=Ember.inject.service("itunes-playback"),n=Ember.inject.service("itunes-volume"),o=Ember.inject.service,l=Ember.computed.alias("playbackService.currentTrackId"),a=Ember.computed.alias("playbackService.currentPlaybackTime"),s=Ember.computed.alias("playbackService.currentPlaybackDuration"),u=Ember.computed.alias("playbackService.currentCollectionId"),c=Ember.computed.alias("playbackService.hasNextItemInQueue"),d=Ember.computed.alias("playbackService.hasPreviousItemInQueue"),p=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),E(this,"iTunesPlayback",m,this),E(this,"iTunesVolume",b,this),E(this,"musickit",f,this),r=void 0,(i="radioSeedArtistId")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,E(this,"currentTrackId",h,this),E(this,"currentPlaybackTime",g,this),E(this,"currentPlaybackDuration",y,this),E(this,"currentCollectionId",v,this),E(this,"hasNextItemInQueue",k,this),E(this,"hasPreviousItemInQueue",w,this)}get volume(){return{decrease:()=>{let e=this.musickit.instance.volume-P
e=Math.max(0,e),this.musickit.adjustVolume(Number(e.toPrecision(2)))},increase:()=>{let e=this.musickit.instance.volume+P
e=Math.min(1,e),this.musickit.adjustVolume(Number(e.toPrecision(2)))}}}has(){return this.playbackService.has(...arguments)}off(){return this.playbackService.off(...arguments)}on(){return this.playbackService.on(...arguments)}one(){return this.playbackService.one(...arguments)}trigger(){return this.playbackService.trigger(...arguments)}get playbackService(){return this.musickit}play(e){this.playbackService.play(e)}async playFromTime(e,t){await this.playbackService.setQueue({song:e,startTime:t}),this.playbackService.play()}async pauseAndSeek(e,t){await this.playbackService.pause(t),this.playbackService.seek(e)}getPlaybackConfig(){return this.playbackService.getPlaybackConfig(...arguments)}playURL(e){return this.playbackService.playURL(e)}playLockup(e,t,i){return this.playbackService.play(e,t,i)}resetPlayback(){return this.playbackService.resetPlayback()}pause(e){return this.playbackService.pause(e)}stop(){return this.playbackService.stop()}next(){return this.playbackService.next()}previous(){return this.playbackService.previous()}get shuffle(){this.playbackService.shuffle}set shuffle(e){this.playbackService.shuffle=e}get repeat(){this.playbackService.repeat}set repeat(e){this.playbackService.repeat=e}get isPlaying(){return this.playbackService.isPlaying}get isLoading(){return this.playbackService.isLoading}get isPaused(){return this.playbackService.isPaused}get isShuffled(){return this.playbackService.isShuffled}get isRepeatOn(){return this.playbackService.isRepeatOn}get currentTrackType(){return this.playbackService.currentTrackType}},m=_(p.prototype,"iTunesPlayback",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_(p.prototype,"iTunesVolume",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_(p.prototype,"musickit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=_(p.prototype,"currentTrackId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_(p.prototype,"currentPlaybackTime",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(p.prototype,"currentPlaybackDuration",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(p.prototype,"currentCollectionId",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(p.prototype,"hasNextItemInQueue",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(p.prototype,"hasPreviousItemInQueue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=O})),define("desktop-music-app/services/profile-relationships",["exports"],(function(e){var t,i,r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=new Map
let g=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,a=class extends Ember.Service{constructor(...e){super(...e),b(this,"user",s,this),b(this,"musickitSocial",u,this),b(this,"store",c,this),b(this,"musickitData",d,this),b(this,"socialProfile",p,this),b(this,"relationships",m,this)}init(){super.init(...arguments),this.relatedIds={}}addRelatedIds(e){e.forEach((e=>{this.relatedIds[e.contentId]||(this.relatedIds[e.contentId]=e.relatedIds)}))}async getSocialMapping(e){return this.relationships||await this.loadProfileRelationships(),this.relationships[e]}clearSocialProfileData(){this.relationships=null,h.clear()}loadProfileRelationships(e){return e&&this.relationships?Promise.resolve(this.relationships):this.socialProfile.isSocialEnabled?this.musickitSocial.getSocialRelationships().then((e=>{const t=Ember.get(e,"badgingMap")
return this.relationships=t,t})):Promise.resolve([])}productHasBadges(e){const{relationships:t}=this
if(!t)return!1
if(t[e])return t[e]
const i=this.relatedIds[e]
if(Array.isArray(i)&&i.length>0){let e=!1
return i.forEach((i=>{const r=t[i]
r&&(e=r)})),e}return!1}getFriendProfile(e){if(e&&"string"==typeof e)return h.get(e)}storeFriendProfile(e){e instanceof Object&&e.id&&h.set(e.id,e)}async getProfilesByIds(e){const t=[],i=[]
if(e.forEach((e=>{h.has(e)?i.push(this.getFriendProfile(e)):t.push(e)})),t.length){const e=await this.musickitData.socialProfiles(t)
e.forEach((e=>{this.storeFriendProfile(e)})),i.push(...e)}return i}willDestroy(...e){Ember.run.cancel(this.pollTimer),this.clearSocialProfileData(),super.willDestroy(...e)}},s=f(a.prototype,"user",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f(a.prototype,"musickitSocial",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(a.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(a.prototype,"musickitData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(a.prototype,"socialProfile",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(a.prototype,"relationships",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=g})),define("desktop-music-app/services/reco-data-play-content",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{init(){super.init(...arguments),this.set("recoData",{})}captureRecoData(e,t){this.recoData[e]=t}}e.default=t})),define("desktop-music-app/services/recommended-friends",["exports","desktop-music-app/utils/fetch-json"],(function(e,t){var i,r,n,o,l,a,s,u,c,d
function p(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(i=Ember.inject.service("itunes-mescal"),r=Ember.inject.service("itunes-social"),n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=Ember.computed("contactBasedRecommendations","serverRecommendations"),a=class extends Ember.Service{constructor(...e){super(...e),p(this,"mescal",s,this),p(this,"social",u,this),p(this,"bag",c,this),p(this,"store",d,this),m(this,"contactBasedRecommendations",null),m(this,"serverRecommendations",null)}init(){super.init(...arguments),this.set("contactBasedRecommendations",[]),this.set("serverRecommendations",[])}get recommendationShelfContent(){const{contactBasedRecommendations:e,serverRecommendations:t}=this
return e.length?e:t}getRecommendedFriendsForProfile(e){const i=new URL(this.bag.getFromBag("musicFriends.recommendedFriends"))
return i.searchParams.append("id",e),(0,t.default)(i).then((e=>this.generateCards(e)))}getRecommendedFriendsFromContacts(){const e=this.social.getStoredContacts()
if(!e.length)return Ember.RSVP.Promise.resolve()
const t={actionPath:"musicFriends.recommendedFriends",httpMethod:"POST",requestBody:{ids:e}}
return new Ember.RSVP.Promise(((e,i)=>{this.mescal.mescalRequest(t,((t,r)=>{200===t?e(r):i(t)}))})).then((e=>this.generateCards(e))).then((e=>{this.set("contactBasedRecommendations",e)}))}generateCards(e){const t=Ember.get(e,"storePlatformData.lockup.results")
return(Ember.get(e,"recommendedFriends")||[]).map((e=>{const i=t[e.id]
if(i){const t=this.store.push({data:{id:e.id,type:"lockup",attributes:i}})
return{reason:e.reason,storeContent:t}}})).filter(Boolean)}},s=b(a.prototype,"mescal",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=b(a.prototype,"social",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(a.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(a.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(a.prototype,"recommendationShelfContent",[l],Object.getOwnPropertyDescriptor(a.prototype,"recommendationShelfContent"),a.prototype),a)
e.default=f})),define("desktop-music-app/services/route-history",["exports","desktop-music-app/utils/route","desktop-music-app/utils/paf-route-mapping"],(function(e,t,i){var r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.routeToPageContext=function(e){switch(e){case"radio.index":case"radio.see-all":return"Radio"
case"listen-now.index":return"ListenNow"
case"browse.index":return"Browse"
case"search.index":return"Search"
case"profile":return"Social"
case"offer.carrier":return"Offer"
default:return e.match(/library\./)?"Library":"Browse"}},e.getConsecutiveErrorAttempts=g,e.default=e.RESET_HISTORY_ROUTES=void 0
class m extends Array{constructor(e,...t){super(...t),e>0&&(this.limit=e)}add(...e){return this.push(...e),this.prune(),this}clear(){for(;this.length;)this.pop()}prune(){if("number"==typeof this.limit)for(;this.length>this.limit;)this.shift()}}const b=["listen-now","listen-now.index"],f=["browse.index","radio.index","library.made-for-you.index","library.recently-added","library.artists.index.artist","library.albums.index","library.songs","library.playlist","search-history","search.index",...b]
e.RESET_HISTORY_ROUTES=f
let h=(r=Ember.inject.service,n=Ember._tracked,o=Ember._tracked,l=class extends Ember.Service{constructor(...e){super(...e),c(this,"fastboot",a,this),c(this,"selectedTab",s,this),c(this,"pageContext",u,this),d(this,"isFirstPaint",null),d(this,"history",new m(40)),d(this,"pafHistory",new m)}getLastValidRoute(){const{history:e}=this,t=g(e.map((([e])=>e)))
if(!t)return e[e.length-1]
if(1===t)return e[e.length-2]
const i=e[e.length-Math.max(2*t+(t-1),1)]
return i||e[0]}blockOnFirstPaint(e){return this.isFirstPaint||this.fastboot.isFastBoot?Ember.RSVP.hash(e):e}get featureName(){if(this.pafHistory.length)return(0,i.default)(this.pafHistory,this)}add(e){if(1===this.pafHistory.length&&b.includes(e.name)){if(this.pafHistory[0]!==e.name)return
this.pafHistory.clear()}this.history.add([e.name,(0,t.gatherRouteParams)(e)]),this.pafHistory.add(e.name)}tryResetPafHistory(e){f.includes(e.name)&&this.pafHistory.clear()}},a=p(l.prototype,"fastboot",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(l.prototype,"selectedTab",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(l.prototype,"pageContext",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
function g(e){let t=0
if("error"!==e[e.length-1])return t
let i=!0
t++
for(let r=e.length-2;r>=0;r--)if("error"===e[r])i=!0,t++
else{if(!i)break
i=!1}return t}e.default=h})),define("desktop-music-app/services/router-scroll",["exports","ember-router-scroll/services/router-scroll"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(t.default.prototype,"position",{get(){var e,t
const i=null===(t=((null===(e=window.iTunes)||void 0===e?void 0:e.history)||window.history).state)||void 0===t?void 0:t.uuid
Ember.set(this,"key",i)
const r=this.key||"-1",{scrollMap:n}=this
return n&&(n[r]||n.default)}})
var i=t.default
e.default=i}))
define("desktop-music-app/services/search-history",["exports","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/feature-flags","desktop-music-app/utils/media-type","desktop-music-app/decorators/tracking","desktop-music-app/utils/logger"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b
function f(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function h(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.RECENTLY_VIEWED_MAX_ITEMS=void 0
const g="music-app-pref:recent-search-terms",y="music-app-pref:recent-search-views"
let v
e.RECENTLY_VIEWED_MAX_ITEMS=6
const k=new Map,w=new Map
let E=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=class extends Ember.Service{constructor(){super(...arguments),f(this,"store",d,this),f(this,"user",p,this),f(this,"fastboot",m,this),f(this,"musickitData",b,this),v={}}get recentlyViewed(){return w.get(this.user.userDSID)||[]}set recentlyViewed(e){let t=e||[]
t=t.sort(((e,t)=>S(t)-S(e)))
const i=t.slice(0,6).map(D)
w.set(this.user.userDSID,i)}get recentSearches(){return k.get(this.user.userDSID)}set recentSearches(e){k.set(this.user.userDSID,e)}loadHistory(){this.recentSearches||this.loadRecentSearches(),this.loadRecentViews()}async storeRecentlyViewed(...e){const t=this.user.userDSID,i=C(M(t),this.recentlyViewed)
this.recentlyViewed=C(i,e),function(e,t){const i=t.map((e=>{const t={...e}
return delete t.lockup,t}))
window.localStorage.setItem(j(e),JSON.stringify(i))}(t,this.recentlyViewed)}storeSearchTerm(e){if(!e)return
this.recentSearches||this.loadRecentSearches()
if(!this.recentSearches.some((t=>e===t.label))&&(this.recentSearches=[...this.recentSearches,{label:e}],!this.fastboot.isFastBoot)){const e=this.user.userDSID
window.localStorage.setItem(T(e),JSON.stringify(this.recentSearches.map((e=>({label:e.label})))))}}clearRecentlyViewed(){if(this.recentlyViewed=null,!this.fastboot.isFastBoot){const e=this.user.userDSID
window.localStorage.removeItem(j(e))}}clearSearchTerms(){if(this.recentSearches=null,!this.fastboot.isFastBoot){const e=this.user.userDSID
window.localStorage.removeItem(T(e))}}async loadRecentViews(){const e=M(this.user.userDSID),t={fields:["artwork","artistName","url","name","playParams","inLibrary","contentRating","requiresSubscription","kind","editorialArtwork"],"fields[stations]":"stationProviderName",include:["artists","curator"],"include[editorial-items]":"contents","fields[editorial-items]":["editorialNotes"],omit:{resource:"autos"}}
try{const i=await this.musickitData.getContents(e||[],t),r=e.map((e=>{const{id:t,type:r}=e,n=i.find((e=>e&&(!r||e.type===r)&&e.id===t))
if(n){const t=D(e)
return t.lockup=n,t}})).filter(Boolean)
this.recentlyViewed=r}catch(i){(0,o.log)("Failed to fetch Recently Viewed data")}}loadRecentSearches(){const e=window.localStorage.getItem(T(this.user.userDSID))||"[]"
this.recentSearches=JSON.parse(e).map((e=>({label:e.label})))}willDestroy(){super.willDestroy(...arguments),k.clear(),w.clear()}},d=h(c.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(c.prototype,"user",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(c.prototype,"fastboot",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h(c.prototype,"musickitData",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(c.prototype,"recentlyViewed",[n.trackedGetter],Object.getOwnPropertyDescriptor(c.prototype,"recentlyViewed"),c.prototype),h(c.prototype,"recentlyViewed",[n.trackedSetter],Object.getOwnPropertyDescriptor(c.prototype,"recentlyViewed"),c.prototype),h(c.prototype,"recentSearches",[n.trackedGetter],Object.getOwnPropertyDescriptor(c.prototype,"recentSearches"),c.prototype),h(c.prototype,"recentSearches",[n.trackedSetter],Object.getOwnPropertyDescriptor(c.prototype,"recentSearches"),c.prototype),h(c.prototype,"storeSearchTerm",[t.default],Object.getOwnPropertyDescriptor(c.prototype,"storeSearchTerm"),c.prototype),h(c.prototype,"loadRecentSearches",[t.default],Object.getOwnPropertyDescriptor(c.prototype,"loadRecentSearches"),c.prototype),c)
function _(e){var t,i
return e.persistentID||e.id||(null===(t=e.lockup)||void 0===t?void 0:t.id)||e.storeID||(null===(i=e.lockup)||void 0===i?void 0:i.storeID)}function P(e){var t
return e.timestamp||(null===(t=e.lockup)||void 0===t?void 0:t.timestamp)}function O(e){let t
return e&&"number"!=typeof e&&(t=Date.parse(e)),t||e}function S(e){const t=_(e)
if(!t)return
return O(v[t]||P(e)||0)}function z(e){const t=_(e)
if(!t)return
const i=P(e)||Date.parse(new Date)
v[t]=O(i)}function j(e){return[y,e].filter(Boolean).join("-")}function T(e){return[g,e].filter(Boolean).join("-")}function M(e){const t=window.localStorage.getItem(j(e))
return(JSON.parse(t)||[]).filter((e=>e.id))}function C(e,t){const i=[...e]
for(const r of t){z(r)
const e=D(r),t=i.findIndex((t=>t.id===e.id&&t.persistentID===e.persistentID))
t>-1&&i.splice(t,1),i.unshift(e)}return i}e.default=E
class x{constructor(e){const{id:t,inLibrary:i}=e
Object.assign(this,{id:t,inLibrary:i,timestamp:S(e),type:(0,r.getType)(e),lockup:e})}}function D(e){return e instanceof x?e:new x(e)}})),define("desktop-music-app/services/search-result",["exports"],(function(e){var t,i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=["user"],c=["song"]
let d=(t=Ember._tracked,i=Ember._tracked,r=Ember.computed("bubbles.[]"),n=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),r=null,(i="bubbles")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,a(this,"searchHints",o,this),a(this,"hintsTopHits",l,this)}processResults(e){let t=this.addMetaData(e)
t=this.addSwooshInfo(t),t=this.addArtistUrl(t),this.filterResults(t)}addArtistUrl(e){for(const t of e)for(const e of t.swooshResults)"albums"===e.type&&e.artists&&(e.artistUrl=e.artists[0]&&e.artists[0].url)
return e}filterResults(e){const t={bubbles:[]}
for(const u of e)"topResults"===u.name?t.topResults=u:t.bubbles.push(u)
const{bubbles:i,topResults:r}=t,n=e=>{const t=!e.isEmptyObject,i=!("playlists"===e.type&&!e.playParams)
return t&&i},o=i.map((e=>{const{swooshResults:t}=e
if(!t)return
const i=t.filter(n)
return i.length>0?{...e,swooshResults:i}:void 0})).filter(Boolean),l=((null==r?void 0:r.swooshResults.length)>0?r.swooshResults:[]).filter(n),a={...r,swooshResults:l}
Ember.set(this,"bubbles",o),Ember.set(this,"topResults",a)
const s=[...o]
a.name&&s.unshift(a),Ember.set(this,"results",s)}addMetaData(e){return e.bubbles.map((e=>{const t=Ember.get(e,"results")||[]
return{name:e.name,isSongList:c.includes(e.name),results:t}}))}addSwooshInfo(e){return e.map((e=>({...e,swooshResults:e.results.slice(0,21),totalResultCount:e.results.length})))}resetResults(){Ember.set(this,"bubbles",[]),Ember.set(this,"results",[])}resetSearchHints(){this.searchHints=[]}_itemComponentFor(e){return e.isSongList?"dt-list-lockup":u.includes(e.name)?"lockups/social-profile":"dt-lockup"}get shelves(){if(this.bubbles&&this.bubbles.length)return this.bubbles.map((e=>{var t
if((null===(t=e.results)||void 0===t?void 0:t.length)>0)return Object.assign(e,{itemComponent:this._itemComponentFor(e)||"dt-lockup"})})).filter(Boolean)}},o=s(n.prototype,"searchHints",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s(n.prototype,"hintsTopHits",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s(n.prototype,"shelves",[r],Object.getOwnPropertyDescriptor(n.prototype,"shelves"),n.prototype),n)
e.default=d})),define("desktop-music-app/services/search-scope-bar-visibility",["exports"],(function(e){var t,i,r,n,o,l,a,s,u
function c(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(t=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,n=Ember._tracked,o=class extends Ember.Service{constructor(...e){super(...e),c(this,"router",l,this),c(this,"musickitUser",a,this),c(this,"currentSearchTerm",s,this),c(this,"scope",u,this)}get displaySearchScopeBar(){if(!this.musickitUser.isLoggedIn)return!1
const{currentRouteName:e}=this.router
if(!e)return
const t=this.currentSearchTerm&&"loading"===e
return e.includes("search")||t}setCurrentSearchTerm(e){this.currentSearchTerm=e}},l=d(o.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(o.prototype,"musickitUser",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(o.prototype,"currentSearchTerm",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(o.prototype,"scope",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"am"}}),o)
e.default=p})),define("desktop-music-app/services/search",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/search-responsive","desktop-music-app/utils/search","desktop-music-app/utils/media-type","desktop-music-app/config"],(function(e,t,i,r,n,o){var l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W
function Y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,Q(e,t,"get"))}function $(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,Q(e,t,"set"),i),i}function Q(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function J(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.decorateWithLibraryState=re,e.processSearchHint=ne,e.default=void 0
const{searchVersionQuery:X}=o.default,Z=["user"],ee=["song"],te=["topResults","album","song","artist","musicPlaylist"]
let ie=(l=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service("itunes-bag"),m=Ember._tracked,b=Ember._tracked,f=Ember._tracked,h=Ember._tracked,g=Ember._tracked,y=Ember._tracked,v=Ember._tracked,k=Ember._tracked,w=Ember._tracked,E=Ember._tracked,_=Ember._action,P=Ember._action,O=Ember._action,K=new WeakMap,W=new WeakMap,S=class extends Ember.Service{constructor(...e){super(...e),Y(this,"musickit",z,this),Y(this,"musickitData",j,this),Y(this,"searchHistory",T,this),Y(this,"router",M,this),Y(this,"storefront",C,this),Y(this,"user",x,this),Y(this,"bag",D,this),Y(this,"term",L,this),Y(this,"_searchIn",A,this),Y(this,"hints",I,this),Y(this,"topHits",N,this),Y(this,"bubbles",R,this),Y(this,"shelves",F,this),Y(this,"results",U,this),Y(this,"topResults",B,this),Y(this,"didPerformSearch",H,this),Y(this,"isPerformingSearch",V,this),q(this,"searchError",void 0),q(this,"rawResults",void 0),K.set(this,{writable:!0,value:!1}),W.set(this,{writable:!0,value:void 0})}set searchIn(e){if(this._searchIn=e,!this.user.isSubscribed)return
const t=(0,r.getSearchScopeKey)(this.user.DSID)
"string"==typeof e?window.localStorage.setItem(t,e):window.localStorage.removeItem(t)}get searchIn(){if(!this.user.isSubscribed)return
const e=this._searchIn
return"library"===(null==e?void 0:e.trim())?"library":null}get hasHints(){var e
return!(null===(e=this.hints)||void 0===e||!e.length)}get hasResults(){var e
return!(null===(e=this.results)||void 0===e||!e.length)}get isMobile(){var e
return!(null===(e=this.searchResponsive)||void 0===e||!e.isMobile)}setupResponsiveListener(){this.searchResponsive=new i.SearchResponsive}destroyResponsiveListener(){this.searchResponsive.destroy(),this.searchResponsive=null}resetResults(){this.bubbles=null,this.results=null,this.topResults=null,this.isPerformingSearch=!1,this.didPerformSearch=!1,this.searchError=null,this.rawResults=null}resetHints(){this.hints=null,this.topHits=null}resetAll(){this.resetResults(),this.resetHints(),this.term=null}async perform(){var e,t
if(this.term!==X){if(this.isPerformingSearch&&($(this,K,!0),G(this,W)&&(await G(this,W),$(this,K,!1))),null===(e=this.term)||void 0===e||null===(t=e.trim())||void 0===t||!t.length)return this.term=null,void this.resetResults()
this.searchHistory.storeSearchTerm(this.term),this.isPerformingSearch=!0
try{const{searchIn:e="am",term:t=""}=this
$(this,W,"library"===e?this.musickitData.searchLibrary(t):(async()=>{const e=await this.musickitData.searchAppleMusic(t,{})
for(const i of e.bubbles)te.includes(i.name)&&"topResults"===i.name&&le(i.results,t)
return e})())
const i=await G(this,W)
if(G(this,K))return
this.rawResults=i
let r=i.bubbles.map((e=>{const t=e.results||[]
return{name:e.name,isSongList:ee.includes(e.name),results:t}}))
r=function(e){return e.map((e=>(e.swooshResults=e.results.slice(0,21),e.totalResultCount=e.results.length,e)))}(r),r=function(e){for(const t of e)for(const e of t.swooshResults)"albums"===e.type&&e.artists&&(e.artistUrl=e.artists[0]&&e.artists[0].url)
return e}(r),r=function(e,t){const i=t.bubbles
return e.map((e=>{for(const t of i){if(e.name!==t.name||!t.next)continue
let i=t.next
e.next=async function(){let t,r,n
try{var o,l
Ember.set(e,"isFetchingNext",!0),n=await i(),t=(null===(o=n[e.name])||void 0===o?void 0:o.data)||[],r=null===(l=n[e.name])||void 0===l?void 0:l.next}finally{Ember.set(e,"isFetchingNext",!1)}return Ember.set(e,"results",[...e.results,...t]),r?i=r:Ember.set(e,"next",null),n}}return e}))}(r,i)
const n={bubbles:[]}
for(const d of r)"topResults"===d.name?n.topResults=d:n.bubbles.push(d)
const{bubbles:o,topResults:l}=n,a=function(e){return e.map((e=>{const{swooshResults:t}=e
if(!t)return
const i=t.filter(oe)
return i.length>0?(e.swooshResults=i,e):void 0})).filter(Boolean)}(o),s=((null==l?void 0:l.swooshResults.length)>0?l.swooshResults:[]).filter(oe).slice(0,10)
await re(this.musickitData,s)
const u={...l,swooshResults:s}
this.bubbles=a,this.topResults=u,this.shelves=this.bubbles.map((e=>{var t
if((null===(t=e.results)||void 0===t?void 0:t.length)>0)return"category"===e.name&&(e.name="categories"),e.itemComponent=function(e){if(e.isSongList)return"dt-list-lockup"
if(Z.includes(e.name))return"lockups/social-profile"
return"dt-lockup"}(e)||"dt-lockup",e})).filter(Boolean)
const c=[...a]
u.name&&c.unshift(u),this.results=c}catch(i){this.searchError=i}finally{this.isPerformingSearch=!1,this.didPerformSearch=!0,$(this,K,!1),$(this,W,null)}}}async getHints(e){let{term:t=""}=this
if(e&&(t=e),this.term!==X){if(!t||!t.trim().length)return this.term=null,void this.resetHints()
this.term=t
try{const e=await this.musickitData.getSearchHints(t,{limit:{"results:terms":5,"results:topResults":10}})
if(t!==this.term||this.isPerformingSearch)return
this.hints=e.terms.map((e=>ne(e,t)))
const i=le(e.topResults,t)
if(i.length){const e=i.reduce(((e,t)=>(e[t.type]=[...e[t.type]||[],t.id],e)),{}),t=await this.musickitData.getCatalogContents(e)
this.topHits=i.map((e=>t.find((t=>t.id===e.id&&t.type===e.type)))).filter(Boolean)}else this.topHits=null}catch(i){this.resetHints()}}}},z=J(S.prototype,"musickit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=J(S.prototype,"musickitData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=J(S.prototype,"searchHistory",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=J(S.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=J(S.prototype,"storefront",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=J(S.prototype,"user",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=J(S.prototype,"bag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=J(S.prototype,"term",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=J(S.prototype,"_searchIn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=J(S.prototype,"hints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=J(S.prototype,"topHits",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=J(S.prototype,"bubbles",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=J(S.prototype,"shelves",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=J(S.prototype,"results",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=J(S.prototype,"topResults",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=J(S.prototype,"didPerformSearch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=J(S.prototype,"isPerformingSearch",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J(S.prototype,"resetResults",[_],Object.getOwnPropertyDescriptor(S.prototype,"resetResults"),S.prototype),J(S.prototype,"resetAll",[P],Object.getOwnPropertyDescriptor(S.prototype,"resetAll"),S.prototype),J(S.prototype,"perform",[O],Object.getOwnPropertyDescriptor(S.prototype,"perform"),S.prototype),S)
async function re(e,t){const i={}
for(const o of t){const e=i[o.type]||[]
"social-profiles"!==o.type&&(i[o.type]=[...e,o.id].slice(0,25))}if(0===Object.keys(i).length)return
const r={fields:["id","type","inLibrary"],omit:{resource:"autos"}}
try{const n=await e.getCatalogContents(i,r)
for(const{id:e,type:i,inLibrary:r,tracks:o=[]}of n){const n=t.find((t=>t.id===e&&t.type===i))
n&&Ember.set(n,"inLibrary",r)}}catch(n){}return t}function ne({displayTerm:e,searchTerm:t},i){const r=i.trim().toLowerCase(),n=e.toLowerCase().indexOf(r)
let o=e,l="",a=""
if(n>-1){const t=n+r.length
o=e.slice(0,n),l=e.slice(n,t),a=e.slice(t,e.length)}return{autofillBefore:o,highlighted:l,autofillAfter:a,searchTerm:t,displayTerm:e}}function oe(e){const t=!e.isEmptyObject,i=!("playlists"===e.type&&!e.playParams)
return t&&i}function le(e,t){return e.map((e=>{let i=e
if(e.serialize&&(i=e.serialize().data,i={...i.attributes,kind:(0,n.getKind)(i),type:i.type,id:i.id}),e._meta&&0!==Object.keys(e._meta).length){var r,o
const n={...e._meta},l=null===(r=n.snippets)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.text
if(l){const e={searchTerm:l,displayTerm:l}
n.snippets=ne(e,t)}return Ember.set(e,"_meta",n),i}return i}))}e.default=ie})),define("desktop-music-app/services/social-onboarding-upsell",["exports"],(function(e){var t,i,r,n,o,l,a,s
function u(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function c(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,n=Ember.computed("user.{isLoggedIn,isOnboarded,profile.isOnboardingBlocked,isSubscribed,userDSID}"),o=class extends Ember.Service{constructor(...e){super(...e),u(this,"finance",l,this),u(this,"user",a,this),u(this,"socialProfile",s,this)}get displaySocialUpsell(){const{user:e}=this
return e.isLoggedIn&&!e.isOnboarded&&e.isSubscribed&&e.userDSID&&this.socialProfile.isSocialEnabled&&!Ember.get(e,"profile.isOnboardingBlocked")}shouldDisplayUpsell(){let e=!1
const{user:t}=this,{isSubscribed:i,isLoggedIn:r}=t,n=t.userDSID,o=localStorage.getItem("music-app-pref:hasSeenWelcome"),l=localStorage.getItem(`music-app-pref:hasSeenSocialOnboardingScreen-${n}`),a=!1===t.isOnboarded,s=Ember.get(t,"profile.isOnboardingBlocked"),u=this.socialProfile.isSocialEnabled
return o&&i&&a&&!l&&r&&u&&!s&&(e=!0),e}},l=c(o.prototype,"finance",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(o.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(o.prototype,"socialProfile",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"displaySocialUpsell",[n],Object.getOwnPropertyDescriptor(o.prototype,"displaySocialUpsell"),o.prototype),o)
e.default=d})),define("desktop-music-app/services/social-profile",["exports","desktop-music-app/config/environment","desktop-music-app/utils/untrusted-html","desktop-music-app/utils/feature-flags"],(function(e,t,i,r){var n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{APP:{manageAppleIdURL:h,iCloudSettingUrl:g}}=t.default
let y=(n=Ember.inject.service("itunes-bag"),o=Ember.inject.service,l=Ember.inject.service,a=Ember.inject.service,s=Ember.computed("consentURL"),u=class extends Ember.Service{constructor(...e){super(...e),b(this,"bag",c,this),b(this,"i18n",d,this),b(this,"platform",p,this),b(this,"user",m,this)}get isSocialEnabled(){return!(!this.user.isLoggedIn||this.user.isMinor)}get musicFriends(){return this.bag.getFromBag("musicFriends")}get isOnboarded(){return this.user.isOnboarded}get consentURL(){let e=h
const t=this.user.userDSID!==this.user.cloudId
return this.platform.isWindows||t||(e=g),e}get consentDescription(){const e=this.consentURL
return(0,i.untrustedHtml)(this.i18n.t("FUSE.Social.ContactsConsent.HelpOthers.Text",{link:e}),{extraAllowedTags:["a"],allowedAttributes:{a:["href"]}})}},c=f(u.prototype,"bag",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"platform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"user",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(u.prototype,"consentDescription",[s],Object.getOwnPropertyDescriptor(u.prototype,"consentDescription"),u.prototype),u)
e.default=y})),define("desktop-music-app/services/starkit",["exports","@amp/ember-metrics/services/starkit"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/storefront",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/config"],(function(e,t,i){var r,n,o,l,a,s,u,c,d,p,m
function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{DEFAULT_STOREFRONT:h}=i.default
let g=(r=Ember.inject.service,n=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,a=Ember._tracked,s=class extends Ember.Service{constructor(...e){var t,i,r
super(...e),b(this,"musickit",u,this),b(this,"fastboot",c,this),b(this,"itunesStorefront",d,this),r=h,(i="defaultStorefront")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,b(this,"storefrontId",p,this),b(this,"subscriptionStorefront",m,this)}get isMyStorefront(){return this.subscriptionStorefront===this.resolvedStorefront}get resolvedStorefront(){return this.storefrontId,this.storefrontId}setSubscriptionStorefront(e){e&&(this.subscriptionStorefront=e,this.updatePreviewOnly())}updateStorefrontId(e){e&&(Ember.set(this,"storefrontId",e),this.fastboot.isFastBoot||(this.musickit.instance.storefrontId=e,this.updatePreviewOnly()))}updatePreviewOnly(){const e=this.storefrontId===this.subscriptionStorefront
this.musickit.instance.previewOnly=!e,this.storefrontId&&this.subscriptionStorefront&&!e&&(this.shouldHardRefresh=!0)}},u=f(s.prototype,"musickit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(s.prototype,"fastboot",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(s.prototype,"itunesStorefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(s.prototype,"storefrontId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(s.prototype,"subscriptionStorefront",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=g})),define("desktop-music-app/services/text-measurer",["exports","ember-text-measurer/services/text-measurer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/services/translation",["exports","@amp/ember-localizer/services/translation","desktop-music-app/supported-locales","desktop-music-app/utils/feature-flags","desktop-music-app/utils/logger","desktop-music-app/utils/music-get-best-language","desktop-music-app/config/environment","desktop-music-app/config","desktop-music-app/utils/page-dir"],(function(e,t,i,r,n,o,l,a,s){var u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O
function S(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{DEV_LANGUAGE:j}=a.default
let T=(u=Ember.inject.service("itunes-bag"),c=Ember.inject.service("music-features"),d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,h=Ember.inject.service,g=class extends t.default{constructor(...e){super(...e),S(this,"bag",y,this),S(this,"features",v,this),S(this,"fastboot",k,this),S(this,"musickitData",w,this),S(this,"storefront",E,this),S(this,"locale",_,this),S(this,"router",P,this),S(this,"user",O,this)}async getBestLanguage(){const e=this.fastboot.isFastBoot||!this.user.isLoggedIn?[]:navigator.languages,t=this.storefront.resolvedStorefront
let i
const{l:r}=this.router.naiveQueryParams
i=[r].concat(e).filter(Boolean)
const n=await this.musickitData.languagesForStorefront(t)
return(0,o.musicGetBestLanguage)(n,i)}async loadAppTranslations(){try{let t=await this.getBestLanguage()
"development"===l.default.environment&&l.default.i18n.useDevLoc&&(this.fastboot.isFastBoot?t=j:"true"===localStorage.getItem("music-app-pref:use-dev-localizations")&&(t=(0,i.getDevSelectedLocale)()||j),console.warn(`Using ${t} language`)),this.locale.setLocale(t)
try{await this.load(t)}catch(e){(0,n.log)("AMWEB - Error translations.js:loadAppTranslations",e)
const t=this.storefront.resolvedStorefront,i=(await this.musickitData.languagesForStorefront(t)).defaultLanguageTag.toLowerCase()
this.locale.setLocale(i),await this.load(i)}}catch(e){(0,n.log)("AM - Error translations.js:loadAppTranslations",e)}}getPageDir(e){const{l:t}=this.router.naiveQueryParams
return(0,s.pageDir)(e,t)}},y=z(g.prototype,"bag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(g.prototype,"features",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(g.prototype,"fastboot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(g.prototype,"musickitData",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(g.prototype,"storefront",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z(g.prototype,"locale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(g.prototype,"router",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(g.prototype,"user",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g)
e.default=T})),define("desktop-music-app/services/upsell-banner",["exports","desktop-music-app/utils/get-metrics-json","desktop-music-app/utils/feature-flags","desktop-music-app/decorators/fastboot-guard","desktop-music-app/utils/personalization","desktop-music-app/utils/route","desktop-music-app/utils/constants"],(function(e,t,i,r,n,o,l){var a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W
function Y(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function q(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let G=(a=Ember.inject.service,s=Ember.inject.service,u=Ember.inject.service("itunes-bag"),c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,b=Ember.inject.service,f=Ember._tracked,h=Ember.computed.alias("upsellOfferDetails.basePriceString"),g=Ember.computed.alias("upsellOfferDetails.introPrice"),y=Ember.computed.alias("upsellOfferDetails.introPeriod"),v=Ember.computed.alias("upsellOfferDetails.isFreeTrial"),k=Ember.computed.alias("upsellOfferDetails.isIntroOffer"),w=Ember.computed("upsellOfferDetails.isEligibleForWinbackOffer"),E=Ember.computed("isEligibleForWinbackOffer"),_=Ember.computed("isEligibleForWinbackOffer","user.{subscriptionOffers.eligibleOffer,musicSubscriptionOffersForStorefront,isEligibleForTrial}"),P=Ember.computed("user.isEligibleForTrial","isFreeTrial","isEligibleForWinbackOffer","basePriceString","introPeriod"),O=Ember.computed("user.isEligibleForTrial","isFreeTrial","isEligibleForWinbackOffer"),S=Ember.computed("user.{isLoggedIn,isEligibleForTrial,isSubscribed}"),z=Ember.computed("user.{isLoggedIn,isSubscribed,isEligibleForWinbackOffer}"),j=Ember.computed("user.{isLoggedIn,isLoggedOut,isEligibleForTrial,isSubscribed}"),T=Ember.computed("storefront.resolvedStorefront"),M=Ember._action,C=class extends Ember.Service{constructor(...e){super(...e),Y(this,"fastboot",x,this),Y(this,"i18n",D,this),Y(this,"bag",L,this),Y(this,"musickit",A,this),Y(this,"router",I,this),Y(this,"storefront",N,this),Y(this,"upsellOfferDetails",R,this),Y(this,"user",F,this),Y(this,"_forceHideBanner",U,this),Y(this,"basePriceString",B,this),Y(this,"introPrice",H,this),Y(this,"introPeriod",V,this),Y(this,"isFreeTrial",K,this),Y(this,"isIntroOffer",W,this)}get isEligibleForWinbackOffer(){return this.upsellOfferDetails.isEligibleForWinbackOffer}get metricsDataForClick(){const e=this.isEligibleForWinbackOffer?"upsellBannerWinback":"upsellBannerTrial"
return(0,t.default)([e])}get bannerMessageText(){return this.isIntroOffer?this.introOfferMessage:this.defaultOfferText}get subHeaderText(){const e=this.introPeriod,t=this.basePriceString,i=this.introPrice
let r
return this.isIntroOffer?this.isFreeTrial?e&&t&&(r=this.i18n.t("AMWeb.UpsellBanner.Subscribe.Subhead.Free",{introPricingDuration:e,price:t})):e&&i&&t&&!this.shouldShowAlternateString?r=this.i18n.t("AMWeb.UpsellBanner.Subscribe.Subhead.Paid",{introPricingDuration:e,introPrice:i,price:t}):t&&(r=this.i18n.t("AMWeb.UpsellBanner.Subscribe.Subhead.NonTrial",{price:t})):t&&(r=this.i18n.t("AMWeb.UpsellBanner.Subscribe.Subhead.NonTrial",{price:t})),r}get CTAText(){return this.isIntroOffer?this.isFreeTrial?"AMWeb.UpsellBanner.Subscribe.Free":"AMWeb.UpsellBanner.Subscribe.Paid":"AMWeb.UpsellBanner.Subscribe.NonTrial"}get showSubscriptionBanner(){const{isLoggedIn:e,isEligibleForTrial:t,isSubscribed:i}=this.user
return!t&&e&&!i}get showWinbackBanner(){const e=Ember.get(this,"user.isLoggedIn"),t=this.isEligibleForWinbackOffer,i=!Ember.get(this,"user.isSubscribed")
return!!t&&e&&i}get showFreeTrialBanner(){const e=Ember.get(this,"user.isLoggedIn"),t=Ember.get(this,"user.isLoggedOut"),i=!Ember.get(this,"user.isSubscribed"),r=Ember.get(this,"user.isEligibleForTrial")
return i&&e&&r||t}get shouldShowAlternateString(){return l.ALT_COUNTRY_CODE.includes(this.storefront.resolvedStorefront)}get introOfferMessage(){let e
const t=this.introPeriod,i=this.introPrice
return this.isFreeTrial?t&&(e=this.i18n.t(this.freeOfferWinbackKey,{introPricingDuration:t})):i&&t&&(e=this.i18n.t(this.nonFreeOfferWinbackKey,{introPricingDuration:t,introPrice:i})),e||this.defaultOfferText}get defaultCTALocKey(){return this.user.isEligibleForTrial||this.isEligibleForWinbackOffer?this.isFreeTrial?"FUSE.UpsellBanner.Subscribe.CTA.Free":"FUSE.UpsellBanner.Subscribe.CTA.Paid":"FUSE.UpsellBanner.Subscribe.CTA.NonTrial"}get defaultOfferText(){let e
return e=this.i18n.t(`FUSE.UpsellBanner.Subscribe.Stream${this.locKeySuffix}`),Ember.get(this,"user.subscriptionOffers.eligibleOffer"),e}get winbackBannerMessage(){if(this.introPeriod){const e=this.introPeriod,t=this.introPrice,i=this.isFreeTrial?this.freeOfferWinbackKey:this.nonFreeOfferWinbackKey
return this.i18n.t(i,{introPricingDuration:e,introPrice:t})}return this.defaultOfferText}get freeOfferWinbackKey(){return`FUSE.UpsellBanner.Subscribe.Stream.Free${this.locKeySuffix}`}get nonFreeOfferWinbackKey(){return`FUSE.UpsellBanner.Subscribe.Stream.Paid${this.locKeySuffix}`}get showBanner(){return!this.fastboot.isFastBoot&&(!0!==this._forceHideBanner&&(!(0,o.isOfRoute)(this.router.currentRoute,(0,n.personalizedRouteName)())&&!this.user.isSubscribed))}set showBanner(e){this._forceHideBanner=e}get bodyClasses(){return["upsell-banner-visible","upsell-banner-visible--bottom"]}get locKeySuffix(){const e=this.storefront.resolvedStorefront
return"cn"===e?".CN":l.UPSELL_LEVEL_1_STOREFRONTS.includes(e)?"":".level2"}hideUpsell(){this.removeBodyClasses(),window.requestAnimationFrame((()=>{this._forceHideBanner=!0}))}showUpsell(){window.requestAnimationFrame((()=>{this._forceHideBanner=null})),this.addBodyClasses()}addBodyClasses(){this.removeBodyClasses(),document.body.classList.add(...this.bodyClasses)}removeBodyClasses(){document.body.classList.remove(...this.bodyClasses)}toggleBodyClasses(){this._forceHideBanner=null,this.showBanner?this.showUpsell():this.hideUpsell()}willDestroy(){this.removeBodyClasses(),super.willDestroy(...arguments)}},x=q(C.prototype,"fastboot",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=q(C.prototype,"i18n",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=q(C.prototype,"bag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=q(C.prototype,"musickit",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=q(C.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=q(C.prototype,"storefront",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=q(C.prototype,"upsellOfferDetails",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=q(C.prototype,"user",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=q(C.prototype,"_forceHideBanner",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=q(C.prototype,"basePriceString",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=q(C.prototype,"introPrice",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=q(C.prototype,"introPeriod",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=q(C.prototype,"isFreeTrial",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=q(C.prototype,"isIntroOffer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q(C.prototype,"isEligibleForWinbackOffer",[w],Object.getOwnPropertyDescriptor(C.prototype,"isEligibleForWinbackOffer"),C.prototype),q(C.prototype,"metricsDataForClick",[E],Object.getOwnPropertyDescriptor(C.prototype,"metricsDataForClick"),C.prototype),q(C.prototype,"bannerMessageText",[_],Object.getOwnPropertyDescriptor(C.prototype,"bannerMessageText"),C.prototype),q(C.prototype,"subHeaderText",[P],Object.getOwnPropertyDescriptor(C.prototype,"subHeaderText"),C.prototype),q(C.prototype,"CTAText",[O],Object.getOwnPropertyDescriptor(C.prototype,"CTAText"),C.prototype),q(C.prototype,"showSubscriptionBanner",[S],Object.getOwnPropertyDescriptor(C.prototype,"showSubscriptionBanner"),C.prototype),q(C.prototype,"showWinbackBanner",[z],Object.getOwnPropertyDescriptor(C.prototype,"showWinbackBanner"),C.prototype),q(C.prototype,"showFreeTrialBanner",[j],Object.getOwnPropertyDescriptor(C.prototype,"showFreeTrialBanner"),C.prototype),q(C.prototype,"shouldShowAlternateString",[T],Object.getOwnPropertyDescriptor(C.prototype,"shouldShowAlternateString"),C.prototype),q(C.prototype,"hideUpsell",[M],Object.getOwnPropertyDescriptor(C.prototype,"hideUpsell"),C.prototype),q(C.prototype,"addBodyClasses",[r.default],Object.getOwnPropertyDescriptor(C.prototype,"addBodyClasses"),C.prototype),q(C.prototype,"removeBodyClasses",[r.default],Object.getOwnPropertyDescriptor(C.prototype,"removeBodyClasses"),C.prototype),q(C.prototype,"toggleBodyClasses",[r.default],Object.getOwnPropertyDescriptor(C.prototype,"toggleBodyClasses"),C.prototype),C)
e.default=G})),define("desktop-music-app/services/upsell-offer-details",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h
function g(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function y(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.computed.match("user.subscriptionOffers.eligibleOffer",/WIN_BACK/),o=Ember.computed.alias("xForYOffer.isIntroOffer"),l=Ember.computed("isEligibleForWinbackOffer","user.{subscriptionOffers.eligibleOffer,musicSubscriptionOffersForStorefront}"),a=Ember.computed("user"),s=Ember.computed("xForYOffer"),u=Ember.computed("hasIntroPeriod"),c=Ember.computed("xForYOffer.{introOfferPrice,price}"),d=Ember.computed("isIntroOffer","introPrice"),p=class extends Ember.Service{constructor(...e){super(...e),g(this,"user",m,this),g(this,"i18n",b,this),g(this,"isEligibleForWinbackOffer",f,this),g(this,"isIntroOffer",h,this)}get xForYOffer(){const e=Ember.get(this,"user.subscriptionOffers")
if(e&&e.length)return e.filter((e=>"Individual"===e.subscriptionType))[0]}_getIntroPeriod(){if(!this.xForYOffer)return
const e=Ember.get(this,"xForYOffer.period")||Ember.get(this,"xForYOffer.introPeriod")
if(!e)return
const[,t]=e.match(/^P(\d+)M$/)||[]
return t}get basePriceString(){return this.xForYOffer&&this.xForYOffer.price?this.xForYOffer.price:this.i18n.t("FUSE.UpsellBanner.Subscribe.BaseMonthlyPrice")}get hasIntroPeriod(){return!!this._getIntroPeriod()}get introPeriod(){if(!this.hasIntroPeriod)return
const e=this._getIntroPeriod()
return this.i18n.t("Finance.Duration.Months",{num:e,count:e})}get introPrice(){if(this.xForYOffer)return Ember.get(this,"xForYOffer.introOfferPrice")}get isFreeTrial(){if(!this.isIntroOffer||!this.introPrice&&0!==this.introPrice)return!1
const e=this.introPrice.replace?this.introPrice.replace(/\D/g,""):this.introPrice
return 0===parseFloat(e)}},m=y(p.prototype,"user",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"i18n",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"isEligibleForWinbackOffer",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"isIntroOffer",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"xForYOffer",[l],Object.getOwnPropertyDescriptor(p.prototype,"xForYOffer"),p.prototype),y(p.prototype,"basePriceString",[a],Object.getOwnPropertyDescriptor(p.prototype,"basePriceString"),p.prototype),y(p.prototype,"hasIntroPeriod",[s],Object.getOwnPropertyDescriptor(p.prototype,"hasIntroPeriod"),p.prototype),y(p.prototype,"introPeriod",[u],Object.getOwnPropertyDescriptor(p.prototype,"introPeriod"),p.prototype),y(p.prototype,"introPrice",[c],Object.getOwnPropertyDescriptor(p.prototype,"introPrice"),p.prototype),y(p.prototype,"isFreeTrial",[d],Object.getOwnPropertyDescriptor(p.prototype,"isFreeTrial"),p.prototype),p)
e.default=v})),define("desktop-music-app/services/user",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){var i,r,n,o,l,a,s,u,c,d,p,m,b,f,h,g,y,v,k,w,E,_,P,O,S,z,j,T,M,C,x,D,L,A,I,N,R,F,U,B,H,V,K,W,Y,q,G,$,Q,J,X,Z,ee
function te(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function re(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let ne=(i=Ember.inject.service,r=Ember.inject.service,n=Ember.computed.readOnly("_userService.accountStatus"),o=Ember.computed.readOnly("_userService.subscriptionOffers.offers.firstObject.priceFormatted"),l=Ember.computed.readOnly("_userService.cloudId"),a=Ember.computed.readOnly("_userService.cloudLibraryIsLoaded"),s=Ember.computed.readOnly("_userService.connectEnabled"),u=Ember.computed.readOnly("_userService.isCloudLibraryEnabled"),c=Ember.computed.readOnly("_userService.isEligibleForTrial"),d=Ember.computed.readOnly("_userService.isEligibleForWinbackOffer"),p=Ember.computed.readOnly("_userService.isLoggedIn"),m=Ember.computed.not("isLoggedIn"),b=Ember.computed.readOnly("_userService.isMinor"),f=Ember.computed.readOnly("_userService.isOnboarded"),h=Ember.computed.readOnly("_userService.isOptedOut"),g=Ember.computed.readOnly("_userService.isPurchaser"),y=Ember.computed.readOnly("_userService.isSubscribed"),v=Ember.computed.readOnly("_userService.isSubscribedToCloudLibrary"),k=Ember.computed.readOnly("_userService.musicSubscriptionOffersForStorefront"),w=Ember.computed.readOnly("_userService.profile"),E=Ember.computed.readOnly("_userService.restrictExplicitContent"),_=Ember.computed.readOnly("_userService.subscriptionInfo"),P=Ember.computed.readOnly("_userService.subscriptionOffers"),O=Ember.computed.readOnly("_userService.subscriptionStatus"),S=Ember.computed.readOnly("_userService.socialRequestCount"),z=Ember.computed.readOnly("_userService.userDSID"),j=class extends Ember.Service{constructor(...e){super(...e),te(this,"musickitUser",T,this),te(this,"itunesUser",M,this),ie(this,"needsWebOnboarding",!1),ie(this,"onboardingCompleted",!1),te(this,"accountStatus",C,this),te(this,"baseMonthlyPrice",x,this),te(this,"cloudId",D,this),te(this,"cloudLibraryIsLoaded",L,this),te(this,"connectEnabled",A,this),te(this,"isCloudLibraryEnabled",I,this),te(this,"isEligibleForTrial",N,this),te(this,"isEligibleForWinbackOffer",R,this),te(this,"isLoggedIn",F,this),te(this,"isLoggedOut",U,this),te(this,"isMinor",B,this),te(this,"isOnboarded",H,this),te(this,"isOptedOut",V,this),te(this,"isPurchaser",K,this),te(this,"isSubscribed",W,this),te(this,"isSubscribedToCloudLibrary",Y,this),te(this,"musicSubscriptionOffersForStorefront",q,this),te(this,"profile",G,this),te(this,"restrictExplicitContent",$,this),te(this,"subscriptionInfo",Q,this),te(this,"subscriptionOffers",J,this),te(this,"subscriptionStatus",X,this),te(this,"socialRequestCount",Z,this),te(this,"userDSID",ee,this)}get _userService(){return this.musickitUser}checkDiscoverFriendsForProfile(...e){return this._userService.checkDiscoverFriendsForProfile(...e)}fetchUserProfile(...e){return this._userService.fetchUserProfile(...e)}getSubscriptionInfo(...e){return this._userService.getSubscriptionInfo(...e)}getSubscriptionOffersForStorefront(...e){return this._userService.getSubscriptionOffersForStorefront(...e)}isRestrictedContentRating(...e){return this._userService.isRestrictedContentRating(...e)}loadUserData(...e){return this._userService.loadUserData(...e)}login(...e){return this._userService.login(...e)}onParentalRatingChange(...e){return this._userService.onParentalRatingChange(...e)}showSubscriptionContent(...e){return this._userService.showSubscriptionContent(...e)}updateSubscriptionOffers(...e){return this._userService.updateSubscriptionOffers(...e)}updateSubscriptionStatus(...e){return this._userService.updateSubscriptionStatus(...e)}get metricsUserType(){let e
return e=this.isLoggedIn?this.isSubscribed?"subscribed":"notSubscribed":"needsAuthentication",e}get isParentalControlExplicit(){if(!this.profile)return
const{restrictions:e}=this.profile
return"explicit"===(null==e?void 0:e.music)}},T=re(j.prototype,"musickitUser",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=re(j.prototype,"itunesUser",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=re(j.prototype,"accountStatus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=re(j.prototype,"baseMonthlyPrice",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=re(j.prototype,"cloudId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=re(j.prototype,"cloudLibraryIsLoaded",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=re(j.prototype,"connectEnabled",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=re(j.prototype,"isCloudLibraryEnabled",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=re(j.prototype,"isEligibleForTrial",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=re(j.prototype,"isEligibleForWinbackOffer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=re(j.prototype,"isLoggedIn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=re(j.prototype,"isLoggedOut",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=re(j.prototype,"isMinor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=re(j.prototype,"isOnboarded",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=re(j.prototype,"isOptedOut",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=re(j.prototype,"isPurchaser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=re(j.prototype,"isSubscribed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=re(j.prototype,"isSubscribedToCloudLibrary",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=re(j.prototype,"musicSubscriptionOffersForStorefront",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=re(j.prototype,"profile",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=re(j.prototype,"restrictExplicitContent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=re(j.prototype,"subscriptionInfo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=re(j.prototype,"subscriptionOffers",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=re(j.prototype,"subscriptionStatus",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=re(j.prototype,"socialRequestCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=re(j.prototype,"userDSID",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j)
e.default=ne})),define("desktop-music-app/services/web-error-dialog",["exports"],(function(e){var t,i,r,n,o,l
function a(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember._tracked,r=Ember._action,n=class extends Ember.Service{constructor(...e){super(...e),a(this,"modal",o,this),a(this,"displayError",l,this),s(this,"errorMessage",null),s(this,"errorHeader",null),s(this,"errorCode",null)}error({errorHeader:e,errorMessage:t,errorCode:i}){this.setProperties({errorMessage:t,errorHeader:e,errorCode:i,displayError:!0})}closeDialog(){this.setProperties({errorHeader:null,errorMessage:null,errorCode:null,displayError:!1})}},o=u(n.prototype,"modal",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(n.prototype,"displayError",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u(n.prototype,"closeDialog",[r],Object.getOwnPropertyDescriptor(n.prototype,"closeDialog"),n.prototype),n)
e.default=c})),define("desktop-music-app/services/window-visibility",["exports"],(function(e){var t,i,r,n,o
function l(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,function(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}(e,t,"get"))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(t=Ember._tracked,n=new WeakMap,o=new WeakMap,i=class extends Ember.Service{constructor(...e){var t,i,l,a
super(...e),t=this,i="windowIsFocused",a=this,(l=r)&&Object.defineProperty(t,i,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(a):void 0}),n.set(this,{writable:!0,value:new Set}),o.set(this,{writable:!0,value:new Set})}emitFocusEvent(){for(const e of l(this,n))e(this.windowIsFocused)}emitBlurEvent(){for(const e of l(this,o))e(this.windowIsFocused)}registerFocusCallback(e){l(this,n).add(e)}registerBlurCallback(e){l(this,o).add(e)}removeFocusCallback(e){l(this,n).delete(e)}removeBlurCallback(e){l(this,o).delete(e)}},s=i.prototype,u="windowIsFocused",c=[t],d={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),r=m,i)
var s,u,c,d,p,m
e.default=a})),define("desktop-music-app/supported-locales",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDevLocales=function(){const e=i.slice()
return e.unshift("dev"),e},e.getLocales=function(){return i},e.getDevSelectedLocale=function(){return localStorage.getItem(`${t}dev-default-locale`)},e.setDevLocale=function(e){localStorage.setItem(`${t}dev-default-locale`,e)},e.default=void 0
const t="music-app-pref:",i=["af","af-za","ar","ar-ae","ar-bh","ar-dz","ar-eg","ar-iq","ar-jo","ar-kw","ar-lb","ar-ly","ar-ma","ar-om","ar-qa","ar-sa","ar-sy","ar-tn","ar-ye","az","az-az","be","be-by","bg","bg-bg","bs-ba","ca","ca-es","cs","cs-cz","cy","cy-gb","da","da-dk","de","de-at","de-de","de-ch","de-li","de-lu","dv","dv-MV","el","el-gr","en","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","eo","es","es-ar","es-bo","es-cl","es-co","es-cr","es-do","es-ec","es-es","es-gt","es-hn","es-la","es-mx","es-ni","es-pa","es-pe","es-pr","es-py","es-sv","es-uy","es-xl","es-ve","et","et-ee","eu","eu-es","fa","fa-ir","fi","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-lu","fr-mc","gl","gl-es","gu","gu-in","he","he-il","hi","hi-in","hr","hr-ba","hr-hr","hu","hu-hu","id","id-id","is","is-is","it","it-it","ja","ja-jp","ka","ka-ge","kk","kk-kz","kn","kn-in","ko","ko-kr","kok","kok-in","ky","ky-ky","lt","lt-lt","lv","lv-lv","mi","mi-nz","mk","mk-mk","mn","mn-mn","mr","mr-in","ms","ms-bn","ms-my","mt","mt-mt","nb","nb-no","nl","nl-be","nl-nl","nn-no","nb-no","no-no","ns","ns-za","pa","pa-in","pl","pl-pl","ps","ps-ar","pt","pt-br","pt-pt","qu","qu-bo","qu-ec","qu-pe","ro","ro-ro","ru","ru-ru","sa","sa-in","se","se-fi","se-no","se-se","sk","sk-sk","sl","sl-si","sq","sq-al","sq-ba","sr-ba","sr-sp","sv","sv-fi","sv-se","sw","sw-ke","ta","ta-in","te","te-in","th","th-th","tl","tl-ph","tn","tn-za","tr","tr-tr","tt","tt-ru","ts","uk","uk-ua","ur","ur-pk","uz","uz-uz","vi","vi-vn","xh","xh-za","zh","zh-cn","zh-hk","zh-mo","zh-sg","zh-tw","zu","zu-za"]
var r=i
e.default=r})),define("desktop-music-app/templates/account/settings",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"VrkAe0jH",block:'[[[8,[39,0],null,[["@route"],["/account/settings"]],null]],[],false,["commerce-full-content"]]',moduleName:"desktop-music-app/templates/account/settings.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Ypg2IEVr",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@activity"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-activity","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/activity.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/album",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"NiJYxQYn",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model","@selectedTrack","@scrollToSelectedSong"],[[30,2,["value"]],[30,0,["selectedTrackId"]],[52,[30,0,["selectedTrackId"]],true,false]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-album","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/album.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/application",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"iVpBMnjC",block:'[[[10,0],[14,"aria-hidden","true"],[14,0,"fallback-drag-image"],[12],[1,"\\n    "],[1,[28,[35,0],["MissingArtworkMusic"],[["class","style"],["fallback-drag-image-artwork","max-height=64px;max-width:64px;"]]]],[1,"\\n"],[13],[1,"\\n\\n"],[1,"    "],[8,[39,1],null,null,null],[1,"\\n\\n    "],[8,[39,2],null,[["@overlayAdditionalClasses"],["locale-switcher--amweb__modal"]],null],[1,"\\n\\n    "],[8,[39,3],null,null,null],[1,"\\n\\n    "],[8,[39,4],null,null,[["default"],[[[[1,"\\n"],[41,[28,[37,6],[[30,0,["privacyInformationShouldDisplay"]]],null],[[[1,"            "],[46,[28,[37,8],["header"],null],null,null,null],[1,"\\n\\n            "],[10,0],[14,0,"web-navigation__navigation-details-view page-container"],[14,"role","main"],[14,"tabindex","-1"],[14,1,"web-main"],[12],[1,"\\n                "],[10,0],[14,0,"web-chrome-drawer"],[12],[13],[1,"\\n                "],[10,0],[14,0,"web-chrome__auth-no-chrome"],[12],[1,"\\n"],[1,"                    "],[8,[39,9],null,null,null],[1,"\\n                "],[13],[1,"\\n                "],[8,[39,10],null,null,null],[1,"\\n                "],[8,[39,11],[[24,0,"search__scope-bar search-scope-bar--desktop-search"]],null,null],[1,"\\n                "],[8,[39,12],null,null,null],[1,"\\n                "],[8,[39,13],null,null,null],[1,"\\n            "],[13],[1,"\\n\\n            "],[8,[39,14],null,null,null],[1,"\\n\\n            "],[8,[39,15],[[24,0,"locale-switcher--amweb"]],[["@storefront","@dropdownPosition"],[[28,[37,16],[[30,0,["storefront","resolvedStorefront"]],[30,0,["storefront","defaultStorefront"]]],null],"above"]],null],[1,"\\n\\n            "],[46,[28,[37,8],["modal"],null],null,null,null],[1,"\\n\\n\\n"],[41,[30,0,["isDevelopment"]],[[[41,[30,0,["developerToolsEnabled"]],[[[1,"                    "],[8,[39,17],null,null,null],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"    "]],[]]]]],[1,"\\n\\n    "],[10,"apple-music-video-player"],[12],[13],[1,"\\n"]],[],false,["svg-jar","web-error-dialog","locale-switcher/modal","dt-modal/commerce-modal","dt-web-navigation","if","not","component","-outlet","dt-web-chrome/auth","dt-web-chrome","search-scope-bar","loading-outlet","dt-footer","dt-upsell-banner","locale-switcher/banner","or","dt-dev-tools"]]',moduleName:"desktop-music-app/templates/application.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/artist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"JabLdAXi",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["loading-outlet"]]',moduleName:"desktop-music-app/templates/artist.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/artist/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Isy1HiGe",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-artist","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/artist/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/artist/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"GXhUDSTZ",block:'[[[44,[[28,[37,1],["room"],[["model"],[[30,0,["records"]]]]]],[[[1,"    "],[8,[39,2],null,[["@room","@lockups","@pageTitle","@sectionName"],[[30,1],[30,1,["lockups"]],[30,0,["seeAllPageTitle"]],[30,0,["sectionName"]]]],null],[1,"\\n"]],[1]]]],["room"],false,["let","present","dt-room-page"]]',moduleName:"desktop-music-app/templates/artist/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/browse-page/genres",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"p4m50NqZ",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[8,[39,3],null,[["@links"],[[30,2,["links"]]]],null],[1,"\\n"]],["baseMeta","@model"],false,["let","present","seo-tags","dt-link-list"]]',moduleName:"desktop-music-app/templates/browse-page/genres.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/browse",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"bpFB2ISX",block:'[[[46,[28,[37,1],null,null],null,null,null],[1,"\\n"]],[],false,["component","-outlet"]]',moduleName:"desktop-music-app/templates/browse.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/browse/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"oQLENSKt",block:'[[[8,[39,0],null,[["@title"],[[28,[37,1],["FUSE.Browse.Pageheader"],null]]],null],[1,"\\n\\n"],[44,[[28,[37,3],["meta/base"],null]],[[[1,"        "],[8,[39,4],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[44,[[28,[37,5],[[30,2,["promise"]]],[["list"],[true]]]],[[[41,[51,[30,3,["value"]]],[[[1,"        "],[8,[39,7],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,8],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[44,[[28,[37,3],["grouping/musickit"],[["model"],[[30,3,["value"]]]]]],[[[1,"        "],[8,[39,9],null,[["@grouping","@groupingId"],[[30,4],[30,2,["id"]]]],null],[1,"\\n"]],[4]]]],[3]]],[1,"\\n"]],["baseMeta","@model","resolvedModel","grouping"],false,["dt-header","t","let","present","seo-tags","await","unless","pulse-loading","pulse-spinner","dt-grouping-page"]]',moduleName:"desktop-music-app/templates/browse/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/browse/top-charts/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"QmTfXS+i",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[8,[39,3],null,[["@title"],[[28,[37,4],["FUSE.TopCharts"],null]]],null],[1,"\\n\\n"],[8,[39,5],null,[["@topCharts"],[[30,0,["model"]]]],null],[1,"\\n"]],["baseMeta"],false,["let","present","seo-tags","dt-header","t","dt-top-charts"]]',moduleName:"desktop-music-app/templates/browse/top-charts/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/browse/top-charts/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"vjtVzecL",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[44,[[28,[37,1],["top-charts"],[["model"],[[30,0,["model","chartPage"]]]]]],[[[1,"    "],[8,[39,3],null,[["@chart","@changeGenre","@selectableGenres","@genreId"],[[30,2],[30,0,["changeGenre"]],[30,0,["selectableGenres"]],[30,0,["genreId"]]]],null],[1,"\\n"]],[2]]]],["baseMeta","chart"],false,["let","present","seo-tags","top-charts-see-all"]]',moduleName:"desktop-music-app/templates/browse/top-charts/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/components/basic-dropdown-content",["exports","ember-basic-dropdown/templates/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/templates/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("desktop-music-app/templates/components/basic-dropdown",["exports","ember-basic-dropdown/templates/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select-multiple",["exports","ember-power-select/templates/components/power-select-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select-multiple/trigger",["exports","ember-power-select/templates/components/power-select-multiple/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select",["exports","ember-power-select/templates/components/power-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/before-options",["exports","ember-power-select/templates/components/power-select/before-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/options",["exports","ember-power-select/templates/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/placeholder",["exports","ember-power-select/templates/components/power-select/placeholder"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/power-select-group",["exports","ember-power-select/templates/components/power-select/power-select-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/search-message",["exports","ember-power-select/templates/components/power-select/search-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/components/power-select/trigger",["exports","ember-power-select/templates/components/power-select/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/templates/curator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"UfQgEDu3",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["loading-outlet"]]',moduleName:"desktop-music-app/templates/curator.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/curator/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"WYqUeULi",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@curator"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-curator","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/curator/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/curator/playlists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"QkosgIfv",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[44,[[28,[37,3],["room"],[["model"],[[30,2,["value"]]]]]],[[[1,"            "],[8,[39,4],null,[["@room","@lockups","@pageTitle"],[[30,3],[30,3,["lockups"]],[28,[37,5],["IXDisplayableKind.playlist.other"],null]]],null],[1,"\\n"]],[3]]]],[]],[[[1,"        "],[8,[39,6],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,7],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel","room"],false,["let","await","if","present","dt-room-page","t","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/curator/playlists.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/dev-test-page",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"9oTdLYc+",block:'[[[10,0],[14,0,"dev-test-page__block dev-test-page__block--header"],[12],[1,"\\n    "],[10,"h1"],[14,0,"typography-header-emphasized"],[12],[1,"AMP UI Development Test Page"],[13],[1,"\\n    "],[10,0],[14,0,"dev-test-page__subhead typography-large-title"],[12],[1,"Playground for Developers"],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"artist-bio"],[12],[1,"\\n        "],[8,[39,0],null,[["@content","@lines"],[[30,0,["text"]],22]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__typography dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Typography"],[13],[1,"\\n    "],[10,2],[14,0,"typography-large-title"],[12],[1,"LargeTitle"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-1"],[12],[1,"Title1"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-2"],[12],[1,"Title2"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-3"],[12],[1,"Title3"],[13],[1,"\\n    "],[10,2],[14,0,"typography-headline"],[12],[1,"Headline"],[13],[1,"\\n    "],[10,2],[14,0,"typography-body"],[12],[1,"Body"],[13],[1,"\\n    "],[10,2],[14,0,"typography-subhead"],[12],[1,"Subhead"],[13],[1,"\\n    "],[10,2],[14,0,"typography-footnote"],[12],[1,"Footnote"],[13],[1,"\\n    "],[10,2],[14,0,"typography-caption-1"],[12],[1,"Caption1"],[13],[1,"\\n    "],[10,2],[14,0,"typography-caption-2"],[12],[1,"Caption2"],[13],[1,"\\n    "],[10,"br"],[12],[13],[1,"\\n    "],[10,2],[14,0,"typography-large-title-emphasized"],[12],[1,"LargeTitleEmph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-1-emphasized"],[12],[1,"Title1Emph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-2-emphasized"],[12],[1,"Title2Emph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-title-3-emphasized"],[12],[1,"Title3Emph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-headline-emphasized"],[12],[1,"HeadlineEmph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-body-emphasized"],[12],[1,"BodyEmph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-subhead-emphasized"],[12],[1,"SubheadEmph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-footnote-emphasized"],[12],[1,"FootnoteEmph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-caption-1-emphasized"],[12],[1,"Caption1Emph"],[13],[1,"\\n    "],[10,2],[14,0,"typography-caption-2-emphasized"],[12],[1,"Caption2Emph"],[13],[1,"\\n\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Color Swatches"],[13],[1,"\\n    "],[10,"section"],[14,0,"dev-test-page__content"],[12],[1,"\\n        "],[10,"section"],[14,0,"dev-test-page__color"],[12],[1,"\\n            "],[10,0],[14,0,"dev-test-page__block-head typography-title-3-emphasized-tall"],[12],[1,"Primary Colors"],[13],[1,"\\n            "],[10,"ul"],[14,0,"dev-test-page__color-swatch-list"],[12],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-primaryColor"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-primaryColorRollover"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-primaryColorPressed"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-primaryColorDeepPressed"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-primaryColorDisabled"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[14,0,"dev-test-page__color"],[12],[1,"\\n            "],[10,0],[14,0,"dev-test-page__block-head typography-title-3-emphasized-tall"],[12],[1,"Neutral Colors"],[13],[1,"\\n            "],[10,"ul"],[14,0,"dev-test-page__color-swatch-list"],[12],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-labelPrimary"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert invert--dark"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert invert--dark"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-labelSecondary"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-labelTertiary"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-labelQuaternary"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-labelDivider"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"dev-test-page__color-vibrant-wrapper"],[12],[1,"\\n                "],[10,"ul"],[14,0,"dev-test-page__color-swatch-list"],[12],[1,"\\n                    "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                        "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-vibrantPrimary"],[12],[1,"\\n                            "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert invert--dark"],[12],[13],[1,"\\n                            "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert invert--dark"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                        "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-vibrantSecondary"],[12],[1,"\\n                            "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert"],[12],[13],[1,"\\n                            "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                        "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-vibrantTertiary"],[12],[1,"\\n                            "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                            "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                        "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-vibrantQuaternary"],[12],[1,"\\n                            "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                            "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                        "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-vibrantDivider"],[12],[1,"\\n                            "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                            "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[14,0,"dev-test-page__color"],[12],[1,"\\n            "],[10,0],[14,0,"dev-test-page__block-head typography-title-3-emphasized-tall"],[12],[1,"Secondary Colors"],[13],[1,"\\n            "],[10,"ul"],[14,0,"dev-test-page__color-swatch-list"],[12],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-pageBG"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-shelfBG"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-genericJoeColor"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"dev-test-page__color-swatch"],[12],[1,"\\n                    "],[10,0],[14,0,"dev-test-page__color-color dev-test-page__color-color-profileBadgeJoeColor"],[12],[1,"\\n                        "],[10,"code"],[14,0,"dev-test-page__color-label-name typography-subhead invert--dark"],[12],[13],[1,"\\n                        "],[10,1],[14,0,"dev-test-page__color-label-hex typography-callout invert--dark"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Open Modal Test"],[13],[1,"\\n    "],[11,"button"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[28,[37,2],[[30,0,["openModal"]],"social-onboarding.sharing-playlists"],null]],null],[12],[1,"\\n        Sharing Playlists\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Open Onboarding Bubbles"],[13],[1,"\\n    "],[8,[39,3],[[24,0,"edit-button pill-button submit-button"]],[["@route"],["onboarding.labels"]],[["default"],[[[[1,"\\n        Onboarding Bubbles\\n    "]],[]]]]],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Social Onboarding"],[13],[1,"\\n    "],[11,"button"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[28,[37,2],[[30,0,["openModal"]],"social-onboarding.setup-profile"],null]],null],[12],[1,"\\n        Social Onboarding\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Find Friends"],[13],[1,"\\n    "],[11,"button"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[28,[37,2],[[30,0,["openModal"]],"social-onboarding.find-friends"],null]],null],[12],[1,"\\n        Find Friends\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Sign In to MKs"],[13],[1,"\\n    "],[11,"button"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,0,["signInMK"]]],null],[12],[1,"\\n        Log In\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Open Finance Sheet"],[13],[1,"\\n    "],[11,"button"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,0,["openFinanceSheet"]]],null],[12],[1,"\\n        Open Finance Sheet\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Search Redesign"],[13],[1,"\\n    "],[10,2],[12],[1,"\\n        "],[11,3],[24,6,"#"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,0,["transitionToSearchLanding"]]],null],[12],[1,"Search Landing"],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Editable Textfield"],[13],[1,"\\n    "],[10,0],[14,0,"typography-large-title-emphasized"],[12],[1,"\\n        "],[8,[39,4],null,[["@value"],["Change this value"]],null],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Record Label Page"],[13],[1,"\\n    "],[10,0],[14,0,"typography-large-title-emphasized"],[12],[1,"\\n        "],[11,3],[24,6,"#"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,0,["transitionToLabelPage"]]],null],[12],[1,"Record Label Page"],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"dev-test-page__block dev-test-page__block--divider-before"],[12],[1,"\\n    "],[10,0],[14,0,"dev-test-page__block-head typography-title-2-emphasized"],[12],[1,"Lyric Sharing Page (DELTA)"],[13],[1,"\\n    "],[10,0],[14,0,"typography-large-title-emphasized"],[12],[1,"\\n        "],[11,3],[24,6,"#"],[24,0,"edit-button pill-button submit-button"],[4,[38,1],["click",[30,0,["transitionToLyricSharingPage"]]],null],[12],[1,"Lyric Sharing Page"],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"],[10,"br"],[12],[13],[10,"br"],[12],[13],[1,"\\n"]],[],false,["dt-truncate","on","fn","link-to","editable-textfield"]]',moduleName:"desktop-music-app/templates/dev-test-page.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/empty",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"NDS5KYe4",block:'[[[10,0],[12],[13],[1,"\\n"]],[],false,[]]',moduleName:"desktop-music-app/templates/empty.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/episode",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Idt9PJpu",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-episode","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/episode.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"l90GwFwn",block:'[[[10,0],[14,0,"error-content"],[12],[1,"\\n    "],[10,"h1"],[14,0,"title typography-title-2"],[12],[1,[30,0,["errorText"]]],[13],[1,"\\n    "],[11,"button"],[24,0,"button"],[4,[38,0],["click",[30,0,["pressOK"]]],null],[12],[1,[28,[35,1],["FUSE.Error.TryAgain"],null]],[13],[1,"\\n"],[13]],[],false,["on","t"]]',moduleName:"desktop-music-app/templates/error.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/genre-stations",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"1ghp9pu5",block:'[[[1,"    "],[8,[39,0],null,[["@model"],[[28,[37,1],null,[["title","description","noFollow"],[[30,0,["model","name"]],[30,0,["model","description"]],true]]]]],null],[1,"\\n"],[1,"\\n"],[8,[39,2],null,[["@station"],[[30,0,["model"]]]],null],[1,"\\n"]],[],false,["seo-tags","hash","dt-station"]]',moduleName:"desktop-music-app/templates/genre-stations.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/genre",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qp3TNkbI",block:'[[[1,"    "],[8,[39,0],null,[["@pageTitle","@grouping","@groupingId"],[[30,1,["pageTitle"]],[30,1,["featuredContent"]],[30,1,["id"]]]],null],[1,"\\n"]],["@model"],false,["dt-grouping-page"]]',moduleName:"desktop-music-app/templates/genre.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/grouping",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"TMxy3qoG",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],[["list"],[true]]]],[[[41,[51,[30,2,["value"]]],[[[1,"        "],[8,[39,3],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,4],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,2,["value","id"]],[[[44,[[28,[37,6],["meta/grouping"],[["model"],[[30,2,["value"]]]]]],[[[1,"                "],[8,[39,7],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]]],[]],null],[1,"\\n"],[44,[[28,[37,6],["grouping/musickit"],[["model"],[[30,2,["value"]]]]]],[[[1,"        "],[8,[39,8],null,[["@pageTitle","@grouping","@groupingId"],[[30,2,["value","name"]],[30,4],[30,1,["id"]]]],null],[1,"\\n"]],[4]]]],[2]]]],["@model","resolvedModel","groupingMeta","grouping"],false,["let","await","unless","pulse-loading","pulse-spinner","if","present","seo-tags","dt-grouping-page"]]',moduleName:"desktop-music-app/templates/grouping.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/label",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"eWIwSGMY",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["loading-outlet"]]',moduleName:"desktop-music-app/templates/label.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/label/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"U8LCV685",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","record-label","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/label/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/label/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"kpwercsk",block:'[[[44,[[28,[37,1],["room"],[["model"],[[30,0,["model","lockups"]]]]]],[[[1,"    "],[8,[39,2],null,[["@room","@lockups","@pageTitle"],[[30,1],[30,1,["lockups"]],[28,[37,3],[[28,[37,4],["AMWeb.Label.Module.",[30,0,["model","title"]]],null]],null]]],null],[1,"\\n"]],[1]]]],["room"],false,["let","present","dt-room-page","t","concat"]]',moduleName:"desktop-music-app/templates/label/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"QwrWznZn",block:'[[[10,0],[14,0,"error-content"],[12],[1,"\\n    "],[10,"h1"],[14,0,"title typography-title-2"],[12],[1,[28,[35,0],["FUSE.Error.AnErrorOccurred"],null]],[13],[1,"\\n    "],[11,"button"],[24,0,"button"],[4,[38,1],["click",[30,0,["pressOK"]]],null],[12],[1,[28,[35,0],["FUSE.Error.TryAgain"],null]],[13],[1,"\\n"],[13]],[],false,["t","on"]]',moduleName:"desktop-music-app/templates/library-error.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"cBObAdIh",block:'[[[44,[[28,[37,1],["meta/no-follow"],null]],[[[1,"    "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[8,[39,3],null,null,null],[1,"\\n"]],["noFollowMeta"],false,["let","present","seo-tags","loading-outlet"]]',moduleName:"desktop-music-app/templates/library.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/albums",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"UvB++TYo",block:'[[[41,[30,1],[[[1,"    "],[46,[28,[37,2],null,null],null,null,null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,3],null,null,null],[1,"\\n"]],[]]]],["@model"],false,["if","component","-outlet","dt-empty-library-state"]]',moduleName:"desktop-music-app/templates/library/albums.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/albums/album",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"tREt+GyX",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model","@albumTracks","@showCompleteAlbum","@showOnlyLibraryTracks","@onAdd","@onDelete"],[[28,[37,4],null,[["album"],[[30,2,["value"]]]]],[30,0,["albumTracks"]],[30,0,["showCompleteAlbum"]],[30,0,["showOnlyLibraryTracks"]],[30,0,["onLibraryAdd"]],[30,0,["onLibraryDelete"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,5],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,6],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]],[1,"\\n"]],["@model","resolvedModel"],false,["let","await","if","dt-album","hash","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/library/albums/album.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/albums/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"I1yOQIPZ",block:'[[[8,[39,0],null,[["@model"],[[30,1]]],null],[1,"\\n"]],["@model"],false,["library-albums"]]',moduleName:"desktop-music-app/templates/library/albums/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/artists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"FwoRisA2",block:'[[[41,[30,1],[[[1,"    "],[8,[39,1],[[24,0,"dt-split-view--library-artists"]],null,[["default"],[[[[1,"\\n        "],[46,[28,[37,3],["artist-list-view"],null],null,null,null],[1,"\\n        "],[46,[28,[37,3],["artist-detail-view"],null],null,null,null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[1,"    "],[8,[39,4],null,null,null],[1,"\\n"]],[]]]],["@model"],false,["if","split-view","component","-outlet","dt-empty-library-state"]]',moduleName:"desktop-music-app/templates/library/artists.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/artists/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"5HqwrhXi",block:'[[[8,[39,0],[[24,0,"dt-split-view__left-pane"]],[["@onListKeyDownHandler","@allListItems","@selectedItemId","@model","@isHidden","@transitionToHandler","@selectItem","@defaultScrollPosition","@scrollHandler","@updateIdToName"],[[30,0,["onKeyDownHandler"]],[30,0,["allListItems"]],[30,0,["selectedArtistId"]],[30,0,["model"]],[30,0,["isHidden"]],[30,0,["transitionToHandler"]],[30,0,["selectItemById"]],[30,0,["listViewScrollPosition"]],[30,0,["getListScrollPosition"]],[30,0,["updateIdToName"]]]],null],[1,"\\n"]],[],false,["dt-artist-list-view"]]',moduleName:"desktop-music-app/templates/library/artists/index.hbs",isStrictMode:!1})
e.default=t}))
define("desktop-music-app/templates/library/artists/index/artist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"PnneiBVN",block:'[[[8,[39,0],[[24,0,"dt-library-artists-detail-view dt-split-view__right-pane"]],[["@content","@ariaLabel","@isHidden","@isMobile"],[[30,0,["currentArtistContent"]],[30,0,["currentArtistContent","title"]],[30,0,["isHidden"]],[30,0,["isMobile"]]]],null],[1,"\\n"]],[],false,["dt-library-artists-detail-view"]]',moduleName:"desktop-music-app/templates/library/artists/index/artist.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/made-for-you",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"aXLBuxcO",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"desktop-music-app/templates/library/made-for-you.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/made-for-you/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"0kO1rWE7",block:'[[[41,[30,0,["playlistsInLibrary","length"]],[[[1,"    "],[8,[39,1],null,[["@model","@sort","@selectOptions","@changeSelection"],[[30,0,["playlistsInLibrary"]],[30,0,["sort"]],[30,0,["selectOptions"]],[30,0,["changeSelection"]]]],null],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"error-content error-content--empty-library error-content--made-for-you"],[12],[1,"\\n        "],[10,0],[14,0,"error-content__icon"],[12],[1,[28,[35,2],["person-crop-square-regular"],null]],[13],[1,"\\n        "],[10,"h2"],[14,0,"error-content__header typography-title-2-bold"],[12],[1,[28,[35,3],["AMWeb.Library.MadeForYou.Empty"],null]],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[],false,["if","library-playlists","svg-jar","t"]]',moduleName:"desktop-music-app/templates/library/made-for-you/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/made-for-you/playlist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"2ZmB+07o",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@playlist","@model","@creatorPageUrl","@contributors","@moreTracksIdentifier","@editTitle"],[[30,2,["value"]],[30,2,["value"]],[30,0,["creatorPageUrl"]],[30,0,["contributors"]],"getLibraryPlaylistTracks",[30,0,["editTitle"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-playlist","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/library/made-for-you/playlist.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/playlist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"SShQDMrT",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@playlist","@model","@creatorPageUrl","@contributors","@moreTracksIdentifier","@editTitle"],[[30,2,["value"]],[30,2,["value"]],[30,0,["creatorPageUrl"]],[30,0,["contributors"]],"getLibraryPlaylistTracks",[30,0,["editTitle"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-playlist","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/library/playlist.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/recently-added",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"dhAy5tdk",block:'[[[41,[30,1],[[[1,"    "],[8,[39,1],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,2],null,null,null],[1,"\\n"]],[]]]],["@model"],false,["if","dt-library-recently-added","dt-empty-library-state"]]',moduleName:"desktop-music-app/templates/library/recently-added.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/library/songs",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Tviz7sfe",block:'[[[41,[30,1],[[[1,"    "],[8,[39,1],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,2],null,null,null],[1,"\\n"]],[]]]],["@model"],false,["if","dt-library-songs","dt-empty-library-state"]]',moduleName:"desktop-music-app/templates/library/songs.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/listen-now",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"RZdp/5Yg",block:'[[[44,[[28,[37,1],["meta/no-follow"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[41,[28,[37,4],[[28,[37,5],null,null]],null],[[[1,"    "],[46,[28,[37,7],null,null],null,null,null],[1,"\\n"]],[]],null]],["noFollowMeta"],false,["let","present","seo-tags","if","not","is-fastboot","component","-outlet"]]',moduleName:"desktop-music-app/templates/listen-now.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/listen-now/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"LKRSIuYS",block:'[[[44,[[28,[37,1],[[30,0,["model","promise"]]],null]],[[[41,[28,[37,3],[[30,1,["value"]]],null],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,6],null,[["@title"],[[28,[37,7],["FUSE.ListenNow.Pageheader"],null]]],[["default"],[[[[1,"\\n"],[41,[30,0,["shouldShowProfileImage"]],[[[1,"            "],[8,[39,8],null,[["@transitionToUser"],[[30,0,["transitionToUser"]]]],null],[1,"\\n"]],[]],null],[1,"    "]],[]]]]],[1,"\\n\\n    "],[8,[39,9],null,null,null],[1,"\\n    "],[8,[39,10],null,[["@model"],[[30,1,["value","data"]]]],null],[1,"\\n"]],[1]]]],["resolvedModel"],false,["let","await","if","not","pulse-loading","pulse-spinner","dt-header","t","dt-profile-image","fps-measuring-wrapper","dt-listen-now"]]',moduleName:"desktop-music-app/templates/listen-now/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/listen-now/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"oMwFVzMq",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[44,[[28,[37,1],["room"],[["model"],[[30,0,["model"]]]]]],[[[1,"    "],[8,[39,3],null,[["@room"],[[30,2]]],null],[1,"\\n"]],[2]]]],["baseMeta","room"],false,["let","present","seo-tags","dt-room-page"]]',moduleName:"desktop-music-app/templates/listen-now/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/live-station",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"tjnBXf7b",block:'[[[8,[39,0],null,[["@featuredContent"],[[30,1,["featuredContent","featuredContent"]]]],null],[1,"\\n"]],["@model"],false,["dt-featured-content-root"]]',moduleName:"desktop-music-app/templates/live-station.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/login",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"lqgjuCWP",block:'[[[8,[39,0],null,[["@model"],[[28,[37,1],null,[["title","description"],[[28,[37,2],["AMWeb.Login.Meta.Title"],null],[28,[37,2],["AMWeb.Login.Meta.Description"],null]]]]]],null],[1,"\\n"],[8,[39,3],null,[["@route"],["/authenticate"]],null]],[],false,["seo-tags","hash","t","commerce-full-content"]]',moduleName:"desktop-music-app/templates/login.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/lyrics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qDMihMSX",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-lyrics","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/lyrics.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/message-consent-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ZhWCEFWm",block:'[[[8,[39,0],null,[["@dismissModalOnClick","@class","@containerWidth","@containerHeight","@containerPadding"],[false,"message-consent-modal",466,560,32]],[["default"],[[[[1,"\\n\\n    "],[8,[30,1,["body"]],null,null,[["default"],[[[[1,"\\n"],[1,"        "],[11,0],[24,0,"close-button"],[24,"role","button"],[4,[38,1],["click",[28,[37,2],[[30,0,["setUserPreference"]],false],null]],null],[12],[1,"\\n            "],[1,[28,[35,3],["FUSE.NotNow"],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"message-header"],[12],[1,"\\n            "],[8,[39,4],null,[["@artwork","@height","@width","@crop","@class"],[[30,0,["profileImage"]],104,104,"sr","profile-image"]],null],[1,"\\n\\n            "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized"],[12],[1,[28,[35,3],["FUSE.Social.ContactsConsent.Title"],null]],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[12],[1,"\\n            "],[10,"h4"],[14,0,"typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,[28,[35,3],["FUSE.Social.ContactsConsent.HelpOthers.Title"],null]],[13],[1,"\\n            "],[10,2],[14,0,"typ-label typography-body-tall"],[12],[1,[30,0,["socialProfile","consentDescription"]]],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"section"],[12],[1,"\\n            "],[10,"h4"],[14,0,"typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,[28,[35,3],["FUSE.Social.ContactsConsent.FriendRecommendations.Title"],null]],[13],[1,"\\n            "],[10,2],[14,0,"typ-label typography-body-tall"],[12],[1,[28,[35,3],["FUSE.Social.ContactsConsent.FriendRecommendations.Text"],null]],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[12],[1,"\\n            "],[10,2],[14,0,"typ-label-small typography-subhead"],[12],[1,"\\n                "],[1,[28,[35,3],["FUSE.Social.ContactsConsent.Button.PinnedText"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"button-container padded"],[12],[1,"\\n            "],[11,"button"],[24,0,"button alt regular"],[4,[38,1],["click",[28,[37,2],[[30,0,["setUserPreference"]],true],null]],null],[12],[1,"\\n                "],[1,[28,[35,3],["FUSE.Social.Allow"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]]],["modal"],false,["dt-modal-container","on","fn","t","media-artwork"]]',moduleName:"desktop-music-app/templates/message-consent-modal.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/modals/apps-access",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"/h3NKED5",block:'[[[8,[39,0],null,[["@class","@containerWidth","@containerHeight","@containerPadding","@modalRendered"],["apps-access-modal-page",466,560,32,[30,0,["loadApps"]]]],[["default"],[[[[1,"\\n    "],[8,[30,1,["body"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized header"],[12],[1,[28,[35,1],["FUSE.Settings.SDK.AppsAccess.Header.DT"],[["count"],[[30,0,["apps","length"]]]]]],[13],[1,"\\n        "],[10,"ul"],[14,0,"apps-list"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,0,["apps"]]],null]],null],null,[[[1,"                "],[10,"li"],[14,0,"dt-flex-container item"],[12],[1,"\\n                    "],[10,0],[14,0,"dt-flex-item grow-1 dt-flex-container direction-column pack-center"],[12],[1,"\\n                        "],[1,[28,[35,1],["FUSE.Settings.SDK.AppsAccess.Label"],[["appName"],[[30,2,["name"]]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[12],[1,"\\n                        "],[11,"button"],[24,0,"follow-button pill-button"],[4,[38,4],["click",[28,[37,5],[[30,0,["revokeApp"]],[30,2]],null]],null],[12],[1,[28,[35,1],["FUSE.Settings.SDK.AppsAccess.delete.DT"],null]],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n"]],[2]],null],[1,"        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"button-container padded"],[12],[1,"\\n            "],[11,"button"],[24,0,"button alt regular clr-white"],[4,[38,4],["click",[30,0,["closeModal"]]],null],[12],[1,[28,[35,1],["FUSE.Social.DT.Done"],null]],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]],[1,"\\n"]],["modal","app"],false,["dt-modal-container","t","each","-track-array","on","fn"]]',moduleName:"desktop-music-app/templates/modals/apps-access.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/modals/find-friends",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"sygJZL5B",block:'[[[8,[39,0],null,[["@dismissModalOnClick","@class","@containerWidth","@containerHeight","@containerPadding","@modalRendered"],[false,"social-onboarding find-friends-modal-page",466,560,32,[30,0,["modalRendered"]]]],[["default"],[[[[1,"\\n\\n\\n    "],[8,[30,1,["body"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized header"],[12],[1,[28,[35,1],["FUSE.Settings.FindFriends.DT.Header"],null]],[13],[1,"\\n        "],[10,"section"],[14,0,"dt-flex-container list-item"],[12],[1,"\\n            "],[10,0],[14,0,"dt-flex-item grow-1 dt-flex-container direction-column description"],[12],[1,"\\n                "],[10,0],[14,1,"ax-find-friends-contacts-consent-title"],[14,0,"typ-headline2-em typography-title-2-emphasized"],[12],[1,"\\n                    "],[1,[28,[35,1],["FUSE.Social.ContactsConsent.Onboarding.Title"],null]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,1,"ax-find-friends-contacts-consent-sub-title"],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                    "],[1,[28,[35,1],["FUSE.Social.ContactsConsent.Onboarding.Subtitle"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n            "],[11,0],[24,0,"detail-item dt-flex-container content-center direction-column pack-center"],[4,[38,2],["click",[28,[37,3],[[30,0,["select"]],"enableContactsConsent"],null]],null],[12],[1,"\\n                "],[10,0],[14,0,"selection"],[12],[1,"\\n                    "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n                        "],[10,0],[14,0,"input-container"],[12],[1,"\\n                            "],[10,0],[14,0,"round"],[12],[1,"\\n"],[1,"                                "],[8,[39,4],[[24,0,"select-option"],[24,"role","checkbox"],[24,"aria-labelledby","ax-find-friends-contacts-consent-title"],[24,"aria-describedby","ax-find-friends-contacts-consent-sub-title"],[16,"aria-checked",[29,[[30,0,["enableContactsConsent"]]]]]],[["@type","@checked"],["checkbox",[30,0,["enableContactsConsent"]]]],null],[1,"\\n"],[1,"                                "],[10,"label"],[14,"for","checkbox"],[12],[13],[1,"\\n"],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[14,0,"dt-flex-container list-item"],[12],[1,"\\n            "],[10,0],[14,0,"dt-flex-item grow-1 dt-flex-container direction-column description"],[12],[1,"\\n                "],[10,0],[14,1,"ax-find-friends-discover-contacts-title"],[14,0,"typ-headline2-em typography-title-2-emphasized"],[12],[1,"\\n                    "],[1,[28,[35,1],["FUSE.Social.ContactsConsent.Onboarding.AllowFinding.Title"],null]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,1,"ax-find-friends-discover-contacts-sub-title"],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                    "],[1,[30,0,["socialProfile","consentDescription"]]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n            "],[11,0],[24,0,"detail-item dt-flex-container content-center direction-column pack-center"],[4,[38,2],["click",[28,[37,3],[[30,0,["select"]],"enableDiscoverableByContact"],null]],null],[12],[1,"\\n                "],[10,0],[14,0,"selection"],[12],[1,"\\n                    "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n                        "],[10,0],[14,0,"input-container"],[12],[1,"\\n                            "],[10,0],[14,0,"round"],[12],[1,"\\n                                "],[8,[39,4],[[24,0,"select-option"],[24,"role","checkbox"],[24,"aria-labelledby","ax-find-friends-discover-contacts-title"],[24,"aria-describedby","ax-find-friends-discover-contacts-sub-title"],[16,"aria-checked",[29,[[30,0,["enableDiscoverableByContact"]]]]]],[["@type","@checked"],["checkbox",[30,0,["enableDiscoverableByContact"]]]],null],[1,"\\n"],[1,"                                "],[10,"label"],[14,"for","checkbox"],[12],[13],[1,"\\n"],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"section"],[14,0,"linked-accounts section"],[12],[1,"\\n            "],[10,"h1"],[14,0,"typ-subhead typography-title-3-tall color-label-secondary"],[12],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.Header"],null]],[13],[1,"\\n            "],[10,0],[14,0,"social-network-connections-wrapper"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["socialNetworks"]]],null]],null],null,[[[1,"                    "],[10,0],[14,0,"dt-flex-container network-item"],[12],[1,"\\n                        "],[8,[39,7],[[24,0,"media-artwork-v2--find-friends-social-icon"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile"],[false,[30,2,["artwork"]],"find-friends-social-icon",[28,[37,8],["socialProfile"],null]]],null],[1,"\\n                        "],[10,0],[14,0,"network-name dt-flex-container typ-label typography-body-tall dt-flex-item grow-1 direction-column pack-center"],[12],[1,[30,2,["nameForDisplay"]]],[13],[1,"\\n"],[41,[30,2,["isAuthenticated"]],[[[1,"                            "],[10,0],[14,0,"button-container"],[12],[1,"\\n                                "],[11,"button"],[24,0,"follow-button pill-button profile-follow profile-disabled"],[16,"aria-label",[28,[37,1],["FUSE.Social.LinkedAccounts.Disconnect.AriaLabel"],[["socialNetworkName"],[[30,2,["nameForDisplay"]]]]]],[4,[38,2],["click",[28,[37,3],[[30,0,["disconnect"]],[30,2]],null]],null],[12],[1,"\\n                                    "],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.Disconnect"],null]],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]],[[[1,"                            "],[10,0],[14,0,"button-container"],[12],[1,"\\n                                "],[11,"button"],[24,0,"follow-button pill-button profile-follow"],[16,"aria-label",[28,[37,1],["FUSE.Social.LinkedAccounts.SignIn.AriaLabel"],[["socialNetworkName"],[[30,2,["nameForDisplay"]]]]]],[4,[38,2],["click",[28,[37,3],[[30,0,["signIn"]],[30,2]],null]],null],[12],[1,"\\n                                    "],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.SignIn"],null]],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n"]],[2]],null],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"button-container padded"],[12],[1,"\\n            "],[11,"button"],[24,0,"button alt regular clr-white"],[4,[38,2],["click",[30,0,["closeModal"]]],null],[12],[1,[28,[35,1],["FUSE.Social.DT.Done"],null]],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]],[1,"\\n"]],["modal","network"],false,["dt-modal-container","t","on","fn","input","each","-track-array","amp-artwork/music","fallback-artwork","if"]]',moduleName:"desktop-music-app/templates/modals/find-friends.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/multi-room",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"stJnUG/b",block:'[[[44,[[28,[37,1],["multi-room"],[["model"],[[30,1]]]]],[[[44,[[28,[37,1],["meta/multi-room"],[["model"],[[30,2]]]]],[[[1,"            "],[8,[39,2],null,[["@model"],[[30,3]]],null],[1,"\\n"]],[3]]],[1,"\\n"],[41,[30,2,["uber","masterArt"]],[[[1,"        "],[8,[39,4],null,[["@uber"],[[30,2,["uber"]]]],null],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,5],[[24,0,"intro-block padded"]],[["@title"],[[30,2,["pageTitle"]]]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"page-description paragraphs"],[12],[1,"\\n"],[41,[30,2,["description"]],[[[1,"                "],[1,[28,[35,6],[[30,2,["description"]]],null]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[1,"\\n"],[42,[28,[37,8],[[28,[37,8],[[30,2,["segments"]]],null]],null],null,[[[41,[28,[37,9],[[30,4,["lockups"]],[30,4,["description"]],[30,4,["children"]]],null],[[[1,"            "],[8,[39,10],null,[["@segment","@recommendationData","@lazyLoadShelf"],[[30,4],[30,2,["recommendationData"]],[28,[37,11],[[30,5],3],null]]],null],[1,"\\n"]],[]],null]],[4,5]],null]],[2]]]],["@model","multiRoom","multiRoomMeta","segment","index"],false,["let","present","seo-tags","if","dt-room-uber","dt-titled-box","untrusted-html","each","-track-array","or","dt-room-segment","gt"]]',moduleName:"desktop-music-app/templates/multi-room.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/music-movie",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"zALub62O",block:'[[[44,[[28,[37,1],[[30,0,["model","promise"]]],null]],[[[41,[30,1,["value"]],[[[1,"        "],[8,[39,3],null,[["@model","@autoplay"],[[30,1,["value"]],[30,0,["autoplay"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[1]]]],["resolvedModel"],false,["let","await","if","dt-music-movie","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/music-movie.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/music-video",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"GhcIjeUK",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model","@autoplay"],[[30,2,["value"]],[30,0,["autoplay"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-music-video","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/music-video.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/offer/carrier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"gaBKM0sG",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["carrier-offer"]]',moduleName:"desktop-music-app/templates/offer/carrier.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/onboarding",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"bW69qYXD",block:'[[[10,0],[14,0,"page-content onboarding"],[12],[1,"\\n    "],[8,[39,0],null,null,null],[1,"\\n"],[13]],[],false,["loading-outlet"]]',moduleName:"desktop-music-app/templates/onboarding.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/onboarding/artists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qaXjCHy2",block:'[[[44,[[28,[37,1],["bubbles"],[["model"],[[30,1]]]]],[[[1,"    "],[10,0],[14,0,"onboarding-header"],[12],[1,"\\n        "],[10,"h1"],[15,1,[30,0,["axId"]]],[14,0,"typ-headline-em typography-title-2-emphasized"],[12],[1,"\\n            "],[1,[30,2,["artistHeaderMessage"]]],[1,"\\n        "],[13],[1,"\\n        "],[10,"h3"],[14,0,"typ-headline2 typography-body-tall"],[12],[1,"\\n            "],[1,[28,[35,2],["FUSE.Onboarding.SelectionsWillInspire.ListenNow"],null]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[39,3],null,[["@d3","@bubbles","@axFormId","@type"],[[30,1,["d3"]],[30,2,["artists"]],[30,0,["axId"]],"artist"]],[["default"],[[[[1,"\\n        "],[11,"button"],[24,0,"button done"],[16,"disabled",[30,2,["submitDisabled"]]],[4,[38,4],["click",[30,0,["saveOnboarding"]]],null],[12],[1,"\\n            "],[1,[28,[35,2],["Done"],null]],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[2]]]],["@model","bubbles"],false,["let","present","t","dt-bubbles","on"]]',moduleName:"desktop-music-app/templates/onboarding/artists.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/onboarding/labels",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"q5SFZ/eg",block:'[[[41,[30,1,["genres"]],[[[1,"    "],[10,0],[14,0,"onboarding-header"],[12],[1,"\\n        "],[10,"h1"],[15,1,[30,0,["axId"]]],[14,0,"typ-headline-em typography-title-2-emphasized"],[12],[1,"\\n            "],[1,[28,[35,1],["FUSE.Onboarding.ChooseGenresYouLove"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,"h3"],[14,0,"typ-headline2 typography-body-tall"],[12],[1,"\\n            "],[1,[28,[35,1],["FUSE.Onboarding.SelectionsWillInspire.ListenNow"],null]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[44,[[28,[37,3],["bubbles"],[["model"],[[30,1]]]]],[[[1,"        "],[8,[39,4],null,[["@d3","@bubbles","@axFormId","@type"],[[30,1,["d3"]],[30,2,["genres"]],[30,0,["axId"]],"genre"]],[["default"],[[[[1,"\\n            "],[11,"button"],[24,0,"button done"],[16,"disabled",[30,0,["submitDisabled"]]],[4,[38,5],["click",[30,0,["goToOnboardingArtists"]]],null],[12],[1,"\\n                "],[1,[28,[35,1],["Next"],null]],[1,"\\n            "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[2]]]],[]],null]],["@model","bubbles"],false,["if","t","let","present","dt-bubbles","on"]]',moduleName:"desktop-music-app/templates/onboarding/labels.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/page-data",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Pu9KlOo2",block:"[[],[],false,[]]",moduleName:"desktop-music-app/templates/page-data.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/personal-mix",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"tqqvk9Vq",block:'[[[8,[39,0],null,[["@model"],[[28,[37,1],null,[["title","description"],[[28,[37,2],[[30,0,["metaTitle"]]],null],[28,[37,2],["PersonalMix.Unlock.Header"],null]]]]]],null],[1,"\\n\\n"],[41,[30,0,["renderUpsell"]],[[[41,[28,[37,4],[[30,0,["user","isSubscribed"]]],null],[[[1,"        "],[8,[39,5],null,[["@upsell"],[[28,[37,1],null,[["header","message","button"],[[28,[37,2],["PersonalMix.Unlock.Header"],null],[28,[37,2],["PersonalMix.Unlock.Subhead"],null],[28,[37,2],["PersonalMix.Unlock.CTA"],null]]]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,5],null,[["@onClick","@upsell"],[[30,0,["toPersoRoute"]],[28,[37,1],null,[["header","message","button"],[[28,[37,2],["PersonalMix.Subscribed.Header"],null],[28,[37,2],["PersonalMix.Subscribed.Subhead"],null],[28,[37,2],["PersonalMix.Subscribed.CTA"],null]]]]]],null],[1,"\\n"]],[]]]],[]],null]],[],false,["seo-tags","hash","t","if","not","personalization-upsell"]]',moduleName:"desktop-music-app/templates/personal-mix.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/personal-station",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"i8Q4FMI8",block:'[[[1,"    "],[8,[39,0],null,[["@model"],[[28,[37,1],null,[["title"],[[30,0,["model","name"]]]]]]],null],[1,"\\n"],[1,"\\n"],[8,[39,2],null,[["@station"],[[30,0,["model"]]]],null],[1,"\\n"]],[],false,["seo-tags","hash","dt-station"]]',moduleName:"desktop-music-app/templates/personal-station.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/playlist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"IF+F5oT1",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@playlist","@model","@moreTracksIdentifier","@selectedTrack","@scrollToSelectedSong"],[[30,2,["value"]],[30,2,["value"]],"getPlaylistTracks",[30,0,["selectedTrackId"]],[52,[30,0,["selectedTrackId"]],true,false]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel"],false,["let","await","if","dt-playlist","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/playlist.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/post",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"pQk4AjKj",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@post"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]],[1,"\\n"]],["@model","resolvedModel"],false,["let","await","if","dt-post","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/post.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/profile-edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"zro/92/b",block:'[[[10,0],[14,0,"profile-uber"],[12],[1,"\\n    "],[8,[39,0],null,[["@isDirty","@cancelEditProfile","@saveProfile"],[[30,0,["isDirty"]],[30,0,["cancelEditProfile"]],[30,0,["saveProfile"]]]],null],[1,"\\n\\n    "],[10,0],[14,0,"profile-uber__backdrop"],[12],[1,"\\n        "],[8,[39,1],null,[["@artwork","@height","@width","@crop","@class"],[[30,0,["profile","avatarArtwork"]],206,206,"sr","profile-uber-bg"]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[39,2],null,[["@isDirty","@profileName","@profileHandle","@profileImage","@menuItems","@isPrivateProfile","@offboardProfile","@openProfileSettings","@editProfileImage","@editProfilePrivacy","@setProfileName","@onHandleChange"],[[30,0,["isDirty"]],[30,0,["profileName"]],[30,0,["profileHandle"]],[30,0,["profileImage"]],[30,0,["menuItems"]],[30,0,["isPrivateProfile"]],[30,0,["offboardProfile"]],[30,0,["openProfileSettings"]],[30,0,["editProfileImage"]],[30,0,["editProfilePrivacy"]],[30,0,["setProfileName"]],[30,0,["onHandleChange"]]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[41,[30,0,["hasPlaylists"]],[[[1,"    "],[8,[39,4],null,[["@id","@grid","@title","@itemComponent","@items"],["profile-edit-playlists","C",[28,[37,5],["FUSE.Social.DT.Profile.SharePlaylist.Header"],null],[50,"dt-lockup",0,null,[["isEditing"],[true]]],[30,0,["playlists"]]]],null],[1,"\\n"]],[]],null]],[],false,["dt-profile-edit-banner","stretched-artwork","dt-profile-edit","if","dt-shelf","t","component"]]',moduleName:"desktop-music-app/templates/profile-edit.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/profile-page-see-all-room",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"vNqerW75",block:'[[[8,[39,0],null,[["@title","@loadNext","@hasMore","@lockups"],[[30,0,["roomTitle"]],[30,0,["loadNext"]],[30,1,["meta","next"]],[30,0,["roomLockups"]]]],null],[1,"\\n"]],["@model"],false,["dt-room"]]',moduleName:"desktop-music-app/templates/profile-page-see-all-room.hbs",isStrictMode:!1})
e.default=t}))
define("desktop-music-app/templates/profile-page/pending-approval-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"fDbzwQSS",block:'[[[10,0],[14,0,"social-dialog-container-bg pending-approval-modal"],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[14,0,"social-dialog-container"],[12],[1,"\\n            "],[11,0],[24,0,"close-button"],[16,"aria-label",[28,[37,0],["FUSE.Social.AX.CloseAppleMusicFriendsDialog"],null]],[24,"role","button"],[4,[38,1],["click",[30,0,["modal","close"]]],null],[12],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"container"],[12],[1,"\\n                "],[10,"h3"],[14,0,"typography-header-emphasized"],[12],[1,[28,[35,0],["FUSE.Social.Private.PeopleRequest.FollowRequests"],null]],[13],[1,"\\n\\n                "],[10,"ul"],[14,0,"request-list"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,0,["requests"]]],null]],null],null,[[[1,"                        "],[10,"li"],[14,0,"request-item"],[12],[1,"\\n                            "],[10,0],[14,0,"request-content-wrapper"],[14,"role","group"],[14,"tabindex","-1"],[15,"aria-label",[28,[37,0],["FUSE.Social.AX.FriendRequest"],[["profileName"],[[30,1,["name"]]]]]],[12],[1,"\\n                                "],[8,[39,4],[[24,0,"media-artwork-v2--round media-artwork-v2--request-profile-icon"]],[["@artwork","@artworkProfile","@fallbackProfile","@lazyLoad"],[[30,1,["avatarArtwork"]],"profile-request-avatar",[28,[37,5],[[30,1]],null],false]],null],[1,"\\n                                "],[10,0],[14,0,"profile-details"],[12],[1,"\\n                                    "],[10,1],[14,0,"typography-body-tall"],[12],[1,[30,1,["name"]]],[13],[1,"\\n                                    "],[10,1],[14,0,"handle typography-callout"],[12],[1,[30,1,["handle"]]],[13],[1,"\\n                                "],[13],[1,"\\n                                "],[10,0],[14,0,"buttons"],[12],[1,"\\n                                    "],[11,"button"],[24,0,"action accept-request button-reset"],[16,"aria-label",[28,[37,0],["FUSE.Social.AX.AcceptRequest"],[["profileName"],[[30,1,["name"]]]]]],[4,[38,1],["click",[28,[37,6],[[30,0,["acceptRequest"]],[30,1]],null]],null],[12],[1,"\\n                                    "],[13],[1,"\\n                                    "],[11,"button"],[24,0,"action cancel-request button-reset"],[16,"aria-label",[28,[37,0],["FUSE.Social.AX.DeclineRequest"],[["profileName"],[[30,1,["name"]]]]]],[4,[38,1],["click",[28,[37,6],[[30,0,["declineRequest"]],[30,1]],null]],null],[12],[1,"\\n                                    "],[13],[1,"\\n                                "],[13],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n"]],[1]],null],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["profile"],false,["t","on","each","-track-array","amp-artwork/music","fallback-artwork","fn"]]',moduleName:"desktop-music-app/templates/profile-page/pending-approval-modal.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/profile-settings-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"eTESQxc0",block:'[[[11,0],[24,0,"social-dialog-container-bg profile-settings-modal"],[4,[38,0],[[30,0,["loadSettings"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[14,0,"social-dialog-container"],[12],[1,"\\n            "],[11,0],[24,0,"close-button"],[24,"role","button"],[4,[38,1],["click",[30,0,["setListeningToSettings"]]],null],[12],[13],[1,"\\n            "],[10,0],[14,0,"container"],[12],[1,"\\n                "],[10,"h3"],[14,0,"typography-header-emphasized"],[12],[1,[28,[35,2],["FUSE.Social.Profile.Edit.AdditionalPrivacySettings.Title"],null]],[13],[1,"\\n\\n                "],[10,"h4"],[14,0,"typ-label-regular-em"],[12],[1,"\\n                    "],[1,[28,[35,2],["FUSE.Social.Profile.Edit.ShowOnProfile"],null]],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"selection radio-label"],[12],[1,"\\n                    "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n                        "],[10,1],[14,0,"dt-flex-item"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Profile.Edit.ListeningTo.Title"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"input-container"],[12],[1,"\\n                            "],[10,0],[14,0,"round"],[12],[1,"\\n                                "],[11,"input"],[24,0,"select-option"],[16,"checked",[30,0,["listeningToSetting"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,0,["toggleListeningToSetting"]]],null],[12],[13],[1,"\\n"],[1,"                                "],[10,"label"],[14,"for","checkbox"],[12],[13],[1,"\\n"],[1,"                            "],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,2],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,[28,[35,2],["FUSE.Social.Profile.Edit.ListeningTo.Description"],null]],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["did-insert","on","t"]]',moduleName:"desktop-music-app/templates/profile-settings-modal.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/profile",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"8U0a9yE8",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[44,[[30,2,["value"]]],[[[44,[[28,[37,3],["meta/profile"],[["model"],[[30,3]]]]],[[[1,"                    "],[8,[39,4],null,[["@model"],[[30,4]]],null],[1,"\\n"]],[4]]],[1,"\\n                "],[8,[39,5],null,[["@profile"],[[30,3]]],null],[1,"\\n"]],[3]]]],[]],[[[1,"        "],[8,[39,6],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,7],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]]],["@model","resolvedModel","profile","profileMeta"],false,["let","await","if","present","seo-tags","dt-profile","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/profile.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/radio",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"MbiVOgYZ",block:'[[[46,[28,[37,1],null,null],null,null,null],[1,"\\n"]],[],false,["component","-outlet"]]',moduleName:"desktop-music-app/templates/radio.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/radio/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"MzbUkhxT",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[8,[39,3],null,[["@title"],[[28,[37,4],["FUSE.Radio.Pageheader"],null]]],null],[1,"\\n\\n"],[44,[[28,[37,5],[[30,2,["promise"]]],[["list"],[true]]]],[[[41,[51,[30,3,["value"]]],[[[1,"        "],[8,[39,7],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,8],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[44,[[28,[37,1],["grouping/musickit"],[["model"],[[30,3,["value"]]]]]],[[[1,"        "],[8,[39,9],null,null,null],[1,"\\n        "],[8,[39,10],null,[["@featuredContent","@isRadioRoot"],[[30,4,["featuredContentList"]],true]],null],[1,"\\n"]],[4]]]],[3]]]],["baseMeta","@model","resolvedModel","grouping"],false,["let","present","seo-tags","dt-header","t","await","unless","pulse-loading","pulse-spinner","fps-measuring-wrapper","dt-featured-content-root"]]',moduleName:"desktop-music-app/templates/radio/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/radio/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"GjybCgOu",block:'[[[10,0],[14,0,"room page-content padded-page"],[12],[1,"\\n    "],[8,[39,0],null,[["@model"],[[30,1]]],null],[1,"\\n"],[13],[1,"\\n"]],["@model"],false,["radio-see-all"]]',moduleName:"desktop-music-app/templates/radio/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/replay",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"+q/SpNEN",block:'[[[46,[28,[37,1],null,null],null,null,null],[1,"\\n"],[11,0],[24,0,"replay-component-container"],[4,[38,2],[[30,0,["addNavigateEventListener"]],[30,0]],null],[12],[1,"\\n    "],[10,"apple-music-replay"],[15,"feature-name",[30,0,["featureName"]]],[15,"embedded",true],[15,"language",[30,0,["locale","locale"]]],[12],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["component","-outlet","did-insert"]]',moduleName:"desktop-music-app/templates/replay.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/room",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ExRfM8gS",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[44,[[28,[37,1],["room"],[["model"],[[30,0,["model"]]]]]],[[[1,"    "],[8,[39,3],null,[["@room"],[[30,2]]],null],[1,"\\n"]],[2]]]],["baseMeta","room"],false,["let","present","seo-tags","dt-room-page"]]',moduleName:"desktop-music-app/templates/room.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/search-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qiHZ0FUu",block:'[[[1,"    "],[8,[39,0],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n        "],[8,[39,1],null,null,null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[],false,["pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/search-loading.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/search",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"BkSY7eP7",block:'[[[44,[[28,[37,1],["meta/base"],null]],[[[1,"        "],[8,[39,2],null,[["@model"],[[30,1]]],null],[1,"\\n"]],[1]]],[1,"\\n"],[46,[28,[37,4],null,null],null,null,null],[1,"\\n\\n"],[44,[[28,[37,5],[[30,0,["term"]]],null]],[[[41,[30,2],[[[1,"        "],[10,2],[14,0,"typ-label music-version-label"],[12],[1,"\\n            "],[1,[30,2]],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[2]]]],["baseMeta","VERSION"],false,["let","present","seo-tags","component","-outlet","version","if"]]',moduleName:"desktop-music-app/templates/search.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/search/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"TmsvNfXb",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["search-landing"]]',moduleName:"desktop-music-app/templates/search/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/search/see-all",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qM9aVT2Z",block:'[[[8,[39,0],null,[["@room","@pageTitle","@lockups","@isSongList"],[[30,0,["model"]],[28,[37,1],[[28,[37,2],["FUSE.Search.BubbleHeader.",[30,0,["model","name"]]],null]],null],[30,0,["model","results"]],[30,0,["model","isSongList"]]]],null],[1,"\\n"]],[],false,["dt-room-page","t","concat"]]',moduleName:"desktop-music-app/templates/search/see-all.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/show",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"3mv9fdTT",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@model"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]],[1,"\\n"]],["@model","resolvedModel"],false,["let","await","if","dt-show","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/show.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-network-connections/revoke",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"iSq0IhMX",block:'[[[11,0],[24,0,"social-dialog-container-bg"],[4,[38,0],[[30,0,["loadSocialNetworkContact"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[14,0,"social-dialog-container linked-accounts"],[12],[1,"\\n            "],[10,"h1"],[14,0,"social-dialog-container-title typography-large-title-emphasized typography-large-title-emphasized"],[12],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.Header"],null]],[13],[1,"\\n            "],[10,0],[14,0,"social-dialog-container-subhead typ-subhead typography-title-3-tall"],[12],[1,"\\n                "],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.Description"],null]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"social-network-connections-wrapper"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,0,["socialNetworks"]]],null]],null],null,[[[1,"                    "],[10,0],[14,0,"social-network-connection"],[12],[1,"\\n                        "],[8,[39,4],null,[["@artwork","@height","@width","@crop","@role"],[[30,1,["artwork"]],30,30,"cc","presentation"]],null],[1,"\\n                        "],[10,1],[14,0,"network-name typography-title-2"],[12],[1,[30,1,["nameForDisplay"]]],[13],[1,"\\n"],[41,[30,1,["isAuthenticated"]],[[[1,"                            "],[11,"button"],[24,0,"link-button"],[16,"aria-label",[28,[37,1],["FUSE.Social.LinkedAccounts.Disconnect.AriaLabel"],[["socialNetworkName"],[[30,1,["nameForDisplay"]]]]]],[4,[38,6],["click",[28,[37,7],[[30,0,["disconect"]],[30,1]],null]],null],[12],[1,"\\n                                "],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.Disconnect"],null]],[1,"\\n                            "],[13],[1,"\\n"]],[]],[[[1,"\\n                            "],[11,"button"],[24,0,"link-button"],[16,"aria-label",[28,[37,1],["FUSE.Social.LinkedAccounts.SignIn.AriaLabel"],[["socialNetworkName"],[[30,1,["nameForDisplay"]]]]]],[4,[38,6],["click",[28,[37,7],[[30,0,["signIn"]],[30,1]],null]],null],[12],[1,"\\n                                "],[1,[28,[35,1],["FUSE.Social.LinkedAccounts.SignIn"],null]],[1,"\\n                            "],[13],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n"]],[1]],null],[1,"            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"social-dialog-footer bordered"],[12],[1,"\\n                "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n                    "],[11,"button"],[24,0,"button alt default"],[4,[38,6],["click",[30,0,["modal","close"]]],null],[12],[1,"\\n                        "],[1,[28,[35,1],["FUSE.Social.DT.Done"],null]],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["network"],false,["did-insert","t","each","-track-array","media-artwork","if","on","fn"]]',moduleName:"desktop-music-app/templates/social-network-connections/revoke.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/find-friends",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"vrFzo9Eo",block:'[[[8,[39,0],null,[["@dismissModalOnClick","@class","@containerWidth","@containerHeight","@modalRendered"],[false,"social-onboarding find-friends",466,560,[30,0,["loadData"]]]],[["default"],[[[[1,"\\n\\n"],[41,[30,0,["isModalLocationFromProfilePage"]],[[[1,"        "],[10,0],[14,0,"top-nav-header"],[12],[1,"\\n            "],[10,"h2"],[14,0,"typ-subhead-em typography-title-3-emphasized-tall text-align-center"],[12],[1,"\\n                "],[1,[28,[35,2],[[28,[37,3],["FUSE.Social.Onboarding.FindandFollow.Header"],null]],null]],[1,"\\n            "],[13],[1,"\\n            "],[11,"button"],[24,0,"link-button close-button"],[4,[38,4],["click",[30,0,["modal","close"]]],null],[12],[1,"\\n                "],[1,[28,[35,3],["Close"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[30,1,["body"]],[[24,0,"consent-onboarding"]],null,[["default"],[[[[1,"\\n"],[41,[51,[30,0,["isModalLocationFromProfilePage"]]],[[[1,"            "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized"],[12],[1,[28,[35,2],[[28,[37,3],["FUSE.Social.Onboarding.FindandFollow.Header"],null]],null]],[13],[1,"\\n"]],[]],null],[41,[30,0,["hasFriends"]],[[[1,"            "],[10,0],[14,0,"search-box"],[12],[1,"\\n                "],[10,1],[14,0,"search-glyph"],[12],[13],[1,"\\n                "],[11,"input"],[24,0,"search-input"],[16,2,[30,0,["searchTerm"]]],[16,"placeholder",[28,[37,3],["FUSE.Social.Onboarding.FindandFollow.Search"],null]],[24,4,"text"],[4,[38,4],["input",[30,0,["setSearchTerm"]]],null],[12],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldDisplayNetworkList"]],[[[1,"            "],[8,[39,6],null,[["@networks","@connectNetwork"],[[30,0,["socialNetworks"]],[30,0,["connectNetwork"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasFriends"]],[[[41,[30,0,["onboardedContacts","length"]],[[[1,"                "],[8,[39,7],null,[["@titleKey","@items","@showTitle","@searchByTerm","@isOnboarding"],["FUSE.Social.Onboarding.FindandFollow.Contacts.Header1",[30,0,["onboardedContacts"]],[30,0,["showTitle"]],[30,0,["searchTerm"]],[30,0,["model","isOnboarding"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["invites","length"]],[[[1,"                "],[8,[39,7],null,[["@titleKey","@items","@showInvite","@showTitle","@searchByTerm","@isOnboarding"],["FUSE.Social.Onboarding.FindandFollow.Contacts.Invite",[30,0,["invites"]],true,[30,0,["showTitle"]],[30,0,["searchTerm"]],[30,0,["model","isOnboarding"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[28,[37,8],[[28,[37,9],[[30,0,["hasFriends"]]],null],[28,[37,9],[[30,0,["isInitializing"]]],null]],null],[[[1,"            "],[10,0],[14,0,"no-contacts typ-subhead-em typography-title-3-emphasized-tall color-label-secondary"],[12],[1,[28,[35,3],["FUSE.Social.NoContactsFound"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isInitializing"]],[[[1,"            "],[8,[39,10],null,null,null],[1,"\\n"]],[]],null],[1,"    "]],[]]]]],[1,"\\n\\n"],[41,[28,[37,11],[[30,0,["model","location"]],"forYou"],null],[[[1,"        "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n            "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n                "],[11,"button"],[24,0,"button alt back"],[4,[38,4],["click",[28,[37,12],[[30,0,["modal","open"]],"social-onboarding.setup-profile"],null]],null],[12],[1,"\\n                    "],[1,[28,[35,3],["Back"],null]],[1,"\\n                "],[13],[1,"\\n                "],[11,"button"],[24,0,"button alt regular"],[4,[38,4],["click",[28,[37,12],[[30,0,["modal","open"]],"social-onboarding.sharing-configuration"],null]],null],[12],[1,"\\n                    "],[1,[28,[35,3],["FUSE.Social.Onboarding.Continue.CTA"],null]],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null]],[1]]]]]],["modal"],false,["dt-modal-container","if","untrusted-html","t","on","unless","dt-social-networks-list","dt-profile-row","and","not","pulse-spinner","eq","fn"]]',moduleName:"desktop-music-app/templates/social-onboarding/find-friends.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qUywESv3",block:'[[[8,[39,0],null,null,null],[1,"\\n\\n"],[11,0],[24,0,"social-dialog-container-bg welcome"],[4,[38,1],[[30,0,["getABTestingData"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[15,0,[29,["social-dialog-container ",[30,0,["viewType"]]]]],[12],[1,"\\n            "],[10,0],[14,0,"onboarding-index"],[12],[1,"\\n"],[41,[51,[30,0,["pageData","welcomeScreen","actionTexts","length"]]],[[[1,"                    "],[11,"button"],[24,0,"button-reset link-button not-now typography-title-3-tall"],[4,[38,3],["click",[30,0,["modal","close"]]],null],[12],[1,[28,[35,4],["FUSE.NotNow"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["pageData","welcomeScreen","artwork"]],[[[1,"                    "],[8,[39,6],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--welcome media-artwork-v2--no-border media-artwork-v2--not-round"]],[["@alt","@lazyLoad","@bgColor","@artwork","@artworkProfile"],[[30,0,["pageData","welcomeScreen","title"]],false,"transparent",[30,0,["pageData","welcomeScreen","artwork"]],"welcome-screen-artwork"]],null],[1,"\\n"]],[]],null],[1,"\\n                "],[10,0],[14,0,"text-content"],[12],[1,"\\n                    "],[10,"h1"],[14,0,"typography-header-emphasized social-dialog-title"],[12],[1,[30,0,["pageData","welcomeScreen","title"]]],[13],[1,"\\n\\n"],[41,[30,0,["pageData","welcomeScreen","description"]],[[[1,"                        "],[10,2],[14,0,"typography-title-2"],[12],[1,[30,0,["pageData","welcomeScreen","description"]]],[13],[1,"\\n"]],[]],null],[1,"\\n"],[42,[28,[37,8],[[28,[37,8],[[30,0,["pageData","welcomeScreen","paragraphs"]]],null]],null],null,[[[1,"                        "],[10,0],[14,0,"typ-subhead-em typography-title-3-emphasized-tall definition-name"],[12],[1,[30,1,["subtitle"]]],[13],[1,"\\n                        "],[10,0],[14,0,"typ-subhead typography-title-3-tall"],[12],[1,[30,1,["description"]]],[13],[1,"\\n"]],[1]],null],[1,"                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"social-dialog-footer consent-footer"],[12],[1,"\\n"],[41,[30,0,["pageData","welcomeScreen","actionTexts","length"]],[[[1,"                "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n                    "],[11,"button"],[24,0,"button alt back"],[4,[38,3],["click",[30,0,["modal","close"]]],null],[12],[1,"\\n                        "],[1,[30,0,["pageData","welcomeScreen","actionTexts","lastObject"]]],[1,"\\n                    "],[13],[1,"\\n                    "],[11,"button"],[24,0,"button alt default regular"],[4,[38,3],["click",[30,0,["goToSetupProfile"]]],null],[12],[1,"\\n                        "],[1,[30,0,["pageData","welcomeScreen","actionTexts","firstObject"]]],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[11,"button"],[24,0,"button alt default regular"],[4,[38,3],["click",[30,0,["goToSetupProfile"]]],null],[12],[1,"\\n                    "],[1,[30,0,["pageData","welcomeScreen","actionText"]]],[1,"\\n                "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["paragraphs"],false,["loading-outlet","did-insert","unless","on","t","if","amp-artwork/music","each","-track-array"]]',moduleName:"desktop-music-app/templates/social-onboarding/index.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/notifications",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"pwI052hg",block:'[[[8,[39,0],null,[["@dismissModalOnClick","@class","@containerWidth","@containerHeight"],[false,"social-onboarding notification",466,560]],[["default"],[[[[1,"\\n\\n    "],[8,[30,1,["body"]],[[24,0,"social-dialog-container"]],null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized"],[12],[1,"\\n            "],[1,[28,[35,1],[[28,[37,2],["FUSE.Social.Onboarding.GetNotifications.Header"],null]],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"user-details-section section-margin"],[12],[1,"\\n            "],[10,"section"],[14,0,"config-section"],[12],[1,"\\n                "],[11,0],[16,0,[29,["dt-flex-container button-reset detail-item private ",[52,[30,0,["enableFriendsNotifications"]],"selected"]]]],[4,[38,4],["click",[28,[37,5],[[30,0,["select"]],"enableFriendsNotifications"],null]],null],[12],[1,"\\n                    "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                        "],[10,0],[14,1,"ax-notifications-friends-title"],[14,0,"profile-type typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.Friends.Header"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,1,"ax-notifications-friends-sub-title"],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.Friends.Description"],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[14,"role","checkbox"],[14,"aria-labelledby","ax-notifications-friends-title"],[14,"aria-describedby","ax-notifications-friends-sub-title"],[15,"aria-checked",[28,[37,6],["",[30,0,["enableFriendsNotifications"]]],null]],[12],[1,"\\n                        "],[10,0],[14,0,"select-checkmark checkbox"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"section"],[14,0,"config-section"],[12],[1,"\\n                "],[11,0],[16,0,[29,["dt-flex-container button-reset detail-item private ",[52,[30,0,["enableArtistsNotifications"]],"selected"]]]],[4,[38,4],["click",[28,[37,5],[[30,0,["select"]],"enableArtistsNotifications"],null]],null],[12],[1,"\\n                    "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                        "],[10,0],[14,1,"ax-notifications-artists-title"],[14,0,"profile-type typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.Artists.Header"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,1,"ax-notifications-artists-sub-title"],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.Artists.Description"],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[14,"role","checkbox"],[14,"aria-labelledby","ax-notifications-artists-title"],[14,"aria-describedby","ax-notifications-artists-sub-title"],[15,"aria-checked",[28,[37,6],["",[30,0,["enableArtistsNotifications"]]],null]],[12],[1,"\\n                        "],[10,0],[14,0,"select-checkmark checkbox"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"typ-label-small typography-subhead disclaimer"],[12],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.Disclaimer"],null]],[13],[1,"\\n\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"button-container padded"],[12],[1,"\\n            "],[11,"button"],[24,0,"button alt regular"],[4,[38,4],["click",[30,0,["setupNotifications"]]],null],[12],[1,"\\n                "],[1,[28,[35,2],["FUSE.Social.Onboarding.GetNotifications.CTA"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]]],["modal"],false,["dt-modal-container","untrusted-html","t","if","on","fn","concat"]]',moduleName:"desktop-music-app/templates/social-onboarding/notifications.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/setup-profile",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"x1QsKbqu",block:'[[[8,[39,0],null,null,null],[1,"\\n\\n"],[11,0],[24,0,"social-dialog-container-bg"],[4,[38,1],[[30,0,["modalRendered"]]],null],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[14,0,"social-dialog-container"],[12],[1,"\\n            "],[11,"button"],[24,0,"button-reset link-button not-now typ-subhead typography-title-3-tall"],[4,[38,2],["click",[30,0,["modal","close"]]],null],[12],[1,[28,[35,3],["FUSE.NotNow"],null]],[13],[1,"\\n            "],[10,"h1"],[14,0,"typography-header-emphasized social-dialog-header"],[12],[1,"\\n                "],[1,[28,[35,3],["FUSE.Social.Onboarding.FindYou.Header"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[24,0,"button-reset social-profile-avatar-edit section-margin"],[4,[38,2],["click",[30,0,["editProfileImage"]]],null],[12],[1,"\\n"],[41,[30,0,["profileArtwork"]],[[[1,"                    "],[10,0],[14,0,"social-profile-avatar-edit-image"],[12],[1,"\\n                        "],[8,[39,5],[[24,0,"media-artwork-v2--fullwidth media-artwork-v2--round"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile","@alt"],[false,[30,0,["profileArtwork"]],"friend",[28,[37,6],["socialProfile"],null],[28,[37,3],["FUSE.VO.MyAccountButtonLabel"],null]]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[1,"                    "],[8,[39,7],null,null,null],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"user-details-section section-margin"],[12],[1,"\\n                "],[10,0],[14,0,"user-name detail-item"],[12],[1,"\\n                    "],[10,"label"],[14,0,"description typ-headline2-em typography-title-2-emphasized"],[14,"for","profileName"],[12],[1,"\\n                        "],[1,[28,[35,3],["FUSE.Social.Onboarding.FindYou.NameField"],null]],[1,"\\n                    "],[13],[1,"\\n                    "],[8,[39,8],null,[["@id","@value","@class","@placeholder"],["profileName",[30,0,["profileName"]],"profile-input typ-headline2 typography-title-2",[28,[37,3],["FUSE.Settings.GhostText.Required"],null]]],null],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"user-handle detail-item"],[12],[1,"\\n                    "],[10,"label"],[14,0,"description typ-headline2-em typography-title-2-emphasized"],[14,"for","profileHandle"],[12],[1,"\\n                        "],[1,[28,[35,3],["FUSE.Social.Onboarding.FindYou.UserNameField"],null]],[1,"\\n                    "],[13],[1,"\\n                    "],[8,[39,9],[[24,1,"profileHandle"],[16,"placeholder",[28,[37,3],["FUSE.Settings.GhostText.Required"],null]],[24,"maxlength","50"],[24,0,"profile-input typ-headline2 typography-title-2 profile-handle"],[4,[38,2],["userhandlechanged",[30,0,["onHandleChange"]]],null]],[["@userHandle"],[[30,0,["profileHandle"]]]],null],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,0,["errorMessage"]],[[[1,"                "],[10,1],[14,0,"typ-label typography-body-tall clr-system-red"],[12],[1,[30,0,["errorMessage"]]],[13],[1,"\\n"]],[]],null],[1,"\\n            "],[10,0],[14,0,"gdpr"],[12],[1,"\\n                "],[10,0],[14,0,"gdpr-icon"],[12],[13],[1,"\\n                "],[10,2],[14,0,"gdpr-text typography-body-tall"],[12],[1,[28,[35,3],["FUSE.Social.GDPR.Footer"],null]],[13],[1,"\\n                "],[11,"button"],[24,0,"link-button typography-body-tall gdpr-link"],[4,[38,2],["click",[30,0,["handleGDPRLink"]]],null],[12],[1,[28,[35,3],["FUSE.Social.GDPR.LinkName"],null]],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"social-dialog-footer"],[12],[1,"\\n                "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n                    "],[11,"button"],[16,"disabled",[28,[37,10],[[30,0,["isLoading"]],[30,0,["isInvalidInput"]]],null]],[24,0,"button alt regular"],[4,[38,2],["click",[30,0,["setupProfile"]]],null],[12],[1,"\\n"],[41,[30,0,["isLoading"]],[[[1,"                            "],[8,[39,11],null,null,null],[1,"\\n"]],[]],[[[1,"                            "],[1,[28,[35,3],["FUSE.Social.FindContacts.CTA"],null]],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,["loading-outlet","did-insert","on","t","if","amp-artwork/music","fallback-artwork","upload-avatar-prompt-image","input","dt-user-handle-input","or","pulse-spinner"]]',moduleName:"desktop-music-app/templates/social-onboarding/setup-profile.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/sharing-configuration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"55yUEVyM",block:'[[[8,[39,0],null,null,null],[1,"\\n\\n"],[10,0],[14,0,"social-dialog-container-bg"],[12],[1,"\\n    "],[10,0],[14,0,"social-dialog-content"],[12],[1,"\\n        "],[10,0],[14,0,"social-dialog-container"],[12],[1,"\\n            "],[10,"h1"],[14,0,"typography-header-emphasized social-dialog-header"],[12],[1,"\\n                "],[1,[28,[35,1],[[28,[37,2],["FUSE.Social.Onboarding.HowYouShare.Header"],null]],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"user-details-section section-margin"],[12],[1,"\\n                "],[11,"button"],[16,0,[29,["dt-flex-container button-reset detail-item privacy ",[52,[28,[37,4],[[30,0,["selectedOption"]],"public"],null],"selected"]]]],[4,[38,5],["click",[30,0,["setPublic"]]],null],[12],[1,"\\n                    "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                        "],[10,0],[14,0,"profile-type typ-headline2-em typography-title-2-emphasized"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.HowYouShare.SubHeader1"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.HowYouShare.SubDescription1"],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[12],[1,"\\n                        "],[10,0],[14,0,"select-radio dt-flex-item radiobox"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n                "],[11,"button"],[16,0,[29,["dt-flex-container button-reset detail-item privacy ",[52,[28,[37,4],[[30,0,["selectedOption"]],"private"],null],"selected"]]]],[4,[38,5],["click",[30,0,["setPrivate"]]],null],[12],[1,"\\n                    "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                        "],[10,0],[14,0,"profile-type typ-headline2-em typography-title-2-emphasized"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.HowYouShare.SubHeader2"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"typ-label typography-body-tall"],[12],[1,"\\n                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.HowYouShare.SubDescription2"],null]],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[12],[1,"\\n                        "],[10,0],[14,0,"select-radio dt-flex-item radiobox"],[12],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,"section"],[14,0,"config-section"],[12],[1,"\\n                    "],[10,"h4"],[14,0,"config-section-header typ-label-small-em typography-subhead-emphasized"],[12],[1,"\\n                        "],[1,[28,[35,2],["FUSE.Social.ContactsConsent.Onboarding.FriendRecommendation.Header"],null]],[1,"\\n                    "],[13],[1,"\\n\\n                    "],[11,"button"],[16,0,[29,["dt-flex-container button-reset detail-item private ",[52,[30,0,["enableContactsConsent"]],"selected"]]]],[24,"role","checkbox"],[16,"aria-checked",[28,[37,6],["",[30,0,["enableContactsConsent"]]],null]],[4,[38,5],["click",[28,[37,7],[[30,0,["toggleProperty"]],"enableContactsConsent"],null]],null],[12],[1,"\\n                        "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                            "],[10,0],[14,0,"profile-type typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,"\\n                                "],[1,[28,[35,2],["FUSE.Social.ContactsConsent.Onboarding.Title"],null]],[1,"\\n                            "],[13],[1,"\\n                            "],[10,0],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                                "],[1,[28,[35,2],["FUSE.Social.ContactsConsent.Onboarding.Subtitle"],null]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[12],[1,"\\n                            "],[10,0],[14,0,"select-checkmark checkbox"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,"section"],[14,0,"config-section"],[12],[1,"\\n                    "],[11,"button"],[16,0,[29,["dt-flex-container button-reset detail-item private ",[52,[30,0,["enableDiscoverableByContact"]],"selected"]]]],[24,"role","checkbox"],[16,"aria-checked",[28,[37,6],["",[30,0,["enableDiscoverableByContact"]]],null]],[4,[38,5],["click",[28,[37,7],[[30,0,["toggleProperty"]],"enableDiscoverableByContact"],null]],null],[12],[1,"\\n                        "],[10,0],[14,0,"dt-flex-item grow-1"],[12],[1,"\\n                            "],[10,0],[14,0,"profile-type typ-subhead-em typography-title-3-emphasized-tall"],[12],[1,"\\n                                "],[1,[28,[35,2],["FUSE.Social.ContactsConsent.Onboarding.AllowFinding.Title"],null]],[1,"\\n                            "],[13],[1,"\\n                            "],[10,0],[14,0,"typ-label typography-body-tall color-label-secondary"],[12],[1,"\\n                                "],[1,[30,0,["socialProfile","consentDescription"]]],[1,"\\n                            "],[13],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"dt-flex-container direction-column content-center"],[12],[1,"\\n                            "],[10,0],[14,0,"select-checkmark checkbox"],[12],[13],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"social-dialog-footer consent-footer"],[12],[1,"\\n                "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n                    "],[11,"button"],[24,0,"button alt back"],[4,[38,5],["click",[30,0,["goToFindFriends"]]],null],[12],[1,"\\n                        "],[1,[28,[35,2],["Back"],null]],[1,"\\n                    "],[13],[1,"\\n\\n                    "],[11,"button"],[16,"disabled",[30,0,["isLoading"]]],[24,0,"button alt regular"],[4,[38,5],["click",[30,0,["setupSharing"]]],null],[12],[1,"\\n"],[41,[30,0,["isLoading"]],[[[1,"                            "],[8,[39,8],null,null,null],[1,"\\n"]],[]],[[[1,"                            "],[1,[28,[35,2],["FUSE.Social.Onboarding.Continue.CTA"],null]],[1,"\\n"]],[]]],[1,"                    "],[13],[1,"\\n                "],[13],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],[],false,["loading-outlet","untrusted-html","t","if","eq","on","concat","fn","pulse-spinner"]]',moduleName:"desktop-music-app/templates/social-onboarding/sharing-configuration.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/social-onboarding/sharing-playlists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"mvrMDbhK",block:'[[[8,[39,0],null,null,null],[1,"\\n\\n"],[8,[39,1],null,[["@dismissModalOnClick","@class","@containerWidth","@containerHeight","@containerPadding","@modalRendered"],[false,"sharing-playlists social-onboarding",466,560,32,[30,0,["modalRendered"]]]],[["default"],[[[[1,"\\n\\n    "],[8,[30,1,["body"]],[[24,0,"user-details-section"]],null,[["default"],[[[[1,"\\n        "],[11,"button"],[24,0,"link-button typography-title-3-tall"],[4,[38,2],["click",[30,0,["hideAllPlaylists"]]],null],[12],[1,"\\n            "],[1,[28,[35,3],["FUSE.Social.Onboarding.SharePlaylists.HideAll"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,"h1"],[14,0,"typ-title-em typography-header-emphasized"],[12],[1,[28,[35,3],["FUSE.Social.Onboarding.SharePlaylists.Header"],null]],[13],[1,"\\n\\n"],[41,[30,0,["isInitializing"]],[[[1,"            "],[8,[39,5],null,null,null],[1,"\\n"]],[]],[[[1,"            "],[10,"ul"],[14,0,"item-list"],[12],[1,"\\n"],[42,[28,[37,7],[[28,[37,7],[[30,0,["playlists"]]],null]],null],null,[[[1,"                    "],[10,"li"],[14,0,"playlist-lockup item"],[12],[1,"\\n                        "],[10,0],[14,0,"vertical-center-container artwork-"],[12],[1,"\\n                            "],[8,[39,8],[[24,0,"media-artwork-v2__sharing-playlists"]],[["@lazyLoad","@artwork","@artworkProfile","@fallbackProfile"],[false,[30,2,["artwork"]],"profile-playlist-share",[28,[37,9],[[30,2]],null]]],null],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"typ-subhead typography-title-3-tall product-details vertical-center-container grow"],[12],[1,"\\n                            "],[1,[30,2,["name"]]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,0],[14,0,"checkbox-container vertical-center-container"],[12],[1,"\\n"],[1,"                            "],[8,[39,10],[[16,"checked",[30,2,["isPublic"]]],[24,4,"checkbox"]],[["@class"],["product-checkbox"]],null],[1,"\\n                        "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[2]],null],[1,"            "],[13],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n\\n    "],[8,[30,1,["footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"button-nav-buttons"],[12],[1,"\\n            "],[11,"button"],[24,0,"button alt back"],[4,[38,2],["click",[28,[37,11],[[30,0,["modal","open"]],"social-onboarding.sharing-configuration"],null]],null],[12],[1,"\\n                "],[1,[28,[35,3],["Back"],null]],[1,"\\n            "],[13],[1,"\\n            "],[11,"button"],[16,"disabled",[30,0,["isLoading"]]],[24,0,"button alt default"],[4,[38,2],["click",[30,0,["savePlaylistsState"]]],null],[12],[1,"\\n"],[41,[30,0,["isLoading"]],[[[1,"                    "],[8,[39,5],null,null,null],[1,"\\n"]],[]],[[[1,"                    "],[1,[28,[35,3],["FUSE.Social.Onboarding.Continue.CTA"],null]],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n        "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[1]]]]]],["modal","lockup"],false,["loading-outlet","dt-modal-container","on","t","if","pulse-spinner","each","-track-array","amp-artwork/music","fallback-artwork","input","fn"]]',moduleName:"desktop-music-app/templates/social-onboarding/sharing-playlists.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/station",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"NEy2v7/Q",block:'[[[44,[[28,[37,1],[[30,1,["promise"]]],null]],[[[41,[30,2,["value"]],[[[1,"        "],[8,[39,3],null,[["@station"],[[30,2,["value"]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],[[24,0,"view-loading"]],null,[["default"],[[[[1,"\\n            "],[8,[39,5],null,null,null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[2]]],[1,"\\n"]],["@model","resolvedModel"],false,["let","await","if","dt-station","pulse-loading","pulse-spinner"]]',moduleName:"desktop-music-app/templates/station.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/templates/terms",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"79bKm8NV",block:'[[[10,0],[14,0,"terms-page"],[12],[1,"\\n    "],[10,0],[14,0,"header"],[12],[1,"\\n        "],[10,"h1"],[14,0,"typography-header-emphasized title"],[12],[1,"\\n            "],[1,[28,[35,0],["FUSE.Terms.Title"],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,2],[14,0,"secure-connection"],[12],[1,"\\n            "],[1,[28,[35,0],["SecureConnection"],null]],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"terms-text paragraphs"],[12],[1,"\\n        "],[1,[30,1,["termsContentText"]]],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"actions"],[12],[1,"\\n        "],[10,0],[14,0,"agreement paragraphs"],[12],[1,"\\n            "],[11,3],[24,6,"#"],[4,[38,1],["click",[30,0,["printableTermsLink"]]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Terms.PrintableVersion"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"label"],[14,0,"agreement-checkbox"],[12],[1,"\\n                "],[8,[39,2],null,[["@type","@checked"],["checkbox",[30,0,["termsAgreed"]]]],null],[1,"\\n                "],[1,[28,[35,0],["FUSE.Terms.AgreeToTermsText"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"buttons"],[12],[1,"\\n            "],[11,"button"],[24,0,"button small"],[4,[38,1],["click",[30,0,["cancel"]]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.CancelButton"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[11,"button"],[24,0,"button small"],[16,"disabled",[30,0,["hasNotAgreed"]]],[4,[38,1],["click",[30,0,["agree"]]],null],[12],[1,"\\n                "],[1,[28,[35,0],["FUSE.Agree"],null]],[1,"\\n            "],[13],[1,"\\n        "],[13],[1,"\\n    "],[13],[1,"\\n"],[13]],["@model"],false,["t","on","input"]]',moduleName:"desktop-music-app/templates/terms.hbs",isStrictMode:!1})
e.default=t})),define("desktop-music-app/utils/alt-tag",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e||!t)return{key:"",config:""}
const i=Ember.get(t,"name")
let r,n
switch(e){case"playlist":r="FUSE.VO.PlaylistFCArtworkLabel",n={content:i,curator:Ember.get(t,"curatorName")||"Apple Music"}
break
case"radioStation":r="FUSE.VO.RadioFCArtworkLabel",n={content:i}
break
case"artist":r="FUSE.VO.ArtistFCArtworkLabel",n={artist:i}
break
case"iTunesBrand":case"showBrand":case"brand":r="FUSE.VO.CuratorFCArtworkLabel",n={curator:i}
break
default:r="FUSE.VO.GenericFCArtworkLabel",n={content:i,artist:Ember.get(t,"artistName")}}return{key:r,config:n}}})),define("desktop-music-app/utils/amp-bidi",["exports","ember-ui-bidi-text/utils/amp-bidi"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/utils/app-tab-links",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.findLinkForRoute=function(e){return r=function(){return i}(),r[e]}
const i={"browse.index":{id:"music",url:"https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewGrouping?cc=us&id=1",page:"grouping",routeName:"browse.index"},radio:{id:"radio",url:"https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewGrouping?cc=us&id=168577",page:"grouping",routeName:"radio.index"},"radio.index":{id:"radio",url:"https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewGrouping?cc=us&id=168577",page:"grouping",routeName:"radio.index"}}
let r=Object.create(null)})),define("desktop-music-app/utils/are-all-music-videos",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.every((e=>"musicVideo"===Ember.get(e,"playParams.kind")))&&e.length}})),define("desktop-music-app/utils/artwork-config",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ARTWORK_PRESETS=void 0
const t={height:160,width:160,crop:"bb"},i={height:160,width:160,crop:"sr"},r={height:160,width:160,crop:"cc"},n={height:190,width:340,crop:"bb"},o={height:44,width:44,crop:"bb"},l={height:44,width:44,crop:"cc"},a={height:40,width:70,crop:"bb"},s={height:160,width:160,crop:"bb"},u={height:160,width:160,crop:"bb"},c={height:340,width:340,crop:"cc"},d={height:80,width:80,crop:"bb"},p={height:80,width:80,crop:"cc"},m={height:80,width:124,crop:"bb"},b=1.15,f={height:Math.round(t.height*b),width:Math.round(t.width*b),crop:t.crop},h={height:Math.round(i.height*b),width:Math.round(i.width*b),crop:i.crop},g={height:Math.round(n.height*b),width:Math.round(n.width*b),crop:n.crop},y={height:Math.round(u.height*b),width:Math.round(u.width*b),crop:u.crop},v={standardLockup:{album:t,socialProfile:i,artist:r,brand:t,default:t,activity:t,iTunesBrand:t,linear:s,nonLinear:s,radioStation:r,playlist:r,song:t,uploadedAudio:r,movie:u,musicVideo:n,moreToSeeMovie:{height:n.height,width:n.width,crop:n.crop,artworkPath:"editorialArtwork.browseCover"},uploadedVideo:n,tvEpisode:{height:190,width:340,crop:"sr"},showBrand:t,customPlaylist:c},standardListLockup:{album:o,artist:l,brand:o,activity:o,iTunesBrand:o,movie:{height:160,width:120,crop:"bb"},radioStation:l,playlist:l,song:o,showBrand:{height:160,width:160,crop:"bb"},tvEpisode:{height:40,width:70,crop:"sr"},uploadedAudio:l,musicVideo:a,uploadedVideo:a},artistListLockup:{song:{height:48,width:48,crop:"bb"}},topResultsArtworkConfig:{activity:d,album:d,artist:p,brand:d,iTunesBrand:d,musicVideo:m,radioStation:p,playlist:p,song:d,uploadedAudio:p,uploadedVideo:m,linear:m,nonLinear:m,movie:{height:80,width:52,crop:"bb"},showBrand:d,tvEpisode:m,label:p},responsiveLockup:{album:f,socialProfile:h,artist:f,brand:f,activity:f,iTunesBrand:f,tvEpisode:f,showBrand:f,moreToSeeMovie:{height:g.height,width:g.width,crop:g.crop,artworkPath:"editorialArtwork.browseCover"},moreToSeeTVEpisode:g,movie:y,radioStation:{height:f.height,width:f.width,crop:"cc"},playlist:{height:f.height,width:f.width,crop:"cc"},customPlaylist:{height:f.height,width:f.width,crop:"cc"},song:f,uploadedAudio:{height:f.height,width:f.width,crop:"cc"},musicVideo:g,uploadedVideo:g},productLockup:{default:{height:340,width:340,crop:"bb"},playlist:c},masterLockup:{default:{height:340,width:340,crop:"cc"},musicVideo:{height:300,width:520,crop:"bb"}}}
e.ARTWORK_PRESETS=v})),define("desktop-music-app/utils/artwork",["exports","desktop-music-app/config/artwork-profiles"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.addCropCodePlaceholder=function(e){if(e)return e.replace(/(?:[a-z]{2})\.(jpeg|png|jpg)$/,"{c}.$1")},e.addWidthHeightCropPlaceholder=function(e){if(e)return e.replace(/(?:\d+x\d+)(?:[a-z]{2})\.(jpeg|png|jpg)$/,"{w}x{h}{c}.$1")},Object.defineProperty(e,"findNearestArtworkConfig",{enumerable:!0,get:function(){return t.findNearestArtworkConfig}})})),define("desktop-music-app/utils/async-for-each",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(e,t){for(let i=0;i<e.length;i++){const r=await e.objectAt(i)
t(r,i,e)}}})),define("desktop-music-app/utils/breakpoints",["exports"],(function(e){function t(e){const{min:t,max:i}=e
return t&&!i?`(min-width:${t}px)`:!t&&i?`(max-width:${i}px)`:t&&i?`(min-width:${t}px) and (max-width:${i}px)`:void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.createEmberResponsiveQueries=function(e){const i={}
for(const[r,n]of Object.entries(e))i[r]=t(n)
return i},e.createViewports=function(e,{only:i}={}){let r=Object.entries(e)
if(i){const e=r.map((([e])=>e)),t=i.map((t=>e.indexOf(t))),n=Math.max(Math.min(...t),0),o=Math.min(Math.max(...t,0),e.length)
r=r.slice(n,o+1)}return r.map((([e,i],n)=>{const o=0===n,l=n===r.length-1,a={min:o?null:i.min,max:l?null:i.max}
return{name:e,mediaQuery:i.min&&!o?`(min-width:${a.min}px)`:null,mediaQueryStrict:l?null:t(a)}}))}}))
define("desktop-music-app/utils/cache-control",["exports","@amp/foundation/-internals/cache-control"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i{constructor(e){this._inner=e instanceof t.CacheControl?e:new t.CacheControl(...arguments)}static parse(){return new i(t.CacheControl.parse(...arguments))}get mustRevalidate(){return this._inner.mustRevalidate}get noCache(){return this._inner.noCache}get noStore(){return this._inner.noStore}get noTransform(){return this._inner.noTransform}get isPublic(){return this._inner.isPublic}get isPrivate(){return this._inner.isPrivate}get proxyRevalidate(){return this._inner.proxyRevalidate}get maxAge(){return this._inner.maxAge}get sharedMaxAge(){return this._inner.sharedMaxAge}toString(){return[this.mustRevalidate?"must-revalidate":null,this.noCache?"no-cache":null,this.noStore?"no-store":null,this.noTransform?"no-transform":null,this.isPublic?"public":null,this.isPrivate?"private":null,this.proxyRevalidate?"proxy-revalidate":null,"number"==typeof this.maxAge?`max-age=${this.maxAge}`:null,"number"==typeof this.sharedMaxAge?`s-maxage=${this.sharedMaxAge}`:null].filter(Boolean).join(", ")}reconcile(e){const t=this.isPrivate||e.isPrivate
return new i(this.mustRevalidate||e.mustRevalidate,this.noCache||e.noCache,this.noStore||e.noStore,this.noTransform||e.noTransform,(this.isPublic||e.isPublic)&&!t,t,this.proxyRevalidate||e.proxyRevalidate,r(this.maxAge,e.maxAge),r(this.sharedMaxAge,e.sharedMaxAge))}withoutNoTransform(){return new i(this.mustRevalidate,this.noCache,this.noStore,!1,this.isPublic,this.isPrivate,this.proxyRevalidate,this.maxAge,this.sharedMaxAge)}}function r(e,t){return"number"==typeof e&&"number"==typeof t?Math.min(e,t):"number"==typeof e?e:t}e.default=i})),define("desktop-music-app/utils/calculate-position",["exports","ember-basic-dropdown/utils/calculate-position"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/utils/campaign-referrals",["exports","desktop-music-app/utils/route-info-to-transition-args","desktop-music-app/utils/url","@amp/affiliate-util"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.handleCampaignReferrals=async function(e,n){var o,l
Ember.debug("[campaign] checking for campaign tokens")
let a,s
if(n.intent.queryParams||null!==(o=n.intent.router)&&void 0!==o&&null!==(l=o.state)&&void 0!==l&&l.queryParams){const i=Ember.getOwner(e).lookup("router:main"),r=(0,t.routeInfoToTransitionArgs)(n.to),o=i._routerMicrolib.generate(...r)
a=`https://music.apple.com${o}`}else a=n.intent.url
try{s=await(0,r.default)(a,{ignoreMarketing:!0})}catch(d){Ember.debug(`[campaign] ${d}`)}if(!s)return
Ember.debug(`[campaign] redirecting ${a} to ${s}`)
const u=new i.default(s),c=`${u.pathname}${u.search}`
return Ember.debug(`[campaign] transitioning to ${c}`),"/deeplink"===u.pathname?void 0:n.then((()=>e.transitionTo(c)))},e.METRICS_REGISTER_ENDPOINT=e.PROCESS_REDIRECT_URL_ENDPOINT=void 0
e.PROCESS_REDIRECT_URL_ENDPOINT="https://itunes.apple.com/WebObjects/MZStoreServices.woa/wa/processRedirectUrl"
e.METRICS_REGISTER_ENDPOINT="https://xp.apple.com/register"})),define("desktop-music-app/utils/constants",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SHOW_YEAR_SECTION_NAMES=e.NO_AMF_STOREFRONTS=e.UPSELL_LEVEL_1_STOREFRONTS=e.ALT_COUNTRY_CODE=e.SEARCH_BUBBLE_TYPES=e.SEARCH_CATEGORY_NAME_MAP=e.SEARCH_BUBBLES_HEADER_MAP=e.NAVIGABLE_ITEM_SELECTOR=e.MTT_QUERY_PARAMS=e.REDIRECTED_CAMPAIGN_QUERY_PARAMS=e.TYPE_TO_ROUTE_MAP=e.PAGE_COMPONENT_TO_ROUTE_MAP_VALUES=e.PAGE_COMPONENT_TO_ROUTE_MAP=e.AMWEB_CATALOG_TYPE_MAPPING=e.AMWEB_KIND_TO_TYPE_MAPPING=e.NON_PLAYABLE_TYPES=e.CAN_ADD_TO_LIBRARY_TYPES=e.AMWEB_TYPE_TO_KIND_MAPPING=e.DEFAULT_TOP_CHART_PARAMS=e.SEARCH_SHELVES_MAP=e.SEARCH_SCOPE_LOCAL_STORAGE_KEY=e.ARTIST_SHELVES_GRID_MAP=e.TOP_CHARTS_UNRANKED_CHART_IDS=e.TOP_CHARTS_SWOOSH_ORDER=e.AMWEB_ARTIST_SHELF_ORDER=e.BEATS_1_TITLE=e.SOCIAL_PROFILE_FALLBACK_COLOR=e.DEFAULT_PLAYLIST_PROVIDER=e.DEFAULT_FALLBACK_COLOR_DARK_MODE=e.DEFAULT_FALLBACK_COLOR=e.FEATURED_DATE_FORMAT=e.RELEASE_DATE_FORMAT=e.LN_RELEASE_DATE_FORMAT=e.GLOBAL_HITS_TOP_CHART_ID=void 0
e.GLOBAL_HITS_TOP_CHART_ID="119"
e.LN_RELEASE_DATE_FORMAT={month:"long",day:"numeric"}
e.RELEASE_DATE_FORMAT={year:"numeric",month:"long",day:"numeric"}
e.FEATURED_DATE_FORMAT={year:"numeric",month:"short",day:"numeric"}
e.DEFAULT_FALLBACK_COLOR="cccccc"
e.DEFAULT_FALLBACK_COLOR_DARK_MODE="262626"
e.DEFAULT_PLAYLIST_PROVIDER="Apple Music"
e.SOCIAL_PROFILE_FALLBACK_COLOR="ffffff"
e.BEATS_1_TITLE="Beats 1"
e.AMWEB_ARTIST_SHELF_ORDER=["featuredAlbums","albums","musicVideos","playlists","singles","liveAlbums","compilationAlbums","appearsOnAlbums","featuredOnAlbums","moreToHear","moreToSee"]
e.TOP_CHARTS_SWOOSH_ORDER=["songs","cityCharts","dailyGlobalTopCharts","playlists","albums","music-videos"]
e.TOP_CHARTS_UNRANKED_CHART_IDS=["cityCharts","dailyGlobalTopCharts"]
e.ARTIST_SHELVES_GRID_MAP={featuredAlbums:"C",albums:"G",musicVideos:"C",playlists:"C",singles:"G",similarArtists:"H"}
e.SEARCH_SCOPE_LOCAL_STORAGE_KEY="music-app-pref:searchIn"
e.SEARCH_SHELVES_MAP={album:"G",artist:"H",artistStation:"G",auc:"C",brand:"H",categories:"G",movie:"C",musicGenre:"G",musicPlaylist:"G",musicUser:"H",musicVideo:"C",musicVideoEpisode:"C",musicVideoShow:"C",radioEpisode:"G",radioShow:"G",song:"B",songStation:"G",station:"G",topResults:"C",tvEpisode:"C",user:"H",userPlaylist:"G",label:"H"}
e.DEFAULT_TOP_CHART_PARAMS={id:1,genreId:34,cc:"us",popId:"1"}
e.AMWEB_TYPE_TO_KIND_MAPPING={"apple-curators":"apple-curator",activities:"activity",artists:"artist",albums:"album",curators:"brand",groupings:"grouping","editorial-items":"editorialItem","library-albums":"album","library-artists":"artist","library-playlists":"playlist","library-songs":"song","music-videos":"musicVideo","music-movies":"movie",multirooms:"multiRoom",playlists:"playlist",rooms:"room",songs:"song",stations:"radioStation","social-profiles":"socialProfile","personal-social-profiles":"socialProfile","tv-episodes":"tvEpisode","tv-shows":"tvShow","top-100":"playlist","uploaded-videos":"uploadedVideo","uploaded-audios":"uploadedAudio","record-labels":"label"}
e.CAN_ADD_TO_LIBRARY_TYPES=["song","album","playlist","musicVideo","tvEpisode"]
e.NON_PLAYABLE_TYPES=["activities","apple-curators","curators","stations","tv-shows"]
e.AMWEB_KIND_TO_TYPE_MAPPING={activity:"activities","apple-curator":"apple-curators",artist:"artists",album:"albums",brand:"curators",editorialItem:"editorial-items",grouping:"groupings",musicVideo:"music-videos",movie:"music-movies",room:"rooms",showBrand:"curators",iTunesBrand:"apple-curators",show:"apple-curators",socialProfile:"social-profiles",song:"songs",radioStation:"stations",tvEpisode:"tv-episodes",tvtrailer:"tv-episodes",playlist:"playlists",uploadedVideo:"uploaded-videos",uploadedAudio:"uploaded-audios",label:"record-labels"}
e.AMWEB_CATALOG_TYPE_MAPPING={"library-albums":"albums","library-artists":"artists","library-playlists":"playlists","library-songs":"songs","top-100":"playlists"}
e.PAGE_COMPONENT_TO_ROUTE_MAP={"album-page":"album","activity-page":"activity","artist-page":"artist","episode-page":"episode","genre-page":"genre","multi-room-page":"multi-room","grouping-page":"grouping","profile-page":"profile","playlist-page":"playlist","artist-see-all-page":"artist-see-all","show-brand-page":"show","music-video-page":"music-video","room-page":"room"}
e.PAGE_COMPONENT_TO_ROUTE_MAP_VALUES=["album","activity","artist","playlist","artist-see-all","music-video","room"]
e.TYPE_TO_ROUTE_MAP={activities:"activity",albums:"album",artists:"artist",episodes:"episode",genres:"genre",multirooms:"multi-room",playlists:"playlist","music-videos":"music-video",rooms:"room"}
e.REDIRECTED_CAMPAIGN_QUERY_PARAMS=["ign-itscg","ign-itsct"]
e.MTT_QUERY_PARAMS=["mttnact","mttnadvid","mttncmpid","mttncost","mttncostmdl","mttngadurl","mttngd","mttngmo","mttnresformat","mttnsubadgpname","mttnsubadgpref","mttnsubadname","mttnsubadref","mttnsubcmpname","mttnsubcmpref","mttnuid"]
e.NAVIGABLE_ITEM_SELECTOR="[data-navigable-item]"
const t=new Map([["activities","activity"],["artist","artist"],["artists","artist"],["album","album"],["albums","album"],["curator","brand"],["curators","brand"],["music-videos","musicVideo"],["playlist","musicPlaylist"],["playlists","musicPlaylist"],["radio_show","radioShow"],["radio_episode","radioEpisode"],["song","song"],["songs","song"],["station","station"],["stations","station"],["music_video","musicVideo"],["video_extra","videoExtra"],["category","category"]])
e.SEARCH_BUBBLES_HEADER_MAP=t
const i=new Map([["top","topResults"],["artist","artist"],["album","album"],["song","song"],["playlist","musicPlaylist"],["radio_show","radioShow"],["radio_episode","radioEpisode"],["station","station"],["music_video","musicVideo"],["video_extra","videoExtra"],["category","category"],["curator","brand"],["record_label","label"]])
e.SEARCH_CATEGORY_NAME_MAP=i
e.SEARCH_BUBBLE_TYPES=["album","artist","brand","activity","musicVideo","musicPlaylist","radioShow","radioEpisode","song","station","videoExtra","category"]
e.ALT_COUNTRY_CODE=["cn","ae","bh","eg","om","sa","by","np","lb","uz"]
e.UPSELL_LEVEL_1_STOREFRONTS=["dz","ao","bh","bj","cm","td","cg","cd","ci","eg","ga","iq","jo","kw","lb","lr","ly","mg","mw","ml","mr","ma","mz","na","om","qa","rw","sa","sn","sc","sl","tz","tn","ae","ye","zm"]
e.NO_AMF_STOREFRONTS=["ru","tr","cl"]
e.SHOW_YEAR_SECTION_NAMES=["full-albums","featured-albums","live-albums","compilation-albums","single-albums","singles"]})),define("desktop-music-app/utils/css-supports-logical",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"==typeof CSS)return!1
if(CSS.supports("margin-inline-end","0")&&CSS.supports("padding-inline-end","0")&&CSS.supports("border-inline-end","solid")&&CSS.supports("border-inline-end-color","red")&&CSS.supports("border-inline-end-style","dashed"))return!0
return!1}})),define("desktop-music-app/utils/current-show",["exports"],(function(e){function t(e=[]){const t=new Date
let i
if(null!=e&&e.length)for(const r of e){if(!r)return
if(t>=new Date(Ember.get(r,"startTime"))&&t<=new Date(Ember.get(r,"endTime"))){i=r
break}}return i}function i(e,t){const i=e.sort(((e,t)=>Ember.get(e,"startTime")<Ember.get(t,"startTime")?-1:Ember.get(e,"startTime")>Ember.get(t,"startTime")?1:0))
if(t){const e=i.findIndex((e=>e===t)),r=i.slice(e+1)
return[t,...r]}const r=new Date
return[...i.filter((e=>!(r>=new Date(Ember.get(e,"endTime")))))]}Object.defineProperty(e,"__esModule",{value:!0}),e.findCurrentShow=t,e.sortRecent=i,e.sortShows=function(e){const r=t(e)
return i(e,r)}})),define("desktop-music-app/utils/date-time",["exports","date-fns"],(function(e,t){function i(e,i){return(0,t.format)(e,i)}function r(e){return`00${e}`.substr(-2)}Object.defineProperty(e,"__esModule",{value:!0}),e.lastModifiedDate=function(e,r){const n=new Date,o=(0,t.subDays)(n,1),l=(0,t.subDays)(n,7),a=(0,t.subDays)(n,14),s=(0,t.subDays)(n,21),u="FUSE.PlaylistLastUpdated.Updated",c=(0,t.parseISO)(e)
let d="";(0,t.isSameDay)(c,n)?d=r.t(`${u}Today`):(0,t.isSameDay)(c,o)?d=r.t(`${u}Yesterday`):(0,t.isAfter)(c,l)?d=r.t(`${u}${i(c,"EEEE")}`):(0,t.isAfter)(c,a)?d=r.t(`${u}LastWeek`):(0,t.isAfter)(c,s)&&(d=r.t(`${u}TwoWeeksAgo`))
return d},e.formatDate=i,e.getEpochDate=function(e){return(0,t.fromUnixTime)(e)},e.daysBefore=function(e,i){return(0,t.subDays)(e,i)},e.isBetween=function(e,i,r){return(0,t.isAfter)(r,e)&&(0,t.isBefore)(r,i)},e.isSameDate=function(e,i){return(0,t.isSameDay)(e,i)},e.isWithinPastRange=function(e,i,r){if((0,t.isBefore)(i,e)||(0,t.isEqual)(e,i))return(0,t.differenceInCalendarDays)(e,i)<=r
return!1},e.getISOTimezoneOffset=function(e=new Date){const t=e.getTimezoneOffset(),i=t>=0?"+":"-",n=Math.floor(Math.abs(t)/60),o=Math.abs(t)%60
return`${i}${r(n)}:${r(o)}`}})),define("desktop-music-app/utils/deeplink-config",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return t.filter((t=>t.pathname===e||e.includes(t.pathname)))[0]}
const t=[{pathname:"studentSubscriptionOffers",route:"account.student-offers"},{pathname:"mymusic",tabName:"MyMusic"},{pathname:"new",route:"grouping",tabName:"New",bagId:"musicSubscription.browse"},{pathname:"radio",tabName:"Radio",bagId:"radioTab.grouping"},{pathname:"listennow",route:"listen-now",tabName:"ListenNow"}]})),define("desktop-music-app/utils/dominant-aspect-ratio",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.countChildrenAspectRatios=function(e){return Array.from(e).reduce(((e,t)=>{const i=parseFloat(t.dataset.aspectRatio).toFixed(2)
return e[i]=(e[i]||0)+1,e}),Object.create(null))},e.calculateDominantAspectRatio=function(e,t){const i=Object.keys(t)
let r
for(let n=0;n<i.length&&5!==n;n++){const e=i[n],o=t[e];(!r||o>t[r])&&(r=e)}return r}})),define("desktop-music-app/utils/duration-from-offers",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if(!Ember.isPresent(e))return null
const t=(Ember.get(e,"firstObject.assets")||[]).filter((e=>Ember.isPresent(Ember.get(e,"duration"))))
return Ember.get(t,"firstObject.duration")||null}})),define("desktop-music-app/utils/editorial-video",["exports","desktop-music-app/utils/current-show","desktop-music-app/config/artwork-profiles"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.bestVideoAssetKey=function(e,t,n){if(!t)return
"xsmall"===n&&window.innerWidth<i.LN_TALL_BREAKPOINT_WIDTH?r["dt-superhero"]=["motionTallVideo3x4","motionMediumVideo16x9","motionSquareVideo1x1"]:r["dt-superhero"]=["motionWideVideo21x9","motionMediumVideo16x9","motionSquareVideo1x1"]
"xsmall"===n&&window.innerWidth<i.ARTIST_VIDEO_TALL_BREAKPOINT_WIDTH?r["dt-artist-header"]=["motionArtistSquare1x1","motionArtistSingular16x9"]:r["dt-artist-header"]=["motionArtistWide16x9","motionArtistSingular16x9"]
return(r[e]||r.defaultMapping).find((e=>t[e]))},e.isAShowItemWithEditorialVideo=function(e,i){if(!e.upcomingShows)return!1
const r=e.upcomingShows.toArray(),n=(0,t.findCurrentShow)(r)
if(!n)return!1
return i(n,"editorialCard.editorialVideo")||i(n,"editorialVideo")}
const r={defaultMapping:["motionSquareVideo1x1","motionTallVideo3x4","motionMediumVideo16x9"],"feature-episode":["motionMediumVideo16x9"],"power-swoosh-super-hero":["motionTallVideo3x4","motionSquareVideo1x1","motionMediumVideo16x9"],"product-details-lockup":["motionDetailSquare","motionSquareVideo1x1","motionDetailTall"],"dt-artist-header":["motionArtistWide16x9","motionArtistSingular16x9"]}})),define("desktop-music-app/utils/ember-lifeline-evented",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.addEventedEventListener=function(e,t,i,r){const n=Ember.run.bind(e,r)
t.on(i,n),Ember._registerDestructor(e,(()=>t.off(i,n)))}})),define("desktop-music-app/utils/env-inject",["exports","desktop-music-app/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={...t.default.features}
e.default=i})),define("desktop-music-app/utils/events",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.eventTarget=function(){let e
return e=window,e},e.dispatchCustomEvent=function(e,t,i={}){const r=new CustomEvent(t,i)
return e.dispatchEvent(r),r}})),define("desktop-music-app/utils/feature-flags",["exports","desktop-music-app/utils/env-inject"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return!!t.default[e]}})),define("desktop-music-app/utils/fetch-json",["exports","fetch"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,t.default)(...arguments).then((e=>{if(e.ok)return e.json()
throw new Error("Request rejected",e)}))}})),define("desktop-music-app/utils/find-index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){for(let i=0;i<e.length;i++)if(t(e[i],i))return i
return-1}})),define("desktop-music-app/utils/format-duration",["exports"],(function(e){let t,i
Object.defineProperty(e,"__esModule",{value:!0}),e.formatDuration=function(e,r="en-us"){if(e){t=t||Intl.NumberFormat(r,{minimumIntegerDigits:1}),i=i||Intl.NumberFormat(r,{minimumIntegerDigits:2})
const[n=":"]=(new Date).toLocaleTimeString(r).match(/\b[:.]\b/)||[],o=Math.round(e),l=Math.floor(o/3600),a=Math.floor(o/60)%60,s=l?0:1
return[l,a,o%60].map(((e,r)=>e<10&&r>s?i.format(e):t.format(e))).filter(((e,t)=>0!==t||!("00"===e||"0"===e))).join(`${n}`)}},e.isoDuration=function(e){return function(e){if(0===e)return"P0D"
const t=parseInt(e%60),i=parseInt(e/60%60),r=parseInt(e/3600%24)
return`PT${[r,i,t].map(((e,t)=>{if(!e||0===e)return
let i
return i=0===t?"H":1===t?"M":"S",`${e}${i}`})).filter(Boolean).join("")}`}(e)}})),define("desktop-music-app/utils/format-lyric-snippet",["exports","desktop-music-app/utils/untrusted-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,i){let r=""
e&&i&&(r=e.length>i?`${e.substring(0,i-1)}…`:e,r=`<em class="lyrics-snippet">${r}</em>`)
return(0,t.untrustedHtml)(r,{extraAllowedTags:["em"],allowedAttributes:{em:["class"]}})}})),define("desktop-music-app/utils/format-user-handle",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e?e.replace(t,"").toLowerCase():""}
const t=/[^a-zA-Z0-9_]*/g})),define("desktop-music-app/utils/generate-badges",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return t?{isMasteredForItunes:t}:null}})),define("desktop-music-app/utils/generate-monogram",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if(!e)return
return{isVector:!0,userInitials:e.split(" ").filter(Boolean).slice(0,2).map((e=>e[0].toUpperCase())).join("‌"),isFallback:!0,aspectRatio:1}}})),define("desktop-music-app/utils/get-metrics-json",["exports","desktop-music-app/config/metrics","desktop-music-app/utils/replace-keys","desktop-music-app/utils/logger"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function([e],t={}){const o=Ember.String.camelize(e),l=n[o]
if(!l)return void(0,r.warn)(`Requested metrics data for an invalid key: ${o}. Check app/config/metrics for available options.`)
let a=Object.assign({},l)
Object.keys(l).forEach((e=>{const r=l[e]
a[e]="string"==typeof r?(0,i.default)(r,t,`desktop-music-app.metrics.missing-variable-in-${e}`):r}))
const{id:s,locationType:u,locationPosition:c,location:d,targetType:p,actionDetails:m}=t
u&&c&&(a=Object.assign(a,{locationType:u,locationPosition:c}))
d&&(a.location=d)
s&&(a.targetId=`${s}`)
p&&(a.targetType=p)
m&&(a.actionDetails=m)
return JSON.stringify(a)}
const{clickEvents:n}=t.default})),define("desktop-music-app/utils/has-property",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.objectHasProperty=function(e,t){let i,r=e
do{i=Object.prototype.hasOwnProperty.call(r,t)}while(!i&&(r=Object.getPrototypeOf(r)))
return!!i}})),define("desktop-music-app/utils/human-readable-counts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if("number"!=typeof e||isNaN(e))return"0"
let t
e<=999?t=e:e>=1e3?t=e/1e3+"k":e>=1e6&&(t=e/1e6+"m")
return t}})),define("desktop-music-app/utils/i18n/compile-template",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return function(i){return e.replace(t,((e,t)=>Ember.get(i,t)||`@@${t}@@`))}}
const t=/@@([^@]+)@@/g})),define("desktop-music-app/utils/i18n/missing-message",["exports","desktop-music-app/config/environment","desktop-music-app/utils/logger"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){return"production"!==t.default.environment?((0,i.error)(`Missing localized string for key: ${r} on locale: ${e}`),`*${r}*`):""}})),define("desktop-music-app/utils/image-url-seo",["exports","desktop-music-app/helpers/image-url","desktop-music-app/config/artwork-profiles"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function([e],r){const n=Object.assign({},r)
if(!e)return
i.EFFECT_ID_REGEX.test(e)&&delete n.cropCode
return(0,t.imageUrl)([e],n)}})),define("desktop-music-app/utils/is-playable",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return!t.includes(e)}
const t=["activity","artist","brand","editorialItem","iTunesBrand","link","showBrand","socialProfile","apple-curator","label"]})),define("desktop-music-app/utils/is-various-artist",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return t.includes(e)},e.isCollaboration=function(e=""){return e.match(/viewCollaboration/)}
const t=["424615024","28491504","524301876","535089416","534370485","531416292","538545733","537099672","543608597","565926781","503494075","184942144","571049158","477261556","478684759","260009444","577255674","480941346","429677239","588054239","591335298","590210473","484017229","495868609","498590745","502465569","434475384","434208861","433187812","508723818","439677129","441048042","596597484","596849428","592613770","626138908","660367744","663382248","669645666","679598725","702894590","723344646","723538170","716247888","819325944","781622626","797816462","807653478","750874404","816239824","785130159","878272939","897302012","889911778","897958431","907391329","934752770","930874815","942356878","914311299","906255537","952670363","970363413","971006598","985623479","997639789","324534920","412456202","414632056","416534705","420657044","419051407","420136329","418749403","422003783","421811723","455069704","464162800","465938063","916094017","331122","4940310","425092614","885401","4035426","36270","470940736","521559574","882054","74494247","207080531","211349408","429396333","80204262","825559","58631709","92345680","151566958","581578189","268453451","168231993","492884382","694597680","931105921","962733687","961578075","956859489","954050102","954050104","954050106","971716633","950961393","961637255","964236396","979099208","989538749","980147280","991479543","994596549","994178948","989429653","387969348","412880545","414019965","463997202","14303100","928533474","1112260823"]}))
define("desktop-music-app/utils/key-events",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyEvent=e.META=e.ALT=e.CTRL=e.ARROW_RIGHT=e.ARROW_LEFT=e.ARROW_DOWN=e.ARROW_UP=e.SHIFT=e.TAB=e.ESCAPE=e.ENTER=e.SPACEBAR=void 0
e.SPACEBAR=" "
const t="Enter"
e.ENTER=t
const i="Escape"
e.ESCAPE=i
const r="Tab"
e.TAB=r
const n="Shift"
e.SHIFT=n
const o="ArrowUp"
e.ARROW_UP=o
const l="ArrowDown"
e.ARROW_DOWN=l
const a="ArrowLeft"
e.ARROW_LEFT=a
const s="ArrowRight"
e.ARROW_RIGHT=s
const u="Control"
e.CTRL=u
e.ALT="Alt"
const c="Meta"
e.META=c
const d={[c]:null,[l]:null,[o]:null}
e.KeyEvent=class{constructor(e){this.evt=e,this.key=e.key,this.combo={...d},this.key!==c&&this.key!==l&&this.key!==o||(this.combo[this.key]=!0)}addEvent(e){this.evt=e,this.key=e.key,this.combo||(this.combo={...d}),this.key===c?this.combo[this.key]=!0:[l,o].includes(this.key)&&(delete this.combo[l],delete this.combo[o],this.combo[this.key]=!0)}get isAlt(){return"Alt"===this.key}get isAltKey(){return this.evt.altKey}get isMetaArrowDown(){return this.combo.Meta&&this.combo[l]}get isArrowDown(){return this.key===l&&!this.isMetaArrowDown}get isArrowLeft(){return this.key===a}get isArrowRight(){return this.key===s}get isMetaArrowUp(){return this.combo.Meta&&this.combo[o]}get isArrowUp(){return this.key===o&&!this.isMetaArrowUp}get isCtrl(){return this.key===u}get isEnter(){return this.key===t}get isEscape(){return this.key===i}get isMeta(){return this.key===c}get isMetaKey(){return this.evt.metaKey}get isNavigation(){return this.isTab||this.isArrowDown||this.isArrowUp||this.isCtrl||this.isAlt||this.isMeta||this.isShift||this.isEnter}get isShift(){return this.key===n}get isShiftKey(){return this.evt.shiftKey}get isSpacebar(){return" "===this.key}get isTab(){return this.key===r}get isShiftTab(){return this.key===r&&this.evt.shiftKey}get isVoiceOverModifier(){return this.isCtrl||this.isMeta||this.isAlt}}})),define("desktop-music-app/utils/launch-client",["exports","desktop-music-app/config","desktop-music-app/utils/personalization","desktop-music-app/utils/url-parser","@amp/util"],(function(e,t,i,r,n){Object.defineProperty(e,"__esModule",{value:!0}),e.processQueryParams=function(e,i={}){const r=-1!==e.indexOf("?")?"&":"?"
if(document){Ember.debug(`[launch-client] document.cookie: ${document.cookie}`)
const e=o.get("xp_ci",document),t=o.get("a",document),r=o.get("itscc",document),n=o.get("itcCt",document)
Ember.debug(`[launch-client] refClientId: ${e}`),e&&(i["ign-refClientId"]=e),Ember.debug(`[launch-client] affiliateCookie: ${t}`),t&&(i.affC=t),Ember.debug(`[launch-client] figaroCookie: ${r}`),r&&(i.itscc=r),Ember.debug(`[launch-client] crossfireCookie: ${n}`),n&&(i.itcCt=n)}const n=Object.keys(i).sort().filter((e=>"string"==typeof i[e])).map((e=>`${e}=${encodeURIComponent(i[e])}`)).join("&")
let l=n.length?`${e}${r}${n}`:e
return l=function(e){if(e&&"string"==typeof e){let i=e
return t.default.launchQueryParameters.forEach((e=>{i=i.replace(new RegExp(e),t.default.launchNativeParameters[e])})),i}}(l),l},e.getLaunchUrl=function(e){if(e){const t=(0,r.default)(e),n=t.search?"&":"?"
let o=`https://music.apple.com${"/"===t.path?"":t.path}${n}app=music`,l=t.pathname
if("/"===l[3]&&(l=l.substring(3)),/^\/library/.test(l))return"https://music.apple.com/deeplink?app=music&p=library"
const a=["/for-you","/listen-now"],s=["/browse","/radio",...a]
let u=l
return s.includes(l)&&(u=a.includes(l)?Ember.String.camelize((0,i.personalizedRouteName)().split(".")[0]):Ember.String.camelize(l.substring(1)),o=`https://music.apple.com/deeplink?app=music&p=${u}`),o}},e.googlePlayStoreLink=function(e=window.location.href){return`https://play.google.com/store/apps/details?id=com.apple.android.music&referrer=utm_source=${encodeURIComponent(e)}`}
const{cookie:o}=n.default})),define("desktop-music-app/utils/library-playlists",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.collectPlaylists=function e(t,i=[]){for(const r of t)"library-playlists"===r.type?i.push(r):e(r.children,i)
return i},e.transformPlaylistsToPojo=function e(t){const i=[],r=[]
for(const n of t)if("library-playlist-folders"===n.type){const t=e(n.children||[])
t&&i.push({...n,children:t})}else r.push({...n})
return[...i,...r]},e.findPlaylistById=function e(t,i){for(const r of t)if("library-playlist-folders"===r.type){const t=e(r.children||[],i)
if(t)return t}else if(r.id===i)return r},e.removePlaylistById=function e(t,i){for(let r=0;r<t.length;r++){const n=t[r]
if("library-playlist-folders"===n.type){const{removed:r,entries:o}=e(n.children,i)
if(r)return n.children=o,{removed:r,entries:t}}else if(n.id===i){return{removed:!0,entries:t.slice(0,r).concat(t.slice(r+1))}}}return{removed:!1,entries:t}}})),define("desktop-music-app/utils/live-events",["exports","desktop-music-app/utils/precision-date"],(function(e,t){function i(e){var t,i
return(null===(t=e.inflectionPoints)||void 0===t?void 0:t.start)||(null===(i=e.airTime)||void 0===i?void 0:i.start)}function r(e){var t,i
return(null===(t=e.inflectionPoints)||void 0===t?void 0:t.end)||(null===(i=e.airTime)||void 0===i?void 0:i.end)}function n(e,i,r){const n=new t.default(i).getTime(),o=new t.default(r).getTime(),l=new t.default(e).getTime()
return l>=n&&l<o}Object.defineProperty(e,"__esModule",{value:!0}),e.getStartTime=i,e.getEndTime=r,e.isHappeningNow=function(e){const o=i(e),l=r(e)
return n(t.default.now(),o,l)},e.isLive=n,e.isLiveEvent=function(e){return Boolean(e.supportsAirTimeUpdates)}})),define("desktop-music-app/utils/localize-number",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){let i
r=e,i=Number(r)===r&&r%1!=0?parseFloat(e):parseInt(e)
var r
if(isNaN(i))return
return i.toLocaleString(t)}})),define("desktop-music-app/utils/location-url-normalization",["exports","desktop-music-app/utils/route","desktop-music-app/utils/feature-flags"],(function(e,t,i){function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function n(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.addUrlNormalization=function(e){var i,o,l,a,s
return i=Ember.inject.service,o=Ember.inject.service,a=n((l=class extends e{constructor(...e){super(...e),r(this,"router",a,this),r(this,"storefront",s,this)}getURL(){const e=super.getURL(),{router:i,storefront:r}=this
return(0,t.normalizeURL)(e,i._router._routerMicrolib,r.resolvedStorefront)}formatURL(e){const i=super.formatURL(e),{router:r}=this
return(0,t.denormalizeURL)(i,r._router._routerMicrolib)}}).prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=n(l.prototype,"storefront",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l}})),define("desktop-music-app/utils/logger",["exports","desktop-music-app/config/environment"],(function(e,t){function i(){return"undefined"!=typeof localStorage&&localStorage.getItem("music-app-pref:show-logs")}Object.defineProperty(e,"__esModule",{value:!0}),e.debug=function(){("development"===t.default.environment||i())&&console.log(...arguments)},e.log=function(){("development"===t.default.environment||i())&&console.log(...arguments)},e.error=function(){("development"===t.default.environment||i())&&console.error(...arguments)},e.warn=function(){("development"===t.default.environment||i())&&console.warn(...arguments)}})),define("desktop-music-app/utils/media-type",["exports","desktop-music-app/utils/constants"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.getType=r,e.getKind=n,e.getCatalogType=function(){const e=r(...arguments)
return t.AMWEB_CATALOG_TYPE_MAPPING[e]||e},e.isExplicit=function(e){if(Ember.get(e,"isExplicit"))return!0
return"explicit"===String(Ember.get(e,"contentRatingsBySystem.riaa.name")||Ember.get(e,"contentRating.name")||Ember.get(e,"contentRating")).toLowerCase()},e.isUploaded=function(e){const t=Ember.get(e,"target")||e
return i.includes(n(t))}
const i=["uploadedVideo","uploadedAudio"]
function r(e){if(!e)return null
const i=Ember.get(e,"type")
if(i in t.AMWEB_TYPE_TO_KIND_MAPPING)return i
const r=Ember.get(e,"kind")||Ember.get(e,"targetType"),n=r?`${r[0].toLowerCase()}${r.slice(1)}`:r
return t.AMWEB_KIND_TO_TYPE_MAPPING[n]||t.AMWEB_KIND_TO_TYPE_MAPPING[i]}function n(e){if(!e)return null
const i=Ember.get(e,"kind")||Ember.get(e,"targetType"),r=i?`${i[0].toLowerCase()}${i.slice(1)}`:i
if(r in t.AMWEB_KIND_TO_TYPE_MAPPING)return r
const n=Ember.get(e,"playParams.kind"),o=n?`${n[0].toLowerCase()}${n.slice(1)}`:n
if(o in t.AMWEB_KIND_TO_TYPE_MAPPING)return o
const l=Ember.get(e,"type")
return l in t.AMWEB_KIND_TO_TYPE_MAPPING?l:t.AMWEB_TYPE_TO_KIND_MAPPING[r]||t.AMWEB_TYPE_TO_KIND_MAPPING[o]||t.AMWEB_TYPE_TO_KIND_MAPPING[l]}})),define("desktop-music-app/utils/music-get-best-language",["exports","desktop-music-app/config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.musicGetBestLanguage=function(e,t=[]){const{supportedLanguageTags:r,defaultLanguageTag:n}=e
let o=n||i
for(const i of t){const[,e,t]=i.toLowerCase().match(/^([a-z]{2})-?([a-z]{2})?$/)||[],l=t?`${e}-${t}`:e
if(l){if(n.startsWith(l)){o=n
break}{const t=r.find((e=>e.toLowerCase()===l.toLowerCase()))||r.find((e=>e.startsWith(l)))||r.find((t=>t.startsWith(e)))
if(t){o=t
break}}}}if("iw"===o)return"iw-il"
return o.replace(/-Han[s|t]/i,"").toLowerCase()}
const{DEFAULT_LANGUAGE:i}=t.default})),define("desktop-music-app/utils/musickit-data",["exports","desktop-music-app/utils/constants","desktop-music-app/utils/media-type"],(function(e,t,i){function r(e,i){if(Array.isArray(e))return e.filter((e=>!!e.name)).map((e=>{var r
if(e.kind&&e.rawJSON)return e
const n=e.kind||(null===(r=e.playParams)||void 0===r?void 0:r.kind)||t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]||i
return n&&(e.kind=n,Ember.set(e,"rawJSON",{...e})),e}))}function n(e){return/library-/.test(e.type)}Object.defineProperty(e,"__esModule",{value:!0}),e.getViewDataFromModel=function(e,t,i){if(null!=e&&e[t]){const n=e[t],o=r(n.data,i)
return null!=o&&o.length?(n.data=o,n):[]}},e.updateViewCollectionItem=r,e.hasLibraryReference=function(e){if(!(e&&e instanceof Object))return!1
return n(e)||!!e.library||!!e.localLibrary},e.isLibraryLockupType=n,e.getContentDescriptor=function(e=[]){return e.reduce(((e,t)=>{const r=(0,i.getCatalogType)(t)
return r&&t.id?(e[r]||(e[r]=[]),e[r].push(t.id),e):e}),{})},e.hasAnyAttributes=function(e){var t
const i=null===(t=e._mjs)||void 0===t?void 0:t.attributes
if(!i)return!0
const r=["href","id","kind","type"]
return i.filter((e=>!r.includes(e))).length>0},e.flattenMusickitObjects=function(e){return e.map((e=>{const i={...e.attributes,id:e.id||e.attributes.playParams.id||-1,type:e.type,kind:t.AMWEB_TYPE_TO_KIND_MAPPING[e.type]}
return{...i,rawJSON:Object.assign({},i)}}))}})),define("desktop-music-app/utils/musickit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"==typeof FastBoot)return window.MusicKit
return{}}})),define("desktop-music-app/utils/navigator-languages-polyfill",["exports","@amp/ember-localizer/utils/navigator-languages-polyfill"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("desktop-music-app/utils/number-to-roman",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){const r=parseFloat(e,10)
let n=parseInt(e,10)
if(r!==n)throw new TypeError("The value must be an integer.")
if(n<1)throw new RangeError("The value must be greater than one.")
let o=""
for(let l=0;l<t.length;l++){const e=t[l],r=i[l],a=Math.floor(n/r)
n-=a*r,o+=e.repeat(a)}return o}
const t=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1]})),define("desktop-music-app/utils/paf-route-mapping",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){let i=e.filter(l).map(function(e){return t=>{const i=r()[t]
return i?"function"!=typeof i?i:i(t,e):Ember.String.dasherize(t)}}(t)).join(" / ")
1===e.length&&n.includes(i)&&(i=`transient:none / ${i}`)
1===e.length&&o.includes(i)&&(i=`transient / ${i}`)
return i}
const i={browse:"browse / grouping",album:"album_detail",playlist:"playlist_detail",curator:"curator_detail",lyrics:"web_lyrics_share","music-video":"music-video_detail","browse.index":"browse / grouping","artist.index":"artist_detail","radio.index":"radio","label.index":"label_page","library.made-for-you":"library / made-for-you","library.made-for-you.index":"library / made-for-you","library.made-for-you.playlist":"playlist_detail","library.playlists":"library_albums","library.songs":"library / songs","library.recently-added":"library / recently_added","library.artists":null,"library.artists.index":null,"library.artists.index.artist":"library / artists","library.playlist":"library / playlist_detail","library.albums.album":"album_detail","library.albums.index":"library / albums","search.index":"search"}
function r(){return i["listen-now"]="listen-now",i["listen-now.index"]="listen-now",i}const n=["artist_detail","album_detail","playlist_detail","music-video_detail","undefined"],o=["web_lyrics_share"]
function l(e){return null!==r()[e]}})),define("desktop-music-app/utils/page-dir",["exports","desktop-music-app/utils/css-supports-logical","@amp/ember-localizer/utils/page-dir"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.pageDir=function(e,r){if("undefined"==typeof FastBoot&&!(0,t.default)())return"ltr"
const n=e.split("-")[0],o=i.RTL_LANG_CODES.includes(n),l=i.RTL_LANG_CODES_OVERRIDE.includes(r)
return o||l?"rtl":"ltr"}})),define("desktop-music-app/utils/personalization",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.personalizedRouteName=function(){return"listen-now"},e.personalizedNavBarTab=function(){return t()?Ember.String.classify(window.iTunes.NativeViewKind.ListenNow):Ember.String.classify(window.iTunes.NativeViewKind.ForYou)},e.hasListenNowTab=t
function t(){var e
if(null!==(e=window.iTunes)&&void 0!==e&&e.osBuildID&&window.iTunes.NativeViewKind.ListenNow){return parseInt(window.iTunes.osBuildID.substr(0,2))>=20}return!1}})),define("desktop-music-app/utils/playback",["exports","desktop-music-app/utils/feature-flags","desktop-music-app/utils/playlist-track-index","desktop-music-app/utils/media-type"],(function(e,t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.buildPlaybackConfig=function(e,t={}){var o
const{lockup:l,container:a,tracklist:s,recommendationData:u,resetsPlayback:c}=t,d=l&&Ember.get(l,"id"),p={}
if(s&&l){let e=(0,i.default)(s,d);-1===e&&a&&(e=(0,i.default)(s,a.id)),e>-1&&(p.selectedTrackIndex=e)}u&&(p.meta=u.metrics)
const m=l&&Ember.get(l,"collectionId"),b=null===(o=e.recoDataPlayContent)||void 0===o?void 0:o.recoData
var f,h
b&&(d&&null!==(f=b[d])&&void 0!==f&&f.metrics?p.meta=b[d].metrics:null!==(h=b[m])&&void 0!==h&&h.metrics&&(p.meta=b[m].metrics));(function(e){const t=(0,r.getKind)(e)
return n.includes(t)})(l)&&c&&(p.shuffle=!1)
return p},e.lockupContainerFor=function(e,t,i){let n=null
i&&["movie","tvEpisode","showBrand"].includes((0,r.getKind)(e))?n=Ember.get(i,"rawJSON")||{id:i.id,type:i.type,url:i.url,playParams:i.playParams}:t&&o.includes((0,r.getKind)(t))&&(n=Ember.get(t,"rawJSON")||{id:t.id,kind:(0,r.getKind)(t),type:t.type,playParams:t.playParams,url:t.url})
return n},e.generateRawJSON=function(e){const t=(0,r.getKind)(e)
return{albumName:e.albumName,artistName:e.artistName,artwork:e.artwork,collectionName:e.albumName,id:e.id,kind:t,isLive:e.isLive??!1,name:e.name,type:e.type,playParams:e.playParams,requiresSubscription:e.requiresSubscription,url:e.url}}
const n=["album","playlist","musicVideo","uploadedVideo","uploadedAudio"],o=["album","playlist"]})),define("desktop-music-app/utils/playlist-curator",["exports"],(function(e){function t(e,t,i){return e.urlFor("profile",i,{id:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaylistCuratorUrl=function(e,i,r,n="us"){if(Ember.get(r,"isSharedPlaylist")){const i=Ember.get(r,"socialProfileId")
return t(e,i,n)}if(Ember.get(r,"cloudItem")&&!Ember.get(r,"curatorName")){const r=Ember.get(i,"profile.socialProfileId")
return t(e,r,n)}return Ember.get(r,"curatorUrl")}})),define("desktop-music-app/utils/playlist-track-index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){for(let i=0,r=e.length;i<r;i++)if(e[i].id===t||e[i].collectionId===t)return i
return-1}})),define("desktop-music-app/utils/precision-date",["exports","desktop-music-app/services/i18n"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e._calculateLocKey=function(e){return Object.keys(e).sort().reduce(((t,i)=>{if(!(i in o))return t
return`${t}.${`${i}.${e[i]}`}`}),"DateTimeFormat")},e.precisionDateTimeFormat=b,e.format=function(e,i,r){let n
n=i instanceof t.default?i.get("locale"):i
return b(e,n,r)},e.default=e.PROPERTY=e.TIMEZONE=e.RESOLUTION=void 0
const i="Invalid Date",r={YEAR:1,MONTH:2,DAY:3,HOUR:4,MINUTE:5,SECOND:6,MILLISECOND:7,1:"YEAR",2:"MONTH",3:"DAY",4:"HOUR",5:"MINUTE",6:"SECOND",7:"MILLISECOND"}
e.RESOLUTION=r
const n={UTC:1,CURRENT:2,UNKNOWN:3,1:"UTC",2:"CURRENT",3:"UNKNOWN"}
e.TIMEZONE=n
const o={weekday:1,era:2,year:3,month:4,day:5,hour:6,minute:7,second:8,timeZoneName:9,1:"weekday",2:"era",3:"year",4:"month",5:"day",6:"hour",7:"minute",8:"second",9:"timeZoneName"}
e.PROPERTY=o
const l={[o.weekday]:r.DAY,[o.era]:r.YEAR,[o.year]:r.YEAR,[o.month]:r.MONTH,[o.day]:r.DAY,[o.hour]:r.HOUR,[o.minute]:r.MINUTE,[o.second]:r.SECOND,[o.timeZoneName]:r.HOUR},a=/^([-+]?[0-9]{4})(-[0-9]{2})?(-[0-9]{2})?$/
const s=Object.create({})
function u(e,t){if(s[t])return s[t].get(e)}function c(e,t,i){return s[t]?(s[t].set(e,i),i):(s[t]=new WeakMap,s[t].set(e,i),i)}function d(e){return!isNaN(+e)}class p extends Date{constructor(...e){super(...e)
const t=[...e].filter((e=>null!==e))
if(this.date=new Date(...t),d(this)){if(0===t.length)return c(this,"precision",r.MILLISECOND),void c(this,"timezone",n.CURRENT)
if(1!==t.length)return t.length>1?(c(this,"precision",t.length),void c(this,"timezone",n.CURRENT)):void 0
if("string"==typeof function(e,t){let i
i="string"===t?["toString","valueOf"]:["valueOf","toString"]
for(let n=0;n<i.length;n++){const t=i[n]
try{const i=e[t].call(e)
if("object"!=typeof i)return i}catch(r){}}throw new TypeError("`toPrimitive` requires `valueOf` or `toString` to be implemented and return primitives.")}(t[0])){const e=function(e){const t=a.exec(e)
if(!t)return null
for(let i=r.DAY;i>0;i--)if(t[i])return i}(t[0])
return void(null!==e?(c(this,"precision",e),c(this,"timezone",n.UTC)):(c(this,"precision",r.MILLISECOND),c(this,"timezone",n.UNKNOWN)))}t[0]instanceof p?(c(this,"precision",t[0].getPrecision()),c(this,"timezone",t[0].getTimezone())):(c(this,"precision",r.MILLISECOND),c(this,"timezone",n.UTC))}}toDateString(){return this.date.toDateString(...arguments)}toGMTString(){return this.date.toGMTString(...arguments)}toISOString(){return this.date.toISOString(...arguments)}toJSON(){return this.date.toJSON(...arguments)}toLocaleDateString(){return d(this)?b(this,...arguments):i}toLocaleString(){return d(this)?b(this,...arguments):i}toLocaleTimeString(){return d(this)?b(this,...arguments):i}toString(){return this.date.toString(...arguments)}toTimeString(){return this.date.toTimeString(...arguments)}toUTCString(){return this.date.toUTCString(...arguments)}valueOf(){return this.date.valueOf(...arguments)}getPrecision(){return u(this,"precision")}setPrecision(e){return c(this,"precision",e),+this}getTimezone(){return u(this,"timezone")}setTimezone(e){return c(this,"timezone",e),+this}}e.default=p
const m={year:"numeric",month:"numeric",day:"numeric"}
function b(e,t,i){if(!d(e))return""
const r=function(e,t){const i=e.getPrecision(),r=e.getTimezone(),a=Object.assign({},t)
t&&Object.keys(t).some((e=>o[e]))||Object.assign(a,m)
const s={}
return r===n.UTC&&(s.timeZone=n[r]),Object.keys(a).reduce(((e,t)=>(t in o?i>=l[o[t]]&&(e[t]=a[t]):e[t]=a[t],e)),s)}(e,i)
return new Intl.DateTimeFormat(t,r).format(e)}})),define("desktop-music-app/utils/profiles",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PROFILES=void 0
e.PROFILES={lockup:1}})),define("desktop-music-app/utils/raf-clock",["exports","desktop-music-app/utils/precision-date","desktop-music-app/decorators/fastboot-guard","desktop-music-app/config/environment"],(function(e,t,i,r){var n,o,l,a
function s(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,c(e,t,"set"),i),i}function u(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,c(e,t,"get"))}function c(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function d(e,t,i,r,n){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MIN_DURATION=void 0
const p="test"===r.default.environment?0:1e3
e.MIN_DURATION=p
let m=(n=Ember._tracked,a=new WeakMap,l=d((o=class{constructor(){var e,t,i,r,n,o,s
e=this,t="now",r=this,(i=l)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),s=!1,(o="isPerforming")in(n=this)?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s,a.set(this,{writable:!0,value:void 0})}stop(){this.isPerforming=!1,window.cancelAnimationFrame(u(this,a)),s(this,a,null)}start(){if(u(this,a))return
const e=()=>{s(this,a,window.requestAnimationFrame((()=>{const i=this.now
t.default.now()-i>=p&&(this.now=t.default.now()),e()})))}
e(),this.isPerforming=!0}}).prototype,"now",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t.default.now()}}),d(o.prototype,"stop",[i.default],Object.getOwnPropertyDescriptor(o.prototype,"stop"),o.prototype),d(o.prototype,"start",[i.default],Object.getOwnPropertyDescriptor(o.prototype,"start"),o.prototype),o)
e.default=m})),define("desktop-music-app/utils/recommendation-data",["exports","desktop-music-app/utils/feature-flags"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.recommendationDataForVariant=function(e,t){return e}})),define("desktop-music-app/utils/replace-keys",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,i={},r="desktop-music-app.templates.missing-variable"){return e.replace(t,((e,t)=>{const r=Ember.get(i,t),n=null==r
return Ember.testing,n?`@@${t}@@`:r}))}
const t=/@@([^@]+)@@/g})),define("desktop-music-app/utils/route-info-to-transition-args",["exports"],(function(e){function t(e){if(!e)return[]
const i=t(e.parent)
for(const t of e.paramNames)e.params[t]&&i.push(e.params[t])
return i}function i(e){if(!e)return{}
return{...i(e.parent),...e.queryParams}}Object.defineProperty(e,"__esModule",{value:!0}),e.routeInfoToTransitionArgs=function(e){const r=t(e),n=i(e)
let o=[e.name]
r.length&&(o=[...o,...r])
Object.keys(n).length&&o.push({queryParams:n})
return o}})),define("desktop-music-app/utils/route",["exports","desktop-music-app/utils/url-parser","desktop-music-app/config"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.pathnameToRoute=p,e.unknownUrlToRoute=m,e.transitionToRoute=function(e,i,n){const o=e._router._routerMicrolib,a=(0,t.default)(i),{pathname:s,path:p,query:b}=a,f={...n,...b},h=k(s)
if(!v(h,o)){const{id:t,routeName:n}=m(i),a=t||f.id||f.ids,s=f.cc||r.toLowerCase()
if(n){if("browse.top-charts"===n){const t=e.urlFor(n,s,{queryParams:f})
return e.transitionTo(t)}if(a){if("grouping"===n){const t=e.urlFor(n,s,a,{queryParams:f})
return e.transitionTo(t)}if(d.includes(n)){const i=e.urlFor(n,s,l,t)
return e.transitionTo(g(i,o,s))}if(u.includes(n)&&c.includes(n)){const i=e.urlFor(n,s,t)
return e.transitionTo(i)}if("page-data"!==n){const t=e.urlFor(n,a,{queryParams:f})
return e.transitionTo(t)}}}return e.transitionTo("page-data",i)}return e.transitionTo(p)},e.extractQPsFromURL=function(e){const t=(e||"").indexOf("?")
if(-1===t)return Object.create(null)
return e.substr(t+1).split("&").reduce(((e,t)=>{const[i,r]=t.split("=")
return e[i]=r,e}),Object.create(null))},e.serializeURLObject=h,e.normalizeURL=g,e.normalizeOptionalSegments=y,e.extractCountryCodeFromTransition=function(e){const{routeInfos:t}=e,i=t.find((e=>"storefront"===e.name))
var r,o
if(i)return null===(o=i.params)||void 0===o?void 0:o.storefront
if(null!==(r=e.intent)&&void 0!==r&&r.url){const{url:t}=e.intent,i=t.match(n)
return i&&i.length&&i[1]}},e.hasSEOSegment=w,e.denormalizeURL=function(e,i){if(!i)return e
if("/"===e)return e
if(e.includes("WebObjects"))return e
const r=(0,t.default)(e)
return r.pathname=E(r.pathname),h(r)},e.denormalizeOptionalSegments=E,e.isOfRoute=function(e,t){let i=e
do{if(!i)break
if(i.name===t)return!0}while(i=i.parent)
return!1},e.gatherRouteParams=function(e){let t=e
const i=[]
for(;t.parent;){const e=Object.values(t.params)
e.length&&i.push(...e.reverse()),t=t.parent}return i.reverse()},e.extractProductSegment=e.productSegmentIsValid=e.SEO_STOREFRONT_ROUTES=e.NO_SEO_STOREFRONT_ROUTES=e.STOREFRONT_ROUTES=e.ABSENT_SIGIL=void 0
const{DEFAULT_STOREFRONT:r}=i.default,n=/^\/([a-z]{2})\//
function o(e){if(e)return/^.+[a-zA-Z]:\/\/$/.test(e)?e:`${e}//`}const l=`~ABSENT~${Date.now()}~`
e.ABSENT_SIGIL=l
const a=new RegExp(`/${l}`,"g"),s=new Proxy({"/beats1":"radio-page.beats1","/WebObjects/MZStore.woa/wa/viewArtistSeeAll":"artist.see-all","/WebObjects/MZStore.woa/wa/viewGrouping":"grouping","/WebObjects/MZStore.woa/wa/viewActivity":"activity","/WebObjects/MZStore.woa/wa/viewAlbum":"album","/WebObjects/MZStore.woa/wa/viewPlaylist":"playlist","/WebObjects/MZStore.woa/wa/viewTop":"top-charts","/WebObjects/MZStore.woa/wa/viewRoom":"room","/WebObjects/MZStore.woa/wa/viewMultiRoom":"multi-room","/WebObjects/MZStore.woa/wa/viewCollaboration":"artist","/WebObjects/MZStoreElements2.woa/wa/socialProfile":"profile"},{get:(e,t)=>"/WebObjects/MZStore.woa/wa/viewFeature"===t?"multiplex":e[t]}),u=["playlist","album","artist","curator","curator.playlists","listen-now","listen-now.index","episode","genre-stations","music-video","music-movie","multi-room","genre","activity","grouping","browse","browse.top-charts","personal-mix","profile","radio","radio.index","radio.see-all","replay","room","search","search-history","post","show","station","login","label","lyrics"]
e.STOREFRONT_ROUTES=u
const c=["grouping","browse","browse.top-charts","episode","listen-now","listen-now.index","genre","genre-stations","multi-room","post","profile","replay","radio","radio.index","radio.see-all","room","search","search-history","login","lyrics"]
e.NO_SEO_STOREFRONT_ROUTES=c
const d=u.filter((e=>-1===c.indexOf(e)))
function p(e){if(!e)return
let t=s[e]
return"top-charts"===t?"browse.top-charts":(e.indexOf("/collection/")>=0&&(t="room"),t)}function m(e){const{pathname:i,query:{id:r,ids:n,fcId:o}}=(0,t.default)(e),l=p(i)
return l?"browse.top-charts"===l?{routeName:l}:"artist"===l&&!r&&n?{id:n.split("-")[0],routeName:l}:{id:r||o,routeName:l}:{id:r,routeName:"page-data"}}e.SEO_STOREFRONT_ROUTES=d
const b=/\/(?!$|\?)/,f=/([^?&=]+)=?([^&]*)/g
function h(e){if(e.href&&e.href.includes("WebObjects"))return e.href
let{search:t=""}=e
return t&&"?"!==t[0]&&f.test(t)&&(t=`?${t}`),[o(e.protocol),e.host,e.pathname,t].filter(Boolean).join("")}function g(e,i,r){if(!i)return e
if("/#/"===e)return"/browse"
if("/"===e)return e
if(e.includes("WebObjects")||e.includes("see-all"))return e
const{protocol:n,host:o,pathname:l,search:a}=(0,t.default)(e),s=y({protocol:n,host:o,pathname:l,search:a,storefront:r},i),u=i.recognizer.recognize(s.pathname)
return u&&"not-found"!==u[u.length-1].handler?h(s):e}function y(e,t){if(!t)return{...e}
const i=e.pathname.split(b),r=k(e.pathname),n={protocol:o(e.protocol),host:e.host,segments:i,search:e.search,productSegment:r}
if(u.indexOf(n.productSegment)>-1){if(!v(n.productSegment,t)||n.productSegment===n.segments[1]){const t=e.storefront
n.segments.splice(1,0,t||l),n.productSegment=n.segments[2]}c.indexOf(n.productSegment)>-1||w(n)||"station/me"===n.segments.slice(n.segments.length-2).join("/")||n.segments.splice(3,0,l)}const a=n.segments.map((e=>e)),s=a[a.length-1]
return a[a.length-1]=s.replace(/^id/,""),{protocol:n.protocol,host:n.host,pathname:a.join("/"),search:n.search}}const v=(e,t)=>{if(!t)return
const i=t.recognizer.names
return i&&!!i[e]}
e.productSegmentIsValid=v
const k=function(e){if(!e)return
if(e.includes("WebObjects"))return e
if(e.includes("see-all")){const t=e.split("/").filter(Boolean),i=t.findIndex((e=>/^[a-z]{2}$/.test(e)))
return-1===i?t[0]:t[i+1]}const t=e.split(b)
let i=2
return"library"!==t[1]&&-1!==u.indexOf(t[i])||(i=1),t[i]}
function w({segments:e}){return-1!==[5,6].indexOf(e.length)}function E(e){return e.replace(a,"")}e.extractProductSegment=k})),define("desktop-music-app/utils/search-responsive",["exports","ember-lifeline"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.SearchResponsive=void 0
let o=(i=Ember._tracked,r=class{constructor(){var e,t,i,r,o,l,a
e=this,t="viewportWidth",r=this,(i=n)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),a=483,(l="SIDEBAR_HIDDEN_MAX_WIDTH")in(o=this)?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a,this.setupResizeListener()}destroy(){(0,t.removeEventListener)(this,window,"resize","updateViewportWidth")}setupResizeListener(){(0,t.addEventListener)(this,window,"resize","updateViewportWidth"),this.updateViewportWidth()}updateViewportWidth(){this.viewportWidth=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)}get isMobile(){return!!this.viewportWidth&&this.viewportWidth<this.SIDEBAR_HIDDEN_MAX_WIDTH}},l=r.prototype,a="viewportWidth",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.SearchResponsive=o})),define("desktop-music-app/utils/search",["exports","desktop-music-app/utils/constants"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.getSearchScopeKey=function(e){return[t.SEARCH_SCOPE_LOCAL_STORAGE_KEY,e].filter(Boolean).join("-")}})),define("desktop-music-app/utils/seo-loc-key-modifier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e=[]){if(!e.length)return".none"
if(1===e.length)return".one"
if(2===e.length)return".two"
if(e.length>2)return".many"}})),define("desktop-music-app/utils/social-profile",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.assignFollowStateProperties=function(e,t,i){switch(t){case"self":break
case"following":e.canRemoveFollower=!!Ember.isEmpty(i)||i,e.canBeBlocked=!0
break
case"notFollowing":e.canRemoveFollower=!1,e.canBeBlocked=!0
break
case"requested":e.canRemoveFollower=!1,e.canBeBlocked=!1
break
case"blocked":e.canRemoveFollower=!1,e.isBlocked=!0}return e}}))
define("desktop-music-app/utils/state-machine",["exports","desktop-music-app/utils/logger"],(function(e,t){var i,r,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember._tracked,r=class{constructor(e,t){var i,r,o,l,a,s,u
o={},(r="definition")in(i=this)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,l=this,a="value",u=this,(s=n)&&Object.defineProperty(l,a,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(u):void 0}),this.definition=e,this.value=t}get currentState(){return this.definition[this.value]}transition(e,i=!1){var r,n,o,l,a
if(e===this.value)return void(0,t.log)("In-place state transition attempted.",this.value)
if(!(this.currentState.transitions||[]).includes(e))return(0,t.warn)(`Invalid state transition attempted. CURRENT: ${this.value}, TARGET: ${e}`),!1
const s=this.definition[e]
null===(r=this.currentState)||void 0===r||null===(n=r.actions)||void 0===n||null===(o=n.onExit)||void 0===o||o.call(n)
const u=null==s||null===(l=s.actions)||void 0===l||null===(a=l.onEnter)||void 0===a?void 0:a.call(l,e)
return(i||!1!==u)&&(this.value=e),this.value}},l=r.prototype,a="value",s=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,a,d),d=null),n=d,r)
var l,a,s,u,c,d
e.default=o})),define("desktop-music-app/utils/text-content",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTextContent=function(e){return"undefined"!=typeof FastBoot?function(e){const{JSDOM:t}=FastBoot.require("jsdom")
return new t(e).window.document.body.textContent}(e):function(e){const t=new DOMParser
return t.parseFromString(e,"text/html").body.textContent}(e)}})),define("desktop-music-app/utils/time-range",["exports"],(function(e){function t(e,t){const i=e.getHours(),r={h11:i%12,h12:i%12==0?12:i%12,h23:i,h24:0===i?24:i,minutes:e.getMinutes()}
return Object.keys(r).reduce(((e,i)=>(e[`${t}-${i}`]=r[i].toString(),e[`${t}-padded-${i}`]=r[i].toString().padStart(2,"0"),e)),{})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r,n){if(e>r)throw new RangeError("The start date must be smaller than the end date.")
if(r-e>=432e5)throw new RangeError("Time range formatting may only apply to times less than twelve hours.")
const o=function(e,t){const i=e.getHours(),r=e.getMinutes(),n=t.getHours(),o=t.getMinutes(),l=["TimeRange"]
0===r&&0===o?l.push("HourAligned"):0===r?l.push("HourAlignedStart"):0===o?l.push("HourAlignedEnd"):l.push("Unaligned")
if(0===i&&0===r)l.push("StartsAtMidnight")
else if(12===i&&0===r)l.push("StartsAtNoon")
else if(0===n&&0===o)l.push("EndsAtMidnight")
else if(12===n&&0===o)l.push("EndsAtNoon")
else if(i<12&&n<12)l.push("BeforeNoon")
else if(i>=12&&n>=12)l.push("AfterNoon")
else if(i<12&&n>=12)l.push("CrossesNoon")
else{if(!(i>=12&&n<12))throw new Error(`${e} and ${t} triggered error.`)
l.push("CrossesMidnight")}return l.join(".")}(e,r),l=t(e,"start"),a=t(r,"end"),s=function(e,t){if(!t||"0123456789"===t||"123456789"===t)return e
if(t.length%10!=0)throw new RangeError("Digits are not properly specified.")
const r=t.length/10
let n=t
if(1!==r){n={}
for(let e=0;e<10;e++)n[e]=t.substr(e*r,r)}const o=e=>n[e]
return Object.keys(e).reduce(((t,r)=>(t[r]=e[r].replace(i,o),t)),{})}({...l,...a},n)
return[o,s]}
const i=/[0-9]/g})),define("desktop-music-app/utils/title-case-string",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){let t=e
"string"==typeof e&&(t=e.replace(/(^\w)/,(e=>e.toUpperCase())))
return t}})),define("desktop-music-app/utils/truncate-text",["exports"],(function(e){function t(e){const t=window.getComputedStyle(e).getPropertyValue("line-height")
return parseFloat(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getMaxHeight=function(e,i){const r=t(e)
return Math.floor(r*i)},e.getLineHeight=t,e.getFontSize=function(e){const t=window.getComputedStyle(e).getPropertyValue("font-size")
return parseFloat(t)},e.getCharWidth=function(e){switch(e){case"ja-jp":return 10.4
default:return 8.2}},e.getOffsetHeight=function(e){let t=0
return Array.from(e.childNodes,(e=>{e.offsetHeight&&(t+=e.offsetHeight)})),t}})),define("desktop-music-app/utils/trusted-css",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.trustedCss=function(e){return Ember.String.htmlSafe(e)}})),define("desktop-music-app/utils/try-it-now",["exports","desktop-music-app/config","desktop-music-app/utils/route"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n){const o=(0,i.extractQPsFromURL)(e),l=t.default.launchQueryParameters.reduce(((e,i)=>{const r=t.default.launchNativeParameters[i],n=o[i]||o[r]
return n&&(e[r]=n),e}),Object.create(null))
n.launch(r,l)}
const{tryAppleMusicCTA:r}=t.default})),define("desktop-music-app/utils/untrusted-html",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.untrustedHtml=function(e,{allowedTags:o,extraAllowedTags:l,allowedAttributes:a}={}){if("string"!=typeof e&&"number"!=typeof e)return e
if(o&&l)throw new Error("untrustedHtml got both allowedTags and extraAllowedTags")
const s=new Set([].concat(l||[],o||t)),u={}
for(const[t,r]of Object.entries(a||i))u[t]=new Set(r)
return Ember.String.htmlSafe("undefined"!=typeof FastBoot?function(e,t,i){const{JSDOM:r}=FastBoot.require("jsdom")
return n(new r(e).window.document,t,i)}(e,s,u):function(e,t,i){r||(r=new DOMParser)
return n(r.parseFromString(`${e}`,"text/html"),t,i)}(e,s,u))}
const t=["strong","em","b","i","u","br","mark"],i={}
let r=null
function n(e,t,i){const r=e.createElement("div")
for(const n of[...e.body.childNodes]){const e=o(n,t,i)
e&&r.appendChild(e)}return r.innerHTML}function o(e,t,i){if([e.TEXT_NODE,e.CDATA_SECTION_NODE].includes(e.nodeType))return e
const r=(e.tagName||"").toLowerCase()
if(!t.has(r))return null
const n=e.ownerDocument.createElement(r),l=i[r]||new Set
for(const{name:o,nodeValue:a}of[...e.attributes])l.has(o)&&n.setAttribute(o,a)
for(const a of[...e.childNodes]){const e=o(a,t,i)
e&&n.appendChild(e)}return n}})),define("desktop-music-app/utils/url-parser",["exports","url"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return t.default.parse(e,!0)}})),define("desktop-music-app/utils/url",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stripTrailingSlash=function(e){return e.endsWith("/")?e.substr(0,e.length-1):e},e.default=void 0
var t="undefined"!=typeof FastBoot?FastBoot.require("url").URL:window.URL
e.default=t})),define("desktop-music-app/utils/virtual-scrolling",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateRenderedItemsAmount=function(e,t,i){const{innerHeight:r}=e
let n=Math.ceil(r/t)
return n*=5,n=Math.min(n,i),n},e.calculateIndexOfFirstRenderedElement=function(e,t){const i=Math.floor(t/2),r=e%i,n=e-r,o=Math.floor(i/2),l=r<o?-o:0
let a=n+l>0?n+l:0
a%2>0&&(a-=1)
a<0&&(a=0)
return a},e.computeTopPositions=function(e,t,i){const r=[]
for(let n=0;n<i;n++){const i=n*t+e
r.push(i)}return r},e.createPanel=function(e,t,i){const r=e*t,n=e*t+t
return{index:e,data:i.slice(r,n)}},e.calculateContainerHeight=function(e,t,i,r,n,o,l){const a=Math.ceil(e/t),s=a-(i-1)*n
return(i-1)*r+(o*s+s*l)},e.numberOfRowsPerPanel=function(e,t){return 2*Math.floor(e/t)},e.calculatePanelHeight=function(e,t,i){return e*t+e*i},e.numberOfItemsPerPanel=function(e,t){return e*t},e.numberOfTotalPanels=function(e,t){return Math.ceil(e/t)}})),define("desktop-music-app/config/environment",[],(function(){if("undefined"!=typeof FastBoot)return FastBoot.config("desktop-music-app")
try{var e="desktop-music-app/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),i={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(i,"__esModule",{value:!0}),i}catch(r){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),"undefined"==typeof FastBoot&&(runningTests||require("desktop-music-app/app").default.create({SPINNER_DELAY:1500,SONGS_LIST_SPINNER_DELAY:750,FAIL_SPINNER_DELAY:5e3,LIBRARY_CHANGE_DELAY_FOR_REFRESH:3e3,PLAY_SPINNER_DELAY:2e3,PLAYBACK_DELAY:2500,SHARING_TIMER:1200,ADD_PRODUCT_TIMER:5e3,SEARCH_HINTS_TIMER:200,COMMERCE_MODAL_OPEN:250,SEARCH_METRICS_DELAY:1e3,SHELF_ITEMS_UNTIL_LAZY:6,tvMoviesRatingsUrl:"https://desktop-store.itunes.apple.com/movieTvRatingsAdvisory/",socialOnboardingInvite:"https://itunes.apple.com/deeplink?p=sharing&app=music",manageAppleIdURL:"https://appleid.apple.com/account/manage",iCloudSettingUrl:"https://setup.icloud.com/email/prefs/accountDetails?path=loadPersonalInfoUI",getMusicSDKAuthorizationsSrv:"https://play.itunes.apple.com/WebObjects/MZPlay.woa/wa/getMusicSDKAuthorizationsSrv",revokeMusicSDKAuthorizationSrv:"https://play.itunes.apple.com/WebObjects/MZPlay.woa/wa/revokeMusicSDKAuthorizationSrv",REPLAY_LATEST_YEAR:2020,BREAKPOINTS:{xsmall:{min:320,max:999},small:{min:1e3,max:1259},medium:{min:1260,max:1579},large:{min:1580,max:1939},xlarge:{min:1940,content:1680}},name:"desktop-music-app",version:"2122.10.0+f824c479"}))
