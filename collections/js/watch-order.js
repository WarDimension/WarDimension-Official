/* TEMPLATE

    {
        "name": "",
        "tags": "",
        "list": [
            {
                "title": "",
                "AniList": "",
                "MyAnimeList": ""
            },
            {
                "title": "",
                "AniList": "",
                "MyAnimeList": ""
            }
        ]
    },
*/

let series = [
    {
        "name": "180-byou de Kimi no Mimi wo Shiawase ni Dekiru ka?",
        "tags": "180秒で君の耳を幸せにできるか？|Can I Make Your Ears Happy in 180 Seconds?",
        "list": [
            {
                "title": "180-byou de Kimi no Mimi wo Shiawase ni Dekiru ka?",
                "AniList": "https://anilist.co/anime/133411/180byou-de-Kimi-no-Mimi-wo-Shiawase-ni-Dekiru-ka/",
                "MyAnimeList": ""
            }
        ]
    },
    {
        "name": "3-gatsu no Lion",
        "tags": "３月のライオン|Sangatsu no Lion|San-gatsu no Lion|March comes in like a lion",
        "list": [
            {
                "title": "3-gatsu no Lion",
                "AniList": "https://anilist.co/anime/21366/3gatsu-no-Lion/",
                "MyAnimeList": "https://myanimelist.net/anime/31646/3-gatsu_no_Lion"
            },
            {
                "title": "3-gatsu no Lion 2",
                "AniList": "https://anilist.co/anime/98478/3gatsu-no-Lion-2/"
            }
        ]
    },
    {
        "name": "3D Kanojo: Real Girl",
        "tags": "3D彼女 リアルガール|3D Girlfriend",
        "list": [
            {
                "title": "3D Kanojo: Real Girl",
                "AniList": "https://anilist.co/anime/100526/3D-Kanojo-Real-Girl/"
            },
            {
                "title": "3D Kanojo: Real Girl 2",
                "AniList": "https://anilist.co/anime/102882/3D-Kanojo-Real-Girl-2/"
            }
        ]
    },
    {
        "name": "A.I.C.O. -Incarnation-",
        "tags": "アイコ|AICO",
        "list": [
            {
                "title": "A.I.C.O. -Incarnation-",
                "AniList": "https://anilist.co/anime/99725/AICO-Incarnation/"
            }
        ]
    },
    {
        "name": "Adachi to Shimamura",
        "tags": "安達としまむら|AdaShima|Adachi and Shimamura",
        "list": [
            {
                "title": "Adachi to Shimamura",
                "AniList": "https://anilist.co/anime/109287/Adachi-to-Shimamura/"
            },
            {
                "title": "Adachi to Shimamura Mini Anime",
                "AniList": "https://anilist.co/anime/127465/Adachi-to-Shimamura-Mini-Anime/"
            }
        ]
    },
    {
        "name": "Aho-Girl",
        "tags": "アホガール|Ahogaru: Clueless Girl",
        "list": [
            {
                "title": "Aho-Girl",
                "AniList": "https://anilist.co/anime/98251/AhoGirl/"
            }
        ]
    },
    {
        "name": "citrus",
        "list": [
            {
                "title": "citrus",
                "AniList": "https://anilist.co/anime/97832/citrus/"
            }
        ]
    },
    {
        "name": "Higurashi no Naku Koro ni",
        "tags": "ひぐらしのなく頃に|When They Cry|うら☆ひぐ|Ura Higu",
        "list": [
            {
                "title": "Higurashi no Naku Koro ni",
                "AniList": "https://anilist.co/anime/934/Higurashi-no-Naku-Koro-ni/"
            },
            {
                "title": "Higurashi no Naku Koro ni: Nekogoroshi-hen",
                "AniList": "https://anilist.co/anime/2899/Higurashi-no-Naku-Koro-ni-Nekogoroshihen/"
            },
            {
                "title": "Higurashi no Naku Koro ni Kaku: Outbreak",
                "AniList": "https://anilist.co/anime/16700/Higurashi-no-Naku-Koro-ni-Kaku-Outbreak/"
            },
            {
                "title": "Higurashi no Naku Koro ni Kira",
                "AniList": "https://anilist.co/anime/10491/Higurashi-no-Naku-Koro-ni-Kira/"
            },
            {
                "title": "Higurashi no Naku Koro ni Kai",
                "AniList": "https://anilist.co/anime/1889/Higurashi-no-Naku-Koro-ni-Kai/"
            },
            {
                "title": "Ura☆Higu",
                "AniList": "https://anilist.co/anime/6064/UraHigu/"
            },
            {
                "title": "Higurashi no Naku Koro ni Rei",
                "AniList": "https://anilist.co/anime/3652/Higurashi-no-Naku-Koro-ni-Rei/"
            },
            {
                "title": "Higurashi no Naku Koro ni Gou",
                "AniList": "https://anilist.co/anime/114446/Higurashi-no-Naku-Koro-ni-Gou/"
            },
            {
                "title": "Higurashi no Naku Koro ni Sotsu",
                "AniList": "https://anilist.co/anime/131149/Higurashi-no-Naku-Koro-ni-Sotsu/"
            }
        ]
    },
    {
        "name": "Yagate Kimi ni Naru",
        "tags": "やがて君になる|Bloom Into You|YagaKimi",
        "list": [
            {
                "title": "Yagate Kimi ni Naru",
                "AniList": "https://anilist.co/anime/101573/Yagate-Kimi-ni-Naru/"
            }
        ]
    },
    {
        "name": "Yahari Ore no Seishun Love Come wa Machigatteiru.",
        "tags": "やはり俺の青春ラブコメはまちがっている。|俺ガイル|Oregairu|My Teen Romantic Comedy SNAFU|My youth romantic comedy is wrong as I expected.",
        "list": [
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru.",
                "AniList": "https://anilist.co/anime/14813/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru/"
            },
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru.: Kochira to Shite mo Karera Kanojora no Yukusue ni Sachi Ookaran Koto wo Negawazaru wo Enai.",
                "AniList": "https://anilist.co/anime/18753/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru-Kochira-to-Shite-mo-Karera-Kanojora-no-Yukusue-ni-Sachi-Ookaran-Koto-wo-Negawazaru-wo-Enai/"
            },
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru. Zoku",
                "AniList": "https://anilist.co/anime/20698/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru-Zoku/"
            },
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru. Zoku: Kitto, Onnanoko wa Osatou to Spice to Suteki na Nanika de Dekiteiru",
                "AniList": "https://anilist.co/anime/21769/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru-Zoku-Kitto-Onnanoko-wa-Osatou-to-Spice-to-Suteki-na-Nanika-de-Dekiteiru/"
            },
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru. Kan",
                "AniList": "https://anilist.co/anime/108489/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru-Kan/"
            },
            {
                "title": "Yahari Ore no Seishun Love Come wa Machigatteiru. Kan OVA",
                "AniList": "https://anilist.co/anime/128643/Yahari-Ore-no-Seishun-Love-Come-wa-Machigatteiru-Kan-OVA/"
            }
        ]
    },
    {
        "name": "Yuru Yuri",
        "tags": "ゆるゆり|YuruYuri",
        "list": [
            {
                "title": "Yuru Yuri",
                "AniList": "https://anilist.co/anime/10495/Yuru-Yuri/"
            },
            {
                "title": "Yuru Yuri: Doushite☆Tomaranai☆Tokimeki☆Doki Doki☆Paradox☆Eternal",
                "AniList": "https://anilist.co/anime/12665/Yuru-Yuri-DoushiteTomaranaiTokimekiDoki-DokiParadoxEternal/"
            },
            {
                "title": "Yuru Yuri♪♪",
                "AniList": "https://anilist.co/anime/12403/Yuru-Yuri/"
            },
            {
                "title": "Yuru Yuri Nachuyachumi!",
                "AniList": "https://anilist.co/anime/20625/Yuru-Yuri-Nachuyachumi/"
            },
            {
                "title": "Yuru Yuri Nachuyachumi!+",
                "AniList": "https://anilist.co/anime/21214/Yuru-Yuri-Nachuyachumi/"
            },
            {
                "title": "Yuru Yuri San☆Hai!",
                "AniList": "https://anilist.co/anime/21088/Yuru-Yuri-SanHai/"
            },
            {
                "title": "Yuru Yuri San☆Hai! Happy Go Lucky",
                "YouTube": "https://www.youtube.com/playlist?list=PLLPYMaP0tgFJxb0NNM_Fn5V_jzKVTHf9j"
            },
            {
                "title": "Yuru Yuri,",
                "AniList": "https://anilist.co/anime/102090/Yuru-Yuri/"
            },
            {
                "title": "Mini Yuri",
                "AniList": "https://anilist.co/anime/110382/Mini-Yuri/"
            }
        ]
    }
];
let search = document.querySelector(".search");
let database = document.querySelector(".database");
let hideCheckbox = document.querySelector(".hide");

function showList(){
    let content = "";

    series.forEach(show => {
        if((search.value == null || JSON.stringify(show).match(new RegExp(search.value, "mi"))) && (JSON.stringify(show).match(new RegExp(database.value, "m")) || !hideCheckbox.checked)){
            content += `<p>${show.name}</p>`;
            content += "<ol>";
            show.list.forEach(item => {
                if(item[database.value] != undefined || !hideCheckbox.checked){
                    let link = item[database.value] != undefined? item[database.value] : item[Object.keys(item)[1]];
                    content += `<a href="${link}" target="_blank"><li>${item.title}</li></a>`;
                }
            })
            content += "</ol>";
        }
    });

    document.querySelector(".container").innerHTML = content;
}

showList();